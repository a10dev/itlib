%!PS-Adobe-1.0
%%Creator: devps (Pipeline Associates, Inc.)
%%CreationDate: Wed Sep 18 18:31:53 1996
%%Pages: (atend)
%%DocumentFonts: (atend)

/devps 180 dict def devps begin
/res 10.000000 def
/y_offset 843 def
/X{exch}bind def
/mm {transform round X round X itransform} bind def
/r{rmoveto}bind def
/m{moveto}bind def
/l{lineto}bind def
/rl{rlineto}bind def
/st{stroke}bind def
/gs{gsave}bind def
/gr{grestore}bind def
/cp{currentpoint}bind def
/np{newpath}bind def
/ct{curveto}bind def
systemdict /setpacking known
 { /savepacking currentpacking def true setpacking } if
/m0{0 0 moveto}bind def
/xc{//res div}bind def
/yc{//res neg div //y_offset add}bind def
/lc{yc X xc X l st}bind def
/mc{yc X xc X m}bind def
/el{gs /a X def a div 1 X scale cp np a xc 2 div 0 360 arc st gr}bind def
/ar{cp 7 2 roll np xc 5 1 roll atan 3 1 roll atan X arc st}bind def
/sp{yc X xc X 6 2 roll yc X xc X 6 2 roll yc X xc X 6 2 roll ct}bind def
/V{//res neg div //y_offset add
currentpoint pop X
m}bind def
/H{//res div
0 transform X round X itransform pop
currentpoint X pop
moveto}bind def
/h{//res div 0 r}bind def
/v{//res neg div 0 X r}bind def
/S{X H show}bind def
/A{H //res div 1 index stringwidth pop sub 1 index length div 0 3 2 roll ashow}bind def
/psize 10 def
/height 0 def
/cheight { height 0 ne { height } { psize } ifelse } bind def
/slant 0 def
/FF{findfont X dup 30 div 0 mm pop setlinewidth /psize X def
    [psize 0 cheight slant sin slant cos div mul cheight 0 0]
    makefont setfont}bind def
/shade{gs
 /dy X def
 /dx X def
 np m
 0 /dy rl
 /dx 0 rl
 0 /dy neg rl
 /dx neg 0 rl
 closepath
 .9 setgray
 fill
gr}bind def
1 setlinecap

/resolution res 72 mul def


/startFig {
	/SavedState save def
	userdict maxlength dict begin
	currentpoint transform

	DocumentInitState setmiterlimit setgray setdash setlinejoin setlinecap
		setlinewidth setmatrix

	itransform moveto

	/ury exch def
	/urx exch def
	/lly exch def
	/llx exch def
	/y exch 72 mul resolution div def
	/x exch 72 mul resolution div def
	
	currentpoint /cy exch def /cx exch def

	/sx x urx llx sub div def
	/sy y ury lly sub div def

	sx sy scale

	cx sx div llx sub
	cy sy div ury sub translate
	
	/DefFigCTM matrix currentmatrix def

	/initmatrix {
		DefFigCTM setmatrix
	} def
	/defaultmatrix {
		DefFigCTM exch copy
	} def

	/initgraphics {
		DocumentInitState setmiterlimit setgray setdash 
			setlinejoin setlinecap setlinewidth setmatrix
		DefFigCTM setmatrix
	} def

	/showpage {
		initgraphics
	} def

}bind  def
/clipFig {
	currentpoint 6 2 roll
	newpath 4 copy
	4 2 roll moveto
	6 -1 roll exch lineto
	exch lineto
	exch lineto
	closepath clip
	newpath
	moveto
}bind  def
/doclip { llx lly urx ury clipFig } def
/endFig {
	end SavedState restore
}bind  def
/globalstart {
	fontnum psize slant height resolution currentpoint 
	pagesave restore gsave 
}bind  def
/globalend {
	grestore moveto
	/resolution exch def /height exch def
	/slant exch def /psize exch def /fontnum exch def
	F
	/pagesave save def
}bind  def


/fontnum 1 def 
systemdict /setpacking known { savepacking setpacking} if
end
/BP{
save mark devps begin m0
/DocumentInitState [ matrix currentmatrix currentlinewidth currentlinecap
currentlinejoin currentdash currentgray currentmiterlimit ] cvx def
}bind def
/EP{
end cleartomark restore showpage}def
/R{/Times-Roman FF}def
/B{/Times-Bold FF}def
/LST{/LucidaSans-Typewriter FF}def
%%EndProlog
%%Page: 1 1
BP
/slant 0 def
/height 0 def
720 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1948(File:)S
(src/lib/ansi/ext_fmt.h)947 2181 A
12 B
4368(1)S
1080 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1170 V
(src/lib/ansi/ext_fmt.h)924 1698 A
1260 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1440 V
(00000)210 648 A
(struct)252 1026 A
(mantissa)336 1320 A
1698({)S
1530 V
(00001)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(h_32;)210 1950 A
1620 V
(00002)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(l_32;)210 1950 A
1710 V
(00003)210 648 A
1026(};)S
1800 V
(00004)210 648 A
1890 V
(00005)210 648 A
(struct)252 1026 A
(EXTEND)252 1320 A
1614({)S
1980 V
(00006)210 648 A
(short)210 1362 A
(sign;)210 1698 A
2070 V
(00007)210 648 A
(short)210 1362 A
(exp;)168 1698 A
2160 V
(00008)210 648 A
(struct)252 1362 A
(mantissa)336 1656 A
(mantissa;)378 2034 A
2250 V
(00009)210 648 A
(#define)294 1026 A
1362(m1)S
(mantissa.h_32)546 1488 A
2340 V
(00010)210 648 A
(#define)294 1026 A
1362(m2)S
(mantissa.l_32)546 1488 A
2430 V
(00011)210 648 A
1026(};)S
2520 V
(00012)210 648 A
2880 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2970 V
(src/lib/ansi/loc_time.h)966 1698 A
3060 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3240 V
(00100)210 648 A
1026(/*)S
3330 V
(00101)210 648 A
1068(*)S
(loc_time.h)420 1152 A
1614(-)S
(some)168 1698 A
(local)210 1908 A
(definitions)462 2160 A
3420 V
(00102)210 648 A
1068(*/)S
3510 V
(00103)210 648 A
1026(/*)S
($Header:)336 1152 A
(loc_time.h,v)504 1530 A
(1.1)126 2076 A
(91/04/22)336 2244 A
(13:19:51)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
3600 V
(00104)210 648 A
3690 V
(00105)210 648 A
(#define)294 1026 A
(YEAR0)210 1362 A
(1900)168 2034 A
3042(/*)S
(the)126 3168 A
(first)210 3336 A
(year)168 3588 A
3798(*/)S
3780 V
(00106)210 648 A
(#define)294 1026 A
(EPOCH_YR)336 1362 A
(1970)168 2034 A
2706(/*)S
(EPOCH)210 2832 A
3084(=)S
(Jan)126 3168 A
3336(1)S
(1970)168 3420 A
(00:00:00)336 3630 A
4008(*/)S
3870 V
(00107)210 648 A
(#define)294 1026 A
(SECS_DAY)336 1362 A
(\(24L)168 2034 A
2244(*)S
(60L)126 2328 A
2496(*)S
(60L\))168 2580 A
3960 V
(00108)210 648 A
(#define)294 1026 A
(LEAPYEAR\(year\))588 1362 A
(\(!\(\(year\))378 2034 A
2454(%)S
2538(4\))S
2664(&&)S
(\(\(\(year\))336 2790 A
3168(%)S
(100\))168 3252 A
3462(||)S
(!\(\(year\))336 3588 A
3966(%)S
(400\)\)\))252 4050 A
4050 V
(00109)210 648 A
(#define)294 1026 A
(YEARSIZE\(year\))588 1362 A
(\(LEAPYEAR\(year\))630 2034 A
2706(?)S
(366)126 2790 A
2958(:)S
(365\))168 3042 A
4140 V
(00110)210 648 A
(#define)294 1026 A
(FIRSTSUNDAY\(timp\))714 1362 A
(\(\(\(timp\)->tm_yday)714 2370 A
3126(-)S
(\(timp\)->tm_wday)630 3210 A
3882(+)S
(420\))168 3966 A
4176(%)S
4260(7\))S
4230 V
(00111)210 648 A
(#define)294 1026 A
(FIRSTDAYOF\(timp\))672 1362 A
(\(\(\(timp\)->tm_wday)714 2370 A
3126(-)S
(\(timp\)->tm_yday)630 3210 A
3882(+)S
(420\))168 3966 A
4176(%)S
4260(7\))S
4320 V
(00112)210 648 A
(#define)294 1026 A
(TIME_MAX)336 1362 A
(ULONG_MAX)378 2034 A
4410 V
(00113)210 648 A
(#define)294 1026 A
(ABB_LEN)294 1362 A
2034(3)S
4500 V
(00114)210 648 A
4590 V
(00115)210 648 A
(extern)252 1026 A
(const)210 1320 A
(int)126 1572 A
(_ytab[2][12];)546 1740 A
4680 V
(00116)210 648 A
(extern)252 1026 A
(const)210 1320 A
(char)168 1572 A
(*_days[];)378 1782 A
4770 V
(00117)210 648 A
(extern)252 1026 A
(const)210 1320 A
(char)168 1572 A
(*_months[];)462 1782 A
4860 V
(00118)210 648 A
4950 V
(00119)210 648 A
(void)168 1026 A
(_tzset\(void\);)546 1236 A
5040 V
(00120)210 648 A
(unsigned)336 1026 A
(_dstget\(struct)588 1404 A
2034(tm)S
(*timep\);)336 2160 A
5130 V
(00121)210 648 A
5220 V
(00122)210 648 A
(extern)252 1026 A
(long)168 1320 A
(_timezone;)420 1530 A
5310 V
(00123)210 648 A
(extern)252 1026 A
(long)168 1320 A
(_dst_off;)378 1530 A
5400 V
(00124)210 648 A
(extern)252 1026 A
(int)126 1320 A
(_daylight;)420 1488 A
5490 V
(00125)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*_tzname[2];)504 1530 A
8418 V
EP
%%Page: 2 2
BP
/slant 0 def
/height 0 def
630 V
12 B
648(2)S
11 R
2009(File:)S
(src/lib/ansi/abort.c)825 2242 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/abort.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(00200)210 648 A
1026(/*)S
1440 V
(00201)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(00202)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(00203)210 648 A
1068(*/)S
1710 V
(00204)210 648 A
1026(/*)S
($Header:)336 1152 A
(abort.c,v)378 1530 A
(1.3)126 1950 A
(90/11/22)336 2118 A
(13:59:37)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
1800 V
(00205)210 648 A
1890 V
(00206)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
1980 V
(00207)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
2070 V
(00208)210 648 A
(#endif)252 1026 A
2160 V
(00209)210 648 A
(#include)336 1026 A
(<signal.h>)420 1698 A
2250 V
(00210)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2340 V
(00211)210 648 A
2430 V
(00212)210 648 A
(extern)252 1026 A
(void)168 1320 A
(\(*_clean\)\(void\);)672 1530 A
2520 V
(00213)210 648 A
2610 V
(00214)210 648 A
(void)168 1026 A
2700 V
(00215)210 648 A
(abort\(void\))462 1026 A
2790 V
(00216)210 648 A
1026({)S
2880 V
(00217)210 648 A
1362(if)S
(\(_clean\))336 1488 A
(_clean\(\);)378 1866 A
2706(/*)S
(flush)210 2832 A
(all)126 3084 A
(output)252 3252 A
(files)210 3546 A
3798(*/)S
2970 V
(00218)210 648 A
(raise\(SIGABRT\);)630 1362 A
3060 V
(00219)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/abs.c)756 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(00300)210 648 A
1026(/*)S
4140 V
(00301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(00302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(00303)210 648 A
1068(*/)S
4410 V
(00304)210 648 A
1026(/*)S
($Header:)336 1152 A
(abs.c,v)294 1530 A
(1.1)126 1866 A
(89/05/16)336 2034 A
(13:06:59)336 2412 A
(eck)126 2790 A
(Exp)126 2958 A
3126($)S
3210(*/)S
4500 V
(00305)210 648 A
4590 V
(00306)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4680 V
(00307)210 648 A
4770 V
(00308)210 648 A
(int)126 1026 A
4860 V
(00309)210 648 A
(abs\(register)504 1026 A
(int)126 1572 A
1740(i\))S
4950 V
(00310)210 648 A
1026({)S
5040 V
(00311)210 648 A
(return)252 1362 A
1656(i)S
1740(>=)S
1866(0)S
1950(?)S
2034(i)S
2118(:)S
(-i;)126 2202 A
5130 V
(00312)210 648 A
1026(})S
8418 V
EP
%%Page: 3 3
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1952(File:)S
(src/lib/ansi/asctime.c)938 2185 A
12 B
4368(3)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/asctime.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(00400)210 648 A
1026(/*)S
1440 V
(00401)210 648 A
1068(*)S
(asctime)294 1152 A
1488(-)S
(print)210 1572 A
1824(a)S
(date)168 1908 A
1530 V
(00402)210 648 A
1068(*/)S
1620 V
(00403)210 648 A
1026(/*)S
($Header:)336 1152 A
(asctime.c,v)462 1530 A
(1.3)126 2034 A
(91/04/22)336 2202 A
(13:20:15)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
1710 V
(00404)210 648 A
1800 V
(00405)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1890 V
(00406)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
1980 V
(00407)210 648 A
(#include)336 1026 A
("loc_time.h")504 1698 A
2070 V
(00408)210 648 A
2160 V
(00409)210 648 A
(#define)294 1026 A
(DATE_STR)336 1362 A
("???)168 2034 A
(???)126 2244 A
2412(??)S
(??:??:??)336 2538 A
(????\\n")294 2916 A
2250 V
(00410)210 648 A
2340 V
(00411)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
2430 V
(00412)210 648 A
(two_digits\(register)798 1026 A
(char)168 1866 A
(*pb,)168 2076 A
(int)126 2286 A
2454(i,)S
(int)126 2580 A
(nospace\))336 2748 A
2520 V
(00413)210 648 A
1026({)S
2610 V
(00414)210 648 A
(*pb)126 1362 A
1530(=)S
1614(\(i)S
1740(/)S
(10\))126 1824 A
1992(%)S
2076(10)S
2202(+)S
('0';)168 2286 A
2700 V
(00415)210 648 A
1362(if)S
(\(!nospace)378 1488 A
1908(&&)S
(*pb)126 2034 A
2202(==)S
('0'\))168 2328 A
(*pb)126 2538 A
2706(=)S
2790(')S
2874(';)S
2790 V
(00416)210 648 A
(pb++;)210 1362 A
2880 V
(00417)210 648 A
(*pb++)210 1362 A
1614(=)S
1698(\(i)S
1824(%)S
(10\))126 1908 A
2076(+)S
('0';)168 2160 A
2970 V
(00418)210 648 A
(return)252 1362 A
(++pb;)210 1656 A
3060 V
(00419)210 648 A
1026(})S
3240 V
(00421)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
3330 V
(00422)210 648 A
(four_digits\(register)840 1026 A
(char)168 1908 A
(*pb,)168 2118 A
(int)126 2328 A
2496(i\))S
3420 V
(00423)210 648 A
1026({)S
3510 V
(00424)210 648 A
1362(i)S
1446(%=)S
(10000;)252 1572 A
3600 V
(00425)210 648 A
(*pb++)210 1362 A
1614(=)S
1698(\(i)S
1824(/)S
(1000\))210 1908 A
2160(+)S
('0';)168 2244 A
3690 V
(00426)210 648 A
1362(i)S
1446(%=)S
(1000;)210 1572 A
3780 V
(00427)210 648 A
(*pb++)210 1362 A
1614(=)S
1698(\(i)S
1824(/)S
(100\))168 1908 A
2118(+)S
('0';)168 2202 A
3870 V
(00428)210 648 A
1362(i)S
1446(%=)S
(100;)168 1572 A
3960 V
(00429)210 648 A
(*pb++)210 1362 A
1614(=)S
1698(\(i)S
1824(/)S
(10\))126 1908 A
2076(+)S
('0';)168 2160 A
4050 V
(00430)210 648 A
(*pb++)210 1362 A
1614(=)S
1698(\(i)S
1824(%)S
(10\))126 1908 A
2076(+)S
('0';)168 2160 A
4140 V
(00431)210 648 A
(return)252 1362 A
(++pb;)210 1656 A
4230 V
(00432)210 648 A
1026(})S
4410 V
(00434)210 648 A
(char)168 1026 A
(*asctime\(const)588 1236 A
(struct)252 1866 A
2160(tm)S
(*timeptr\))378 2286 A
4500 V
(00435)210 648 A
1026({)S
4590 V
(00436)210 648 A
(static)252 1362 A
(char)168 1656 A
(buf[26];)336 1866 A
4680 V
(00437)210 648 A
(register)336 1362 A
(char)168 1740 A
(*pb)126 1950 A
2118(=)S
(buf;)168 2202 A
4770 V
(00438)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*ps;)168 2202 A
4860 V
(00439)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n;)S
4950 V
(00440)210 648 A
5040 V
(00441)210 648 A
(strcpy\(pb,)420 1362 A
(DATE_STR\);)420 1824 A
5130 V
(00442)210 648 A
1362(ps)S
1488(=)S
(_days[timeptr->tm_wday];)1008 1572 A
5220 V
(00443)210 648 A
1362(n)S
1446(=)S
(ABB_LEN;)336 1530 A
5310 V
(00444)210 648 A
(while\(--n)378 1362 A
1782(>=)S
1908(0\))S
(*pb++)210 2034 A
2286(=)S
(*ps++;)252 2370 A
5400 V
(00445)210 648 A
(pb++;)210 1362 A
5490 V
(00446)210 648 A
1362(ps)S
1488(=)S
(_months[timeptr->tm_mon];)1050 1572 A
5580 V
(00447)210 648 A
1362(n)S
1446(=)S
(ABB_LEN;)336 1530 A
5670 V
(00448)210 648 A
(while\(--n)378 1362 A
1782(>=)S
1908(0\))S
(*pb++)210 2034 A
2286(=)S
(*ps++;)252 2370 A
5760 V
(00449)210 648 A
(pb++;)210 1362 A
5850 V
(00450)210 648 A
1362(pb)S
1488(=)S
(two_digits\()462 1572 A
5940 V
(00451)210 648 A
(two_digits\()462 1866 A
6030 V
(00452)210 648 A
(two_digits\(two_digits\(pb,)1050 2202 A
(timeptr->tm_mday,)714 3294 A
4050(0\))S
6120 V
(00453)210 648 A
2706(,)S
(timeptr->tm_hour,)714 2790 A
3546(1\))S
6210 V
(00454)210 648 A
2202(,)S
(timeptr->tm_min,)672 2286 A
3000(1\))S
8418 V
EP
%%Page: 4 4
BP
/slant 0 def
/height 0 def
630 V
12 B
648(4)S
11 R
1952(File:)S
(src/lib/ansi/asctime.c)938 2185 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(00455)210 648 A
1866(,)S
(timeptr->tm_sec,)672 1950 A
(1\);)126 2664 A
990 V
(00456)210 648 A
1080 V
(00457)210 648 A
(four_digits\(pb,)630 1362 A
(timeptr->tm_year)672 2034 A
2748(+)S
(1900\);)252 2832 A
1170 V
(00458)210 648 A
(return)252 1362 A
(buf;)168 1656 A
1260 V
(00459)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/assert.c)882 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(00500)210 648 A
1026(/*)S
2340 V
(00501)210 648 A
1068(*)S
(assert.c)336 1152 A
1530(-)S
(diagnostics)462 1614 A
2430 V
(00502)210 648 A
1068(*/)S
2520 V
(00503)210 648 A
1026(/*)S
($Header:)336 1152 A
(assert.c,v)420 1530 A
(1.3)126 1992 A
(90/04/03)336 2160 A
(15:01:58)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2610 V
(00504)210 648 A
2700 V
(00505)210 648 A
(#include)336 1026 A
(<assert.h>)420 1698 A
2790 V
(00506)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2880 V
(00507)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2970 V
(00508)210 648 A
3060 V
(00509)210 648 A
(void)168 1026 A
(__bad_assertion\(const)882 1236 A
(char)168 2160 A
(*mess\))252 2370 A
2664({)S
3150 V
(00510)210 648 A
3240 V
(00511)210 648 A
(fputs\(mess,)462 1362 A
(stderr\);)336 1866 A
3330 V
(00512)210 648 A
(abort\(\);)336 1362 A
3420 V
(00513)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/atexit.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(00600)210 648 A
1026(/*)S
($Header:)336 1152 A
(atexit.c,v)420 1530 A
(1.1)126 1992 A
(89/12/18)336 2160 A
(15:11:09)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4140 V
(00601)210 648 A
4230 V
(00602)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4320 V
(00603)210 648 A
4410 V
(00604)210 648 A
(#define)294 1026 A
(NEXITS)252 1362 A
1698(32)S
4500 V
(00605)210 648 A
4590 V
(00606)210 648 A
(extern)252 1026 A
(void)168 1320 A
(\(*__functab[NEXITS]\)\(void\);)1134 1530 A
4680 V
(00607)210 648 A
(extern)252 1026 A
(int)126 1320 A
(__funccnt;)420 1488 A
4770 V
(00608)210 648 A
4860 V
(00609)210 648 A
(int)126 1026 A
4950 V
(00610)210 648 A
(atexit\(void)462 1026 A
(\(*func\)\(void\)\))588 1530 A
5040 V
(00611)210 648 A
1026({)S
5130 V
(00612)210 648 A
1362(if)S
(\(__funccnt)420 1488 A
1950(>=)S
(NEXITS\))294 2076 A
5220 V
(00613)210 648 A
(return)252 1698 A
1992(1;)S
5310 V
(00614)210 648 A
(__functab[__funccnt++])924 1362 A
2328(=)S
(func;)210 2412 A
5400 V
(00615)210 648 A
(return)252 1362 A
1656(0;)S
5490 V
(00616)210 648 A
1026(})S
8418 V
EP
%%Page: 5 5
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2036(File:)S
(src/lib/ansi/atof.c)770 2269 A
12 B
4368(5)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/atof.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(00700)210 648 A
1026(/*)S
1440 V
(00701)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(00702)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(00703)210 648 A
1068(*/)S
1710 V
(00704)210 648 A
1026(/*)S
($Header:)336 1152 A
(atof.c,v)336 1530 A
(1.2)126 1908 A
(89/12/18)336 2076 A
(15:11:50)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
1800 V
(00705)210 648 A
1890 V
(00706)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
1980 V
(00707)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2070 V
(00708)210 648 A
2160 V
(00709)210 648 A
(double)252 1026 A
2250 V
(00710)210 648 A
(atof\(const)420 1026 A
(char)168 1488 A
(*nptr\))252 1698 A
2340 V
(00711)210 648 A
1026({)S
2430 V
(00712)210 648 A
(double)252 1362 A
1656(d;)S
2520 V
(00713)210 648 A
(int)126 1362 A
1530(e)S
1614(=)S
(errno;)252 1698 A
2610 V
(00714)210 648 A
2700 V
(00715)210 648 A
1362(d)S
1446(=)S
(strtod\(nptr,)504 1530 A
(\(char)210 2076 A
(**\))126 2328 A
(NULL\);)252 2496 A
2790 V
(00716)210 648 A
(errno)210 1362 A
1614(=)S
1698(e;)S
2880 V
(00717)210 648 A
(return)252 1362 A
1656(d;)S
2970 V
(00718)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ansi/atoi.c)798 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(00800)210 648 A
1026(/*)S
3690 V
(00801)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
3780 V
(00802)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
3870 V
(00803)210 648 A
1068(*/)S
3960 V
(00804)210 648 A
1026(/*)S
($Header:)336 1152 A
(atoi.c,v)336 1530 A
(1.4)126 1908 A
(90/05/22)336 2076 A
(12:22:25)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4050 V
(00805)210 648 A
4140 V
(00806)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
4230 V
(00807)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4320 V
(00808)210 648 A
4410 V
(00809)210 648 A
1026(/*)S
1152(We)S
1278(do)S
(not)126 1404 A
(use)126 1572 A
(strtol)252 1740 A
(here)168 2034 A
(for)126 2244 A
(backwards)378 2412 A
(compatibility)546 2832 A
3420(in)S
(behaviour)378 3546 A
3966(on)S
4500 V
(00810)210 648 A
(overflow.)378 1152 A
4590 V
(00811)210 648 A
1026(*/)S
4680 V
(00812)210 648 A
(int)126 1026 A
4770 V
(00813)210 648 A
(atoi\(register)546 1026 A
(const)210 1614 A
(char)168 1866 A
(*nptr\))252 2076 A
4860 V
(00814)210 648 A
1026({)S
4950 V
(00815)210 648 A
(int)126 1362 A
(total)210 1530 A
1782(=)S
1866(0;)S
5040 V
(00816)210 648 A
(int)126 1362 A
(minus)210 1530 A
1782(=)S
1866(0;)S
5130 V
(00817)210 648 A
5220 V
(00818)210 648 A
(while)210 1362 A
(\(isspace\(*nptr\)\))672 1614 A
(nptr++;)294 2328 A
5310 V
(00819)210 648 A
1362(if)S
(\(*nptr)252 1488 A
1782(==)S
('+'\))168 1908 A
(nptr++;)294 2118 A
5400 V
(00820)210 648 A
(else)168 1362 A
1572(if)S
(\(*nptr)252 1698 A
1992(==)S
('-'\))168 2118 A
2328({)S
5490 V
(00821)210 648 A
(minus)210 1698 A
1950(=)S
2034(1;)S
5580 V
(00822)210 648 A
(nptr++;)294 1698 A
5670 V
(00823)210 648 A
1362(})S
5760 V
(00824)210 648 A
(while)210 1362 A
(\(isdigit\(*nptr\)\))672 1614 A
2328({)S
5850 V
(00825)210 648 A
(total)210 1698 A
1950(*=)S
(10;)126 2076 A
5940 V
(00826)210 648 A
(total)210 1698 A
1950(+=)S
(\(*nptr++)336 2076 A
2454(-)S
('0'\);)210 2538 A
6030 V
(00827)210 648 A
1362(})S
6120 V
(00828)210 648 A
(return)252 1362 A
(minus)210 1656 A
1908(?)S
(-total)252 1992 A
2286(:)S
(total;)252 2370 A
6210 V
(00829)210 648 A
1026(})S
8418 V
EP
%%Page: 6 6
BP
/slant 0 def
/height 0 def
630 V
12 B
648(6)S
11 R
2039(File:)S
(src/lib/ansi/atol.c)764 2272 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/atol.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(00900)210 648 A
1026(/*)S
1440 V
(00901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(00902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(00903)210 648 A
1068(*/)S
1710 V
(00904)210 648 A
1026(/*)S
($Header:)336 1152 A
(atol.c,v)336 1530 A
(1.3)126 1908 A
(90/05/22)336 2076 A
(10:48:12)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1800 V
(00905)210 648 A
1890 V
(00906)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
1980 V
(00907)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2070 V
(00908)210 648 A
2160 V
(00909)210 648 A
1026(/*)S
1152(We)S
1278(do)S
(not)126 1404 A
(use)126 1572 A
(strtol)252 1740 A
(here)168 2034 A
(for)126 2244 A
(backwards)378 2412 A
(compatibility)546 2832 A
3420(in)S
(behaviour)378 3546 A
3966(on)S
2250 V
(00910)210 648 A
(overflow.)378 1152 A
2340 V
(00911)210 648 A
1026(*/)S
2430 V
(00912)210 648 A
(long)168 1026 A
2520 V
(00913)210 648 A
(atol\(register)546 1026 A
(const)210 1614 A
(char)168 1866 A
(*nptr\))252 2076 A
2610 V
(00914)210 648 A
1026({)S
2700 V
(00915)210 648 A
(long)168 1362 A
(total)210 1572 A
1824(=)S
1908(0;)S
2790 V
(00916)210 648 A
(int)126 1362 A
(minus)210 1530 A
1782(=)S
1866(0;)S
2880 V
(00917)210 648 A
2970 V
(00918)210 648 A
(while)210 1362 A
(\(isspace\(*nptr\)\))672 1614 A
(nptr++;)294 2328 A
3060 V
(00919)210 648 A
1362(if)S
(\(*nptr)252 1488 A
1782(==)S
('+'\))168 1908 A
(nptr++;)294 2118 A
3150 V
(00920)210 648 A
(else)168 1362 A
1572(if)S
(\(*nptr)252 1698 A
1992(==)S
('-'\))168 2118 A
2328({)S
3240 V
(00921)210 648 A
(minus)210 1698 A
1950(=)S
2034(1;)S
3330 V
(00922)210 648 A
(nptr++;)294 1698 A
3420 V
(00923)210 648 A
1362(})S
3510 V
(00924)210 648 A
(while)210 1362 A
(\(isdigit\(*nptr\)\))672 1614 A
2328({)S
3600 V
(00925)210 648 A
(total)210 1698 A
1950(*=)S
(10;)126 2076 A
3690 V
(00926)210 648 A
(total)210 1698 A
1950(+=)S
(\(*nptr++)336 2076 A
2454(-)S
('0'\);)210 2538 A
3780 V
(00927)210 648 A
1362(})S
3870 V
(00928)210 648 A
(return)252 1362 A
(minus)210 1656 A
1908(?)S
(-total)252 1992 A
2286(:)S
(total;)252 2370 A
3960 V
(00929)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/bsearch.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(01000)210 648 A
1026(/*)S
5040 V
(01001)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(01002)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(01003)210 648 A
1068(*/)S
5310 V
(01004)210 648 A
1026(/*)S
($Header:)336 1152 A
(bsearch.c,v)462 1530 A
(1.2)126 2034 A
(89/12/18)336 2202 A
(15:12:21)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5400 V
(01005)210 648 A
5490 V
(01006)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5580 V
(01007)210 648 A
5670 V
(01008)210 648 A
(void)168 1026 A
1236(*)S
5760 V
(01009)210 648 A
(bsearch\(register)672 1026 A
(const)210 1740 A
(void)168 1992 A
(*key,)210 2202 A
(register)336 2454 A
(const)210 2832 A
(void)168 3084 A
(*base,)252 3294 A
5850 V
(01010)210 648 A
(register)336 1362 A
(size_t)252 1740 A
(nmemb,)252 2034 A
(register)336 2328 A
(size_t)252 2706 A
(size,)210 3000 A
5940 V
(01011)210 648 A
(int)126 1362 A
(\(*compar\)\(const)630 1530 A
(void)168 2202 A
2412(*,)S
(const)210 2538 A
(void)168 2790 A
(*\)\))126 3000 A
6030 V
(01012)210 648 A
1026({)S
6120 V
(01013)210 648 A
(register)336 1362 A
(const)210 1740 A
(void)168 1992 A
(*mid_point;)462 2202 A
6210 V
(01014)210 648 A
(register)336 1362 A
(int)126 1740 A
(cmp;)168 1950 A
8418 V
EP
%%Page: 7 7
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1953(File:)S
(src/lib/ansi/bsearch.c)937 2186 A
12 B
4368(7)S
900 V
7 LST
(01015)210 648 A
990 V
(01016)210 648 A
(while)210 1362 A
(\(nmemb)252 1614 A
1908(>)S
1992(0\))S
2118({)S
1080 V
(01017)210 648 A
(mid_point)378 1698 A
2118(=)S
(\(char)210 2202 A
(*\)base)252 2454 A
2748(+)S
(size)168 2832 A
3042(*)S
(\(nmemb)252 3126 A
3420(>>)S
(1\);)126 3546 A
1170 V
(01018)210 648 A
1698(if)S
(\(\(cmp)210 1824 A
2076(=)S
(\(*compar\)\(key,)588 2160 A
(mid_point\)\))462 2790 A
3294(==)S
3420(0\))S
1260 V
(01019)210 648 A
(return)252 2034 A
(\(void)210 2328 A
(*\)mid_point;)504 2580 A
1350 V
(01020)210 648 A
1698(if)S
(\(cmp)168 1824 A
2034(>=)S
2160(0\))S
2286({)S
1440 V
(01021)210 648 A
(base)168 2034 A
2286(=)S
(\(char)210 2370 A
(*\)mid_point)462 2622 A
3126(+)S
(size;)210 3210 A
1530 V
(01022)210 648 A
(nmemb)210 2034 A
2286(=)S
(\(nmemb)252 2370 A
2664(-)S
2748(1\))S
2874(>>)S
3000(1;)S
1620 V
(01023)210 648 A
1698(})S
(else)168 1782 A
1710 V
(01024)210 648 A
(nmemb)210 2034 A
(>>=)126 2286 A
2454(1;)S
1800 V
(01025)210 648 A
1362(})S
1890 V
(01026)210 648 A
(return)252 1362 A
(\(void)210 1656 A
(*\)NULL;)294 1908 A
1980 V
(01027)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ansi/calloc.c)882 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(01100)210 648 A
1026(/*)S
($Header$)336 1152 A
1530(*/)S
2790 V
(01101)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2880 V
(01102)210 648 A
2970 V
(01103)210 648 A
(#define)294 1026 A
(ALIGN\(x\))336 1362 A
(\(\(\(x\))210 2034 A
2286(+)S
(\(sizeof\(size_t\))630 2370 A
3042(-)S
(1\)\))126 3126 A
3294(&)S
(\304\(sizeof\(size_t\))672 3378 A
4092(-)S
(1\)\))126 4176 A
3060 V
(01104)210 648 A
3150 V
(01105)210 648 A
(void)168 1026 A
1236(*)S
3240 V
(01106)210 648 A
(calloc\(size_t)546 1026 A
(nelem,)252 1614 A
(size_t)252 1908 A
(elsize\))294 2202 A
3330 V
(01107)210 648 A
1026({)S
3420 V
(01108)210 648 A
(register)336 1362 A
(char)168 1740 A
(*p;)126 1950 A
3510 V
(01109)210 648 A
(register)336 1362 A
(size_t)252 1740 A
(*q;)126 2034 A
3600 V
(01110)210 648 A
(size_t)252 1362 A
(size)168 1656 A
1866(=)S
(ALIGN\(nelem)462 1950 A
2454(*)S
(elsize\);)336 2538 A
3690 V
(01111)210 648 A
3780 V
(01112)210 648 A
1362(p)S
1446(=)S
(malloc\(size\);)546 1530 A
3870 V
(01113)210 648 A
1362(if)S
1488(\(p)S
1614(==)S
(NULL\))210 1740 A
(return)252 1992 A
(NULL;)210 2286 A
3960 V
(01114)210 648 A
1362(q)S
1446(=)S
(\(size_t)294 1530 A
1866(*\))S
1992(\(p)S
2118(+)S
(size\);)252 2202 A
4050 V
(01115)210 648 A
(while)210 1362 A
(\(\(char)252 1614 A
1908(*\))S
2034(q)S
2118(>)S
2202(p\))S
(*--q)168 2328 A
2538(=)S
2622(0;)S
4140 V
(01116)210 648 A
(return)252 1362 A
1656(p;)S
4230 V
(01117)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/chartab.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(01200)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
5040 V
(01201)210 648 A
5130 V
(01202)210 648 A
(char)168 1026 A
(__ctype[])378 1236 A
1656(=)S
1740({)S
5220 V
(01203)210 648 A
1026(0,)S
5310 V
(01204)210 648 A
(_C,)126 1026 A
5400 V
(01205)210 648 A
(_C,)126 1026 A
5490 V
(01206)210 648 A
(_C,)126 1026 A
5580 V
(01207)210 648 A
(_C,)126 1026 A
5670 V
(01208)210 648 A
(_C,)126 1026 A
5760 V
(01209)210 648 A
(_C,)126 1026 A
5850 V
(01210)210 648 A
(_C,)126 1026 A
5940 V
(01211)210 648 A
(_C,)126 1026 A
6030 V
(01212)210 648 A
(_C,)126 1026 A
6120 V
(01213)210 648 A
(_C|_S,)252 1026 A
6210 V
(01214)210 648 A
(_C|_S,)252 1026 A
8418 V
EP
%%Page: 8 8
BP
/slant 0 def
/height 0 def
630 V
12 B
648(8)S
11 R
1959(File:)S
(src/lib/ansi/chartab.c)925 2192 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(01215)210 648 A
(_C|_S,)252 1026 A
990 V
(01216)210 648 A
(_C|_S,)252 1026 A
1080 V
(01217)210 648 A
(_C|_S,)252 1026 A
1170 V
(01218)210 648 A
(_C,)126 1026 A
1260 V
(01219)210 648 A
(_C,)126 1026 A
1350 V
(01220)210 648 A
(_C,)126 1026 A
1440 V
(01221)210 648 A
(_C,)126 1026 A
1530 V
(01222)210 648 A
(_C,)126 1026 A
1620 V
(01223)210 648 A
(_C,)126 1026 A
1710 V
(01224)210 648 A
(_C,)126 1026 A
1800 V
(01225)210 648 A
(_C,)126 1026 A
1890 V
(01226)210 648 A
(_C,)126 1026 A
1980 V
(01227)210 648 A
(_C,)126 1026 A
2070 V
(01228)210 648 A
(_C,)126 1026 A
2160 V
(01229)210 648 A
(_C,)126 1026 A
2250 V
(01230)210 648 A
(_C,)126 1026 A
2340 V
(01231)210 648 A
(_C,)126 1026 A
2430 V
(01232)210 648 A
(_C,)126 1026 A
2520 V
(01233)210 648 A
(_C,)126 1026 A
2610 V
(01234)210 648 A
(_C,)126 1026 A
2700 V
(01235)210 648 A
(_C,)126 1026 A
2790 V
(01236)210 648 A
(_S,)126 1026 A
2880 V
(01237)210 648 A
(_P,)126 1026 A
2970 V
(01238)210 648 A
(_P,)126 1026 A
3060 V
(01239)210 648 A
(_P,)126 1026 A
3150 V
(01240)210 648 A
(_P,)126 1026 A
3240 V
(01241)210 648 A
(_P,)126 1026 A
3330 V
(01242)210 648 A
(_P,)126 1026 A
3420 V
(01243)210 648 A
(_P,)126 1026 A
3510 V
(01244)210 648 A
(_P,)126 1026 A
3600 V
(01245)210 648 A
(_P,)126 1026 A
3690 V
(01246)210 648 A
(_P,)126 1026 A
3780 V
(01247)210 648 A
(_P,)126 1026 A
3870 V
(01248)210 648 A
(_P,)126 1026 A
3960 V
(01249)210 648 A
(_P,)126 1026 A
4050 V
(01250)210 648 A
(_P,)126 1026 A
4140 V
(01251)210 648 A
(_P,)126 1026 A
4230 V
(01252)210 648 A
(_N,)126 1026 A
4320 V
(01253)210 648 A
(_N,)126 1026 A
4410 V
(01254)210 648 A
(_N,)126 1026 A
4500 V
(01255)210 648 A
(_N,)126 1026 A
4590 V
(01256)210 648 A
(_N,)126 1026 A
4680 V
(01257)210 648 A
(_N,)126 1026 A
4770 V
(01258)210 648 A
(_N,)126 1026 A
4860 V
(01259)210 648 A
(_N,)126 1026 A
4950 V
(01260)210 648 A
(_N,)126 1026 A
5040 V
(01261)210 648 A
(_N,)126 1026 A
5130 V
(01262)210 648 A
(_P,)126 1026 A
5220 V
(01263)210 648 A
(_P,)126 1026 A
5310 V
(01264)210 648 A
(_P,)126 1026 A
5400 V
(01265)210 648 A
(_P,)126 1026 A
5490 V
(01266)210 648 A
(_P,)126 1026 A
5580 V
(01267)210 648 A
(_P,)126 1026 A
5670 V
(01268)210 648 A
(_P,)126 1026 A
5760 V
(01269)210 648 A
(_U|_X,)252 1026 A
5850 V
(01270)210 648 A
(_U|_X,)252 1026 A
5940 V
(01271)210 648 A
(_U|_X,)252 1026 A
6030 V
(01272)210 648 A
(_U|_X,)252 1026 A
6120 V
(01273)210 648 A
(_U|_X,)252 1026 A
6210 V
(01274)210 648 A
(_U|_X,)252 1026 A
8418 V
EP
%%Page: 9 9
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1959(File:)S
(src/lib/ansi/chartab.c)925 2192 A
12 B
4368(9)S
900 V
7 LST
(01275)210 648 A
(_U,)126 1026 A
990 V
(01276)210 648 A
(_U,)126 1026 A
1080 V
(01277)210 648 A
(_U,)126 1026 A
1170 V
(01278)210 648 A
(_U,)126 1026 A
1260 V
(01279)210 648 A
(_U,)126 1026 A
1350 V
(01280)210 648 A
(_U,)126 1026 A
1440 V
(01281)210 648 A
(_U,)126 1026 A
1530 V
(01282)210 648 A
(_U,)126 1026 A
1620 V
(01283)210 648 A
(_U,)126 1026 A
1710 V
(01284)210 648 A
(_U,)126 1026 A
1800 V
(01285)210 648 A
(_U,)126 1026 A
1890 V
(01286)210 648 A
(_U,)126 1026 A
1980 V
(01287)210 648 A
(_U,)126 1026 A
2070 V
(01288)210 648 A
(_U,)126 1026 A
2160 V
(01289)210 648 A
(_U,)126 1026 A
2250 V
(01290)210 648 A
(_U,)126 1026 A
2340 V
(01291)210 648 A
(_U,)126 1026 A
2430 V
(01292)210 648 A
(_U,)126 1026 A
2520 V
(01293)210 648 A
(_U,)126 1026 A
2610 V
(01294)210 648 A
(_U,)126 1026 A
2700 V
(01295)210 648 A
(_P,)126 1026 A
2790 V
(01296)210 648 A
(_P,)126 1026 A
2880 V
(01297)210 648 A
(_P,)126 1026 A
2970 V
(01298)210 648 A
(_P,)126 1026 A
3060 V
(01299)210 648 A
(_P,)126 1026 A
3150 V
(01300)210 648 A
(_P,)126 1026 A
3240 V
(01301)210 648 A
(_L|_X,)252 1026 A
3330 V
(01302)210 648 A
(_L|_X,)252 1026 A
3420 V
(01303)210 648 A
(_L|_X,)252 1026 A
3510 V
(01304)210 648 A
(_L|_X,)252 1026 A
3600 V
(01305)210 648 A
(_L|_X,)252 1026 A
3690 V
(01306)210 648 A
(_L|_X,)252 1026 A
3780 V
(01307)210 648 A
(_L,)126 1026 A
3870 V
(01308)210 648 A
(_L,)126 1026 A
3960 V
(01309)210 648 A
(_L,)126 1026 A
4050 V
(01310)210 648 A
(_L,)126 1026 A
4140 V
(01311)210 648 A
(_L,)126 1026 A
4230 V
(01312)210 648 A
(_L,)126 1026 A
4320 V
(01313)210 648 A
(_L,)126 1026 A
4410 V
(01314)210 648 A
(_L,)126 1026 A
4500 V
(01315)210 648 A
(_L,)126 1026 A
4590 V
(01316)210 648 A
(_L,)126 1026 A
4680 V
(01317)210 648 A
(_L,)126 1026 A
4770 V
(01318)210 648 A
(_L,)126 1026 A
4860 V
(01319)210 648 A
(_L,)126 1026 A
4950 V
(01320)210 648 A
(_L,)126 1026 A
5040 V
(01321)210 648 A
(_L,)126 1026 A
5130 V
(01322)210 648 A
(_L,)126 1026 A
5220 V
(01323)210 648 A
(_L,)126 1026 A
5310 V
(01324)210 648 A
(_L,)126 1026 A
5400 V
(01325)210 648 A
(_L,)126 1026 A
5490 V
(01326)210 648 A
(_L,)126 1026 A
5580 V
(01327)210 648 A
(_P,)126 1026 A
5670 V
(01328)210 648 A
(_P,)126 1026 A
5760 V
(01329)210 648 A
(_P,)126 1026 A
5850 V
(01330)210 648 A
(_P,)126 1026 A
5940 V
(01331)210 648 A
(_C,)126 1026 A
6030 V
(01332)210 648 A
1026(0,)S
6120 V
(01333)210 648 A
1026(0,)S
6210 V
(01334)210 648 A
1026(0,)S
8418 V
EP
%%Page: 10 10
BP
/slant 0 def
/height 0 def
630 V
12 B
648(10)S
11 R
1959(File:)S
(src/lib/ansi/chartab.c)925 2192 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(01335)210 648 A
1026(0,)S
990 V
(01336)210 648 A
1026(0,)S
1080 V
(01337)210 648 A
1026(0,)S
1170 V
(01338)210 648 A
1026(0,)S
1260 V
(01339)210 648 A
1026(0,)S
1350 V
(01340)210 648 A
1026(0,)S
1440 V
(01341)210 648 A
1026(0,)S
1530 V
(01342)210 648 A
1026(0,)S
1620 V
(01343)210 648 A
1026(0,)S
1710 V
(01344)210 648 A
1026(0,)S
1800 V
(01345)210 648 A
1026(0,)S
1890 V
(01346)210 648 A
1026(0,)S
1980 V
(01347)210 648 A
1026(0,)S
2070 V
(01348)210 648 A
1026(0,)S
2160 V
(01349)210 648 A
1026(0,)S
2250 V
(01350)210 648 A
1026(0,)S
2340 V
(01351)210 648 A
1026(0,)S
2430 V
(01352)210 648 A
1026(0,)S
2520 V
(01353)210 648 A
1026(0,)S
2610 V
(01354)210 648 A
1026(0,)S
2700 V
(01355)210 648 A
1026(0,)S
2790 V
(01356)210 648 A
1026(0,)S
2880 V
(01357)210 648 A
1026(0,)S
2970 V
(01358)210 648 A
1026(0,)S
3060 V
(01359)210 648 A
1026(0,)S
3150 V
(01360)210 648 A
1026(0,)S
3240 V
(01361)210 648 A
1026(0,)S
3330 V
(01362)210 648 A
1026(0,)S
3420 V
(01363)210 648 A
1026(0,)S
3510 V
(01364)210 648 A
1026(0,)S
3600 V
(01365)210 648 A
1026(0,)S
3690 V
(01366)210 648 A
1026(0,)S
3780 V
(01367)210 648 A
1026(0,)S
3870 V
(01368)210 648 A
1026(0,)S
3960 V
(01369)210 648 A
1026(0,)S
4050 V
(01370)210 648 A
1026(0,)S
4140 V
(01371)210 648 A
1026(0,)S
4230 V
(01372)210 648 A
1026(0,)S
4320 V
(01373)210 648 A
1026(0,)S
4410 V
(01374)210 648 A
1026(0,)S
4500 V
(01375)210 648 A
1026(0,)S
4590 V
(01376)210 648 A
1026(0,)S
4680 V
(01377)210 648 A
1026(0,)S
4770 V
(01378)210 648 A
1026(0,)S
4860 V
(01379)210 648 A
1026(0,)S
4950 V
(01380)210 648 A
1026(0,)S
5040 V
(01381)210 648 A
1026(0,)S
5130 V
(01382)210 648 A
1026(0,)S
5220 V
(01383)210 648 A
1026(0,)S
5310 V
(01384)210 648 A
1026(0,)S
5400 V
(01385)210 648 A
1026(0,)S
5490 V
(01386)210 648 A
1026(0,)S
5580 V
(01387)210 648 A
1026(0,)S
5670 V
(01388)210 648 A
1026(0,)S
5760 V
(01389)210 648 A
1026(0,)S
5850 V
(01390)210 648 A
1026(0,)S
5940 V
(01391)210 648 A
1026(0,)S
6030 V
(01392)210 648 A
1026(0,)S
6120 V
(01393)210 648 A
1026(0,)S
6210 V
(01394)210 648 A
1026(0,)S
8418 V
EP
%%Page: 11 11
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1959(File:)S
(src/lib/ansi/chartab.c)925 2192 A
12 B
4308(11)S
900 V
7 LST
(01395)210 648 A
1026(0,)S
990 V
(01396)210 648 A
1026(0,)S
1080 V
(01397)210 648 A
1026(0,)S
1170 V
(01398)210 648 A
1026(0,)S
1260 V
(01399)210 648 A
1026(0,)S
1350 V
(01400)210 648 A
1026(0,)S
1440 V
(01401)210 648 A
1026(0,)S
1530 V
(01402)210 648 A
1026(0,)S
1620 V
(01403)210 648 A
1026(0,)S
1710 V
(01404)210 648 A
1026(0,)S
1800 V
(01405)210 648 A
1026(0,)S
1890 V
(01406)210 648 A
1026(0,)S
1980 V
(01407)210 648 A
1026(0,)S
2070 V
(01408)210 648 A
1026(0,)S
2160 V
(01409)210 648 A
1026(0,)S
2250 V
(01410)210 648 A
1026(0,)S
2340 V
(01411)210 648 A
1026(0,)S
2430 V
(01412)210 648 A
1026(0,)S
2520 V
(01413)210 648 A
1026(0,)S
2610 V
(01414)210 648 A
1026(0,)S
2700 V
(01415)210 648 A
1026(0,)S
2790 V
(01416)210 648 A
1026(0,)S
2880 V
(01417)210 648 A
1026(0,)S
2970 V
(01418)210 648 A
1026(0,)S
3060 V
(01419)210 648 A
1026(0,)S
3150 V
(01420)210 648 A
1026(0,)S
3240 V
(01421)210 648 A
1026(0,)S
3330 V
(01422)210 648 A
1026(0,)S
3420 V
(01423)210 648 A
1026(0,)S
3510 V
(01424)210 648 A
1026(0,)S
3600 V
(01425)210 648 A
1026(0,)S
3690 V
(01426)210 648 A
1026(0,)S
3780 V
(01427)210 648 A
1026(0,)S
3870 V
(01428)210 648 A
1026(0,)S
3960 V
(01429)210 648 A
1026(0,)S
4050 V
(01430)210 648 A
1026(0,)S
4140 V
(01431)210 648 A
1026(0,)S
4230 V
(01432)210 648 A
1026(0,)S
4320 V
(01433)210 648 A
1026(0,)S
4410 V
(01434)210 648 A
1026(0,)S
4500 V
(01435)210 648 A
1026(0,)S
4590 V
(01436)210 648 A
1026(0,)S
4680 V
(01437)210 648 A
1026(0,)S
4770 V
(01438)210 648 A
1026(0,)S
4860 V
(01439)210 648 A
1026(0,)S
4950 V
(01440)210 648 A
1026(0,)S
5040 V
(01441)210 648 A
1026(0,)S
5130 V
(01442)210 648 A
1026(0,)S
5220 V
(01443)210 648 A
1026(0,)S
5310 V
(01444)210 648 A
1026(0,)S
5400 V
(01445)210 648 A
1026(0,)S
5490 V
(01446)210 648 A
1026(0,)S
5580 V
(01447)210 648 A
1026(0,)S
5670 V
(01448)210 648 A
1026(0,)S
5760 V
(01449)210 648 A
1026(0,)S
5850 V
(01450)210 648 A
1026(0,)S
5940 V
(01451)210 648 A
1026(0,)S
6030 V
(01452)210 648 A
1026(0,)S
6120 V
(01453)210 648 A
1026(0,)S
6210 V
(01454)210 648 A
1026(0,)S
8418 V
EP
%%Page: 12 12
BP
/slant 0 def
/height 0 def
630 V
12 B
648(12)S
11 R
1959(File:)S
(src/lib/ansi/chartab.c)925 2192 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(01455)210 648 A
1026(0,)S
990 V
(01456)210 648 A
1026(0,)S
1080 V
(01457)210 648 A
1026(0,)S
1170 V
(01458)210 648 A
1026(0,)S
1260 V
(01459)210 648 A
1026(0,)S
1350 V
(01460)210 648 A
1026(};)S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/clock.c)840 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(01500)210 648 A
1026(/*)S
2340 V
(01501)210 648 A
1068(*)S
(clock)210 1152 A
1404(-)S
(determine)378 1488 A
(the)126 1908 A
(processor)378 2076 A
(time)168 2496 A
(used)168 2706 A
2430 V
(01502)210 648 A
1068(*/)S
2520 V
(01503)210 648 A
1026(/*)S
($Header:)336 1152 A
(clock.c,v)378 1530 A
(1.3)126 1950 A
(90/01/22)336 2118 A
(13:08:11)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
2610 V
(01504)210 648 A
2700 V
(01505)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
2790 V
(01506)210 648 A
2880 V
(01507)210 648 A
(#if)126 1026 A
(defined\(__BSD4_2\))714 1362 A
2970 V
(01508)210 648 A
3060 V
(01509)210 648 A
(struct)252 1026 A
(timeval)294 1320 A
1656({)S
3150 V
(01510)210 648 A
(long)168 1362 A
(tv_sec;)294 1698 A
2706(/*)S
(seconds)294 2832 A
3168(*/)S
3240 V
(01511)210 648 A
(long)168 1362 A
(tv_usec;)336 1698 A
2706(/*)S
(and)126 2832 A
(microseconds)504 3000 A
3546(*/)S
3330 V
(01512)210 648 A
1026(};)S
3420 V
(01513)210 648 A
3510 V
(01514)210 648 A
(#define)294 1026 A
(RUSAGE_SELF)462 1362 A
2034(0)S
3600 V
(01515)210 648 A
(#define)294 1026 A
(RUSAGE_CHILDREN)630 1362 A
2034(-1)S
3690 V
(01516)210 648 A
3780 V
(01517)210 648 A
(struct)252 1026 A
(rusage)252 1320 A
1614({)S
3870 V
(01518)210 648 A
(struct)252 1362 A
(timeval)294 1656 A
(ru_utime;)378 1992 A
2706(/*)S
(user)168 2832 A
(time)168 3042 A
(used)168 3252 A
3462(*/)S
3960 V
(01519)210 648 A
(struct)252 1362 A
(timeval)294 1656 A
(ru_stime;)378 1992 A
2706(/*)S
(system)252 2832 A
(time)168 3126 A
(used)168 3336 A
3546(*/)S
4050 V
(01520)210 648 A
(long)168 1362 A
(ru_maxrss;)420 1698 A
4140 V
(01521)210 648 A
(long)168 1362 A
(ru_ixrss;)378 1698 A
2706(/*)S
(integral)336 2832 A
(shared)252 3210 A
(memory)252 3504 A
(size)168 3798 A
4008(*/)S
4230 V
(01522)210 648 A
(long)168 1362 A
(ru_idrss;)378 1698 A
2706(/*)S
(integral)336 2832 A
(unshared)336 3210 A
(data)168 3588 A
(size)168 3798 A
4008(*/)S
4320 V
(01523)210 648 A
(long)168 1362 A
(ru_isrss;)378 1698 A
2706(/*)S
(integral)336 2832 A
(unshared)336 3210 A
(stack)210 3588 A
(size)168 3840 A
4050(*/)S
4410 V
(01524)210 648 A
(long)168 1362 A
(ru_minflt;)420 1698 A
2706(/*)S
(page)168 2832 A
(reclaims)336 3042 A
3420(*/)S
4500 V
(01525)210 648 A
(long)168 1362 A
(ru_majflt;)420 1698 A
2706(/*)S
(page)168 2832 A
(faults)252 3042 A
3336(*/)S
4590 V
(01526)210 648 A
(long)168 1362 A
(ru_nswap;)378 1698 A
2706(/*)S
(swaps)210 2832 A
3084(*/)S
4680 V
(01527)210 648 A
(long)168 1362 A
(ru_inblock;)462 1698 A
2706(/*)S
(block)210 2832 A
(input)210 3084 A
(operations)420 3336 A
3798(*/)S
4770 V
(01528)210 648 A
(long)168 1362 A
(ru_oublock;)462 1698 A
2706(/*)S
(block)210 2832 A
(output)252 3084 A
(operations)420 3378 A
3840(*/)S
4860 V
(01529)210 648 A
(long)168 1362 A
(ru_msgsnd;)420 1698 A
2706(/*)S
(messages)336 2832 A
(sent)168 3210 A
3420(*/)S
4950 V
(01530)210 648 A
(long)168 1362 A
(ru_msgrcv;)420 1698 A
2706(/*)S
(messages)336 2832 A
(received)336 3210 A
3588(*/)S
5040 V
(01531)210 648 A
(long)168 1362 A
(ru_nsignals;)504 1698 A
2706(/*)S
(signals)294 2832 A
(received)336 3168 A
3546(*/)S
5130 V
(01532)210 648 A
(long)168 1362 A
(ru_nvcsw;)378 1698 A
2706(/*)S
(voluntary)378 2832 A
(context)294 3252 A
(switches)336 3588 A
3966(*/)S
5220 V
(01533)210 648 A
(long)168 1362 A
(ru_nivcsw;)420 1698 A
2706(/*)S
(involuntary)462 2832 A
(context)294 3336 A
(switches)336 3672 A
4050(*/)S
5310 V
(01534)210 648 A
1026(};)S
5400 V
(01535)210 648 A
5490 V
(01536)210 648 A
(void)168 1026 A
(_getrusage\(int)588 1236 A
(who,)168 1866 A
(struct)252 2076 A
(rusage)252 2370 A
(*rusage\);)378 2664 A
5580 V
(01537)210 648 A
5670 V
(01538)210 648 A
(#elif)210 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
2328(||)S
(defined\(__USG\))588 2454 A
5760 V
(01539)210 648 A
5850 V
(01540)210 648 A
(struct)252 1026 A
(tms)126 1320 A
1488({)S
5940 V
(01541)210 648 A
(time_t)252 1362 A
(tms_utime;)420 1698 A
2706(/*)S
(user)168 2832 A
(time)168 3042 A
3252(*/)S
6030 V
(01542)210 648 A
(time_t)252 1362 A
(tms_stime;)420 1698 A
2706(/*)S
(system)252 2832 A
(time)168 3126 A
3336(*/)S
6120 V
(01543)210 648 A
(time_t)252 1362 A
(tms_cutime;)462 1698 A
2706(/*)S
(user)168 2832 A
(time,)210 3042 A
(children)336 3294 A
3672(*/)S
6210 V
(01544)210 648 A
(time_t)252 1362 A
(tms_cstime;)462 1698 A
2706(/*)S
(system)252 2832 A
(time,)210 3126 A
(children)336 3378 A
3756(*/)S
8418 V
EP
%%Page: 13 13
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2002(File:)S
(src/lib/ansi/clock.c)838 2235 A
12 B
4308(13)S
900 V
7 LST
(01545)210 648 A
1026(};)S
990 V
(01546)210 648 A
1080 V
(01547)210 648 A
(clock_t)294 1026 A
(_times\(struct)546 1362 A
(tms)126 1950 A
(*buffer\);)378 2118 A
1170 V
(01548)210 648 A
1260 V
(01549)210 648 A
(#else)210 1026 A
2706(/*)S
(Version)294 2832 A
3168(7)S
(UNIX)168 3252 A
3462(*/)S
1350 V
(01550)210 648 A
1440 V
(01551)210 648 A
(struct)252 1026 A
(tbuffer)294 1320 A
1656({)S
1530 V
(01552)210 648 A
(long)168 1362 A
(proc_user_time;)630 1572 A
1620 V
(01553)210 648 A
(long)168 1362 A
(proc_system_time;)714 1572 A
1710 V
(01554)210 648 A
(long)168 1362 A
(child_user_time;)672 1572 A
1800 V
(01555)210 648 A
(long)168 1362 A
(child_system_time;)756 1572 A
1890 V
(01556)210 648 A
1026(};)S
1980 V
(01557)210 648 A
2070 V
(01558)210 648 A
(clock_t)294 1026 A
(_times\(struct)546 1362 A
(tbuffer)294 1950 A
(*buffer\);)378 2286 A
2160 V
(01559)210 648 A
2250 V
(01560)210 648 A
(#endif)252 1026 A
2340 V
(01561)210 648 A
2430 V
(01562)210 648 A
(clock_t)294 1026 A
2520 V
(01563)210 648 A
(clock\(void\))462 1026 A
2610 V
(01564)210 648 A
1026({)S
2700 V
(01565)210 648 A
(#if)126 1026 A
(defined\(__BSD4_2\))714 1362 A
2790 V
(01566)210 648 A
(struct)252 1362 A
(rusage)252 1656 A
(rusage;)294 1950 A
2880 V
(01567)210 648 A
2970 V
(01568)210 648 A
(_getrusage\(RUSAGE_SELF,)966 1362 A
(&rusage\);)378 2370 A
3060 V
(01569)210 648 A
3150 V
(01570)210 648 A
(return)252 1362 A
(\(\(\(unsigned)462 1656 A
(long\)rusage.ru_utime.tv_sec)1134 2160 A
3336(*)S
(CLOCKS_PER_SEC\))630 3420 A
3240 V
(01571)210 648 A
1698(+)S
(rusage.ru_utime.tv_usec\);)1050 1782 A
3330 V
(01572)210 648 A
(#elif)210 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
2328(||)S
(defined\(__USG\))588 2454 A
3420 V
(01573)210 648 A
(struct)252 1362 A
(tms)126 1656 A
(tms;)168 1824 A
3510 V
(01574)210 648 A
3600 V
(01575)210 648 A
(_times\(&tms\);)546 1362 A
3690 V
(01576)210 648 A
1362(/*)S
(Assume)252 1488 A
(that)168 1782 A
(time_t)252 1992 A
(can)126 2286 A
2454(be)S
(converted)378 2580 A
3000(to)S
(clock_t)294 3126 A
(for)126 3462 A
(Sys5)168 3630 A
3840(*/)S
3780 V
(01577)210 648 A
(return)252 1362 A
(tms.tms_utime;)588 1656 A
3870 V
(01578)210 648 A
(#else)210 1026 A
3960 V
(01579)210 648 A
(struct)252 1362 A
(tbuffer)294 1656 A
(tbuffer;)336 1992 A
4050 V
(01580)210 648 A
4140 V
(01581)210 648 A
(_times\(&tbuffer\);)714 1362 A
4230 V
(01582)210 648 A
(return)252 1362 A
(tbuffer.proc_user_time;)966 1656 A
4320 V
(01583)210 648 A
(#endif)252 1026 A
4410 V
(01584)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/ansi/ctime.c)840 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(01600)210 648 A
1026(/*)S
5490 V
(01601)210 648 A
1068(*)S
(ctime)210 1152 A
1404(-)S
(convers)294 1488 A
(the)126 1824 A
(calendar)336 1992 A
(time)168 2370 A
2580(to)S
2706(a)S
(string)252 2790 A
5580 V
(01602)210 648 A
1068(*/)S
5670 V
(01603)210 648 A
1026(/*)S
($Header:)336 1152 A
(ctime.c,v)378 1530 A
(1.1)126 1950 A
(89/06/12)336 2118 A
(15:21:16)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
5760 V
(01604)210 648 A
5850 V
(01605)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
5940 V
(01606)210 648 A
6030 V
(01607)210 648 A
(char)168 1026 A
1236(*)S
6120 V
(01608)210 648 A
(ctime\(const)462 1026 A
(time_t)252 1530 A
(*timer\))294 1824 A
6210 V
(01609)210 648 A
1026({)S
8418 V
EP
%%Page: 14 14
BP
/slant 0 def
/height 0 def
630 V
12 B
648(14)S
11 R
1999(File:)S
(src/lib/ansi/ctime.c)845 2232 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(01610)210 648 A
(return)252 1362 A
(asctime\(localtime\(timer\)\);)1092 1656 A
990 V
(01611)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/ansi/difftime.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(01700)210 648 A
1026(/*)S
1890 V
(01701)210 648 A
1068(*)S
(difftime)336 1152 A
1530(-)S
(compute)294 1614 A
(the)126 1950 A
(difference)420 2118 A
(between)294 2580 A
(two)126 2916 A
(calendar)336 3084 A
(times)210 3462 A
1980 V
(01702)210 648 A
1068(*/)S
2070 V
(01703)210 648 A
1026(/*)S
($Header:)336 1152 A
(difftime.c,v)504 1530 A
(1.4)126 2076 A
(90/09/11)336 2244 A
(10:18:44)336 2622 A
(eck)126 3000 A
(Exp)126 3168 A
3336($)S
3420(*/)S
2160 V
(01704)210 648 A
2250 V
(01705)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
2340 V
(01706)210 648 A
2430 V
(01707)210 648 A
(double)252 1026 A
2520 V
(01708)210 648 A
(difftime\(time_t)630 1026 A
(time1,)252 1698 A
(time_t)252 1992 A
(time0\))252 2286 A
2610 V
(01709)210 648 A
1026({)S
2700 V
(01710)210 648 A
1362(/*)S
1488(be)S
(careful:)336 1614 A
(time_t)252 1992 A
(may)126 2286 A
2454(be)S
(unsigned)336 2580 A
2958(*/)S
2790 V
(01711)210 648 A
1362(if)S
(\(\(time_t\)-1)462 1488 A
1992(>)S
2076(0)S
2160(&&)S
(time0)210 2286 A
2538(>)S
(time1\))252 2622 A
2916({)S
2880 V
(01712)210 648 A
(return)252 1698 A
1992(-)S
(\(double\))336 2076 A
(\(time0)252 2454 A
2748(-)S
(time1\);)294 2832 A
2970 V
(01713)210 648 A
1362(})S
(else)168 1446 A
1656({)S
3060 V
(01714)210 648 A
(return)252 1698 A
(\(double\)\(time1)588 1992 A
2622(-)S
(time0\);)294 2706 A
3150 V
(01715)210 648 A
1362(})S
3240 V
(01716)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/div.c)756 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(01800)210 648 A
1026(/*)S
4140 V
(01801)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(01802)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(01803)210 648 A
1068(*/)S
4410 V
(01804)210 648 A
1026(/*)S
($Header:)336 1152 A
(div.c,v)294 1530 A
(1.3)126 1866 A
(90/03/05)336 2034 A
(13:47:53)336 2412 A
(eck)126 2790 A
(Exp)126 2958 A
3126($)S
3210(*/)S
4500 V
(01805)210 648 A
4590 V
(01806)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4680 V
(01807)210 648 A
4770 V
(01808)210 648 A
(static)252 1026 A
(int)126 1320 A
(tmp)126 1488 A
1656(=)S
(-1;)126 1740 A
4860 V
(01809)210 648 A
4950 V
(01810)210 648 A
(div_t)210 1026 A
5040 V
(01811)210 648 A
(div\(register)504 1026 A
(int)126 1572 A
(numer,)252 1740 A
(register)336 2034 A
(int)126 2412 A
(denom\))252 2580 A
5130 V
(01812)210 648 A
1026({)S
5220 V
(01813)210 648 A
(div_t)210 1362 A
1614(r;)S
5310 V
(01814)210 648 A
5400 V
(01815)210 648 A
1362(/*)S
(The)126 1488 A
(assignment)420 1656 A
2118(of)S
(tmp)126 2244 A
(should)252 2412 A
(not)126 2706 A
2874(be)S
(optimized)378 3000 A
3420(!!)S
3546(*/)S
5490 V
(01816)210 648 A
1362(if)S
(\(tmp)168 1488 A
1698(==)S
(-1\))126 1824 A
1992({)S
5580 V
(01817)210 648 A
(tmp)126 1698 A
1866(=)S
(\(tmp)168 1950 A
2160(/)S
2244(2)S
2328(==)S
(0\);)126 2454 A
5670 V
(01818)210 648 A
1362(})S
5760 V
(01819)210 648 A
1362(if)S
(\(numer)252 1488 A
1782(==)S
1908(0\))S
2034({)S
5850 V
(01820)210 648 A
(r.quot)252 1698 A
1992(=)S
(numer)210 2076 A
2328(/)S
(denom;)252 2412 A
3042(/*)S
(might)210 3168 A
(trap)168 3420 A
3630(if)S
(denom)210 3756 A
4008(==)S
4134(0)S
4218(*/)S
5940 V
(01821)210 648 A
(r.rem)210 1698 A
1950(=)S
(numer)210 2034 A
2286(%)S
(denom;)252 2370 A
6030 V
(01822)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
1782(\()S
(!tmp)168 1866 A
2076(&&)S
(\(\(numer)294 2202 A
2538(<)S
2622(0\))S
2748(!=)S
(\(denom)252 2874 A
3168(<)S
(0\)\)\))168 3252 A
3462({)S
6120 V
(01823)210 648 A
(r.quot)252 1698 A
1992(=)S
(\(numer)252 2076 A
2370(/)S
(denom\))252 2454 A
2748(+)S
2832(1;)S
6210 V
(01824)210 648 A
(r.rem)210 1698 A
1950(=)S
(numer)210 2034 A
2286(-)S
(\(numer)252 2370 A
2664(/)S
(denom)210 2748 A
3000(+)S
3084(1\))S
3210(*)S
(denom;)252 3294 A
8418 V
EP
%%Page: 15 15
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2052(File:)S
(src/lib/ansi/div.c)738 2285 A
12 B
4308(15)S
900 V
7 LST
(01825)210 648 A
1362(})S
(else)168 1446 A
1656({)S
990 V
(01826)210 648 A
(r.quot)252 1698 A
1992(=)S
(numer)210 2076 A
2328(/)S
(denom;)252 2412 A
1080 V
(01827)210 648 A
(r.rem)210 1698 A
1950(=)S
(numer)210 2034 A
2286(%)S
(denom;)252 2370 A
1170 V
(01828)210 648 A
1362(})S
1260 V
(01829)210 648 A
(return)252 1362 A
1656(r;)S
1350 V
(01830)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/errlist.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(01900)210 648 A
1026(/*)S
2340 V
(01901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(01902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(01903)210 648 A
1068(*/)S
2610 V
(01904)210 648 A
1026(/*)S
($Header:)336 1152 A
(errlist.c,v)462 1530 A
(1.1)126 2034 A
(89/05/10)336 2202 A
(16:22:20)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2700 V
(01905)210 648 A
2790 V
(01906)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2880 V
(01907)210 648 A
2970 V
(01908)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
(unknown[])378 1782 A
2202(=)S
("Unknown)336 2286 A
(error";)294 2664 A
3060 V
(01909)210 648 A
3150 V
(01910)210 648 A
(const)210 1026 A
(char)168 1278 A
(*_sys_errlist[])630 1488 A
2160(=)S
2244({)S
3240 V
(01911)210 648 A
("Error)252 1362 A
(0",)126 1656 A
2706(/*)S
(EGENERIC)336 2832 A
3210(*/)S
3330 V
(01912)210 648 A
("Not)168 1362 A
(owner",)294 1572 A
2706(/*)S
(EPERM)210 2832 A
3084(*/)S
3420 V
(01913)210 648 A
("No)126 1362 A
(such)168 1530 A
(file)168 1740 A
1950(or)S
(directory",)462 2076 A
2706(/*)S
(ENOENT)252 2832 A
3126(*/)S
3510 V
(01914)210 648 A
("No)126 1362 A
(such)168 1530 A
(process",)378 1740 A
2706(/*)S
(ESRCH)210 2832 A
3084(*/)S
3600 V
(01915)210 648 A
("Interrupted)504 1362 A
(system)252 1908 A
(call",)252 2202 A
2706(/*)S
(EINTR)210 2832 A
3084(*/)S
3690 V
(01916)210 648 A
("I/O)168 1362 A
(error",)294 1572 A
2706(/*)S
(EIO)126 2832 A
3000(*/)S
3780 V
(01917)210 648 A
("No)126 1362 A
(such)168 1530 A
(device)252 1740 A
2034(or)S
(address",)378 2160 A
2706(/*)S
(ENXIO)210 2832 A
3084(*/)S
3870 V
(01918)210 648 A
("Arg)168 1362 A
(list)168 1572 A
(too)126 1782 A
(long",)252 1950 A
2706(/*)S
(E2BIG)210 2832 A
3084(*/)S
3960 V
(01919)210 648 A
("Exec)210 1362 A
(format)252 1614 A
(error",)294 1908 A
2706(/*)S
(ENOEXEC)294 2832 A
3168(*/)S
4050 V
(01920)210 648 A
("Bad)168 1362 A
(file)168 1572 A
(number",)336 1782 A
2706(/*)S
(EBADF)210 2832 A
3084(*/)S
4140 V
(01921)210 648 A
("No)126 1362 A
(children",)420 1530 A
2706(/*)S
(ECHILD)252 2832 A
3126(*/)S
4230 V
(01922)210 648 A
("No)126 1362 A
(more)168 1530 A
(processes",)462 1740 A
2706(/*)S
(EAGAIN)252 2832 A
3126(*/)S
4320 V
(01923)210 648 A
("Not)168 1362 A
(enough)252 1572 A
(core",)252 1866 A
2706(/*)S
(ENOMEM)252 2832 A
3126(*/)S
4410 V
(01924)210 648 A
("Permission)462 1362 A
(denied",)336 1866 A
2706(/*)S
(EACCES)252 2832 A
3126(*/)S
4500 V
(01925)210 648 A
("Bad)168 1362 A
(address",)378 1572 A
2706(/*)S
(EFAULT)252 2832 A
3126(*/)S
4590 V
(01926)210 648 A
("Block)252 1362 A
(device)252 1656 A
(required",)420 1950 A
2706(/*)S
(ENOTBLK)294 2832 A
3168(*/)S
4680 V
(01927)210 648 A
("Resource)378 1362 A
(busy",)252 1782 A
2706(/*)S
(EBUSY)210 2832 A
3084(*/)S
4770 V
(01928)210 648 A
("File)210 1362 A
(exists",)336 1614 A
2706(/*)S
(EEXIST)252 2832 A
3126(*/)S
4860 V
(01929)210 648 A
("Cross-device)546 1362 A
(link",)252 1950 A
2706(/*)S
(EXDEV)210 2832 A
3084(*/)S
4950 V
(01930)210 648 A
("No)126 1362 A
(such)168 1530 A
(device",)336 1740 A
2706(/*)S
(ENODEV)252 2832 A
3126(*/)S
5040 V
(01931)210 648 A
("Not)168 1362 A
1572(a)S
(directory",)462 1656 A
2706(/*)S
(ENOTDIR)294 2832 A
3168(*/)S
5130 V
(01932)210 648 A
("Is)126 1362 A
1530(a)S
(directory",)462 1614 A
2706(/*)S
(EISDIR)252 2832 A
3126(*/)S
5220 V
(01933)210 648 A
("Invalid)336 1362 A
(argument",)420 1740 A
2706(/*)S
(EINVAL)252 2832 A
3126(*/)S
5310 V
(01934)210 648 A
("File)210 1362 A
(table)210 1614 A
(overflow",)420 1866 A
2706(/*)S
(ENFILE)252 2832 A
3126(*/)S
5400 V
(01935)210 648 A
("Too)168 1362 A
(many)168 1572 A
(open)168 1782 A
(files",)294 1992 A
2706(/*)S
(EMFILE)252 2832 A
3126(*/)S
5490 V
(01936)210 648 A
("Not)168 1362 A
1572(a)S
(typewriter",)504 1656 A
2706(/*)S
(ENOTTY)252 2832 A
3126(*/)S
5580 V
(01937)210 648 A
("Text)210 1362 A
(file)168 1614 A
(busy",)252 1824 A
2706(/*)S
(ETXTBSY)294 2832 A
3168(*/)S
5670 V
(01938)210 648 A
("File)210 1362 A
(too)126 1614 A
(large",)294 1782 A
2706(/*)S
(EFBIG)210 2832 A
3084(*/)S
5760 V
(01939)210 648 A
("No)126 1362 A
(space)210 1530 A
(left)168 1782 A
1992(on)S
(device",)336 2118 A
2706(/*)S
(ENOSPC)252 2832 A
3126(*/)S
5850 V
(01940)210 648 A
("Illegal)336 1362 A
(seek",)252 1740 A
2706(/*)S
(ESPIPE)252 2832 A
3126(*/)S
5940 V
(01941)210 648 A
("Read-only)420 1362 A
(file)168 1824 A
(system",)336 2034 A
2706(/*)S
(EROFS)210 2832 A
3084(*/)S
6030 V
(01942)210 648 A
("Too)168 1362 A
(many)168 1572 A
(links",)294 1782 A
2706(/*)S
(EMLINK)252 2832 A
3126(*/)S
6120 V
(01943)210 648 A
("Broken)294 1362 A
(pipe",)252 1698 A
2706(/*)S
(EPIPE)210 2832 A
3084(*/)S
6210 V
(01944)210 648 A
("Math)210 1362 A
(argument",)420 1614 A
2706(/*)S
(EDOM)168 2832 A
3042(*/)S
8418 V
EP
%%Page: 16 16
BP
/slant 0 def
/height 0 def
630 V
12 B
648(16)S
11 R
1993(File:)S
(src/lib/ansi/errlist.c)857 2226 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(01945)210 648 A
("Result)294 1362 A
(too)126 1698 A
(large",)294 1866 A
2706(/*)S
(ERANGE)252 2832 A
3126(*/)S
990 V
(01946)210 648 A
("Resource)378 1362 A
(deadlock)336 1782 A
(avoided",)378 2160 A
2706(/*)S
(EDEADLK)294 2832 A
3168(*/)S
1080 V
(01947)210 648 A
("File)210 1362 A
(name)168 1614 A
(too)126 1824 A
(long",)252 1992 A
2706(/*)S
(ENAMETOOLONG)504 2832 A
3378(*/)S
1170 V
(01948)210 648 A
("No)126 1362 A
(locks)210 1530 A
(available",)462 1782 A
2706(/*)S
(ENOLCK)252 2832 A
3126(*/)S
1260 V
(01949)210 648 A
("Function)378 1362 A
(not)126 1782 A
(implemented",)546 1950 A
2706(/*)S
(ENOSYS)252 2832 A
3126(*/)S
1350 V
(01950)210 648 A
("Directory)420 1362 A
(not)126 1824 A
(empty",)294 1992 A
2706(/*)S
(ENOTEMPTY)378 2832 A
3252(*/)S
1440 V
(01951)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(40)S
2958(*/)S
1530 V
(01952)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(41)S
2958(*/)S
1620 V
(01953)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(42)S
2958(*/)S
1710 V
(01954)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(43)S
2958(*/)S
1800 V
(01955)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(44)S
2958(*/)S
1890 V
(01956)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(45)S
2958(*/)S
1980 V
(01957)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(46)S
2958(*/)S
2070 V
(01958)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(47)S
2958(*/)S
2160 V
(01959)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(48)S
2958(*/)S
2250 V
(01960)210 648 A
(unknown,)336 1362 A
2706(/*)S
2832(49)S
2958(*/)S
2340 V
(01961)210 648 A
("Invalid)336 1362 A
(packet)252 1740 A
(size",)252 2034 A
2706(/*)S
(EPACKSIZE)378 2832 A
3252(*/)S
2430 V
(01962)210 648 A
("Not)168 1362 A
(enough)252 1572 A
(buffers)294 1866 A
(left",)252 2202 A
2706(/*)S
(EOUTOFBUFS)420 2832 A
3294(*/)S
2520 V
(01963)210 648 A
("Illegal)336 1362 A
(ioctl)210 1740 A
(for)126 1992 A
(device",)336 2160 A
2706(/*)S
(EBADIOCTL)378 2832 A
3252(*/)S
2610 V
(01964)210 648 A
("Bad)168 1362 A
(mode)168 1572 A
(for)126 1782 A
(ioctl",)294 1950 A
2706(/*)S
(EBADMODE)336 2832 A
3210(*/)S
2700 V
(01965)210 648 A
("Would)252 1362 A
(block",)294 1656 A
2706(/*)S
(EWOULDBLOCK)462 2832 A
3336(*/)S
2790 V
(01966)210 648 A
("Bad)168 1362 A
(destination)462 1572 A
(address",)378 2076 A
2706(/*)S
(EBADDEST)336 2832 A
3210(*/)S
2880 V
(01967)210 648 A
("Destination)504 1362 A
(not)126 1908 A
(reachable",)462 2076 A
2706(/*)S
(EDSTNOTRCH)420 2832 A
3294(*/)S
2970 V
(01968)210 648 A
("Already)336 1362 A
(connected",)462 1740 A
2706(/*)S
(EISCONN)294 2832 A
3168(*/)S
3060 V
(01969)210 648 A
("Address)336 1362 A
1740(in)S
(use",)210 1866 A
2706(/*)S
(EADDRINUSE)420 2832 A
3294(*/)S
3150 V
(01970)210 648 A
("Connection)462 1362 A
(refused",)378 1866 A
2706(/*)S
(ECONNREFUSED)504 2832 A
3378(*/)S
3240 V
(01971)210 648 A
("Connection)462 1362 A
(reset",)294 1866 A
2706(/*)S
(ECONNRESET)420 2832 A
3294(*/)S
3330 V
(01972)210 648 A
("Connection)462 1362 A
(timed)210 1866 A
(out",)210 2118 A
2706(/*)S
(ETIMEDOUT)378 2832 A
3252(*/)S
3420 V
(01973)210 648 A
("Urgent)294 1362 A
(data)168 1698 A
(present",)378 1908 A
2706(/*)S
(EURG)168 2832 A
3042(*/)S
3510 V
(01974)210 648 A
("No)126 1362 A
(urgent)252 1530 A
(data)168 1824 A
(present",)378 2034 A
2706(/*)S
(ENOURG)252 2832 A
3126(*/)S
3600 V
(01975)210 648 A
("No)126 1362 A
(connection",)504 1530 A
2706(/*)S
(ENOTCONN)336 2832 A
3210(*/)S
3690 V
(01976)210 648 A
("Already)336 1362 A
(shutdown",)420 1740 A
2706(/*)S
(ESHUTDOWN)378 2832 A
3252(*/)S
3780 V
(01977)210 648 A
("No)126 1362 A
(such)168 1530 A
(connection",)504 1740 A
2706(/*)S
(ENOCONN)294 2832 A
3168(*/)S
3870 V
(01978)210 648 A
1026(};)S
3960 V
(01979)210 648 A
4050 V
(01980)210 648 A
(const)210 1026 A
(int)126 1278 A
(_sys_nerr)378 1446 A
1866(=)S
(sizeof\(_sys_errlist\))840 1950 A
2832(/)S
(sizeof\(_sys_errlist[0]\);)1008 2916 A
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/exit.c)798 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(02000)210 648 A
1026(/*)S
5040 V
(02001)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(02002)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(02003)210 648 A
1068(*/)S
5310 V
(02004)210 648 A
1026(/*)S
($Header:)336 1152 A
(exit.c,v)336 1530 A
(1.3)126 1908 A
(90/01/22)336 2076 A
(13:00:04)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
5400 V
(02005)210 648 A
5490 V
(02006)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5580 V
(02007)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5670 V
(02008)210 648 A
5760 V
(02009)210 648 A
(#define)294 1026 A
(NEXITS)252 1362 A
1698(32)S
5850 V
(02010)210 648 A
5940 V
(02011)210 648 A
(void)168 1026 A
(\(*__functab[NEXITS]\)\(void\);)1134 1236 A
6030 V
(02012)210 648 A
(int)126 1026 A
(__funccnt)378 1194 A
1614(=)S
1698(0;)S
6120 V
(02013)210 648 A
6210 V
(02014)210 648 A
(extern)252 1026 A
(void)168 1320 A
(_exit\(int\);)462 1530 A
8418 V
EP
%%Page: 17 17
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2039(File:)S
(src/lib/ansi/exit.c)764 2272 A
12 B
4308(17)S
900 V
7 LST
(02015)210 648 A
990 V
(02016)210 648 A
1026(/*)S
(only)168 1152 A
(flush)210 1362 A
(output)252 1614 A
(buffers)294 1908 A
(when)168 2244 A
(necessary)378 2454 A
2874(*/)S
1080 V
(02017)210 648 A
(int)126 1026 A
(\(*_clean\)\(void\))630 1194 A
1866(=)S
(NULL;)210 1950 A
1170 V
(02018)210 648 A
1260 V
(02019)210 648 A
(static)252 1026 A
(void)168 1320 A
1350 V
(02020)210 648 A
(_calls\(void\))504 1026 A
1440 V
(02021)210 648 A
1026({)S
1530 V
(02022)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i)S
1992(=)S
(__funccnt;)420 2076 A
1620 V
(02023)210 648 A
1710 V
(02024)210 648 A
1362(/*)S
("Called)294 1488 A
1824(in)S
(reversed)336 1950 A
(order)210 2328 A
2580(of)S
(their)210 2706 A
(registration")546 2958 A
3546(*/)S
1800 V
(02025)210 648 A
(while)210 1362 A
(\(--i)168 1614 A
1824(>=)S
1950(0\))S
1890 V
(02026)210 648 A
(\(*__functab[i]\)\(\);)756 1698 A
1980 V
(02027)210 648 A
1026(})S
2160 V
(02029)210 648 A
(void)168 1026 A
2250 V
(02030)210 648 A
(exit\(int)336 1026 A
(status\))294 1404 A
2340 V
(02031)210 648 A
1026({)S
2430 V
(02032)210 648 A
(_calls\(\);)378 1362 A
2520 V
(02033)210 648 A
1362(if)S
(\(_clean\))336 1488 A
(_clean\(\);)378 1866 A
2610 V
(02034)210 648 A
(_exit\(status\))546 1362 A
1950(;)S
2700 V
(02035)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ansi/ext_comp.c)966 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(02100)210 648 A
1026(/*)S
3690 V
(02101)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1989)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
3780 V
(02102)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
3870 V
(02103)210 648 A
1026(*/)S
3960 V
(02104)210 648 A
4050 V
(02105)210 648 A
1026(/*)S
($Id:)168 1152 A
(ext_comp.c,v)504 1362 A
(1.10)168 1908 A
(1994/06/24)420 2118 A
(11:53:36)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
4140 V
(02106)210 648 A
4230 V
(02107)210 648 A
1026(/*)S
(extended)336 1152 A
(precision)378 1530 A
(arithmetic)420 1950 A
(for)126 2412 A
(the)126 2580 A
(strtod\(\))336 2748 A
(and)126 3126 A
(cvt\(\))210 3294 A
(routines)336 3546 A
3924(*/)S
4320 V
(02108)210 648 A
4410 V
(02109)210 648 A
1026(/*)S
(This)168 1152 A
(may)126 1362 A
(require)294 1530 A
(some)168 1866 A
(more)168 2076 A
(work)168 2286 A
(when)168 2496 A
(long)168 2706 A
(doubles)294 2916 A
(get)126 3252 A
(bigger)252 3420 A
(than)168 3714 A
3924(8)S
4500 V
(02110)210 648 A
(bytes.)252 1152 A
1446(In)S
(this)168 1572 A
(case,)210 1782 A
(these)210 2034 A
(routines)336 2286 A
(may)126 2664 A
(become)252 2832 A
(obsolete.)378 3126 A
(???)126 3546 A
4590 V
(02111)210 648 A
1026(*/)S
4680 V
(02112)210 648 A
4770 V
(02113)210 648 A
(#include)336 1026 A
("ext_fmt.h")462 1698 A
4860 V
(02114)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
4950 V
(02115)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
5040 V
(02116)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
5130 V
(02117)210 648 A
5220 V
(02118)210 648 A
(static)252 1026 A
(int)126 1320 A
(b64_add\(struct)588 1488 A
(mantissa)336 2118 A
(*e1,)168 2496 A
(struct)252 2706 A
(mantissa)336 3000 A
(*e2\);)210 3378 A
5310 V
(02119)210 648 A
(static)252 1026 A
(b64_sft\(struct)588 1320 A
(mantissa)336 1950 A
(*e1,)168 2328 A
(int)126 2538 A
(n\);)126 2706 A
5400 V
(02120)210 648 A
5490 V
(02121)210 648 A
(static)252 1026 A
5580 V
(02122)210 648 A
(mul_ext\(struct)588 1026 A
(EXTEND)252 1656 A
(*e1,)168 1950 A
(struct)252 2160 A
(EXTEND)252 2454 A
(*e2,)168 2748 A
(struct)252 2958 A
(EXTEND)252 3252 A
(*e3\))168 3546 A
5670 V
(02123)210 648 A
1026({)S
5760 V
(02124)210 648 A
1362(/*)S
(Multiply)336 1698 A
(the)126 2076 A
(extended)336 2244 A
(numbers)294 2622 A
2958(e1)S
(and)126 3084 A
(e2,)126 3252 A
(and)126 3420 A
(put)126 3588 A
(the)126 3756 A
5850 V
(02125)210 648 A
(result)252 1698 A
1992(in)S
(e3.)126 2118 A
5940 V
(02126)210 648 A
1362(*/)S
6030 V
(02127)210 648 A
(register)336 1362 A
(int)126 1740 A
(i,j;)168 2034 A
2706(/*)S
(loop)168 2832 A
(control)294 3042 A
3378(*/)S
6120 V
(02128)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(mp[4];)252 2034 A
6210 V
(02129)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(mc[4];)252 2034 A
8418 V
EP
%%Page: 18 18
BP
/slant 0 def
/height 0 def
630 V
12 B
648(18)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(02130)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(result[8];)420 2034 A
2706(/*)S
(result)252 2832 A
3126(*/)S
990 V
(02131)210 648 A
1080 V
(02132)210 648 A
(register)336 1362 A
(unsigned)336 1740 A
(short)210 2118 A
(*pres;)252 2370 A
1170 V
(02133)210 648 A
1260 V
(02134)210 648 A
1362(/*)S
(first)210 1488 A
(save)168 1740 A
(the)126 1950 A
(sign)168 2118 A
(\(XOR\))210 2328 A
3378(*/)S
1350 V
(02135)210 648 A
(e3->sign)336 1362 A
1740(=)S
(e1->sign)336 1824 A
2202(\303)S
(e2->sign;)378 2286 A
1440 V
(02136)210 648 A
1530 V
(02137)210 648 A
1362(/*)S
(compute)294 1488 A
(new)126 1824 A
(exponent)336 1992 A
2370(*/)S
1620 V
(02138)210 648 A
(e3->exp)294 1362 A
1698(=)S
(e1->exp)294 1782 A
2118(+)S
(e2->exp)294 2202 A
2538(+)S
2622(1;)S
1710 V
(02139)210 648 A
1800 V
(02140)210 648 A
1362(/*)S
(check)210 1488 A
(for)126 1740 A
(overflow/underflow)756 1908 A
(???)126 2706 A
2874(*/)S
1890 V
(02141)210 648 A
1980 V
(02142)210 648 A
1362(/*)S
(128)126 1488 A
(bit)126 1656 A
(multiply)336 1824 A
2202(of)S
(mantissas)378 2328 A
3042(*/)S
2070 V
(02143)210 648 A
2160 V
(02144)210 648 A
1362(/*)S
(assign)252 1488 A
(unknown)294 1782 A
(long)168 2118 A
(formats)294 2328 A
3042(*/)S
2250 V
(02145)210 648 A
1362(/*)S
1488(to)S
(known)210 1614 A
(unsigned)336 1866 A
(word)168 2244 A
(formats)294 2454 A
3042(*/)S
2340 V
(02146)210 648 A
(mp[0])210 1362 A
1614(=)S
(e1->m1)252 1698 A
1992(>>)S
(16;)126 2118 A
2430 V
(02147)210 648 A
(mp[1])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e1->m1;)294 2412 A
2520 V
(02148)210 648 A
(mp[2])210 1362 A
1614(=)S
(e1->m2)252 1698 A
1992(>>)S
(16;)126 2118 A
2610 V
(02149)210 648 A
(mp[3])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e1->m2;)294 2412 A
2700 V
(02150)210 648 A
(mc[0])210 1362 A
1614(=)S
(e2->m1)252 1698 A
1992(>>)S
(16;)126 2118 A
2790 V
(02151)210 648 A
(mc[1])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e2->m1;)294 2412 A
2880 V
(02152)210 648 A
(mc[2])210 1362 A
1614(=)S
(e2->m2)252 1698 A
1992(>>)S
(16;)126 2118 A
2970 V
(02153)210 648 A
(mc[3])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e2->m2;)294 2412 A
3060 V
(02154)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(8;)S
(i--;\))210 1866 A
2118({)S
3150 V
(02155)210 648 A
(result[i])378 1698 A
2118(=)S
2202(0;)S
3240 V
(02156)210 648 A
1362(})S
3330 V
(02157)210 648 A
1362(/*)S
3420 V
(02158)210 648 A
1404(*)S
(fill)168 1698 A
(registers)378 1908 A
(with)168 2328 A
(their)210 2538 A
(components)420 2790 A
3510 V
(02159)210 648 A
1404(*/)S
3600 V
(02160)210 648 A
(for\(i=4,)336 1362 A
(pres)168 1740 A
1950(=)S
(&result[4];i--;pres--\))924 2034 A
3000(if)S
(\(mp[i]\))294 3126 A
3462({)S
3690 V
(02161)210 648 A
(unsigned)336 1698 A
(short)210 2076 A
2328(k)S
2412(=)S
2496(0;)S
3780 V
(02162)210 648 A
(unsigned)336 1698 A
(long)168 2076 A
(mpi)126 2286 A
2454(=)S
(mp[i];)252 2538 A
3870 V
(02163)210 648 A
(for\(j=4;j--;\))546 1698 A
2286({)S
3960 V
(02164)210 648 A
(unsigned)336 2034 A
(long)168 2412 A
(tmp)126 2622 A
2790(=)S
(\(unsigned)378 2874 A
(long\)pres[j])504 3294 A
3840(+)S
3924(k;)S
4050 V
(02165)210 648 A
2034(if)S
(\(mc[j]\))294 2160 A
(tmp)126 2496 A
2664(+=)S
(mpi)126 2790 A
2958(*)S
(mc[j];)252 3042 A
4140 V
(02166)210 648 A
(pres[j])294 2034 A
2370(=)S
(tmp;)168 2454 A
4230 V
(02167)210 648 A
2034(k)S
2118(=)S
(tmp)126 2202 A
2370(>>)S
(16;)126 2496 A
4320 V
(02168)210 648 A
1698(})S
4410 V
(02169)210 648 A
(pres[-1])336 1698 A
2076(=)S
2160(k;)S
4500 V
(02170)210 648 A
1362(})S
4590 V
(02171)210 648 A
4680 V
(02172)210 648 A
1362(if)S
1488(\(!)S
(\(result[0])420 1614 A
2076(&)S
(0x8000\)\))336 2160 A
2538({)S
4770 V
(02173)210 648 A
(e3->exp--;)420 1698 A
4860 V
(02174)210 648 A
(for)126 1698 A
1866(\(i)S
1992(=)S
2076(0;)S
2202(i)S
2286(<=)S
2412(3;)S
(i++\))168 2538 A
2748({)S
4950 V
(02175)210 648 A
(result[i])378 2034 A
(<<=)126 2454 A
2622(1;)S
5040 V
(02176)210 648 A
2034(if)S
(\(result[i+1]&0x8000\))840 2160 A
(result[i])378 3042 A
3462(|=)S
3588(1;)S
5130 V
(02177)210 648 A
1698(})S
5220 V
(02178)210 648 A
(result[4])378 1698 A
(<<=)126 2118 A
2286(1;)S
5310 V
(02179)210 648 A
1362(})S
5400 V
(02180)210 648 A
1362(/*)S
5490 V
(02181)210 648 A
1404(*)S
(combine)294 1698 A
(the)126 2034 A
(registers)378 2202 A
2622(to)S
2748(a)S
(total)210 2832 A
5580 V
(02182)210 648 A
1404(*/)S
5670 V
(02183)210 648 A
(e3->m1)252 1362 A
1656(=)S
(\(\(unsigned)420 1740 A
(long\)\(result[0]\))672 2202 A
2916(<<)S
(16\))126 3042 A
3210(+)S
(result[1];)420 3294 A
5760 V
(02184)210 648 A
(e3->m2)252 1362 A
1656(=)S
(\(\(unsigned)420 1740 A
(long\)\(result[2]\))672 2202 A
2916(<<)S
(16\))126 3042 A
3210(+)S
(result[3];)420 3294 A
5850 V
(02185)210 648 A
1362(if)S
(\(result[4])420 1488 A
1950(&)S
(0x8000\))294 2034 A
2370({)S
5940 V
(02186)210 648 A
1698(if)S
(\(++e3->m2)378 1824 A
2244(==)S
2370(0\))S
2496({)S
6030 V
(02187)210 648 A
2034(if)S
(\(++e3->m1)378 2160 A
2580(==)S
2706(0\))S
2832({)S
6120 V
(02188)210 648 A
(e3->m1)252 2370 A
2664(=)S
(0x80000000;)462 2748 A
6210 V
(02189)210 648 A
(e3->exp++;)420 2370 A
8418 V
EP
%%Page: 19 19
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
12 B
4308(19)S
900 V
7 LST
(02190)210 648 A
2034(})S
990 V
(02191)210 648 A
1698(})S
1080 V
(02192)210 648 A
1362(})S
1170 V
(02193)210 648 A
1026(})S
1350 V
(02195)210 648 A
(static)252 1026 A
1440 V
(02196)210 648 A
(add_ext\(struct)588 1026 A
(EXTEND)252 1656 A
(*e1,)168 1950 A
(struct)252 2160 A
(EXTEND)252 2454 A
(*e2,)168 2748 A
(struct)252 2958 A
(EXTEND)252 3252 A
(*e3\))168 3546 A
1530 V
(02197)210 648 A
1026({)S
1620 V
(02198)210 648 A
1362(/*)S
(Add)126 1698 A
(two)126 1866 A
(extended)336 2034 A
(numbers)294 2412 A
2748(e1)S
(and)126 2874 A
(e2,)126 3042 A
(and)126 3210 A
(put)126 3378 A
(the)126 3546 A
(result)252 3714 A
1710 V
(02199)210 648 A
1698(in)S
1824(e3)S
1800 V
(02200)210 648 A
1362(*/)S
1890 V
(02201)210 648 A
(struct)252 1362 A
(EXTEND)252 1656 A
(ce2;)168 1950 A
1980 V
(02202)210 648 A
(int)126 1362 A
(diff;)210 1530 A
2070 V
(02203)210 648 A
2160 V
(02204)210 648 A
1362(if)S
(\(\(e2->m1)336 1488 A
1866(|)S
(e2->m2\))294 1950 A
2286(==)S
(0L\))126 2412 A
2580({)S
2250 V
(02205)210 648 A
(*e3)126 1698 A
1866(=)S
(*e1;)168 1950 A
2340 V
(02206)210 648 A
(return;)294 1698 A
2430 V
(02207)210 648 A
1362(})S
2520 V
(02208)210 648 A
1362(if)S
(\(\(e1->m1)336 1488 A
1866(|)S
(e1->m2\))294 1950 A
2286(==)S
(0L\))126 2412 A
2580({)S
2610 V
(02209)210 648 A
(*e3)126 1698 A
1866(=)S
(*e2;)168 1950 A
2700 V
(02210)210 648 A
(return;)294 1698 A
2790 V
(02211)210 648 A
1362(})S
2880 V
(02212)210 648 A
(ce2)126 1362 A
1530(=)S
(*e2;)168 1614 A
2970 V
(02213)210 648 A
(*e3)126 1362 A
1530(=)S
(*e1;)168 1614 A
3060 V
(02214)210 648 A
1362(e1)S
1488(=)S
(&ce2;)210 1572 A
3150 V
(02215)210 648 A
3240 V
(02216)210 648 A
1362(/*)S
(adjust)252 1488 A
(mantissas)378 1782 A
2202(to)S
(equal)210 2328 A
(power)210 2580 A
2832(*/)S
3330 V
(02217)210 648 A
(diff)168 1362 A
1572(=)S
(e3->exp)294 1656 A
1992(-)S
(e1->exp;)336 2076 A
3420 V
(02218)210 648 A
1362(if)S
(\(diff)210 1488 A
1740(<)S
1824(0\))S
1950({)S
3510 V
(02219)210 648 A
(diff)168 1698 A
1908(=)S
(-diff;)252 1992 A
3600 V
(02220)210 648 A
(e3->exp)294 1698 A
2034(+=)S
(diff;)210 2160 A
3690 V
(02221)210 648 A
(b64_sft\(&\(e3->mantissa\),)1008 1698 A
(diff\);)252 2748 A
3780 V
(02222)210 648 A
1362(})S
3870 V
(02223)210 648 A
(else)168 1362 A
1572(if)S
(\(diff)210 1698 A
1950(>)S
2034(0\))S
2160({)S
3960 V
(02224)210 648 A
(e1->exp)294 1698 A
2034(+=)S
(diff;)210 2160 A
4050 V
(02225)210 648 A
(b64_sft\(&\(e1->mantissa\),)1008 1698 A
(diff\);)252 2748 A
4140 V
(02226)210 648 A
1362(})S
4230 V
(02227)210 648 A
1362(if)S
(\(e1->sign)378 1488 A
1908(!=)S
(e3->sign\))378 2034 A
2454({)S
4320 V
(02228)210 648 A
1698(/*)S
1824(e3)S
1950(+)S
2034(e1)S
2160(=)S
2244(e3)S
2370(-)S
(\(-e1\))210 2454 A
2706(*/)S
4410 V
(02229)210 648 A
1698(if)S
(\(e1->m1)294 1824 A
2160(>)S
(e3->m1)252 2244 A
2538(||)S
4500 V
(02230)210 648 A
(\(e1->m1)294 1866 A
2202(==)S
(e3->m1)252 2328 A
2622(&&)S
(e1->m2)252 2748 A
3042(>)S
(e3->m2\)\))336 3126 A
3504({)S
4590 V
(02231)210 648 A
2034(/*)S
(abs\(e1\))294 2370 A
2706(>)S
(abs\(e3\))294 2790 A
3126(*/)S
4680 V
(02232)210 648 A
2034(if)S
(\(e3->m2)294 2160 A
2496(>)S
(e1->m2\))294 2580 A
2916({)S
4770 V
(02233)210 648 A
(e1->m1)252 2370 A
2664(-=)S
2790(1;)S
3042(/*)S
(carry)210 3168 A
3420(in)S
3546(*/)S
4860 V
(02234)210 648 A
2034(})S
4950 V
(02235)210 648 A
(e1->m1)252 2034 A
2328(-=)S
(e3->m1;)294 2454 A
5040 V
(02236)210 648 A
(e1->m2)252 2034 A
2328(-=)S
(e3->m2;)294 2454 A
5130 V
(02237)210 648 A
(*e3)126 2034 A
2202(=)S
(*e1;)168 2286 A
5220 V
(02238)210 648 A
1698(})S
5310 V
(02239)210 648 A
(else)168 1698 A
1908({)S
5400 V
(02240)210 648 A
2034(if)S
(\(e1->m2)294 2160 A
2496(>)S
(e3->m2\))294 2580 A
5490 V
(02241)210 648 A
(e3->m1)252 2370 A
2664(-=)S
2790(1;)S
3042(/*)S
(carry)210 3168 A
3420(in)S
3546(*/)S
5580 V
(02242)210 648 A
(e3->m1)252 2034 A
2328(-=)S
(e1->m1;)294 2454 A
5670 V
(02243)210 648 A
(e3->m2)252 2034 A
2328(-=)S
(e1->m2;)294 2454 A
5760 V
(02244)210 648 A
1698(})S
5850 V
(02245)210 648 A
1362(})S
5940 V
(02246)210 648 A
(else)168 1362 A
1572({)S
6030 V
(02247)210 648 A
1698(if)S
(\(b64_add\(&e3->mantissa,&e1->mantissa\)\))1596 1824 A
({/*)126 3462 A
(addition)336 3630 A
(carry)210 4008 A
4260(*/)S
6120 V
(02248)210 648 A
(b64_sft\(&e3->mantissa,1\);/*)1134 2034 A
(shift)210 3210 A
(mantissa)336 3462 A
(one)126 3840 A
(bit)126 4008 A
(RIGHT)210 4176 A
4428(*/)S
6210 V
(02249)210 648 A
(e3->m1)252 2034 A
2328(|=)S
(0x80000000L;)504 2454 A
3042(/*)S
(set)126 3168 A
(max)126 3336 A
(bit)126 3504 A
3714(*/)S
8418 V
EP
%%Page: 20 20
BP
/slant 0 def
/height 0 def
630 V
12 B
648(20)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(02250)210 648 A
(e3->exp++;)420 2034 A
3042(/*)S
(increase)336 3168 A
(the)126 3546 A
(exponent)336 3714 A
4092(*/)S
990 V
(02251)210 648 A
1698(})S
1080 V
(02252)210 648 A
1362(})S
1170 V
(02253)210 648 A
1362(if)S
(\(\(e3->m2)336 1488 A
1866(|)S
(e3->m1\))294 1950 A
2286(!=)S
(0L\))126 2412 A
2580({)S
1260 V
(02254)210 648 A
1698(/*)S
(normalize)378 1824 A
2244(*/)S
1350 V
(02255)210 648 A
1698(if)S
(\(e3->m1)294 1824 A
2160(==)S
(0L\))126 2286 A
2454({)S
1440 V
(02256)210 648 A
(e3->m1)252 2034 A
2328(=)S
(e3->m2;)294 2412 A
(e3->m2)252 2748 A
3042(=)S
(0L;)126 3126 A
(e3->exp)294 3294 A
3630(-=)S
(32;)126 3756 A
1530 V
(02257)210 648 A
1698(})S
1620 V
(02258)210 648 A
1698(if)S
(\(!\(e3->m1)378 1824 A
2244(&)S
(0x80000000\)\))504 2328 A
2874({)S
1710 V
(02259)210 648 A
(unsigned)336 2034 A
(long)168 2412 A
2622(l)S
2706(=)S
(0x40000000;)462 2790 A
1800 V
(02260)210 648 A
(int)126 2034 A
(cnt)126 2202 A
2370(=)S
(-1;)126 2454 A
1890 V
(02261)210 648 A
1980 V
(02262)210 648 A
(while)210 2034 A
2286(\(!)S
2412(\(l)S
2538(&)S
(e3->m1\)\))336 2622 A
3000({)S
2070 V
(02263)210 648 A
2370(l)S
(>>=)126 2454 A
2622(1;)S
(cnt--;)252 2748 A
2160 V
(02264)210 648 A
2034(})S
2250 V
(02265)210 648 A
(e3->exp)294 2034 A
2370(+=)S
(cnt;)168 2496 A
2340 V
(02266)210 648 A
(b64_sft\(&\(e3->mantissa\),)1008 2034 A
(cnt\);)210 3084 A
2430 V
(02267)210 648 A
1698(})S
2520 V
(02268)210 648 A
1362(})S
2610 V
(02269)210 648 A
1026(})S
2790 V
(02271)210 648 A
(static)252 1026 A
(int)126 1320 A
2880 V
(02272)210 648 A
(cmp_ext\(struct)588 1026 A
(EXTEND)252 1656 A
(*e1,)168 1950 A
(struct)252 2160 A
(EXTEND)252 2454 A
(*e2\))168 2748 A
2970 V
(02273)210 648 A
1026({)S
3060 V
(02274)210 648 A
(struct)252 1362 A
(EXTEND)252 1656 A
(tmp;)168 1950 A
3150 V
(02275)210 648 A
3240 V
(02276)210 648 A
(e2->sign)336 1362 A
1740(=)S
1824(!)S
(e2->sign;)378 1908 A
3330 V
(02277)210 648 A
(add_ext\(e1,)462 1362 A
(e2,)126 1866 A
(&tmp\);)252 2034 A
3420 V
(02278)210 648 A
(e2->sign)336 1362 A
1740(=)S
1824(!)S
(e2->sign;)378 1908 A
3510 V
(02279)210 648 A
1362(if)S
(\(tmp.m1)294 1488 A
1824(==)S
1950(0)S
2034(&&)S
(tmp.m2)252 2160 A
2454(==)S
2580(0\))S
(return)252 2706 A
3000(0;)S
3600 V
(02280)210 648 A
1362(if)S
(\(tmp.sign\))420 1488 A
(return)252 1950 A
(-1;)126 2244 A
3690 V
(02281)210 648 A
(return)252 1362 A
1656(1;)S
3780 V
(02282)210 648 A
1026(})S
3960 V
(02284)210 648 A
(static)252 1026 A
4050 V
(02285)210 648 A
(b64_sft\(struct)588 1026 A
(mantissa)336 1656 A
(*e1,)168 2034 A
(int)126 2244 A
2412(n\))S
4140 V
(02286)210 648 A
1026({)S
4230 V
(02287)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(0\))S
1824({)S
4320 V
(02288)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
(63\))126 2034 A
2202({)S
4410 V
(02289)210 648 A
(e1->l_32)336 2034 A
2412(=)S
2496(0;)S
4500 V
(02290)210 648 A
(e1->h_32)336 2034 A
2412(=)S
2496(0;)S
4590 V
(02291)210 648 A
(return;)294 2034 A
4680 V
(02292)210 648 A
1698(})S
4770 V
(02293)210 648 A
1698(if)S
1824(\(n)S
1950(>=)S
(32\))126 2076 A
2244({)S
4860 V
(02294)210 648 A
(e1->l_32)336 2034 A
2412(=)S
(e1->h_32;)378 2496 A
4950 V
(02295)210 648 A
(e1->h_32)336 2034 A
2412(=)S
2496(0;)S
5040 V
(02296)210 648 A
2034(n)S
2118(-=)S
(32;)126 2244 A
5130 V
(02297)210 648 A
1698(})S
5220 V
(02298)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
2034(0\))S
2160({)S
5310 V
(02299)210 648 A
(e1->l_32)336 2034 A
(>>=)126 2412 A
2580(n;)S
5400 V
(02300)210 648 A
2034(if)S
(\(e1->h_32)378 2160 A
2580(!=)S
2706(0\))S
2832({)S
5490 V
(02301)210 648 A
(e1->l_32)336 2370 A
2748(|=)S
(\(e1->h_32)378 2874 A
3294(<<)S
(\(32)126 3420 A
3588(-)S
(n\)\);)168 3672 A
5580 V
(02302)210 648 A
(e1->h_32)336 2370 A
(>>=)126 2748 A
2916(n;)S
5670 V
(02303)210 648 A
2034(})S
5760 V
(02304)210 648 A
1698(})S
5850 V
(02305)210 648 A
(return;)294 1698 A
5940 V
(02306)210 648 A
1362(})S
6030 V
(02307)210 648 A
1362(n)S
1446(=)S
(-n;)126 1530 A
6120 V
(02308)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(0\))S
1824({)S
6210 V
(02309)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
(63\))126 2034 A
2202({)S
8418 V
EP
%%Page: 21 21
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
12 B
4308(21)S
900 V
7 LST
(02310)210 648 A
(e1->l_32)336 2034 A
2412(=)S
2496(0;)S
990 V
(02311)210 648 A
(e1->h_32)336 2034 A
2412(=)S
2496(0;)S
1080 V
(02312)210 648 A
(return;)294 2034 A
1170 V
(02313)210 648 A
1698(})S
1260 V
(02314)210 648 A
1698(if)S
1824(\(n)S
1950(>=)S
(32\))126 2076 A
2244({)S
1350 V
(02315)210 648 A
(e1->h_32)336 2034 A
2412(=)S
(e1->l_32;)378 2496 A
1440 V
(02316)210 648 A
(e1->l_32)336 2034 A
2412(=)S
2496(0;)S
1530 V
(02317)210 648 A
2034(n)S
2118(-=)S
(32;)126 2244 A
1620 V
(02318)210 648 A
1698(})S
1710 V
(02319)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
2034(0\))S
2160({)S
1800 V
(02320)210 648 A
(e1->h_32)336 2034 A
(<<=)126 2412 A
2580(n;)S
1890 V
(02321)210 648 A
2034(if)S
(\(e1->l_32)378 2160 A
2580(!=)S
2706(0\))S
2832({)S
1980 V
(02322)210 648 A
(e1->h_32)336 2370 A
2748(|=)S
(\(e1->l_32)378 2874 A
3294(>>)S
(\(32)126 3420 A
3588(-)S
(n\)\);)168 3672 A
2070 V
(02323)210 648 A
(e1->l_32)336 2370 A
(<<=)126 2748 A
2916(n;)S
2160 V
(02324)210 648 A
2034(})S
2250 V
(02325)210 648 A
1698(})S
2340 V
(02326)210 648 A
1362(})S
2430 V
(02327)210 648 A
1026(})S
2610 V
(02329)210 648 A
(static)252 1026 A
(int)126 1320 A
2700 V
(02330)210 648 A
(b64_add\(struct)588 1026 A
(mantissa)336 1656 A
(*e1,)168 2034 A
(struct)252 2244 A
(mantissa)336 2538 A
(*e2\))168 2916 A
2790 V
(02331)210 648 A
1698(/*)S
2880 V
(02332)210 648 A
1740(*)S
(pointers)336 1824 A
2202(to)S
2328(64)S
(bit)126 2454 A
('registers')462 2622 A
2970 V
(02333)210 648 A
1740(*/)S
3060 V
(02334)210 648 A
1026({)S
3150 V
(02335)210 648 A
(register)336 1362 A
(int)126 1740 A
(overflow;)378 2034 A
3240 V
(02336)210 648 A
(int)126 1362 A
(carry;)252 2034 A
3330 V
(02337)210 648 A
3420 V
(02338)210 648 A
2034(/*)S
(add)126 2160 A
(higher)252 2328 A
(pair)168 2622 A
2832(of)S
2958(32)S
(bits)168 3084 A
3294(*/)S
3510 V
(02339)210 648 A
(overflow)336 1362 A
1740(=)S
(\(\(unsigned)420 1824 A
(long\))210 2286 A
(0xFFFFFFFF)420 2538 A
3000(-)S
(e1->h_32)336 3084 A
3462(<)S
(e2->h_32\);)420 3546 A
3600 V
(02340)210 648 A
(e1->h_32)336 1362 A
1740(+=)S
(e2->h_32;)378 1866 A
3690 V
(02341)210 648 A
3780 V
(02342)210 648 A
2034(/*)S
(add)126 2160 A
(lower)210 2328 A
(pair)168 2580 A
2790(of)S
2916(32)S
(bits)168 3042 A
3252(*/)S
3870 V
(02343)210 648 A
(carry)210 1362 A
1614(=)S
(\(\(unsigned)420 1698 A
(long\))210 2160 A
(0xFFFFFFFF)420 2412 A
2874(-)S
(e1->l_32)336 2958 A
3336(<)S
(e2->l_32\);)420 3420 A
3960 V
(02344)210 648 A
(e1->l_32)336 1362 A
1740(+=)S
(e2->l_32;)378 1866 A
4050 V
(02345)210 648 A
1362(if)S
(\(\(carry\))336 1488 A
1866(&&)S
(\(++e1->h_32)462 1992 A
2496(==)S
(0\)\))126 2622 A
4140 V
(02346)210 648 A
(return\(1\);)420 1698 A
2706(/*)S
(had)126 2832 A
3000(a)S
3084(64)S
(bit)126 3210 A
(overflow)336 3378 A
3756(*/)S
4230 V
(02347)210 648 A
(else)168 1362 A
4320 V
(02348)210 648 A
(return\(overflow\);)714 1698 A
2706(/*)S
(return)252 2832 A
(status)252 3126 A
(from)168 3420 A
(higher)252 3630 A
(add)126 3924 A
4092(*/)S
4410 V
(02349)210 648 A
1026(})S
4590 V
(02351)210 648 A
1026(/*)S
(The)126 1152 A
(following)378 1320 A
(tables)252 1740 A
(can)126 2034 A
2202(be)S
(computed)336 2328 A
(with)168 2706 A
(the)126 2916 A
(following)378 3084 A
(bc\(1\))210 3504 A
4680 V
(02352)210 648 A
(program:)336 1152 A
4770 V
(02353)210 648 A
4860 V
(02354)210 648 A
(obase=16)336 1026 A
4950 V
(02355)210 648 A
(scale=0)294 1026 A
5040 V
(02356)210 648 A
(define)252 1026 A
(t\(x\){)210 1320 A
5130 V
(02357)210 648 A
(auto)168 1362 A
1572(a,)S
1698(b,)S
1824(c)S
5220 V
(02358)210 648 A
(a=2;b=1;c=2\30332;n=1)756 1362 A
5310 V
(02359)210 648 A
(while\(a<x\))420 1362 A
1824({)S
5400 V
(02360)210 648 A
(b=a;n+=n;a*=a)546 1698 A
5490 V
(02361)210 648 A
1362(})S
5580 V
(02362)210 648 A
(n/=2)168 1362 A
5670 V
(02363)210 648 A
(a=b)126 1362 A
5760 V
(02364)210 648 A
(while\(b<x\))420 1362 A
1824({)S
5850 V
(02365)210 648 A
(a=b;b*=c;n+=32)588 1698 A
5940 V
(02366)210 648 A
1362(})S
6030 V
(02367)210 648 A
(n-=32)210 1362 A
6120 V
(02368)210 648 A
(b=a)126 1362 A
6210 V
(02369)210 648 A
(while\(a<x\))420 1362 A
1824({)S
8418 V
EP
%%Page: 22 22
BP
/slant 0 def
/height 0 def
630 V
12 B
648(22)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(02370)210 648 A
(b=a;a+=a;n+=1)546 1698 A
990 V
(02371)210 648 A
1362(})S
1080 V
(02372)210 648 A
(n-=1)168 1362 A
1170 V
(02373)210 648 A
(x*=16\30316)336 1362 A
1260 V
(02374)210 648 A
(b=x%a)210 1362 A
1350 V
(02375)210 648 A
(x/=a)168 1362 A
1440 V
(02376)210 648 A
(if\(a<=\(2*b\)\))504 1362 A
(x+=1)168 1908 A
1530 V
(02377)210 648 A
(obase=10)336 1362 A
1620 V
(02378)210 648 A
1362(n)S
1710 V
(02379)210 648 A
(obase=16)336 1362 A
1800 V
(02380)210 648 A
(return\(x\))378 1362 A
1890 V
(02381)210 648 A
1026(})S
1980 V
(02382)210 648 A
(for)126 1026 A
(\(i=1;i<28;i++\))588 1194 A
1824({)S
2070 V
(02383)210 648 A
(t\(10\303i\))294 1362 A
2160 V
(02384)210 648 A
1026(})S
2250 V
(02385)210 648 A
1026(0)S
2340 V
(02386)210 648 A
(for)126 1026 A
(\(i=1;i<20;i++\))588 1194 A
1824({)S
2430 V
(02387)210 648 A
(t\(10\303\(28*i\)\))504 1362 A
2520 V
(02388)210 648 A
1026(})S
2610 V
(02389)210 648 A
1026(0)S
2700 V
(02390)210 648 A
(define)252 1026 A
(r\(x\){)210 1320 A
2790 V
(02391)210 648 A
(auto)168 1362 A
1572(a,)S
1698(b,)S
1824(c)S
2880 V
(02392)210 648 A
(a=2;b=1;c=2\30332;n=1)756 1362 A
2970 V
(02393)210 648 A
(while\(a<x\))420 1362 A
1824({)S
3060 V
(02394)210 648 A
(b=a;n+=n;a*=a)546 1698 A
3150 V
(02395)210 648 A
1362(})S
3240 V
(02396)210 648 A
(n/=2)168 1362 A
3330 V
(02397)210 648 A
(a=b)126 1362 A
3420 V
(02398)210 648 A
(while\(b<x\))420 1362 A
1824({)S
3510 V
(02399)210 648 A
(a=b;b*=c;n+=32)588 1698 A
3600 V
(02400)210 648 A
1362(})S
3690 V
(02401)210 648 A
(n-=32)210 1362 A
3780 V
(02402)210 648 A
(b=a)126 1362 A
3870 V
(02403)210 648 A
(while\(a<x\))420 1362 A
1824({)S
3960 V
(02404)210 648 A
(b=a;a+=a;n+=1)546 1698 A
4050 V
(02405)210 648 A
1362(})S
4140 V
(02406)210 648 A
(a=b)126 1362 A
4230 V
(02407)210 648 A
(a*=16\30316)336 1362 A
4320 V
(02408)210 648 A
(b=a%x)210 1362 A
4410 V
(02409)210 648 A
(a/=x)168 1362 A
4500 V
(02410)210 648 A
(if\(x<=\(2*b\)\))504 1362 A
(a+=1)168 1908 A
4590 V
(02411)210 648 A
(obase=10)336 1362 A
4680 V
(02412)210 648 A
1362(-n)S
4770 V
(02413)210 648 A
(obase=16)336 1362 A
4860 V
(02414)210 648 A
(return\(a\))378 1362 A
4950 V
(02415)210 648 A
1026(})S
5040 V
(02416)210 648 A
(for)126 1026 A
(\(i=1;i<28;i++\))588 1194 A
1824({)S
5130 V
(02417)210 648 A
(r\(10\303i\))294 1362 A
5220 V
(02418)210 648 A
1026(})S
5310 V
(02419)210 648 A
1026(0)S
5400 V
(02420)210 648 A
(for)126 1026 A
(\(i=1;i<20;i++\))588 1194 A
1824({)S
5490 V
(02421)210 648 A
(r\(10\303\(28*i\)\))504 1362 A
5580 V
(02422)210 648 A
1026(})S
5670 V
(02423)210 648 A
1026(0)S
5760 V
(02424)210 648 A
5850 V
(02425)210 648 A
1026(*/)S
5940 V
(02426)210 648 A
(static)252 1026 A
(struct)252 1320 A
(EXTEND)252 1614 A
(ten_powers[])504 1908 A
2454(=)S
2538({)S
2706(/*)S
(representation)588 2832 A
3462(of)S
3588(10)S
3714(**)S
3840(i)S
3924(*/)S
6030 V
(02427)210 648 A
1362({)S
1446(0,)S
1698(0,)S
(0x80000000,)462 2034 A
2706(0)S
2790(},)S
6120 V
(02428)210 648 A
1362({)S
1446(0,)S
1698(3,)S
(0xA0000000,)462 2034 A
2706(0)S
2790(},)S
6210 V
(02429)210 648 A
1362({)S
1446(0,)S
1698(6,)S
(0xC8000000,)462 2034 A
2706(0)S
2790(},)S
8418 V
EP
%%Page: 23 23
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
12 B
4308(23)S
900 V
7 LST
(02430)210 648 A
1362({)S
1446(0,)S
1698(9,)S
(0xFA000000,)462 2034 A
2706(0)S
2790(},)S
990 V
(02431)210 648 A
1362({)S
1446(0,)S
(13,)126 1698 A
(0x9C400000,)462 2034 A
2706(0)S
2790(},)S
1080 V
(02432)210 648 A
1362({)S
1446(0,)S
(16,)126 1698 A
(0xC3500000,)462 2034 A
2706(0)S
2790(},)S
1170 V
(02433)210 648 A
1362({)S
1446(0,)S
(19,)126 1698 A
(0xF4240000,)462 2034 A
2706(0)S
2790(},)S
1260 V
(02434)210 648 A
1362({)S
1446(0,)S
(23,)126 1698 A
(0x98968000,)462 2034 A
2706(0)S
2790(},)S
1350 V
(02435)210 648 A
1362({)S
1446(0,)S
(26,)126 1698 A
(0xBEBC2000,)462 2034 A
2706(0)S
2790(},)S
1440 V
(02436)210 648 A
1362({)S
1446(0,)S
(29,)126 1698 A
(0xEE6B2800,)462 2034 A
2706(0)S
2790(},)S
1530 V
(02437)210 648 A
1362({)S
1446(0,)S
(33,)126 1698 A
(0x9502F900,)462 2034 A
2706(0)S
2790(},)S
1620 V
(02438)210 648 A
1362({)S
1446(0,)S
(36,)126 1698 A
(0xBA43B740,)462 2034 A
2706(0)S
2790(},)S
1710 V
(02439)210 648 A
1362({)S
1446(0,)S
(39,)126 1698 A
(0xE8D4A510,)462 2034 A
2706(0)S
2790(},)S
1800 V
(02440)210 648 A
1362({)S
1446(0,)S
(43,)126 1698 A
(0x9184E72A,)462 2034 A
2706(0)S
2790(},)S
1890 V
(02441)210 648 A
1362({)S
1446(0,)S
(46,)126 1698 A
(0xB5E620F4,)462 2034 A
(0x80000000)420 2706 A
3168(},)S
1980 V
(02442)210 648 A
1362({)S
1446(0,)S
(49,)126 1698 A
(0xE35FA931,)462 2034 A
(0xA0000000)420 2706 A
3168(},)S
2070 V
(02443)210 648 A
1362({)S
1446(0,)S
(53,)126 1698 A
(0x8E1BC9BF,)462 2034 A
(0x04000000)420 2706 A
3168(},)S
2160 V
(02444)210 648 A
1362({)S
1446(0,)S
(56,)126 1698 A
(0xB1A2BC2E,)462 2034 A
(0xC5000000)420 2706 A
3168(},)S
2250 V
(02445)210 648 A
1362({)S
1446(0,)S
(59,)126 1698 A
(0xDE0B6B3A,)462 2034 A
(0x76400000)420 2706 A
3168(},)S
2340 V
(02446)210 648 A
1362({)S
1446(0,)S
(63,)126 1698 A
(0x8AC72304,)462 2034 A
(0x89E80000)420 2706 A
3168(},)S
2430 V
(02447)210 648 A
1362({)S
1446(0,)S
(66,)126 1698 A
(0xAD78EBC5,)462 2034 A
(0xAC620000)420 2706 A
3168(},)S
2520 V
(02448)210 648 A
1362({)S
1446(0,)S
(69,)126 1698 A
(0xD8D726B7,)462 2034 A
(0x177A8000)420 2706 A
3168(},)S
2610 V
(02449)210 648 A
1362({)S
1446(0,)S
(73,)126 1698 A
(0x87867832,)462 2034 A
(0x6EAC9000)420 2706 A
3168(},)S
2700 V
(02450)210 648 A
1362({)S
1446(0,)S
(76,)126 1698 A
(0xA968163F,)462 2034 A
(0x0A57B400)420 2706 A
3168(},)S
2790 V
(02451)210 648 A
1362({)S
1446(0,)S
(79,)126 1698 A
(0xD3C21BCE,)462 2034 A
(0xCCEDA100)420 2706 A
3168(},)S
2880 V
(02452)210 648 A
1362({)S
1446(0,)S
(83,)126 1698 A
(0x84595161,)462 2034 A
(0x401484A0)420 2706 A
3168(},)S
2970 V
(02453)210 648 A
1362({)S
1446(0,)S
(86,)126 1698 A
(0xA56FA5B9,)462 2034 A
(0x9019A5C8)420 2706 A
3168(},)S
3060 V
(02454)210 648 A
1362({)S
1446(0,)S
(89,)126 1698 A
(0xCECB8F27,)462 2034 A
(0xF4200F3A)420 2706 A
3168(})S
3150 V
(02455)210 648 A
1026(};)S
3240 V
(02456)210 648 A
(static)252 1026 A
(struct)252 1320 A
(EXTEND)252 1614 A
(big_ten_powers[])672 1908 A
2622(=)S
2706({)S
2832(/*)S
(representation)588 2958 A
3588(of)S
3714(10)S
3840(**)S
(\(28*i\))252 3966 A
4260(*/)S
3330 V
(02457)210 648 A
1362({)S
1446(0,)S
1698(0,)S
(0x80000000,)462 2034 A
2706(0)S
2790(},)S
3420 V
(02458)210 648 A
1362({)S
1446(0,)S
(93,)126 1698 A
(0x813F3978,)462 2034 A
(0xF8940984)420 2706 A
3168(},)S
3510 V
(02459)210 648 A
1362({)S
1446(0,)S
(186,)168 1698 A
(0x82818F12,)462 2034 A
(0x81ED44A0)420 2706 A
3168(},)S
3600 V
(02460)210 648 A
1362({)S
1446(0,)S
(279,)168 1698 A
(0x83C7088E,)462 2034 A
(0x1AAB65DB)420 2706 A
3168(},)S
3690 V
(02461)210 648 A
1362({)S
1446(0,)S
(372,)168 1698 A
(0x850FADC0,)462 2034 A
(0x9923329E)420 2706 A
3168(},)S
3780 V
(02462)210 648 A
1362({)S
1446(0,)S
(465,)168 1698 A
(0x865B8692,)462 2034 A
(0x5B9BC5C2)420 2706 A
3168(},)S
3870 V
(02463)210 648 A
1362({)S
1446(0,)S
(558,)168 1698 A
(0x87AA9AFF,)462 2034 A
(0x79042287)420 2706 A
3168(},)S
3960 V
(02464)210 648 A
1362({)S
1446(0,)S
(651,)168 1698 A
(0x88FCF317,)462 2034 A
(0xF22241E2)420 2706 A
3168(},)S
4050 V
(02465)210 648 A
1362({)S
1446(0,)S
(744,)168 1698 A
(0x8A5296FF,)462 2034 A
(0xE33CC930)420 2706 A
3168(},)S
4140 V
(02466)210 648 A
1362({)S
1446(0,)S
(837,)168 1698 A
(0x8BAB8EEF,)462 2034 A
(0xB6409C1A)420 2706 A
3168(},)S
4230 V
(02467)210 648 A
1362({)S
1446(0,)S
(930,)168 1698 A
(0x8D07E334,)462 2034 A
(0x55637EB3)420 2706 A
3168(},)S
4320 V
(02468)210 648 A
1362({)S
1446(0,)S
(1023,)210 1698 A
(0x8E679C2F,)462 2034 A
(0x5E44FF8F)420 2706 A
3168(},)S
4410 V
(02469)210 648 A
1362({)S
1446(0,)S
(1116,)210 1698 A
(0x8FCAC257,)462 2034 A
(0x558EE4E6)420 2706 A
3168(},)S
4500 V
(02470)210 648 A
1362({)S
1446(0,)S
(1209,)210 1698 A
(0x91315E37,)462 2034 A
(0xDB165AA9)420 2706 A
3168(},)S
4590 V
(02471)210 648 A
1362({)S
1446(0,)S
(1302,)210 1698 A
(0x929B7871,)462 2034 A
(0xDE7F22B9)420 2706 A
3168(},)S
4680 V
(02472)210 648 A
1362({)S
1446(0,)S
(1395,)210 1698 A
(0x940919BB,)462 2034 A
(0xD4620B6D)420 2706 A
3168(},)S
4770 V
(02473)210 648 A
1362({)S
1446(0,)S
(1488,)210 1698 A
(0x957A4AE1,)462 2034 A
(0xEBF7F3D4)420 2706 A
3168(},)S
4860 V
(02474)210 648 A
1362({)S
1446(0,)S
(1581,)210 1698 A
(0x96EF14C6,)462 2034 A
(0x454AA840)420 2706 A
3168(},)S
4950 V
(02475)210 648 A
1362({)S
1446(0,)S
(1674,)210 1698 A
(0x98678061,)462 2034 A
(0x27ECE4F5)420 2706 A
3168(},)S
5040 V
(02476)210 648 A
1362({)S
1446(0,)S
(1767,)210 1698 A
(0x99E396C1,)462 2034 A
(0x3A3ACFF2)420 2706 A
3168(})S
5130 V
(02477)210 648 A
1026(};)S
5220 V
(02478)210 648 A
5310 V
(02479)210 648 A
(static)252 1026 A
(struct)252 1320 A
(EXTEND)252 1614 A
(r_ten_powers[])588 1908 A
2538(=)S
2622({)S
2706(/*)S
(representation)588 2832 A
3462(of)S
3588(10)S
3714(**)S
3840(-i)S
3966(*/)S
5400 V
(02480)210 648 A
1362({)S
1446(0,)S
1698(0,)S
(0x80000000,)462 2034 A
2706(0)S
2790(},)S
5490 V
(02481)210 648 A
1362({)S
1446(0,)S
(-4,)126 1698 A
(0xCCCCCCCC,)462 2034 A
(0xCCCCCCCD)420 2706 A
3168(},)S
5580 V
(02482)210 648 A
1362({)S
1446(0,)S
(-7,)126 1698 A
(0xA3D70A3D,)462 2034 A
(0x70A3D70A)420 2706 A
3168(},)S
5670 V
(02483)210 648 A
1362({)S
1446(0,)S
(-10,)168 1698 A
(0x83126E97,)462 2034 A
(0x8D4FDF3B)420 2706 A
3168(},)S
5760 V
(02484)210 648 A
1362({)S
1446(0,)S
(-14,)168 1698 A
(0xD1B71758,)462 2034 A
(0xE219652C)420 2706 A
3168(},)S
5850 V
(02485)210 648 A
1362({)S
1446(0,)S
(-17,)168 1698 A
(0xA7C5AC47,)462 2034 A
(0x1B478423)420 2706 A
3168(},)S
5940 V
(02486)210 648 A
1362({)S
1446(0,)S
(-20,)168 1698 A
(0x8637BD05,)462 2034 A
(0xAF6C69B6)420 2706 A
3168(},)S
6030 V
(02487)210 648 A
1362({)S
1446(0,)S
(-24,)168 1698 A
(0xD6BF94D5,)462 2034 A
(0xE57A42BC)420 2706 A
3168(},)S
6120 V
(02488)210 648 A
1362({)S
1446(0,)S
(-27,)168 1698 A
(0xABCC7711,)462 2034 A
(0x8461CEFD)420 2706 A
3168(},)S
6210 V
(02489)210 648 A
1362({)S
1446(0,)S
(-30,)168 1698 A
(0x89705F41,)462 2034 A
(0x36B4A597)420 2706 A
3168(},)S
8418 V
EP
%%Page: 24 24
BP
/slant 0 def
/height 0 def
630 V
12 B
648(24)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(02490)210 648 A
1362({)S
1446(0,)S
(-34,)168 1698 A
(0xDBE6FECE,)462 2034 A
(0xBDEDD5BF)420 2706 A
3168(},)S
990 V
(02491)210 648 A
1362({)S
1446(0,)S
(-37,)168 1698 A
(0xAFEBFF0B,)462 2034 A
(0xCB24AAFF)420 2706 A
3168(},)S
1080 V
(02492)210 648 A
1362({)S
1446(0,)S
(-40,)168 1698 A
(0x8CBCCC09,)462 2034 A
(0x6F5088CC)420 2706 A
3168(},)S
1170 V
(02493)210 648 A
1362({)S
1446(0,)S
(-44,)168 1698 A
(0xE12E1342,)462 2034 A
(0x4BB40E13)420 2706 A
3168(},)S
1260 V
(02494)210 648 A
1362({)S
1446(0,)S
(-47,)168 1698 A
(0xB424DC35,)462 2034 A
(0x095CD80F)420 2706 A
3168(},)S
1350 V
(02495)210 648 A
1362({)S
1446(0,)S
(-50,)168 1698 A
(0x901D7CF7,)462 2034 A
(0x3AB0ACD9)420 2706 A
3168(},)S
1440 V
(02496)210 648 A
1362({)S
1446(0,)S
(-54,)168 1698 A
(0xE69594BE,)462 2034 A
(0xC44DE15B)420 2706 A
3168(},)S
1530 V
(02497)210 648 A
1362({)S
1446(0,)S
(-57,)168 1698 A
(0xB877AA32,)462 2034 A
(0x36A4B449)420 2706 A
3168(},)S
1620 V
(02498)210 648 A
1362({)S
1446(0,)S
(-60,)168 1698 A
(0x9392EE8E,)462 2034 A
(0x921D5D07)420 2706 A
3168(},)S
1710 V
(02499)210 648 A
1362({)S
1446(0,)S
(-64,)168 1698 A
(0xEC1E4A7D,)462 2034 A
(0xB69561A5)420 2706 A
3168(},)S
1800 V
(02500)210 648 A
1362({)S
1446(0,)S
(-67,)168 1698 A
(0xBCE50864,)462 2034 A
(0x92111AEB)420 2706 A
3168(},)S
1890 V
(02501)210 648 A
1362({)S
1446(0,)S
(-70,)168 1698 A
(0x971DA050,)462 2034 A
(0x74DA7BEF)420 2706 A
3168(},)S
1980 V
(02502)210 648 A
1362({)S
1446(0,)S
(-74,)168 1698 A
(0xF1C90080,)462 2034 A
(0xBAF72CB1)420 2706 A
3168(},)S
2070 V
(02503)210 648 A
1362({)S
1446(0,)S
(-77,)168 1698 A
(0xC16D9A00,)462 2034 A
(0x95928A27)420 2706 A
3168(},)S
2160 V
(02504)210 648 A
1362({)S
1446(0,)S
(-80,)168 1698 A
(0x9ABE14CD,)462 2034 A
(0x44753B53)420 2706 A
3168(},)S
2250 V
(02505)210 648 A
1362({)S
1446(0,)S
(-84,)168 1698 A
(0xF79687AE,)462 2034 A
(0xD3EEC551)420 2706 A
3168(},)S
2340 V
(02506)210 648 A
1362({)S
1446(0,)S
(-87,)168 1698 A
(0xC6120625,)462 2034 A
(0x76589DDB)420 2706 A
3168(},)S
2430 V
(02507)210 648 A
1362({)S
1446(0,)S
(-90,)168 1698 A
(0x9E74D1B7,)462 2034 A
(0x91E07E48)420 2706 A
3168(})S
2520 V
(02508)210 648 A
1026(};)S
2610 V
(02509)210 648 A
2700 V
(02510)210 648 A
(static)252 1026 A
(struct)252 1320 A
(EXTEND)252 1614 A
(r_big_ten_powers[])756 1908 A
2706(=)S
2790({)S
2874(/*)S
(representation)588 3000 A
3630(of)S
3756(10)S
3882(**)S
(-\(28*i\))294 4008 A
4344(*/)S
2790 V
(02511)210 648 A
1362({)S
1446(0,)S
1698(0,)S
(0x80000000,)462 2034 A
2706(0)S
2790(},)S
2880 V
(02512)210 648 A
1362({)S
1446(0,)S
(-94,)168 1698 A
(0xFD87B5F2,)462 2034 A
(0x8300CA0E)420 2706 A
3168(},)S
2970 V
(02513)210 648 A
1362({)S
1446(0,)S
(-187,)210 1698 A
(0xFB158592,)462 2034 A
(0xBE068D2F)420 2706 A
3168(},)S
3060 V
(02514)210 648 A
1362({)S
1446(0,)S
(-280,)210 1698 A
(0xF8A95FCF,)462 2034 A
(0x88747D94)420 2706 A
3168(},)S
3150 V
(02515)210 648 A
1362({)S
1446(0,)S
(-373,)210 1698 A
(0xF64335BC,)462 2034 A
(0xF065D37D)420 2706 A
3168(},)S
3240 V
(02516)210 648 A
1362({)S
1446(0,)S
(-466,)210 1698 A
(0xF3E2F893,)462 2034 A
(0xDEC3F126)420 2706 A
3168(},)S
3330 V
(02517)210 648 A
1362({)S
1446(0,)S
(-559,)210 1698 A
(0xF18899B1,)462 2034 A
(0xBC3F8CA2)420 2706 A
3168(},)S
3420 V
(02518)210 648 A
1362({)S
1446(0,)S
(-652,)210 1698 A
(0xEF340A98,)462 2034 A
(0x172AACE5)420 2706 A
3168(},)S
3510 V
(02519)210 648 A
1362({)S
1446(0,)S
(-745,)210 1698 A
(0xECE53CEC,)462 2034 A
(0x4A314EBE)420 2706 A
3168(},)S
3600 V
(02520)210 648 A
1362({)S
1446(0,)S
(-838,)210 1698 A
(0xEA9C2277,)462 2034 A
(0x23EE8BCB)420 2706 A
3168(},)S
3690 V
(02521)210 648 A
1362({)S
1446(0,)S
(-931,)210 1698 A
(0xE858AD24,)462 2034 A
(0x8F5C22CA)420 2706 A
3168(},)S
3780 V
(02522)210 648 A
1362({)S
1446(0,)S
(-1024,)252 1698 A
(0xE61ACF03,)462 2034 A
(0x3D1A45DF)420 2706 A
3168(},)S
3870 V
(02523)210 648 A
1362({)S
1446(0,)S
(-1117,)252 1698 A
(0xE3E27A44,)462 2034 A
(0x4D8D98B8)420 2706 A
3168(},)S
3960 V
(02524)210 648 A
1362({)S
1446(0,)S
(-1210,)252 1698 A
(0xE1AFA13A,)462 2034 A
(0xFBD14D6E)420 2706 A
3168(},)S
4050 V
(02525)210 648 A
1362({)S
1446(0,)S
(-1303,)252 1698 A
(0xDF82365C,)462 2034 A
(0x497B5454)420 2706 A
3168(},)S
4140 V
(02526)210 648 A
1362({)S
1446(0,)S
(-1396,)252 1698 A
(0xDD5A2C3E,)462 2034 A
(0xAB3097CC)420 2706 A
3168(},)S
4230 V
(02527)210 648 A
1362({)S
1446(0,)S
(-1489,)252 1698 A
(0xDB377599,)462 2034 A
(0xB6074245)420 2706 A
3168(},)S
4320 V
(02528)210 648 A
1362({)S
1446(0,)S
(-1582,)252 1698 A
(0xD91A0545,)462 2034 A
(0xCDB51186)420 2706 A
3168(},)S
4410 V
(02529)210 648 A
1362({)S
1446(0,)S
(-1675,)252 1698 A
(0xD701CE3B,)462 2034 A
(0xD387BF48)420 2706 A
3168(},)S
4500 V
(02530)210 648 A
1362({)S
1446(0,)S
(-1768,)252 1698 A
(0xD4EEC394,)462 2034 A
(0xD6258BF8)420 2706 A
3168(})S
4590 V
(02531)210 648 A
1026(};)S
4680 V
(02532)210 648 A
4770 V
(02533)210 648 A
(#define)294 1026 A
1362(TP)S
(\(int\)\(sizeof\(ten_powers\)/sizeof\(ten_powers[0]\)\))1974 1698 A
4860 V
(02534)210 648 A
(#define)294 1026 A
(BTP)126 1362 A
(\(int\)\(sizeof\(big_ten_powers\)/sizeof\(big_ten_powers[0]\)\))2310 1698 A
4950 V
(02535)210 648 A
(#define)294 1026 A
(MAX_EXP)294 1362 A
(\(TP)126 1698 A
1866(*)S
(BTP)126 1950 A
2118(-)S
2202(1\))S
5040 V
(02536)210 648 A
5130 V
(02537)210 648 A
(static)252 1026 A
5220 V
(02538)210 648 A
(add_exponent\(struct)798 1026 A
(EXTEND)252 1866 A
(*e,)126 2160 A
(int)126 2328 A
(exp\))168 2496 A
5310 V
(02539)210 648 A
1026({)S
5400 V
(02540)210 648 A
(int)126 1362 A
(neg)126 1530 A
1698(=)S
(exp)126 1782 A
1950(<)S
2034(0;)S
5490 V
(02541)210 648 A
(int)126 1362 A
(divsz,)252 1530 A
(modsz;)252 1824 A
5580 V
(02542)210 648 A
(struct)252 1362 A
(EXTEND)252 1656 A
1950(x;)S
5670 V
(02543)210 648 A
5760 V
(02544)210 648 A
1362(if)S
(\(neg\))210 1488 A
(exp)126 1740 A
1908(=)S
(-exp;)210 1992 A
5850 V
(02545)210 648 A
(divsz)210 1362 A
1614(=)S
(exp)126 1698 A
1866(/)S
(TP;)126 1950 A
5940 V
(02546)210 648 A
(modsz)210 1362 A
1614(=)S
(exp)126 1698 A
1866(%)S
(TP;)126 1950 A
6030 V
(02547)210 648 A
1362(if)S
(\(neg\))210 1488 A
1740({)S
6120 V
(02548)210 648 A
(mul_ext\(e,)420 1698 A
(&r_ten_powers[modsz],)882 2160 A
(&x\);)168 3084 A
6210 V
(02549)210 648 A
(mul_ext\(&x,)462 1698 A
(&r_big_ten_powers[divsz],)1050 2202 A
(e\);)126 3294 A
8418 V
EP
%%Page: 25 25
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
12 B
4308(25)S
900 V
7 LST
(02550)210 648 A
1362(})S
990 V
(02551)210 648 A
(else)168 1362 A
1572({)S
1080 V
(02552)210 648 A
(mul_ext\(e,)420 1698 A
(&ten_powers[modsz],)798 2160 A
(&x\);)168 3000 A
1170 V
(02553)210 648 A
(mul_ext\(&x,)462 1698 A
(&big_ten_powers[divsz],)966 2202 A
(e\);)126 3210 A
1260 V
(02554)210 648 A
1362(})S
1350 V
(02555)210 648 A
1026(})S
1530 V
(02557)210 648 A
(_str_ext_cvt\(const)756 1026 A
(char)168 1824 A
(*s,)126 2034 A
(char)168 2202 A
(**ss,)210 2412 A
(struct)252 2664 A
(EXTEND)252 2958 A
(*e\))126 3252 A
1620 V
(02558)210 648 A
1026({)S
1710 V
(02559)210 648 A
1362(/*)S
(Like)168 1698 A
(strtod,)294 1908 A
(but)126 2244 A
(for)126 2412 A
(extended)336 2580 A
(precision)378 2958 A
3378(*/)S
1800 V
(02560)210 648 A
(register)336 1362 A
(int)126 1740 A
2034(c;)S
1890 V
(02561)210 648 A
(int)126 1362 A
(dotseen)294 2034 A
2370(=)S
2454(0;)S
1980 V
(02562)210 648 A
(int)126 1362 A
(digitseen)378 2034 A
2454(=)S
2538(0;)S
2070 V
(02563)210 648 A
(int)126 1362 A
(exp)126 2034 A
2202(=)S
2286(0;)S
2160 V
(02564)210 648 A
2250 V
(02565)210 648 A
1362(if)S
(\(ss\))168 1488 A
(*ss)126 1698 A
1866(=)S
(\(char)210 1950 A
(*\)s;)168 2202 A
2340 V
(02566)210 648 A
(while)210 1362 A
(\(isspace\(*s\)\))546 1614 A
(s++;)168 2202 A
2430 V
(02567)210 648 A
2520 V
(02568)210 648 A
(e->sign)294 1362 A
1698(=)S
1782(0;)S
2610 V
(02569)210 648 A
(e->exp)252 1362 A
1656(=)S
1740(0;)S
2700 V
(02570)210 648 A
(e->m1)210 1362 A
1614(=)S
(e->m2)210 1698 A
1950(=)S
2034(0;)S
2790 V
(02571)210 648 A
2880 V
(02572)210 648 A
1362(c)S
1446(=)S
(*s;)126 1530 A
2970 V
(02573)210 648 A
(switch\(c\))378 1362 A
1782({)S
3060 V
(02574)210 648 A
(case)168 1362 A
('-':)168 1572 A
3150 V
(02575)210 648 A
(e->sign)294 1698 A
2034(=)S
2118(1;)S
3240 V
(02576)210 648 A
(case)168 1362 A
('+':)168 1572 A
3330 V
(02577)210 648 A
(s++;)168 1698 A
3420 V
(02578)210 648 A
1362(})S
3510 V
(02579)210 648 A
(while)210 1362 A
1614(\(c)S
1740(=)S
(*s++,)210 1824 A
(isdigit\(c\))420 2076 A
2538(||)S
2664(\(c)S
2790(==)S
('.')126 2916 A
3084(&&)S
3210(!)S
(dotseen++\)\))462 3294 A
3798({)S
3600 V
(02580)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('.'\))168 2076 A
(continue;)378 2286 A
3690 V
(02581)210 648 A
(digitseen)378 1698 A
2118(=)S
2202(1;)S
3780 V
(02582)210 648 A
1698(if)S
(\(e->m1)252 1824 A
2118(<=)S
(\(unsigned)378 2244 A
(long\)\(0xFFFFFFFF\)/10\))882 2664 A
3588({)S
3870 V
(02583)210 648 A
(struct)252 2034 A
(mantissa)336 2328 A
(a1;)126 2706 A
3960 V
(02584)210 648 A
4050 V
(02585)210 648 A
2034(a1)S
2160(=)S
(e->mantissa;)504 2244 A
4140 V
(02586)210 648 A
(b64_sft\(&\(e->mantissa\),)966 2034 A
(-3\);)168 3042 A
4230 V
(02587)210 648 A
(b64_sft\(&a1,)504 2034 A
(-1\);)168 2580 A
4320 V
(02588)210 648 A
(b64_add\(&\(e->mantissa\),)966 2034 A
(&a1\);)210 3042 A
4410 V
(02589)210 648 A
(a1.h_32)294 2034 A
2370(=)S
2454(0;)S
4500 V
(02590)210 648 A
(a1.l_32)294 2034 A
2370(=)S
2454(c)S
2538(-)S
('0';)168 2622 A
4590 V
(02591)210 648 A
(b64_add\(&\(e->mantissa\),)966 2034 A
(&a1\);)210 3042 A
4680 V
(02592)210 648 A
1698(})S
4770 V
(02593)210 648 A
(else)168 1698 A
(exp++;)252 1908 A
4860 V
(02594)210 648 A
1698(if)S
(\(dotseen\))378 1824 A
(exp--;)252 2244 A
4950 V
(02595)210 648 A
1362(})S
5040 V
(02596)210 648 A
1362(if)S
1488(\(!)S
(digitseen\))420 1614 A
(return;)294 2076 A
5130 V
(02597)210 648 A
5220 V
(02598)210 648 A
1362(if)S
(\(ss\))168 1488 A
(*ss)126 1698 A
1866(=)S
(\(char)210 1950 A
(*\)s)126 2202 A
2370(-)S
2454(1;)S
5310 V
(02599)210 648 A
5400 V
(02600)210 648 A
1362(if)S
1488(\(c)S
1614(==)S
('E')126 1740 A
1908(||)S
2034(c)S
2118(==)S
('e'\))168 2244 A
2454({)S
5490 V
(02601)210 648 A
(int)126 1698 A
(exp1)168 2034 A
2244(=)S
2328(0;)S
5580 V
(02602)210 648 A
(int)126 1698 A
(sign)168 2034 A
2244(=)S
2328(1;)S
5670 V
(02603)210 648 A
(int)126 1698 A
(exp_overflow)504 2034 A
2580(=)S
2664(0;)S
5760 V
(02604)210 648 A
5850 V
(02605)210 648 A
(switch\(*s\))420 1698 A
2160({)S
5940 V
(02606)210 648 A
(case)168 1698 A
('-':)168 1908 A
6030 V
(02607)210 648 A
(sign)168 2034 A
2244(=)S
(-1;)126 2328 A
6120 V
(02608)210 648 A
(case)168 1698 A
('+':)168 1908 A
6210 V
(02609)210 648 A
(s++;)168 2034 A
8418 V
EP
%%Page: 26 26
BP
/slant 0 def
/height 0 def
630 V
12 B
648(26)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(02610)210 648 A
1698(})S
990 V
(02611)210 648 A
1698(if)S
1824(\(c)S
1950(=)S
(*s,)126 2034 A
(isdigit\(c\)\))462 2202 A
2706({)S
1080 V
(02612)210 648 A
2034(do)S
2160({)S
1170 V
(02613)210 648 A
(int)126 2370 A
(tmp;)168 2538 A
1260 V
(02614)210 648 A
1350 V
(02615)210 648 A
(exp1)168 2370 A
2580(=)S
2664(10)S
2790(*)S
(exp1)168 2874 A
3084(+)S
3168(\(c)S
3294(-)S
('0'\);)210 3378 A
1440 V
(02616)210 648 A
2370(if)S
(\(\(tmp)210 2496 A
2748(=)S
(sign)168 2832 A
3042(*)S
(exp1)168 3126 A
3336(+)S
(exp\))168 3420 A
3630(>)S
(MAX_EXP)294 3714 A
4050(||)S
1530 V
(02617)210 648 A
(tmp)126 2580 A
2748(<)S
(-MAX_EXP\))378 2832 A
3252({)S
1620 V
(02618)210 648 A
(exp_overflow)504 2706 A
3252(=)S
3336(1;)S
1710 V
(02619)210 648 A
2370(})S
1800 V
(02620)210 648 A
2034(})S
(while)210 2118 A
2370(\(c)S
2496(=)S
(*++s,)210 2580 A
(isdigit\(c\)\);)504 2832 A
1890 V
(02621)210 648 A
2034(if)S
(\(ss\))168 2160 A
(*ss)126 2370 A
2538(=)S
(\(char)210 2622 A
(*\)s;)168 2874 A
1980 V
(02622)210 648 A
1698(})S
2070 V
(02623)210 648 A
(exp)126 1698 A
1866(+=)S
(sign)168 1992 A
2202(*)S
(exp1;)210 2286 A
2160 V
(02624)210 648 A
1698(if)S
(\(exp_overflow\))588 1824 A
2454({)S
2250 V
(02625)210 648 A
(exp)126 2034 A
2202(=)S
(sign)168 2286 A
2496(*)S
(MAX_EXP;)336 2580 A
2340 V
(02626)210 648 A
2034(if)S
(\(e->m1)252 2160 A
2454(!=)S
2580(0)S
2664(||)S
(e->m2)210 2790 A
3042(!=)S
3168(0\))S
(errno)210 3294 A
3546(=)S
(ERANGE;)294 3630 A
2430 V
(02627)210 648 A
1698(})S
2520 V
(02628)210 648 A
1362(})S
2610 V
(02629)210 648 A
1362(if)S
(\(e->m1)252 1488 A
1782(==)S
1908(0)S
1992(&&)S
(e->m2)210 2118 A
2370(==)S
2496(0\))S
(return;)294 2622 A
2700 V
(02630)210 648 A
(e->exp)252 1362 A
1656(=)S
(63;)126 1740 A
2790 V
(02631)210 648 A
(while)210 1362 A
1614(\(!)S
(\(e->m1)252 1740 A
2034(&)S
(0x80000000\)\))504 2118 A
2664({)S
2880 V
(02632)210 648 A
(b64_sft\(&\(e->mantissa\),-1\);)1134 1698 A
2970 V
(02633)210 648 A
(e->exp--;)378 1698 A
3060 V
(02634)210 648 A
1362(})S
3150 V
(02635)210 648 A
(add_exponent\(e,)630 1362 A
(exp\);)210 2034 A
3240 V
(02636)210 648 A
1026(})S
3420 V
(02638)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
3510 V
(02639)210 648 A
3600 V
(02640)210 648 A
(static)252 1026 A
3690 V
(02641)210 648 A
(ten_mult\(struct)630 1026 A
(EXTEND)252 1698 A
(*e\))126 1992 A
3780 V
(02642)210 648 A
1026({)S
3870 V
(02643)210 648 A
(struct)252 1362 A
(EXTEND)252 1656 A
1950(e1)S
2076(=)S
(*e;)126 2160 A
3960 V
(02644)210 648 A
4050 V
(02645)210 648 A
(e1.exp++;)378 1362 A
4140 V
(02646)210 648 A
(e->exp)252 1362 A
1656(+=)S
1782(3;)S
4230 V
(02647)210 648 A
(add_ext\(e,)420 1362 A
(&e1,)168 1824 A
(e\);)126 2034 A
4320 V
(02648)210 648 A
1026(})S
4500 V
(02650)210 648 A
(#define)294 1026 A
(NDIGITS)294 1362 A
(128)126 1698 A
4590 V
(02651)210 648 A
(#define)294 1026 A
(NSIGNIFICANT)504 1362 A
1908(19)S
4680 V
(02652)210 648 A
4770 V
(02653)210 648 A
(char)168 1026 A
1236(*)S
4860 V
(02654)210 648 A
(_ext_str_cvt\(struct)798 1026 A
(EXTEND)252 1866 A
(*e,)126 2160 A
(int)126 2328 A
(ndigit,)294 2496 A
(int)126 2832 A
(*decpt,)294 3000 A
(int)126 3336 A
(*sign,)252 3504 A
(int)126 3798 A
(ecvtflag\))378 3966 A
4950 V
(02655)210 648 A
1026({)S
5040 V
(02656)210 648 A
1362(/*)S
(Like)168 1698 A
(cvt\(\),)252 1908 A
(but)126 2202 A
(for)126 2370 A
(extended)336 2538 A
(precision)378 2916 A
3336(*/)S
5130 V
(02657)210 648 A
5220 V
(02658)210 648 A
(static)252 1362 A
(char)168 1656 A
(buf[NDIGITS+1];)630 1866 A
5310 V
(02659)210 648 A
(struct)252 1362 A
(EXTEND)252 1656 A
1950(m;)S
5400 V
(02660)210 648 A
(register)336 1362 A
(char)168 1740 A
1950(*p)S
2076(=)S
(buf;)168 2160 A
5490 V
(02661)210 648 A
(register)336 1362 A
(char)168 1740 A
(*pe;)168 1950 A
5580 V
(02662)210 648 A
(int)126 1362 A
(findex)252 1530 A
1824(=)S
1908(0;)S
5670 V
(02663)210 648 A
5760 V
(02664)210 648 A
1362(if)S
(\(ndigit)294 1488 A
1824(<)S
1908(0\))S
(ndigit)252 2034 A
2328(=)S
2412(0;)S
5850 V
(02665)210 648 A
1362(if)S
(\(ndigit)294 1488 A
1824(>)S
(NDIGITS\))336 1908 A
(ndigit)252 2286 A
2580(=)S
(NDIGITS;)336 2664 A
5940 V
(02666)210 648 A
1362(pe)S
1488(=)S
(&buf[ndigit];)546 1572 A
6030 V
(02667)210 648 A
(buf[0])252 1362 A
1656(=)S
('\\0';)210 1740 A
6120 V
(02668)210 648 A
6210 V
(02669)210 648 A
(*sign)210 1362 A
1614(=)S
1698(0;)S
8418 V
EP
%%Page: 27 27
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
12 B
4308(27)S
900 V
7 LST
(02670)210 648 A
1362(if)S
(\(e->sign\))378 1488 A
1908({)S
990 V
(02671)210 648 A
(*sign)210 1698 A
1950(=)S
2034(1;)S
1080 V
(02672)210 648 A
(e->sign)294 1698 A
2034(=)S
2118(0;)S
1170 V
(02673)210 648 A
1362(})S
1260 V
(02674)210 648 A
1350 V
(02675)210 648 A
(*decpt)252 1362 A
1656(=)S
1740(0;)S
1440 V
(02676)210 648 A
1362(if)S
(\(e->m1)252 1488 A
1782(!=)S
1908(0\))S
2034({)S
1530 V
(02677)210 648 A
(register)336 1698 A
(struct)252 2076 A
(EXTEND)252 2370 A
(*pp)126 2664 A
2832(=)S
(&big_ten_powers[1];)798 2916 A
1620 V
(02678)210 648 A
1710 V
(02679)210 648 A
(while\(cmp_ext\(e,pp\))798 1698 A
2538(>=)S
2664(0\))S
2790({)S
1800 V
(02680)210 648 A
(pp++;)210 2034 A
1890 V
(02681)210 648 A
(findex)252 2034 A
2328(=)S
2412(pp)S
2538(-)S
(big_ten_powers;)630 2622 A
1980 V
(02682)210 648 A
2034(if)S
(\(findex)294 2160 A
2496(>=)S
(BTP\))168 2622 A
(break;)252 2832 A
2070 V
(02683)210 648 A
1698(})S
2160 V
(02684)210 648 A
(pp--;)210 1698 A
2250 V
(02685)210 648 A
(findex)252 1698 A
1992(=)S
2076(pp)S
2202(-)S
(big_ten_powers;)630 2286 A
2340 V
(02686)210 648 A
(mul_ext\(e,&r_big_ten_powers[findex],e\);)1638 1698 A
2430 V
(02687)210 648 A
(*decpt)252 1698 A
1992(+=)S
(findex)252 2118 A
2412(*)S
(TP;)126 2496 A
2520 V
(02688)210 648 A
1698(pp)S
1824(=)S
(&ten_powers[1];)630 1908 A
2610 V
(02689)210 648 A
(while\(pp)336 1698 A
2076(<)S
(&ten_powers[TP])630 2160 A
2832(&&)S
(cmp_ext\(e,)420 2958 A
(pp\))126 3420 A
3588(>=)S
3714(0\))S
(pp++;)210 3840 A
2700 V
(02690)210 648 A
(pp--;)210 1698 A
2790 V
(02691)210 648 A
(findex)252 1698 A
1992(=)S
2076(pp)S
2202(-)S
(ten_powers;)462 2286 A
2880 V
(02692)210 648 A
(*decpt)252 1698 A
1992(+=)S
(findex;)294 2118 A
2970 V
(02693)210 648 A
3060 V
(02694)210 648 A
1698(if)S
(\(cmp_ext\(e,)462 1824 A
(&ten_powers[0]\))630 2328 A
3000(<)S
3084(0\))S
3210({)S
3150 V
(02695)210 648 A
2034(pp)S
2160(=)S
(&r_big_ten_powers[1];)882 2244 A
3240 V
(02696)210 648 A
(while\(cmp_ext\(e,pp\))798 2034 A
2874(<)S
2958(0\))S
(pp++;)210 3084 A
3330 V
(02697)210 648 A
(pp--;)210 2034 A
3420 V
(02698)210 648 A
(findex)252 2034 A
2328(=)S
2412(pp)S
2538(-)S
(r_big_ten_powers;)714 2622 A
3510 V
(02699)210 648 A
(mul_ext\(e,)420 2034 A
(&big_ten_powers[findex],)1008 2496 A
(e\);)126 3546 A
3600 V
(02700)210 648 A
(*decpt)252 2034 A
2328(-=)S
(findex)252 2454 A
2748(*)S
(TP;)126 2832 A
3690 V
(02701)210 648 A
2034(/*)S
(here,)210 2160 A
(value)210 2412 A
2664(>=)S
2790(10)S
2916(**)S
(-28)126 3042 A
3210(*/)S
3780 V
(02702)210 648 A
(ten_mult\(e\);)504 2034 A
3870 V
(02703)210 648 A
(\(*decpt\)--;)462 2034 A
3960 V
(02704)210 648 A
2034(pp)S
2160(=)S
(&r_ten_powers[0];)714 2244 A
4050 V
(02705)210 648 A
(while\(cmp_ext\(e,)672 2034 A
(pp\))126 2748 A
2916(<)S
3000(0\))S
(pp++;)210 3126 A
4140 V
(02706)210 648 A
(findex)252 2034 A
2328(=)S
2412(pp)S
2538(-)S
(r_ten_powers;)546 2622 A
4230 V
(02707)210 648 A
(mul_ext\(e,)420 2034 A
(&ten_powers[findex],)840 2496 A
(e\);)126 3378 A
4320 V
(02708)210 648 A
(*decpt)252 2034 A
2328(-=)S
(findex;)294 2454 A
4410 V
(02709)210 648 A
(findex)252 2034 A
2328(=)S
2412(0;)S
4500 V
(02710)210 648 A
1698(})S
4590 V
(02711)210 648 A
(\(*decpt\)++;)462 1698 A
2370(/*)S
(because)294 2496 A
(now)126 2832 A
(value)210 3000 A
3252(in)S
([1.0,)210 3378 A
(10.0\))210 3630 A
3882(*/)S
4680 V
(02712)210 648 A
1362(})S
4770 V
(02713)210 648 A
1362(if)S
1488(\(!)S
(ecvtflag\))378 1614 A
2034({)S
4860 V
(02714)210 648 A
1698(/*)S
(for)126 1824 A
(fcvt\(\))252 1992 A
2286(we)S
(need)168 2412 A
(ndigit)252 2622 A
(digits)252 2916 A
(behind)252 3210 A
(the)126 3504 A
(dot)126 3672 A
3840(*/)S
4950 V
(02715)210 648 A
1698(pe)S
1824(+=)S
(*decpt;)294 1950 A
5040 V
(02716)210 648 A
1698(if)S
(\(pe)126 1824 A
1992(>)S
(&buf[NDIGITS]\))588 2076 A
2706(pe)S
2832(=)S
(&buf[NDIGITS];)588 2916 A
5130 V
(02717)210 648 A
1362(})S
5220 V
(02718)210 648 A
(m.exp)210 1362 A
1614(=)S
(-62;)168 1698 A
5310 V
(02719)210 648 A
(m.sign)252 1362 A
1656(=)S
1740(0;)S
5400 V
(02720)210 648 A
(m.m1)168 1362 A
1572(=)S
(0xA0000000;)462 1656 A
5490 V
(02721)210 648 A
(m.m2)168 1362 A
1572(=)S
1656(0;)S
5580 V
(02722)210 648 A
(while)210 1362 A
1614(\(p)S
1740(<=)S
(pe\))126 1866 A
2034({)S
5670 V
(02723)210 648 A
(struct)252 1698 A
(EXTEND)252 1992 A
(oneminm;)336 2286 A
5760 V
(02724)210 648 A
5850 V
(02725)210 648 A
1698(if)S
1824(\(p)S
1950(-)S
2034(pe)S
2160(>)S
(NSIGNIFICANT\))546 2244 A
2832({)S
5940 V
(02726)210 648 A
(findex)252 2034 A
2328(=)S
2412(0;)S
6030 V
(02727)210 648 A
(e->m1)210 2034 A
2286(=)S
2370(0;)S
6120 V
(02728)210 648 A
1698(})S
6210 V
(02729)210 648 A
1698(if)S
(\(findex\))336 1824 A
2202({)S
8418 V
EP
%%Page: 28 28
BP
/slant 0 def
/height 0 def
630 V
12 B
648(28)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(02730)210 648 A
(struct)252 2034 A
(EXTEND)252 2328 A
(tc,)126 2622 A
(oldtc;)252 2790 A
990 V
(02731)210 648 A
(int)126 2034 A
(count)210 2202 A
2454(=)S
2538(0;)S
1080 V
(02732)210 648 A
1170 V
(02733)210 648 A
(oldtc.exp)378 2034 A
2454(=)S
2538(0;)S
1260 V
(02734)210 648 A
(oldtc.sign)420 2034 A
2496(=)S
2580(0;)S
1350 V
(02735)210 648 A
(oldtc.m1)336 2034 A
2412(=)S
2496(0;)S
1440 V
(02736)210 648 A
(oldtc.m2)336 2034 A
2412(=)S
2496(0;)S
1530 V
(02737)210 648 A
2034(tc)S
2160(=)S
(ten_powers[findex];)798 2244 A
1620 V
(02738)210 648 A
(while)210 2034 A
(\(cmp_ext\(e,)462 2286 A
(&tc\))168 2790 A
3000(>=)S
3126(0\))S
3252({)S
1710 V
(02739)210 648 A
(oldtc)210 2370 A
2622(=)S
(tc;)126 2706 A
1800 V
(02740)210 648 A
(add_ext\(&tc,)504 2370 A
(&ten_powers[findex],)840 2916 A
(&tc\);)210 3798 A
1890 V
(02741)210 648 A
(count++;)336 2370 A
1980 V
(02742)210 648 A
2034(})S
2070 V
(02743)210 648 A
(*p++)168 2034 A
2244(=)S
(count)210 2328 A
2580(+)S
('0';)168 2664 A
2160 V
(02744)210 648 A
(oldtc.sign)420 2034 A
2496(=)S
2580(1;)S
2250 V
(02745)210 648 A
(add_ext\(e,)420 2034 A
(&oldtc,)294 2496 A
(e\);)126 2832 A
2340 V
(02746)210 648 A
(findex--;)378 2034 A
2430 V
(02747)210 648 A
(continue;)378 2034 A
2520 V
(02748)210 648 A
1698(})S
2610 V
(02749)210 648 A
1698(if)S
(\(e->m1\))294 1824 A
2160({)S
2700 V
(02750)210 648 A
(m.sign)252 2034 A
2328(=)S
2412(1;)S
2790 V
(02751)210 648 A
(add_ext\(&ten_powers[0],)966 2034 A
(&m,)126 3042 A
(&oneminm\);)420 3210 A
2880 V
(02752)210 648 A
(m.sign)252 2034 A
2328(=)S
2412(0;)S
2970 V
(02753)210 648 A
2034(if)S
(\(e->exp)294 2160 A
2496(>=)S
2622(0\))S
2748({)S
3060 V
(02754)210 648 A
(struct)252 2370 A
(EXTEND)252 2664 A
2958(x;)S
3150 V
(02755)210 648 A
3240 V
(02756)210 648 A
(x.m2)168 2370 A
2580(=)S
2664(0;)S
(x.exp)210 2790 A
3042(=)S
(e->exp;)294 3126 A
3330 V
(02757)210 648 A
(x.sign)252 2370 A
2664(=)S
2748(1;)S
3420 V
(02758)210 648 A
(x.m1)168 2370 A
2580(=)S
(e->m1>>\(31-e->exp\);)798 2664 A
3510 V
(02759)210 648 A
(*p++)168 2370 A
2580(=)S
(\(x.m1\))252 2664 A
2958(+)S
('0';)168 3042 A
3600 V
(02760)210 648 A
(x.m1)168 2370 A
2580(=)S
(x.m1)168 2664 A
2874(<<)S
(\(31-e->exp\);)504 3000 A
3690 V
(02761)210 648 A
(add_ext\(e,)420 2370 A
(&x,)126 2832 A
(e\);)126 3000 A
3780 V
(02762)210 648 A
2034(})S
3870 V
(02763)210 648 A
(else)168 2034 A
(*p++)168 2244 A
2454(=)S
('0';)168 2538 A
3960 V
(02764)210 648 A
2034(/*)S
(Check)210 2160 A
(that)168 2412 A
(remainder)378 2622 A
3042(is)S
(still)210 3168 A
(significant)462 3420 A
3924(*/)S
4050 V
(02765)210 648 A
2034(if)S
(\(cmp_ext\(&m,)504 2160 A
2706(e\))S
2832(>)S
2916(0)S
3000(||)S
(cmp_ext\(e,)420 3126 A
(&oneminm\))378 3588 A
4008(>)S
4092(0\))S
4218({)S
4140 V
(02766)210 648 A
2370(if)S
(\(e->m1)252 2496 A
2790(&&)S
(e->exp)252 2916 A
3210(>=)S
(-1\))126 3336 A
(*\(p-1\))252 3504 A
3798(+=)S
3924(1;)S
4230 V
(02767)210 648 A
(e->m1)210 2370 A
2622(=)S
2706(0;)S
4320 V
(02768)210 648 A
(continue;)378 2370 A
4410 V
(02769)210 648 A
2034(})S
4500 V
(02770)210 648 A
(ten_mult\(&m\);)546 2034 A
4590 V
(02771)210 648 A
(ten_mult\(e\);)504 2034 A
4680 V
(02772)210 648 A
1698(})S
4770 V
(02773)210 648 A
(else)168 1698 A
(*p++)168 1908 A
2118(=)S
('0';)168 2202 A
4860 V
(02774)210 648 A
1362(})S
4950 V
(02775)210 648 A
1362(if)S
(\(pe)126 1488 A
1656(>=)S
(buf\))168 1782 A
1992({)S
5040 V
(02776)210 648 A
1698(p)S
1782(=)S
(pe;)126 1866 A
5130 V
(02777)210 648 A
1698(*p)S
1824(+=)S
1950(5;)S
2370(/*)S
(round)210 2496 A
2748(of)S
2874(at)S
(the)126 3000 A
(end)126 3168 A
3336(*/)S
5220 V
(02778)210 648 A
(while)210 1698 A
(\(*p)126 1950 A
2118(>)S
('9'\))168 2202 A
2412({)S
5310 V
(02779)210 648 A
2034(*p)S
2160(=)S
('0';)168 2244 A
5400 V
(02780)210 648 A
2034(if)S
2160(\(p)S
2286(>)S
(buf\))168 2370 A
(++*--p;)294 2580 A
5490 V
(02781)210 648 A
(else)168 2034 A
2244({)S
5580 V
(02782)210 648 A
2370(*p)S
2496(=)S
('1';)168 2580 A
5670 V
(02783)210 648 A
(++*decpt;)378 2370 A
5760 V
(02784)210 648 A
2370(if)S
2496(\(!)S
(ecvtflag\))378 2622 A
3042({)S
5850 V
(02785)210 648 A
2706(/*)S
(maybe)210 2832 A
(add)126 3084 A
(another)294 3252 A
(digit)210 3588 A
3840(at)S
(the)126 3966 A
(end,)168 4134 A
5940 V
(02786)210 648 A
(because)294 2832 A
(the)126 3168 A
(point)210 3336 A
(was)126 3588 A
(shifted)294 3756 A
(right)210 4092 A
6030 V
(02787)210 648 A
2706(*/)S
6120 V
(02788)210 648 A
2706(if)S
(\(pe)126 2832 A
3000(>)S
(buf\))168 3084 A
(*pe)126 3294 A
3462(=)S
('0';)168 3546 A
6210 V
(02789)210 648 A
(pe++;)210 2706 A
8418 V
EP
%%Page: 29 29
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1904(File:)S
(src/lib/ansi/ext_comp.c)1034 2137 A
12 B
4308(29)S
900 V
7 LST
(02790)210 648 A
2370(})S
990 V
(02791)210 648 A
2034(})S
1080 V
(02792)210 648 A
1698(})S
1170 V
(02793)210 648 A
(*pe)126 1698 A
1866(=)S
('\\0';)210 1950 A
1260 V
(02794)210 648 A
1362(})S
1350 V
(02795)210 648 A
(return)252 1362 A
(buf;)168 1656 A
1440 V
(02796)210 648 A
1026(})S
1620 V
(02798)210 648 A
(_dbl_ext_cvt\(double)798 1026 A
(value,)252 1866 A
(struct)252 2160 A
(EXTEND)252 2454 A
(*e\))126 2748 A
1710 V
(02799)210 648 A
1026({)S
1800 V
(02800)210 648 A
1362(/*)S
(Convert)294 1698 A
(double)252 2034 A
2328(to)S
(extended)336 2454 A
1890 V
(02801)210 648 A
1362(*/)S
1980 V
(02802)210 648 A
(int)126 1362 A
(exponent;)378 1530 A
2070 V
(02803)210 648 A
2160 V
(02804)210 648 A
(value)210 1362 A
1614(=)S
(frexp\(value,)504 1698 A
(&exponent\);)462 2244 A
2250 V
(02805)210 648 A
(e->sign)294 1362 A
1698(=)S
(value)210 1782 A
2034(<)S
(0.0;)168 2118 A
2340 V
(02806)210 648 A
1362(if)S
(\(e->sign\))378 1488 A
(value)210 1908 A
2160(=)S
(-value;)294 2244 A
2430 V
(02807)210 648 A
(e->exp)252 1362 A
1656(=)S
(exponent)336 1740 A
2118(-)S
2202(1;)S
2520 V
(02808)210 648 A
(value)210 1362 A
1614(*=)S
(4294967296.0;)546 1740 A
2610 V
(02809)210 648 A
(e->m1)210 1362 A
1614(=)S
(value;)252 1698 A
2700 V
(02810)210 648 A
(value)210 1362 A
1614(-=)S
(e->m1;)252 1740 A
2790 V
(02811)210 648 A
(value)210 1362 A
1614(*=)S
(4294967296.0;)546 1740 A
2880 V
(02812)210 648 A
(e->m2)210 1362 A
1614(=)S
(value;)252 1698 A
2970 V
(02813)210 648 A
1026(})S
3150 V
(02815)210 648 A
(static)252 1026 A
(struct)252 1320 A
(EXTEND)252 1614 A
(max_d;)252 1908 A
3240 V
(02816)210 648 A
3330 V
(02817)210 648 A
(double)252 1026 A
3420 V
(02818)210 648 A
(_ext_dbl_cvt\(struct)798 1026 A
(EXTEND)252 1866 A
(*e\))126 2160 A
3510 V
(02819)210 648 A
1026({)S
3600 V
(02820)210 648 A
1362(/*)S
(Convert)294 1698 A
(extended)336 2034 A
2412(to)S
(double)252 2538 A
3690 V
(02821)210 648 A
1362(*/)S
3780 V
(02822)210 648 A
(double)252 1362 A
1656(f;)S
3870 V
(02823)210 648 A
(int)126 1362 A
(sign)168 1530 A
1740(=)S
(e->sign;)336 1824 A
3960 V
(02824)210 648 A
4050 V
(02825)210 648 A
(e->sign)294 1362 A
1698(=)S
1782(0;)S
4140 V
(02826)210 648 A
1362(if)S
(\(e->m1)252 1488 A
1782(==)S
1908(0)S
1992(&&)S
(e->m2)210 2118 A
2370(==)S
2496(0\))S
2622({)S
4230 V
(02827)210 648 A
(return)252 1698 A
(0.0;)168 1992 A
4320 V
(02828)210 648 A
1362(})S
4410 V
(02829)210 648 A
1362(if)S
(\(max_d.exp)420 1488 A
1950(==)S
2076(0\))S
2202({)S
4500 V
(02830)210 648 A
(_dbl_ext_cvt\(DBL_MAX,)882 1698 A
(&max_d\);)336 2622 A
4590 V
(02831)210 648 A
1362(})S
4680 V
(02832)210 648 A
1362(if)S
(\(cmp_ext\(&max_d,)672 1488 A
2202(e\))S
2328(<)S
2412(0\))S
2538({)S
4770 V
(02833)210 648 A
1698(f)S
1782(=)S
(HUGE_VAL;)378 1866 A
4860 V
(02834)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
4950 V
(02835)210 648 A
1362(})S
5040 V
(02836)210 648 A
(else)168 1362 A
1698(f)S
1782(=)S
(ldexp\(\(double\)e->m1*4294967296.0)1344 1866 A
3252(+)S
(\(double\)e->m2,)588 3336 A
(e->exp-63\);)462 3966 A
5130 V
(02837)210 648 A
1362(if)S
(\(sign\))252 1488 A
1782(f)S
1866(=)S
(-f;)126 1950 A
5220 V
(02838)210 648 A
1362(if)S
1488(\(f)S
1614(==)S
(0.0)126 1740 A
1908(&&)S
(\(e->m1)252 2034 A
2328(!=)S
2454(0)S
2538(||)S
(e->m2)210 2664 A
2916(!=)S
(0\)\))126 3042 A
3210({)S
5310 V
(02839)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
5400 V
(02840)210 648 A
1362(})S
5490 V
(02841)210 648 A
(return)252 1362 A
1656(f;)S
5580 V
(02842)210 648 A
1026(})S
8418 V
EP
%%Page: 30 30
BP
/slant 0 def
/height 0 def
630 V
12 B
648(30)S
11 R
1975(File:)S
(src/lib/ansi/getenv.c)893 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/getenv.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(02900)210 648 A
1026(/*)S
1440 V
(02901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(02902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(02903)210 648 A
1068(*/)S
1710 V
(02904)210 648 A
1026(/*)S
($Header:)336 1152 A
(getenv.c,v)420 1530 A
(1.4)126 1992 A
(91/04/24)336 2160 A
(12:18:03)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
1800 V
(02905)210 648 A
1890 V
(02906)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
1980 V
(02907)210 648 A
2070 V
(02908)210 648 A
(extern)252 1026 A
(const)210 1320 A
(char)168 1572 A
(**_penvp;)378 1782 A
2160 V
(02909)210 648 A
2250 V
(02910)210 648 A
(char)168 1026 A
1236(*)S
2340 V
(02911)210 648 A
(getenv\(const)504 1026 A
(char)168 1572 A
(*name\))252 1782 A
2430 V
(02912)210 648 A
1026({)S
2520 V
(02913)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(**v)126 2202 A
2370(=)S
(_penvp;)294 2454 A
2610 V
(02914)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*p,)126 2202 A
(*q;)126 2370 A
2700 V
(02915)210 648 A
2790 V
(02916)210 648 A
1362(if)S
1488(\(v)S
1614(==)S
(NULL)168 1740 A
1950(||)S
(name)168 2076 A
2286(==)S
(NULL\))210 2412 A
2880 V
(02917)210 648 A
(return)252 1698 A
(\(char)210 1992 A
(*\)NULL;)294 2244 A
2970 V
(02918)210 648 A
(while)210 1362 A
(\(\(p)126 1614 A
1782(=)S
(*v++\))210 1866 A
2118(!=)S
(NULL\))210 2244 A
2496({)S
3060 V
(02919)210 648 A
1698(q)S
1782(=)S
(name;)210 1866 A
3150 V
(02920)210 648 A
(while)210 1698 A
(\(*q)126 1950 A
2118(&&)S
(\(*q)126 2244 A
2412(==)S
(*p++\)\))252 2538 A
3240 V
(02921)210 648 A
(q++;)168 2034 A
3330 V
(02922)210 648 A
1698(if)S
(\(*q)126 1824 A
1992(||)S
(\(*p)126 2118 A
2286(!=)S
('='\)\))210 2412 A
3420 V
(02923)210 648 A
(continue;)378 2034 A
3510 V
(02924)210 648 A
(return)252 1698 A
(\(char)210 1992 A
(*\)p)126 2244 A
2412(+)S
2496(1;)S
3600 V
(02925)210 648 A
1362(})S
3690 V
(02926)210 648 A
(return)252 1362 A
(\(char)210 1656 A
(*\)NULL;)294 1908 A
3780 V
(02927)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ansi/gmtime.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(03000)210 648 A
1026(/*)S
4590 V
(03001)210 648 A
1068(*)S
(gmtime)252 1152 A
1446(-)S
(convert)294 1530 A
(the)126 1866 A
(calendar)336 2034 A
(time)168 2412 A
(into)168 2622 A
(broken)252 2832 A
(down)168 3126 A
(time)168 3336 A
4680 V
(03002)210 648 A
1068(*/)S
4770 V
(03003)210 648 A
1026(/*)S
($Header:)336 1152 A
(gmtime.c,v)420 1530 A
(1.4)126 1992 A
(91/04/22)336 2160 A
(13:20:27)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
4860 V
(03004)210 648 A
4950 V
(03005)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
5040 V
(03006)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
5130 V
(03007)210 648 A
(#include)336 1026 A
("loc_time.h")504 1698 A
5220 V
(03008)210 648 A
5310 V
(03009)210 648 A
(struct)252 1026 A
1320(tm)S
1446(*)S
5400 V
(03010)210 648 A
(gmtime\(register)630 1026 A
(const)210 1698 A
(time_t)252 1950 A
(*timer\))294 2244 A
5490 V
(03011)210 648 A
1026({)S
5580 V
(03012)210 648 A
(static)252 1362 A
(struct)252 1656 A
1950(tm)S
(br_time;)336 2076 A
5670 V
(03013)210 648 A
(register)336 1362 A
(struct)252 1740 A
2034(tm)S
(*timep)252 2160 A
2454(=)S
(&br_time;)378 2538 A
5760 V
(03014)210 648 A
(time_t)252 1362 A
(time)168 1656 A
1866(=)S
(*timer;)294 1950 A
5850 V
(03015)210 648 A
(register)336 1362 A
(unsigned)336 1740 A
(long)168 2118 A
(dayclock,)378 2328 A
(dayno;)252 2748 A
5940 V
(03016)210 648 A
(int)126 1362 A
(year)168 1530 A
1740(=)S
(EPOCH_YR;)378 1824 A
6030 V
(03017)210 648 A
6120 V
(03018)210 648 A
(dayclock)336 1362 A
1740(=)S
(\(unsigned)378 1824 A
(long\)time)378 2244 A
2664(%)S
(SECS_DAY;)378 2748 A
6210 V
(03019)210 648 A
(dayno)210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(long\)time)378 2118 A
2538(/)S
(SECS_DAY;)378 2622 A
8418 V
EP
%%Page: 31 31
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1953(File:)S
(src/lib/ansi/gmtime.c)936 2186 A
12 B
4308(31)S
900 V
7 LST
(03020)210 648 A
990 V
(03021)210 648 A
(timep->tm_sec)546 1362 A
1950(=)S
(dayclock)336 2034 A
2412(%)S
(60;)126 2496 A
1080 V
(03022)210 648 A
(timep->tm_min)546 1362 A
1950(=)S
(\(dayclock)378 2034 A
2454(%)S
(3600\))210 2538 A
2790(/)S
(60;)126 2874 A
1170 V
(03023)210 648 A
(timep->tm_hour)588 1362 A
1992(=)S
(dayclock)336 2076 A
2454(/)S
(3600;)210 2538 A
1260 V
(03024)210 648 A
(timep->tm_wday)588 1362 A
1992(=)S
(\(dayno)252 2076 A
2370(+)S
2454(4\))S
2580(%)S
2664(7;)S
3042(/*)S
(day)126 3168 A
3336(0)S
(was)126 3420 A
3588(a)S
(thursday)336 3672 A
4050(*/)S
1350 V
(03025)210 648 A
(while)210 1362 A
(\(dayno)252 1614 A
1908(>=)S
(YEARSIZE\(year\)\))630 2034 A
2706({)S
1440 V
(03026)210 648 A
(dayno)210 1698 A
1950(-=)S
(YEARSIZE\(year\);)630 2076 A
1530 V
(03027)210 648 A
(year++;)294 1698 A
1620 V
(03028)210 648 A
1362(})S
1710 V
(03029)210 648 A
(timep->tm_year)588 1362 A
1992(=)S
(year)168 2076 A
2286(-)S
(YEAR0;)252 2370 A
1800 V
(03030)210 648 A
(timep->tm_yday)588 1362 A
1992(=)S
(dayno;)252 2076 A
1890 V
(03031)210 648 A
(timep->tm_mon)546 1362 A
1950(=)S
2034(0;)S
1980 V
(03032)210 648 A
(while)210 1362 A
(\(dayno)252 1614 A
1908(>=)S
(_ytab[LEAPYEAR\(year\)][timep->tm_mon]\))1554 2034 A
3630({)S
2070 V
(03033)210 648 A
(dayno)210 1698 A
1950(-=)S
(_ytab[LEAPYEAR\(year\)][timep->tm_mon];)1554 2076 A
2160 V
(03034)210 648 A
(timep->tm_mon++;)672 1698 A
2250 V
(03035)210 648 A
1362(})S
2340 V
(03036)210 648 A
(timep->tm_mday)588 1362 A
1992(=)S
(dayno)210 2076 A
2328(+)S
2412(1;)S
2430 V
(03037)210 648 A
(timep->tm_isdst)630 1362 A
2034(=)S
2118(0;)S
2520 V
(03038)210 648 A
2610 V
(03039)210 648 A
(return)252 1362 A
(timep;)252 1656 A
2700 V
(03040)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ansi/isalnum.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(03100)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
3690 V
(03101)210 648 A
3780 V
(03102)210 648 A
(int)126 1026 A
(\(isalnum\)\(int)546 1194 A
1782(c\))S
1908({)S
3870 V
(03103)210 648 A
(return)252 1362 A
(isalnum\(c\);)462 1656 A
3960 V
(03104)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/isalpha.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(03200)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
5040 V
(03201)210 648 A
5130 V
(03202)210 648 A
(int)126 1026 A
(\(isalpha\)\(int)546 1194 A
1782(c\))S
1908({)S
5220 V
(03203)210 648 A
(return)252 1362 A
(isalpha\(c\);)462 1656 A
5310 V
(03204)210 648 A
1026(})S
8418 V
EP
%%Page: 32 32
BP
/slant 0 def
/height 0 def
630 V
12 B
648(32)S
11 R
1983(File:)S
(src/lib/ansi/isascii.c)876 2216 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/isascii.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(03300)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
1440 V
(03301)210 648 A
1530 V
(03302)210 648 A
(int)126 1026 A
(\(isascii\)\(int)546 1194 A
1782(c\))S
1908({)S
1620 V
(03303)210 648 A
(return)252 1362 A
(isascii\(c\);)462 1656 A
1710 V
(03304)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ansi/iscntrl.c)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(03400)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
2790 V
(03401)210 648 A
2880 V
(03402)210 648 A
(int)126 1026 A
(\(iscntrl\)\(int)546 1194 A
1782(c\))S
1908({)S
2970 V
(03403)210 648 A
(return)252 1362 A
(iscntrl\(c\);)462 1656 A
3060 V
(03404)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/isdigit.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(03500)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
4140 V
(03501)210 648 A
4230 V
(03502)210 648 A
(int)126 1026 A
(\(isdigit\)\(int)546 1194 A
1782(c\))S
1908({)S
4320 V
(03503)210 648 A
(return)252 1362 A
(isdigit\(c\);)462 1656 A
4410 V
(03504)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/ansi/isgraph.c)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(03600)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
5490 V
(03601)210 648 A
5580 V
(03602)210 648 A
(int)126 1026 A
(\(isgraph\)\(int)546 1194 A
1782(c\))S
1908({)S
5670 V
(03603)210 648 A
(return)252 1362 A
(isgraph\(c\);)462 1656 A
5760 V
(03604)210 648 A
1026(})S
8418 V
EP
%%Page: 33 33
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1959(File:)S
(src/lib/ansi/islower.c)924 2192 A
12 B
4308(33)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/islower.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(03700)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
1440 V
(03701)210 648 A
1530 V
(03702)210 648 A
(int)126 1026 A
(\(islower\)\(int)546 1194 A
1782(c\))S
1908({)S
1620 V
(03703)210 648 A
(return)252 1362 A
(islower\(c\);)462 1656 A
1710 V
(03704)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ansi/isprint.c)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(03800)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
2790 V
(03801)210 648 A
2880 V
(03802)210 648 A
(int)126 1026 A
(\(isprint\)\(int)546 1194 A
1782(c\))S
1908({)S
2970 V
(03803)210 648 A
(return)252 1362 A
(isprint\(c\);)462 1656 A
3060 V
(03804)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/ispunct.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(03900)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
4140 V
(03901)210 648 A
4230 V
(03902)210 648 A
(int)126 1026 A
(\(ispunct\)\(int)546 1194 A
1782(c\))S
1908({)S
4320 V
(03903)210 648 A
(return)252 1362 A
(ispunct\(c\);)462 1656 A
4410 V
(03904)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/ansi/isspace.c)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(04000)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
5490 V
(04001)210 648 A
5580 V
(04002)210 648 A
(int)126 1026 A
(\(isspace\)\(int)546 1194 A
1782(c\))S
1908({)S
5670 V
(04003)210 648 A
(return)252 1362 A
(isspace\(c\);)462 1656 A
5760 V
(04004)210 648 A
1026(})S
8418 V
EP
%%Page: 34 34
BP
/slant 0 def
/height 0 def
630 V
12 B
648(34)S
11 R
1960(File:)S
(src/lib/ansi/isupper.c)923 2193 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/isupper.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(04100)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
1440 V
(04101)210 648 A
1530 V
(04102)210 648 A
(int)126 1026 A
(\(isupper\)\(int)546 1194 A
1782(c\))S
1908({)S
1620 V
(04103)210 648 A
(return)252 1362 A
(isupper\(c\);)462 1656 A
1710 V
(04104)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ansi/isxdigit.c)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(04200)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
2790 V
(04201)210 648 A
2880 V
(04202)210 648 A
(int)126 1026 A
(\(isxdigit\)\(int)588 1194 A
1824(c\))S
1950({)S
2970 V
(04203)210 648 A
(return)252 1362 A
(isxdigit\(c\);)504 1656 A
3060 V
(04204)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/labs.c)798 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(04300)210 648 A
1026(/*)S
4140 V
(04301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(04302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(04303)210 648 A
1068(*/)S
4410 V
(04304)210 648 A
1026(/*)S
($Header:)336 1152 A
(labs.c,v)336 1530 A
(1.1)126 1908 A
(89/05/16)336 2076 A
(13:08:11)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
4500 V
(04305)210 648 A
4590 V
(04306)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4680 V
(04307)210 648 A
4770 V
(04308)210 648 A
(long)168 1026 A
4860 V
(04309)210 648 A
(labs\(register)546 1026 A
(long)168 1614 A
1824(l\))S
4950 V
(04310)210 648 A
1026({)S
5040 V
(04311)210 648 A
(return)252 1362 A
1656(l)S
1740(>=)S
1866(0)S
1950(?)S
2034(l)S
2118(:)S
(-l;)126 2202 A
5130 V
(04312)210 648 A
1026(})S
8418 V
EP
%%Page: 35 35
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2037(File:)S
(src/lib/ansi/ldiv.c)769 2270 A
12 B
4308(35)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/ldiv.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(04400)210 648 A
1026(/*)S
1440 V
(04401)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(04402)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(04403)210 648 A
1068(*/)S
1710 V
(04404)210 648 A
1026(/*)S
($Header:)336 1152 A
(ldiv.c,v)336 1530 A
(1.3)126 1908 A
(90/03/05)336 2076 A
(13:48:03)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
1800 V
(04405)210 648 A
1890 V
(04406)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
1980 V
(04407)210 648 A
2070 V
(04408)210 648 A
(static)252 1026 A
(long)168 1320 A
(tmp)126 1530 A
1698(=)S
(-1;)126 1782 A
2160 V
(04409)210 648 A
2250 V
(04410)210 648 A
(ldiv_t)252 1026 A
2340 V
(04411)210 648 A
(ldiv\(register)546 1026 A
(long)168 1614 A
(numer,)252 1824 A
(register)336 2118 A
(long)168 2496 A
(denom\))252 2706 A
2430 V
(04412)210 648 A
1026({)S
2520 V
(04413)210 648 A
(ldiv_t)252 1362 A
1656(r;)S
2610 V
(04414)210 648 A
2700 V
(04415)210 648 A
1362(/*)S
(The)126 1488 A
(assignment)420 1656 A
2118(of)S
(tmp)126 2244 A
(should)252 2412 A
(not)126 2706 A
2874(be)S
(optimized)378 3000 A
3420(!!)S
3546(*/)S
2790 V
(04416)210 648 A
1362(if)S
(\(tmp)168 1488 A
1698(==)S
(-1\))126 1824 A
1992({)S
2880 V
(04417)210 648 A
(tmp)126 1698 A
1866(=)S
(\(tmp)168 1950 A
2160(/)S
2244(2)S
2328(==)S
(0\);)126 2454 A
2970 V
(04418)210 648 A
1362(})S
3060 V
(04419)210 648 A
1362(if)S
(\(numer)252 1488 A
1782(==)S
1908(0\))S
2034({)S
3150 V
(04420)210 648 A
(r.quot)252 1698 A
1992(=)S
(numer)210 2076 A
2328(/)S
(denom;)252 2412 A
3042(/*)S
(might)210 3168 A
(trap)168 3420 A
3630(if)S
(denom)210 3756 A
4008(==)S
4134(0)S
4218(*/)S
3240 V
(04421)210 648 A
(r.rem)210 1698 A
1950(=)S
(numer)210 2034 A
2286(%)S
(denom;)252 2370 A
3330 V
(04422)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
1782(\()S
(!tmp)168 1866 A
2076(&&)S
(\(\(numer)294 2202 A
2538(<)S
2622(0\))S
2748(!=)S
(\(denom)252 2874 A
3168(<)S
(0\)\)\))168 3252 A
3462({)S
3420 V
(04423)210 648 A
(r.quot)252 1698 A
1992(=)S
(\(numer)252 2076 A
2370(/)S
(denom\))252 2454 A
2748(+)S
2832(1;)S
3510 V
(04424)210 648 A
(r.rem)210 1698 A
1950(=)S
(numer)210 2034 A
2286(-)S
(\(numer)252 2370 A
2664(/)S
(denom)210 2748 A
3000(+)S
3084(1\))S
3210(*)S
(denom;)252 3294 A
3600 V
(04425)210 648 A
1362(})S
(else)168 1446 A
1656({)S
3690 V
(04426)210 648 A
(r.quot)252 1698 A
1992(=)S
(numer)210 2076 A
2328(/)S
(denom;)252 2412 A
3780 V
(04427)210 648 A
(r.rem)210 1698 A
1950(=)S
(numer)210 2034 A
2286(%)S
(denom;)252 2370 A
3870 V
(04428)210 648 A
1362(})S
3960 V
(04429)210 648 A
(return)252 1362 A
1656(r;)S
4050 V
(04430)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/localeconv.c)1050 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(04500)210 648 A
1026(/*)S
5040 V
(04501)210 648 A
1068(*)S
(localeconv)420 1152 A
1614(-)S
(set)126 1698 A
(components)420 1866 A
2328(of)S
2454(a)S
(struct)252 2538 A
(according)378 2832 A
3252(to)S
(current)294 3378 A
(locale)252 3714 A
5130 V
(04502)210 648 A
1068(*/)S
5220 V
(04503)210 648 A
1026(/*)S
($Header:)336 1152 A
(localeconv.c,v)588 1530 A
(1.2)126 2160 A
(89/12/18)336 2328 A
(15:48:58)336 2706 A
(eck)126 3084 A
(Exp)126 3252 A
3420($)S
3504(*/)S
5310 V
(04504)210 648 A
5400 V
(04505)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
5490 V
(04506)210 648 A
(#include)336 1026 A
(<locale.h>)420 1698 A
5580 V
(04507)210 648 A
5670 V
(04508)210 648 A
(extern)252 1026 A
(struct)252 1320 A
(lconv)210 1614 A
(_lc;)168 1866 A
5760 V
(04509)210 648 A
5850 V
(04510)210 648 A
(struct)252 1026 A
(lconv)210 1320 A
1572(*)S
5940 V
(04511)210 648 A
(localeconv\(void\))672 1026 A
6030 V
(04512)210 648 A
1026({)S
6120 V
(04513)210 648 A
(register)336 1362 A
(struct)252 1740 A
(lconv)210 2034 A
(*lcp)168 2286 A
2496(=)S
(&_lc;)210 2580 A
6210 V
(04514)210 648 A
8418 V
EP
%%Page: 36 36
BP
/slant 0 def
/height 0 def
630 V
12 B
648(36)S
11 R
1882(File:)S
(src/lib/ansi/localeconv.c)1079 2115 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(04515)210 648 A
(lcp->decimal_point)756 1362 A
2160(=)S
(".";)168 2244 A
990 V
(04516)210 648 A
(lcp->thousands_sep)756 1362 A
2160(=)S
("";)126 2244 A
1080 V
(04517)210 648 A
(lcp->grouping)546 1362 A
1950(=)S
("";)126 2034 A
1170 V
(04518)210 648 A
(lcp->int_curr_symbol)840 1362 A
2244(=)S
("";)126 2328 A
1260 V
(04519)210 648 A
(lcp->currency_symbol)840 1362 A
2244(=)S
("";)126 2328 A
1350 V
(04520)210 648 A
(lcp->mon_decimal_point)924 1362 A
2328(=)S
("";)126 2412 A
1440 V
(04521)210 648 A
(lcp->mon_thousands_sep)924 1362 A
2328(=)S
("";)126 2412 A
1530 V
(04522)210 648 A
(lcp->mon_grouping)714 1362 A
2118(=)S
("";)126 2202 A
1620 V
(04523)210 648 A
(lcp->positive_sign)756 1362 A
2160(=)S
("";)126 2244 A
1710 V
(04524)210 648 A
(lcp->negative_sign)756 1362 A
2160(=)S
("";)126 2244 A
1800 V
(04525)210 648 A
(lcp->int_frac_digits)840 1362 A
2244(=)S
(CHAR_MAX;)378 2328 A
1890 V
(04526)210 648 A
(lcp->frac_digits)672 1362 A
2076(=)S
(CHAR_MAX;)378 2160 A
1980 V
(04527)210 648 A
(lcp->p_cs_precedes)756 1362 A
2160(=)S
(CHAR_MAX;)378 2244 A
2070 V
(04528)210 648 A
(lcp->p_sep_by_space)798 1362 A
2202(=)S
(CHAR_MAX;)378 2286 A
2160 V
(04529)210 648 A
(lcp->n_cs_precedes)756 1362 A
2160(=)S
(CHAR_MAX;)378 2244 A
2250 V
(04530)210 648 A
(lcp->n_sep_by_space)798 1362 A
2202(=)S
(CHAR_MAX;)378 2286 A
2340 V
(04531)210 648 A
(lcp->p_sign_posn)672 1362 A
2076(=)S
(CHAR_MAX;)378 2160 A
2430 V
(04532)210 648 A
(lcp->n_sign_posn)672 1362 A
2076(=)S
(CHAR_MAX;)378 2160 A
2520 V
(04533)210 648 A
2610 V
(04534)210 648 A
(return)252 1362 A
(lcp;)168 1656 A
2700 V
(04535)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ansi/localtime.c)1008 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(04600)210 648 A
1026(/*)S
3690 V
(04601)210 648 A
1068(*)S
(localtime)378 1152 A
1572(-)S
(convert)294 1656 A
1992(a)S
(calendar)336 2076 A
(time)168 2454 A
(into)168 2664 A
(broken)252 2874 A
(down)168 3168 A
(time)168 3378 A
3780 V
(04602)210 648 A
1068(*/)S
3870 V
(04603)210 648 A
1026(/*)S
($Header:)336 1152 A
(localtime.c,v)546 1530 A
(1.3)126 2118 A
(91/04/22)336 2286 A
(13:20:36)336 2664 A
(ceriel)252 3042 A
(Exp)126 3336 A
3504($)S
3588(*/)S
3960 V
(04604)210 648 A
4050 V
(04605)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
4140 V
(04606)210 648 A
(#include)336 1026 A
("loc_time.h")504 1698 A
4230 V
(04607)210 648 A
4320 V
(04608)210 648 A
1026(/*)S
1152(We)S
(must)168 1278 A
1488(be)S
(careful,)336 1614 A
(since)210 1992 A
2244(an)S
(int)126 2370 A
(can't)210 2538 A
(represent)378 2790 A
(all)126 3210 A
(the)126 3378 A
(seconds)294 3546 A
3882(in)S
4008(a)S
(day.)168 4092 A
4410 V
(04609)210 648 A
1068(*)S
(Hence)210 1152 A
(the)126 1404 A
(adjustment)420 1572 A
2034(of)S
(minutes)294 2160 A
(when)168 2496 A
(adding)252 2706 A
(timezone)336 3000 A
(and)126 3378 A
(dst)126 3546 A
(information.)504 3714 A
4500 V
(04610)210 648 A
1068(*)S
(This)168 1152 A
(assumes)294 1362 A
(that)168 1698 A
(both)168 1908 A
(must)168 2118 A
2328(be)S
(expressable)462 2454 A
2958(in)S
(multiples)378 3084 A
3504(of)S
3630(a)S
(minute.)294 3714 A
4590 V
(04611)210 648 A
1068(*)S
(Furthermore,)504 1152 A
1698(it)S
1824(is)S
(assumed)294 1950 A
(that)168 2286 A
(both)168 2496 A
(fit)126 2706 A
(into)168 2874 A
3084(an)S
(integer)294 3210 A
(when)168 3546 A
(expressed)378 3756 A
4176(as)S
4680 V
(04612)210 648 A
1068(*)S
(minutes)294 1152 A
(\(this)210 1488 A
1740(is)S
(about)210 1866 A
2118(22)S
(days,)210 2244 A
2496(so)S
(this)168 2622 A
(should)252 2832 A
(not)126 3126 A
(cause)210 3294 A
(any)126 3546 A
(problems\).)420 3714 A
4770 V
(04613)210 648 A
1068(*/)S
4860 V
(04614)210 648 A
(struct)252 1026 A
1320(tm)S
1446(*)S
4950 V
(04615)210 648 A
(localtime\(const)630 1026 A
(time_t)252 1698 A
(*timer\))294 1992 A
5040 V
(04616)210 648 A
1026({)S
5130 V
(04617)210 648 A
(struct)252 1362 A
1656(tm)S
(*timep;)294 1782 A
5220 V
(04618)210 648 A
(unsigned)336 1362 A
(dst;)168 1740 A
5310 V
(04619)210 648 A
5400 V
(04620)210 648 A
(_tzset\(\);)378 1362 A
5490 V
(04621)210 648 A
(timep)210 1362 A
1614(=)S
(gmtime\(timer\);)588 1698 A
3042(/*)S
(tm->tm_isdst)504 3168 A
3714(==)S
3840(0)S
3924(*/)S
5580 V
(04622)210 648 A
(timep->tm_min)546 1362 A
1950(-=)S
(_timezone)378 2076 A
2496(/)S
(60;)126 2580 A
5670 V
(04623)210 648 A
(timep->tm_sec)546 1362 A
1950(-=)S
(_timezone)378 2076 A
2496(%)S
(60;)126 2580 A
5760 V
(04624)210 648 A
(mktime\(timep\);)588 1362 A
5850 V
(04625)210 648 A
5940 V
(04626)210 648 A
(dst)126 1362 A
1530(=)S
(_dstget\(timep\);)630 1614 A
6030 V
(04627)210 648 A
1362(if)S
(\(dst\))210 1488 A
1740({)S
6120 V
(04628)210 648 A
(timep->tm_min)546 1698 A
2286(+=)S
(dst)126 2412 A
2580(/)S
(60;)126 2664 A
6210 V
(04629)210 648 A
(timep->tm_sec)546 1698 A
2286(+=)S
(dst)126 2412 A
2580(%)S
(60;)126 2664 A
8418 V
EP
%%Page: 37 37
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1915(File:)S
(src/lib/ansi/localtime.c)1012 2148 A
12 B
4308(37)S
900 V
7 LST
(04630)210 648 A
(mktime\(timep\);)588 1698 A
990 V
(04631)210 648 A
1362(})S
1080 V
(04632)210 648 A
(return)252 1362 A
(timep;)252 1656 A
1170 V
(04633)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/ansi/malloc.c)882 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(04700)210 648 A
1026(/*)S
($Header$)336 1152 A
1530(*/)S
1890 V
(04701)210 648 A
1980 V
(04702)210 648 A
1026(/*)S
(replace)294 1152 A
(undef)210 1488 A
1740(by)S
(define)252 1866 A
2160(*/)S
2070 V
(04703)210 648 A
(#undef)252 1026 A
(DEBUG)210 1404 A
2034(/*)S
(check)210 2160 A
(assertions)420 2412 A
2874(*/)S
2160 V
(04704)210 648 A
(#undef)252 1026 A
(SLOWDEBUG)378 1404 A
2034(/*)S
(some)168 2160 A
(extra)210 2370 A
(test)168 2622 A
(loops)210 2832 A
(\(requires)378 3084 A
(DEBUG\))252 3504 A
3798(*/)S
2250 V
(04705)210 648 A
2340 V
(04706)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2430 V
(04707)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2520 V
(04708)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2610 V
(04709)210 648 A
2700 V
(04710)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2790 V
(04711)210 648 A
(#define)294 1026 A
(ASSERT\(b\))378 1362 A
2034(if)S
(\(!\(b\)\))252 2160 A
(assert_failed\(\);)672 2454 A
2880 V
(04712)210 648 A
(#else)210 1026 A
2970 V
(04713)210 648 A
(#define)294 1026 A
(ASSERT\(b\))378 1362 A
2034(/*)S
(empty)210 2160 A
2412(*/)S
3060 V
(04714)210 648 A
(#endif)252 1026 A
3150 V
(04715)210 648 A
3240 V
(04716)210 648 A
(#if)126 1026 A
(_EM_WSIZE)378 1194 A
1614(==)S
(_EM_PSIZE)378 1740 A
3330 V
(04717)210 648 A
(#define)294 1026 A
(ptrint)252 1362 A
(int)126 2034 A
3420 V
(04718)210 648 A
(#else)210 1026 A
3510 V
(04719)210 648 A
(#define)294 1026 A
(ptrint)252 1362 A
(long)168 2034 A
3600 V
(04720)210 648 A
(#endif)252 1026 A
3690 V
(04721)210 648 A
3780 V
(04722)210 648 A
(#if)126 1026 A
(_EM_PSIZE)378 1362 A
1782(==)S
1908(2)S
3870 V
(04723)210 648 A
(#define)294 1026 A
(BRKSIZE)294 1362 A
(1024)168 2034 A
3960 V
(04724)210 648 A
(#else)210 1026 A
4050 V
(04725)210 648 A
(#define)294 1026 A
(BRKSIZE)294 1362 A
(4096)168 2034 A
4140 V
(04726)210 648 A
(#endif)252 1026 A
4230 V
(04727)210 648 A
(#define)294 1026 A
(PTRSIZE)294 1362 A
(\(\(int\))252 2034 A
(sizeof\(void)462 2328 A
(*\)\))126 2832 A
4320 V
(04728)210 648 A
(#define)294 1026 A
(Align\(x,a\))420 1362 A
(\(\(\(x\))210 2034 A
2286(+)S
2370(\(a)S
2496(-)S
(1\)\))126 2580 A
2748(&)S
(\304\(a)126 2832 A
3000(-)S
(1\)\))126 3084 A
4410 V
(04729)210 648 A
(#define)294 1026 A
(NextSlot\(p\))462 1362 A
2034(\(*)S
(\(void)210 2160 A
(**\))126 2412 A
(\(\(p\))168 2580 A
2790(-)S
(PTRSIZE\)\))378 2874 A
4500 V
(04730)210 648 A
(#define)294 1026 A
(NextFree\(p\))462 1362 A
2034(\(*)S
(\(void)210 2160 A
(**\))126 2412 A
(\(p\)\))168 2580 A
4590 V
(04731)210 648 A
4680 V
(04732)210 648 A
1026(/*)S
4770 V
(04733)210 648 A
1068(*)S
1152(A)S
(short)210 1236 A
(explanation)462 1488 A
1992(of)S
(the)126 2118 A
(data)168 2286 A
(structure)378 2496 A
(and)126 2916 A
(algorithms.)462 3084 A
4860 V
(04734)210 648 A
1068(*)S
1152(An)S
(area)168 1278 A
(returned)336 1488 A
1866(by)S
(malloc\(\))336 1992 A
2370(is)S
(called)252 2496 A
2790(a)S
(slot.)210 2874 A
(Each)168 3126 A
(slot)168 3336 A
4950 V
(04735)210 648 A
1068(*)S
(contains)336 1152 A
(the)126 1530 A
(number)252 1698 A
1992(of)S
(bytes)210 2118 A
(requested,)420 2370 A
(but)126 2832 A
(preceeded)378 3000 A
3420(by)S
5040 V
(04736)210 648 A
1068(*)S
1152(an)S
(extra)210 1278 A
(pointer)294 1530 A
1866(to)S
(the)126 1992 A
(next)168 2160 A
(the)126 2370 A
(slot)168 2538 A
2748(in)S
(memory.)294 2874 A
5130 V
(04737)210 648 A
1068(*)S
('_bottom')378 1152 A
(and)126 1572 A
('_top')252 1740 A
(point)210 2034 A
2286(to)S
(the)126 2412 A
(first/last)420 2580 A
(slot.)210 3042 A
5220 V
(04738)210 648 A
1068(*)S
(More)168 1152 A
(memory)252 1362 A
1656(is)S
(asked)210 1782 A
(for)126 2034 A
(using)210 2202 A
(brk\(\))210 2454 A
(and)126 2706 A
(appended)336 2874 A
3252(to)S
(top.)168 3378 A
5310 V
(04739)210 648 A
1068(*)S
(The)126 1152 A
(list)168 1320 A
1530(of)S
(free)168 1656 A
(slots)210 1866 A
2118(is)S
(maintained)420 2244 A
2706(to)S
(keep)168 2832 A
(malloc\(\))336 3042 A
(fast.)210 3420 A
5400 V
(04740)210 648 A
1068(*)S
('_empty')336 1152 A
(points)252 1530 A
(the)126 1824 A
(the)126 1992 A
(first)210 2160 A
(free)168 2412 A
(slot.)210 2622 A
(Free)168 2874 A
(slots)210 3084 A
(are)126 3336 A
5490 V
(04741)210 648 A
1068(*)S
(linked)252 1152 A
(together)336 1446 A
1824(by)S
1950(a)S
(pointer)294 2034 A
2370(at)S
(the)126 2496 A
(start)210 2664 A
2916(of)S
(the)126 3042 A
5580 V
(04742)210 648 A
1068(*)S
(user)168 1152 A
(visable)294 1362 A
(part,)210 1698 A
1950(so)S
(just)168 2076 A
(after)210 2286 A
(the)126 2538 A
(next-slot)378 2706 A
(pointer.)336 3126 A
5670 V
(04743)210 648 A
1068(*)S
(Free)168 1152 A
(slots)210 1362 A
(are)126 1614 A
(merged)252 1782 A
(together)336 2076 A
2454(by)S
(free\(\).)294 2580 A
5760 V
(04744)210 648 A
1068(*/)S
5850 V
(04745)210 648 A
5940 V
(04746)210 648 A
(extern)252 1026 A
(void)168 1320 A
(*_sbrk\(int\);)504 1530 A
6030 V
(04747)210 648 A
(extern)252 1026 A
(int)126 1320 A
(_brk\(void)378 1488 A
(*\);)126 1908 A
6120 V
(04748)210 648 A
(static)252 1026 A
(void)168 1320 A
(*_bottom,)378 1530 A
(*_top,)252 1950 A
(*_empty;)336 2244 A
6210 V
(04749)210 648 A
8418 V
EP
%%Page: 38 38
BP
/slant 0 def
/height 0 def
630 V
12 B
648(38)S
11 R
1971(File:)S
(src/lib/ansi/malloc.c)900 2204 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(04750)210 648 A
(static)252 1026 A
(int)126 1320 A
(grow\(size_t)462 1488 A
(len\))168 1992 A
990 V
(04751)210 648 A
1026({)S
1080 V
(04752)210 648 A
(register)336 1110 A
(char)168 1488 A
(*p;)126 1698 A
1170 V
(04753)210 648 A
1260 V
(04754)210 648 A
(ASSERT\(NextSlot\(\(char)882 1110 A
(*\)_top\))294 2034 A
2370(==)S
(0\);)126 2496 A
1350 V
(04755)210 648 A
(errno)210 1110 A
1362(=)S
(ENOMEM;)294 1446 A
1440 V
(04756)210 648 A
1110(if)S
(\(\(char)252 1236 A
1530(*\))S
(_top)168 1656 A
1866(+)S
(len)126 1950 A
2118(<)S
(\(char)210 2202 A
2454(*\))S
(_top)168 2580 A
1530 V
(04757)210 648 A
1278(||)S
1404(\(p)S
1530(=)S
(\(char)210 1614 A
(*\)Align\(\(ptrint\)_top)840 1866 A
2748(+)S
(len,)168 2832 A
(BRKSIZE\)\))378 3042 A
3462(<)S
(\(char)210 3546 A
3798(*\))S
(_top)168 3924 A
1620 V
(04758)210 648 A
1278(||)S
(_brk\(p\))294 1404 A
1740(!=)S
1866(0\))S
1710 V
(04759)210 648 A
(return\(0\);)420 1362 A
1800 V
(04760)210 648 A
(NextSlot\(\(char)588 1110 A
(*\)_top\))294 1740 A
2076(=)S
2160(p;)S
1890 V
(04761)210 648 A
(NextSlot\(p\))462 1110 A
1614(=)S
1698(0;)S
1980 V
(04762)210 648 A
(free\(_top\);)462 1110 A
2070 V
(04763)210 648 A
(_top)168 1110 A
1320(=)S
1404(p;)S
2160 V
(04764)210 648 A
(return)252 1110 A
1404(1;)S
2250 V
(04765)210 648 A
1026(})S
2430 V
(04767)210 648 A
(void)168 1026 A
1236(*)S
2520 V
(04768)210 648 A
(malloc\(size_t)546 1026 A
(size\))210 1614 A
2610 V
(04769)210 648 A
1026({)S
2700 V
(04770)210 648 A
(register)336 1110 A
(char)168 1488 A
(*prev,)252 1698 A
(*p,)126 1992 A
(*next,)252 2160 A
(*new;)210 2454 A
2790 V
(04771)210 648 A
(register)336 1110 A
(unsigned)336 1488 A
(len,)168 1866 A
(ntries;)294 2076 A
2880 V
(04772)210 648 A
2970 V
(04773)210 648 A
1110(if)S
(\(size)210 1236 A
1488(==)S
1614(0\))S
(return)252 1740 A
(NULL;)210 2034 A
3060 V
(04774)210 648 A
(errno)210 1110 A
1362(=)S
(ENOMEM;)294 1446 A
3150 V
(04775)210 648 A
(for)126 1110 A
(\(ntries)294 1278 A
1614(=)S
1698(0;)S
(ntries)252 1824 A
2118(<)S
2202(2;)S
(ntries++\))378 2328 A
2748({)S
3240 V
(04776)210 648 A
1362(if)S
(\(\(len)210 1488 A
1740(=)S
(Align\(size,)462 1824 A
(PTRSIZE\))336 2328 A
2706(+)S
(PTRSIZE\))336 2790 A
3168(<)S
3252(2)S
3336(*)S
(PTRSIZE\))336 3420 A
3330 V
(04777)210 648 A
(return)252 1698 A
(NULL;)210 1992 A
3420 V
(04778)210 648 A
1362(if)S
(\(_bottom)336 1488 A
1866(==)S
1992(0\))S
2118({)S
3510 V
(04779)210 648 A
1698(if)S
(\(\(p)126 1824 A
1992(=)S
(_sbrk\(2)294 2076 A
2412(*)S
(PTRSIZE\)\))378 2496 A
2916(==)S
(\(char)210 3042 A
3294(*\))S
(-1\))126 3420 A
3600 V
(04780)210 648 A
(return)252 2034 A
(NULL;)210 2328 A
3690 V
(04781)210 648 A
1698(p)S
1782(=)S
(\(char)210 1866 A
2118(*\))S
(Align\(\(ptrint\)p,)672 2244 A
(PTRSIZE\);)378 2958 A
3780 V
(04782)210 648 A
1698(p)S
1782(+=)S
(PTRSIZE;)336 1908 A
3870 V
(04783)210 648 A
(_top)168 1698 A
1908(=)S
(_bottom)294 1992 A
2328(=)S
2412(p;)S
3960 V
(04784)210 648 A
(NextSlot\(p\))462 1698 A
2202(=)S
2286(0;)S
4050 V
(04785)210 648 A
1362(})S
4140 V
(04786)210 648 A
(#ifdef)252 1026 A
(SLOWDEBUG)378 1320 A
4230 V
(04787)210 648 A
(for)126 1362 A
1530(\(p)S
1656(=)S
(_bottom;)336 1740 A
(\(next)210 2118 A
2370(=)S
(NextSlot\(p\)\))504 2454 A
3000(!=)S
3126(0;)S
3252(p)S
3336(=)S
(next\))210 3420 A
4320 V
(04788)210 648 A
(ASSERT\(next)462 1698 A
2202(>)S
(p\);)126 2286 A
4410 V
(04789)210 648 A
(ASSERT\(p)336 1362 A
1740(==)S
(_top\);)252 1866 A
4500 V
(04790)210 648 A
(#endif)252 1026 A
4590 V
(04791)210 648 A
(for)126 1362 A
(\(prev)210 1530 A
1782(=)S
1866(0,)S
1992(p)S
2076(=)S
(_empty;)294 2160 A
2496(p)S
2580(!=)S
2706(0;)S
(prev)168 2832 A
3042(=)S
3126(p,)S
3252(p)S
3336(=)S
(NextFree\(p\)\))504 3420 A
3966({)S
4680 V
(04792)210 648 A
(next)168 1698 A
1908(=)S
(NextSlot\(p\);)504 1992 A
4770 V
(04793)210 648 A
(new)126 1698 A
1866(=)S
1950(p)S
2034(+)S
(len;)168 2118 A
2370(/*)S
(easily)252 2496 A
(overflows!!)462 2790 A
3294(*/)S
4860 V
(04794)210 648 A
1698(if)S
(\(new)168 1824 A
2034(>)S
(next)168 2118 A
2328(||)S
(new)126 2454 A
2622(<=)S
2748(p\))S
4950 V
(04795)210 648 A
(continue;)378 2034 A
3042(/*)S
(too)126 3168 A
(small)210 3336 A
3588(*/)S
5040 V
(04796)210 648 A
1698(if)S
(\(new)168 1824 A
2034(+)S
(PTRSIZE)294 2118 A
2454(<)S
(next\))210 2538 A
2790({)S
3042(/*)S
(too)126 3168 A
(big,)168 3336 A
3546(so)S
(split)210 3672 A
3924(*/)S
5130 V
(04797)210 648 A
2034(/*)S
2160(+)S
(PTRSIZE)294 2244 A
(avoids)252 2580 A
(tiny)168 2874 A
(slots)210 3084 A
3336(on)S
(free)168 3462 A
(list)168 3672 A
3882(*/)S
5220 V
(04798)210 648 A
(NextSlot\(new\))546 2034 A
2622(=)S
(next;)210 2706 A
5310 V
(04799)210 648 A
(NextSlot\(p\))462 2034 A
2538(=)S
(new;)168 2622 A
5400 V
(04800)210 648 A
(NextFree\(new\))546 2034 A
2622(=)S
(NextFree\(p\);)504 2706 A
5490 V
(04801)210 648 A
(NextFree\(p\))462 2034 A
2538(=)S
(new;)168 2622 A
5580 V
(04802)210 648 A
1698(})S
5670 V
(04803)210 648 A
1698(if)S
(\(prev\))252 1824 A
5760 V
(04804)210 648 A
(NextFree\(prev\))588 2034 A
2664(=)S
(NextFree\(p\);)504 2748 A
5850 V
(04805)210 648 A
(else)168 1698 A
5940 V
(04806)210 648 A
(_empty)252 2034 A
2328(=)S
(NextFree\(p\);)504 2412 A
6030 V
(04807)210 648 A
(return)252 1698 A
1992(p;)S
6120 V
(04808)210 648 A
1362(})S
6210 V
(04809)210 648 A
1362(if)S
(\(grow\(len\))420 1488 A
1950(==)S
2076(0\))S
8418 V
EP
%%Page: 39 39
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1971(File:)S
(src/lib/ansi/malloc.c)900 2204 A
12 B
4308(39)S
900 V
7 LST
(04810)210 648 A
(break;)252 1698 A
990 V
(04811)210 648 A
1110(})S
1080 V
(04812)210 648 A
(ASSERT\(ntries)546 1110 A
1698(!=)S
(2\);)126 1824 A
1170 V
(04813)210 648 A
(return)252 1110 A
(NULL;)210 1404 A
1260 V
(04814)210 648 A
1026(})S
1440 V
(04816)210 648 A
(void)168 1026 A
1236(*)S
1530 V
(04817)210 648 A
(realloc\(void)504 1026 A
(*oldp,)252 1572 A
(size_t)252 1866 A
(size\))210 2160 A
1620 V
(04818)210 648 A
1026({)S
1710 V
(04819)210 648 A
(register)336 1110 A
(char)168 1488 A
(*prev,)252 1698 A
(*p,)126 1992 A
(*next,)252 2160 A
(*new;)210 2454 A
1800 V
(04820)210 648 A
(char)168 1110 A
(*old)168 1320 A
1530(=)S
(oldp;)210 1614 A
1890 V
(04821)210 648 A
(register)336 1110 A
(size_t)252 1488 A
(len,)168 1782 A
1992(n;)S
1980 V
(04822)210 648 A
2070 V
(04823)210 648 A
1110(if)S
(\(!old\))252 1236 A
(return)252 1530 A
(malloc\(size\);)546 1824 A
2160 V
(04824)210 648 A
(else)168 1110 A
1320(if)S
(\(!size\))294 1446 A
1782({)S
2250 V
(04825)210 648 A
(free\(oldp\);)462 1362 A
2340 V
(04826)210 648 A
(return)252 1362 A
(NULL;)210 1656 A
2430 V
(04827)210 648 A
1110(})S
2520 V
(04828)210 648 A
(len)126 1110 A
1278(=)S
(Align\(size,)462 1362 A
(PTRSIZE\))336 1866 A
2244(+)S
(PTRSIZE;)336 2328 A
2610 V
(04829)210 648 A
(next)168 1110 A
1320(=)S
(NextSlot\(old\);)588 1404 A
2700 V
(04830)210 648 A
1110(n)S
1194(=)S
(\(int\)\(next)420 1278 A
1740(-)S
(old\);)210 1824 A
3042(/*)S
(old)126 3168 A
(length)252 3336 A
3630(*/)S
2790 V
(04831)210 648 A
1110(/*)S
2880 V
(04832)210 648 A
1152(*)S
(extend)252 1236 A
(old)126 1530 A
1698(if)S
(there)210 1824 A
2076(is)S
(any)126 2202 A
(free)168 2370 A
(space)210 2580 A
(just)168 2832 A
(behind)252 3042 A
3336(it)S
2970 V
(04833)210 648 A
1152(*/)S
3060 V
(04834)210 648 A
(for)126 1110 A
(\(prev)210 1278 A
1530(=)S
1614(0,)S
1740(p)S
1824(=)S
(_empty;)294 1908 A
2244(p)S
2328(!=)S
2454(0;)S
(prev)168 2580 A
2790(=)S
2874(p,)S
3000(p)S
3084(=)S
(NextFree\(p\)\))504 3168 A
3714({)S
3150 V
(04835)210 648 A
1362(if)S
1488(\(p)S
1614(>)S
(next\))210 1698 A
3240 V
(04836)210 648 A
(break;)252 1698 A
3330 V
(04837)210 648 A
1362(if)S
1488(\(p)S
1614(==)S
(next\))210 1740 A
1992({)S
2370(/*)S
('next')252 2496 A
2790(is)S
2916(a)S
(free)168 3000 A
(slot:)210 3210 A
(merge)210 3462 A
3714(*/)S
3420 V
(04838)210 648 A
(NextSlot\(old\))546 1698 A
2286(=)S
(NextSlot\(p\);)504 2370 A
3510 V
(04839)210 648 A
1698(if)S
(\(prev\))252 1824 A
3600 V
(04840)210 648 A
(NextFree\(prev\))588 2034 A
2664(=)S
(NextFree\(p\);)504 2748 A
3690 V
(04841)210 648 A
(else)168 1698 A
3780 V
(04842)210 648 A
(_empty)252 2034 A
2328(=)S
(NextFree\(p\);)504 2412 A
3870 V
(04843)210 648 A
(next)168 1698 A
1908(=)S
(NextSlot\(old\);)588 1992 A
3960 V
(04844)210 648 A
(break;)252 1698 A
4050 V
(04845)210 648 A
1362(})S
4140 V
(04846)210 648 A
1110(})S
4230 V
(04847)210 648 A
(new)126 1110 A
1278(=)S
(old)126 1362 A
1530(+)S
(len;)168 1614 A
4320 V
(04848)210 648 A
1110(/*)S
4410 V
(04849)210 648 A
1152(*)S
(Can)126 1236 A
1404(we)S
(use)126 1530 A
(the)126 1698 A
(old,)168 1866 A
(possibly)336 2076 A
(extended)336 2454 A
(slot?)210 2832 A
4500 V
(04850)210 648 A
1152(*/)S
4590 V
(04851)210 648 A
1110(if)S
(\(new)168 1236 A
1446(<=)S
(next)168 1572 A
1782(&&)S
(new)126 1908 A
2076(>=)S
(old\))168 2202 A
2412({)S
3042(/*)S
3168(it)S
(does)168 3294 A
(fit)126 3504 A
3672(*/)S
4680 V
(04852)210 648 A
1362(if)S
(\(new)168 1488 A
1698(+)S
(PTRSIZE)294 1782 A
2118(<)S
(next\))210 2202 A
2454({)S
3042(/*)S
(too)126 3168 A
(big,)168 3336 A
3546(so)S
(split)210 3672 A
3924(*/)S
4770 V
(04853)210 648 A
1698(/*)S
1824(+)S
(PTRSIZE)294 1908 A
(avoids)252 2244 A
(tiny)168 2538 A
(slots)210 2748 A
3000(on)S
(free)168 3126 A
(list)168 3336 A
3546(*/)S
4860 V
(04854)210 648 A
(NextSlot\(new\))546 1698 A
2286(=)S
(next;)210 2370 A
4950 V
(04855)210 648 A
(NextSlot\(old\))546 1698 A
2286(=)S
(new;)168 2370 A
5040 V
(04856)210 648 A
(free\(new\);)420 1698 A
5130 V
(04857)210 648 A
1362(})S
5220 V
(04858)210 648 A
(return)252 1362 A
(old;)168 1656 A
5310 V
(04859)210 648 A
1110(})S
5400 V
(04860)210 648 A
1110(if)S
(\(\(new)210 1236 A
1488(=)S
(malloc\(size\)\))546 1572 A
2160(==)S
(NULL\))210 2286 A
3042(/*)S
3168(it)S
(didn't)252 3294 A
(fit)126 3588 A
3756(*/)S
5490 V
(04861)210 648 A
(return)252 1362 A
(NULL;)210 1656 A
5580 V
(04862)210 648 A
(memcpy\(new,)462 1110 A
(old,)168 1614 A
(n\);)126 1824 A
3042(/*)S
3168(n)S
3252(<)S
(size)168 3336 A
3546(*/)S
5670 V
(04863)210 648 A
(free\(old\);)420 1110 A
5760 V
(04864)210 648 A
(return)252 1110 A
(new;)168 1404 A
5850 V
(04865)210 648 A
1026(})S
6030 V
(04867)210 648 A
(void)168 1026 A
6120 V
(04868)210 648 A
(free\(void)378 1026 A
(*ptr\))210 1446 A
6210 V
(04869)210 648 A
1026({)S
8418 V
EP
%%Page: 40 40
BP
/slant 0 def
/height 0 def
630 V
12 B
648(40)S
11 R
1971(File:)S
(src/lib/ansi/malloc.c)900 2204 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(04870)210 648 A
(register)336 1110 A
(char)168 1488 A
(*prev,)252 1698 A
(*next;)252 1992 A
990 V
(04871)210 648 A
(char)168 1110 A
1320(*p)S
1446(=)S
(ptr;)168 1530 A
1080 V
(04872)210 648 A
1170 V
(04873)210 648 A
1110(if)S
(\(!p\))168 1236 A
(return;)294 1446 A
1260 V
(04874)210 648 A
1350 V
(04875)210 648 A
(ASSERT\(NextSlot\(p\))756 1110 A
1908(>)S
(p\);)126 1992 A
1440 V
(04876)210 648 A
(for)126 1110 A
(\(prev)210 1278 A
1530(=)S
1614(0,)S
(next)168 1740 A
1950(=)S
(_empty;)294 2034 A
(next)168 2370 A
2580(!=)S
2706(0;)S
(prev)168 2832 A
3042(=)S
(next,)210 3126 A
(next)168 3378 A
3588(=)S
(NextFree\(next\)\))630 3672 A
1530 V
(04877)210 648 A
1362(if)S
1488(\(p)S
1614(<)S
(next\))210 1698 A
1620 V
(04878)210 648 A
(break;)252 1698 A
1710 V
(04879)210 648 A
(NextFree\(p\))462 1110 A
1614(=)S
(next;)210 1698 A
1800 V
(04880)210 648 A
1110(if)S
(\(prev\))252 1236 A
1890 V
(04881)210 648 A
(NextFree\(prev\))588 1362 A
1992(=)S
2076(p;)S
1980 V
(04882)210 648 A
(else)168 1110 A
2070 V
(04883)210 648 A
(_empty)252 1362 A
1656(=)S
1740(p;)S
2160 V
(04884)210 648 A
1110(if)S
(\(next\))252 1236 A
1530({)S
2250 V
(04885)210 648 A
(ASSERT\(NextSlot\(p\))756 1362 A
2160(<=)S
(next\);)252 2286 A
2340 V
(04886)210 648 A
1362(if)S
(\(NextSlot\(p\))504 1488 A
2034(==)S
(next\))210 2160 A
2412({)S
3042(/*)S
(merge)210 3168 A
3420(p)S
(and)126 3504 A
(next)168 3672 A
3882(*/)S
2430 V
(04887)210 648 A
(NextSlot\(p\))462 1698 A
2202(=)S
(NextSlot\(next\);)630 2286 A
2520 V
(04888)210 648 A
(NextFree\(p\))462 1698 A
2202(=)S
(NextFree\(next\);)630 2286 A
2610 V
(04889)210 648 A
1362(})S
2700 V
(04890)210 648 A
1110(})S
2790 V
(04891)210 648 A
1110(if)S
(\(prev\))252 1236 A
1530({)S
2880 V
(04892)210 648 A
(ASSERT\(NextSlot\(prev\))882 1362 A
2286(<=)S
(p\);)126 2412 A
2970 V
(04893)210 648 A
1362(if)S
(\(NextSlot\(prev\))630 1488 A
2160(==)S
2286(p\))S
2412({)S
3042(/*)S
(merge)210 3168 A
(prev)168 3420 A
(and)126 3630 A
3798(p)S
3882(*/)S
3060 V
(04894)210 648 A
(NextSlot\(prev\))588 1698 A
2328(=)S
(NextSlot\(p\);)504 2412 A
3150 V
(04895)210 648 A
(NextFree\(prev\))588 1698 A
2328(=)S
(NextFree\(p\);)504 2412 A
3240 V
(04896)210 648 A
1362(})S
3330 V
(04897)210 648 A
1110(})S
3420 V
(04898)210 648 A
1026(})S
3600 V
(04900)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
3690 V
(04901)210 648 A
(static)252 1026 A
(assert_failed\(\))630 1320 A
3780 V
(04902)210 648 A
1026({)S
3870 V
(04903)210 648 A
(write\(2,)336 1362 A
("assert)294 1740 A
(failed)252 2076 A
2370(in)S
(lib/malloc.c\\n",)672 2496 A
(30\);)168 3210 A
3960 V
(04904)210 648 A
(abort\(\);)336 1362 A
4050 V
(04905)210 648 A
1026(})S
4140 V
(04906)210 648 A
(#endif)252 1026 A
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/mblen.c)840 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(05000)210 648 A
1026(/*)S
5040 V
(05001)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(05002)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(05003)210 648 A
1068(*/)S
5310 V
(05004)210 648 A
1026(/*)S
($Header:)336 1152 A
(mblen.c,v)378 1530 A
(1.2)126 1950 A
(89/12/18)336 2118 A
(15:12:50)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
5400 V
(05005)210 648 A
5490 V
(05006)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5580 V
(05007)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
5670 V
(05008)210 648 A
5760 V
(05009)210 648 A
(#define)294 1026 A
(CHAR_SHIFT)420 1362 A
2034(8)S
5850 V
(05010)210 648 A
5940 V
(05011)210 648 A
(int)126 1026 A
6030 V
(05012)210 648 A
(mblen\(const)462 1026 A
(char)168 1530 A
(*s,)126 1740 A
(size_t)252 1908 A
2202(n\))S
6120 V
(05013)210 648 A
1026({)S
6210 V
(05014)210 648 A
1362(if)S
1488(\(s)S
1614(==)S
(\(const)252 1740 A
(char)168 2034 A
(*\)NULL\))294 2244 A
(return)252 2580 A
2874(0;)S
3042(/*)S
3168(no)S
(state)210 3294 A
(dependent)378 3546 A
(codings)294 3966 A
4302(*/)S
8418 V
EP
%%Page: 41 41
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1984(File:)S
(src/lib/ansi/mblen.c)874 2217 A
12 B
4308(41)S
900 V
7 LST
(05015)210 648 A
1362(if)S
1488(\(n)S
1614(<=)S
1740(0\))S
(return)252 1866 A
2160(0;)S
990 V
(05016)210 648 A
(return)252 1362 A
(\(*s)126 1656 A
1824(!=)S
(0\);)126 1950 A
1080 V
(05017)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/ansi/mbstowcs.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(05100)210 648 A
1026(/*)S
1890 V
(05101)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1980 V
(05102)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2070 V
(05103)210 648 A
1068(*/)S
2160 V
(05104)210 648 A
1026(/*)S
($Header:)336 1152 A
(mbstowcs.c,v)504 1530 A
(1.2)126 2076 A
(89/12/18)336 2244 A
(15:12:59)336 2622 A
(eck)126 3000 A
(Exp)126 3168 A
3336($)S
3420(*/)S
2250 V
(05105)210 648 A
2340 V
(05106)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2430 V
(05107)210 648 A
2520 V
(05108)210 648 A
(size_t)252 1026 A
2610 V
(05109)210 648 A
(mbstowcs\(register)714 1026 A
(wchar_t)294 1782 A
(*pwcs,)252 2118 A
(register)336 2412 A
(const)210 2790 A
(char)168 3042 A
(*s,)126 3252 A
(size_t)252 3420 A
3714(n\))S
2700 V
(05110)210 648 A
1026({)S
2790 V
(05111)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i)S
1992(=)S
2076(n;)S
2880 V
(05112)210 648 A
2970 V
(05113)210 648 A
(while)210 1362 A
(\(--i)168 1614 A
1824(>=)S
1950(0\))S
2076({)S
3060 V
(05114)210 648 A
1698(if)S
(\(!\(*pwcs++)420 1824 A
2286(=)S
(*s++\)\))252 2370 A
3150 V
(05115)210 648 A
(return)252 2034 A
2328(n)S
2412(-)S
2496(i)S
2580(-)S
2664(1;)S
3240 V
(05116)210 648 A
1362(})S
3330 V
(05117)210 648 A
(return)252 1362 A
1656(n)S
1740(-)S
1824(i;)S
3420 V
(05118)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ansi/mbtowc.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(05200)210 648 A
1026(/*)S
4590 V
(05201)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4680 V
(05202)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4770 V
(05203)210 648 A
1068(*/)S
4860 V
(05204)210 648 A
1026(/*)S
($Header:)336 1152 A
(mbtowc.c,v)420 1530 A
(1.3)126 1992 A
(90/03/28)336 2160 A
(16:36:45)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4950 V
(05205)210 648 A
5040 V
(05206)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5130 V
(05207)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
5220 V
(05208)210 648 A
5310 V
(05209)210 648 A
(int)126 1026 A
5400 V
(05210)210 648 A
(mbtowc\(wchar_t)588 1026 A
(*pwc,)210 1656 A
(register)336 1908 A
(const)210 2286 A
(char)168 2538 A
(*s,)126 2748 A
(size_t)252 2916 A
3210(n\))S
5490 V
(05211)210 648 A
1026({)S
5580 V
(05212)210 648 A
1362(if)S
1488(\(s)S
1614(==)S
(\(const)252 1740 A
(char)168 2034 A
(*\)NULL\))294 2244 A
(return)252 2580 A
2874(0;)S
5670 V
(05213)210 648 A
1362(if)S
1488(\(n)S
1614(<=)S
1740(0\))S
(return)252 1866 A
2160(0;)S
5760 V
(05214)210 648 A
1362(if)S
(\(pwc\))210 1488 A
(*pwc)168 1740 A
1950(=)S
(*s;)126 2034 A
5850 V
(05215)210 648 A
(return)252 1362 A
(\(*s)126 1656 A
1824(!=)S
(0\);)126 1950 A
5940 V
(05216)210 648 A
1026(})S
8418 V
EP
%%Page: 42 42
BP
/slant 0 def
/height 0 def
630 V
12 B
648(42)S
11 R
1941(File:)S
(src/lib/ansi/memchr.c)961 2174 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/memchr.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(05300)210 648 A
1026(/*)S
1440 V
(05301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(05302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(05303)210 648 A
1068(*/)S
1710 V
(05304)210 648 A
1026(/*)S
($Header:)336 1152 A
(memchr.c,v)420 1530 A
(1.3)126 1992 A
(90/08/28)336 2160 A
(13:52:11)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
1800 V
(05305)210 648 A
1890 V
(05306)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(05307)210 648 A
2070 V
(05308)210 648 A
(void)168 1026 A
1236(*)S
2160 V
(05309)210 648 A
(memchr\(const)504 1026 A
(void)168 1572 A
(*s,)126 1782 A
(register)336 1950 A
(int)126 2328 A
2496(c,)S
(register)336 2622 A
(size_t)252 3000 A
3294(n\))S
2250 V
(05310)210 648 A
1026({)S
2340 V
(05311)210 648 A
(register)336 1362 A
(const)210 1740 A
(unsigned)336 1992 A
(char)168 2370 A
(*s1)126 2580 A
2748(=)S
2832(s;)S
2430 V
(05312)210 648 A
2520 V
(05313)210 648 A
1362(c)S
1446(=)S
(\(unsigned)378 1530 A
(char\))210 1950 A
2202(c;)S
2610 V
(05314)210 648 A
1362(if)S
(\(n\))126 1488 A
1656({)S
2700 V
(05315)210 648 A
(n++;)168 1698 A
2790 V
(05316)210 648 A
(while)210 1698 A
(\(--n)168 1950 A
2160(>)S
2244(0\))S
2370({)S
2880 V
(05317)210 648 A
2034(if)S
(\(*s1++)252 2160 A
2454(!=)S
2580(c\))S
(continue;)378 2706 A
2970 V
(05318)210 648 A
(return)252 2034 A
(\(void)210 2328 A
2580(*\))S
(--s1;)210 2706 A
3060 V
(05319)210 648 A
1698(})S
3150 V
(05320)210 648 A
1362(})S
3240 V
(05321)210 648 A
(return)252 1362 A
(NULL;)210 1656 A
3330 V
(05322)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/memcmp.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(05400)210 648 A
1026(/*)S
4140 V
(05401)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(05402)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(05403)210 648 A
1068(*/)S
4410 V
(05404)210 648 A
1026(/*)S
($Id:)168 1152 A
(memcmp.c,v)420 1362 A
(1.6)126 1824 A
(1994/06/24)420 1992 A
(11:56:26)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4500 V
(05405)210 648 A
4590 V
(05406)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4680 V
(05407)210 648 A
4770 V
(05408)210 648 A
(int)126 1026 A
4860 V
(05409)210 648 A
(memcmp\(const)504 1026 A
(void)168 1572 A
(*s1,)168 1782 A
(const)210 1992 A
(void)168 2244 A
(*s2,)168 2454 A
(size_t)252 2664 A
2958(n\))S
4950 V
(05410)210 648 A
1026({)S
5040 V
(05411)210 648 A
(register)336 1362 A
(const)210 1740 A
(unsigned)336 1992 A
(char)168 2370 A
(*p1)126 2580 A
2748(=)S
(s1,)126 2832 A
(*p2)126 3000 A
3168(=)S
(s2;)126 3252 A
5130 V
(05412)210 648 A
5220 V
(05413)210 648 A
1362(if)S
(\(n\))126 1488 A
1656({)S
5310 V
(05414)210 648 A
(n++;)168 1698 A
5400 V
(05415)210 648 A
(while)210 1698 A
(\(--n)168 1950 A
2160(>)S
2244(0\))S
2370({)S
5490 V
(05416)210 648 A
2034(if)S
(\(*p1++)252 2160 A
2454(==)S
(*p2++\))252 2580 A
(continue;)378 2874 A
5580 V
(05417)210 648 A
(return)252 2034 A
(*--p1)210 2328 A
2580(-)S
(*--p2;)252 2664 A
5670 V
(05418)210 648 A
1698(})S
5760 V
(05419)210 648 A
1362(})S
5850 V
(05420)210 648 A
(return)252 1362 A
1656(0;)S
5940 V
(05421)210 648 A
1026(})S
8418 V
EP
%%Page: 43 43
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1932(File:)S
(src/lib/ansi/memcpy.c)979 2165 A
12 B
4308(43)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/memcpy.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(05500)210 648 A
1026(/*)S
1440 V
(05501)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(05502)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(05503)210 648 A
1068(*/)S
1710 V
(05504)210 648 A
1026(/*)S
($Header:)336 1152 A
(memcpy.c,v)420 1530 A
(1.4)126 1992 A
(90/08/28)336 2160 A
(13:52:31)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
1800 V
(05505)210 648 A
1890 V
(05506)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(05507)210 648 A
2070 V
(05508)210 648 A
(void)168 1026 A
1236(*)S
2160 V
(05509)210 648 A
(memcpy\(void)462 1026 A
(*s1,)168 1530 A
(const)210 1740 A
(void)168 1992 A
(*s2,)168 2202 A
(register)336 2412 A
(size_t)252 2790 A
3084(n\))S
2250 V
(05510)210 648 A
1026({)S
2340 V
(05511)210 648 A
(register)336 1362 A
(char)168 1740 A
(*p1)126 1950 A
2118(=)S
(s1;)126 2202 A
2430 V
(05512)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*p2)126 2202 A
2370(=)S
(s2;)126 2454 A
2520 V
(05513)210 648 A
2610 V
(05514)210 648 A
2700 V
(05515)210 648 A
1362(if)S
(\(n\))126 1488 A
1656({)S
2790 V
(05516)210 648 A
(n++;)168 1698 A
2880 V
(05517)210 648 A
(while)210 1698 A
(\(--n)168 1950 A
2160(>)S
2244(0\))S
2370({)S
2970 V
(05518)210 648 A
(*p1++)210 2034 A
2286(=)S
(*p2++;)252 2370 A
3060 V
(05519)210 648 A
1698(})S
3150 V
(05520)210 648 A
1362(})S
3240 V
(05521)210 648 A
(return)252 1362 A
(s1;)126 1656 A
3330 V
(05522)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/memmove.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(05600)210 648 A
1026(/*)S
4140 V
(05601)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(05602)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(05603)210 648 A
1068(*/)S
4410 V
(05604)210 648 A
1026(/*)S
($Header:)336 1152 A
(memmove.c,v)462 1530 A
(1.3)126 2034 A
(90/08/28)336 2202 A
(13:52:42)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4500 V
(05605)210 648 A
4590 V
(05606)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4680 V
(05607)210 648 A
4770 V
(05608)210 648 A
(void)168 1026 A
1236(*)S
4860 V
(05609)210 648 A
(memmove\(void)504 1026 A
(*s1,)168 1572 A
(const)210 1782 A
(void)168 2034 A
(*s2,)168 2244 A
(register)336 2454 A
(size_t)252 2832 A
3126(n\))S
4950 V
(05610)210 648 A
1026({)S
5040 V
(05611)210 648 A
(register)336 1362 A
(char)168 1740 A
(*p1)126 1950 A
2118(=)S
(s1;)126 2202 A
5130 V
(05612)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*p2)126 2202 A
2370(=)S
(s2;)126 2454 A
5220 V
(05613)210 648 A
5310 V
(05614)210 648 A
1362(if)S
(\(n>0\))210 1488 A
1740({)S
5400 V
(05615)210 648 A
1698(if)S
(\(p2)126 1824 A
1992(<=)S
2118(p1)S
2244(&&)S
2370(p2)S
2496(+)S
2580(n)S
2664(>)S
(p1\))126 2748 A
2916({)S
5490 V
(05616)210 648 A
2034(/*)S
(overlap,)336 2160 A
(copy)168 2538 A
(backwards)378 2748 A
3168(*/)S
5580 V
(05617)210 648 A
2034(p1)S
2160(+=)S
2286(n;)S
5670 V
(05618)210 648 A
2034(p2)S
2160(+=)S
2286(n;)S
5760 V
(05619)210 648 A
(n++;)168 2034 A
5850 V
(05620)210 648 A
(while)210 2034 A
(\(--n)168 2286 A
2496(>)S
2580(0\))S
2706({)S
5940 V
(05621)210 648 A
(*--p1)210 2370 A
2622(=)S
(*--p2;)252 2706 A
6030 V
(05622)210 648 A
2034(})S
6120 V
(05623)210 648 A
1698(})S
(else)168 1782 A
1992({)S
6210 V
(05624)210 648 A
(n++;)168 2034 A
8418 V
EP
%%Page: 44 44
BP
/slant 0 def
/height 0 def
630 V
12 B
648(44)S
11 R
1889(File:)S
(src/lib/ansi/memmove.c)1065 2122 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(05625)210 648 A
(while)210 2034 A
(\(--n)168 2286 A
2496(>)S
2580(0\))S
2706({)S
990 V
(05626)210 648 A
(*p1++)210 2370 A
2622(=)S
(*p2++;)252 2706 A
1080 V
(05627)210 648 A
2034(})S
1170 V
(05628)210 648 A
1698(})S
1260 V
(05629)210 648 A
1362(})S
1350 V
(05630)210 648 A
(return)252 1362 A
(s1;)126 1656 A
1440 V
(05631)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/memset.c)882 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(05700)210 648 A
1026(/*)S
2340 V
(05701)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(05702)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(05703)210 648 A
1068(*/)S
2610 V
(05704)210 648 A
1026(/*)S
($Header:)336 1152 A
(memset.c,v)420 1530 A
(1.3)126 1992 A
(90/08/28)336 2160 A
(13:52:54)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2700 V
(05705)210 648 A
2790 V
(05706)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2880 V
(05707)210 648 A
2970 V
(05708)210 648 A
(void)168 1026 A
1236(*)S
3060 V
(05709)210 648 A
(memset\(void)462 1026 A
(*s,)126 1530 A
(register)336 1698 A
(int)126 2076 A
2244(c,)S
(register)336 2370 A
(size_t)252 2748 A
3042(n\))S
3150 V
(05710)210 648 A
1026({)S
3240 V
(05711)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1)126 1950 A
2118(=)S
2202(s;)S
3330 V
(05712)210 648 A
3420 V
(05713)210 648 A
1362(if)S
(\(n>0\))210 1488 A
1740({)S
3510 V
(05714)210 648 A
(n++;)168 1698 A
3600 V
(05715)210 648 A
(while)210 1698 A
(\(--n)168 1950 A
2160(>)S
2244(0\))S
2370({)S
3690 V
(05716)210 648 A
(*s1++)210 2034 A
2286(=)S
2370(c;)S
3780 V
(05717)210 648 A
1698(})S
3870 V
(05718)210 648 A
1362(})S
3960 V
(05719)210 648 A
(return)252 1362 A
1656(s;)S
4050 V
(05720)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/misc.c)798 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(05800)210 648 A
1026(/*)S
5040 V
(05801)210 648 A
1068(*)S
(misc)168 1152 A
1362(-)S
(data)168 1446 A
(and)126 1656 A
(miscellaneous)546 1824 A
(routines)336 2412 A
5130 V
(05802)210 648 A
1068(*/)S
5220 V
(05803)210 648 A
1026(/*)S
($Header:)336 1152 A
(misc.c,v)336 1530 A
(1.11)168 1908 A
(91/04/22)336 2118 A
(13:20:45)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
5310 V
(05804)210 648 A
5400 V
(05805)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
5490 V
(05806)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
5580 V
(05807)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5670 V
(05808)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5760 V
(05809)210 648 A
5850 V
(05810)210 648 A
(#if)126 1026 A
(defined\(__BSD4_2\))714 1362 A
5940 V
(05811)210 648 A
6030 V
(05812)210 648 A
(struct)252 1026 A
(timeval)294 1320 A
1656({)S
6120 V
(05813)210 648 A
(long)168 1362 A
(tv_sec;)294 1698 A
2370(/*)S
(seconds)294 2496 A
2832(*/)S
6210 V
(05814)210 648 A
(long)168 1362 A
(tv_usec;)336 1698 A
2370(/*)S
(and)126 2496 A
(microseconds)504 2664 A
3210(*/)S
8418 V
EP
%%Page: 45 45
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
12 B
4308(45)S
900 V
7 LST
(05815)210 648 A
1026(};)S
990 V
(05816)210 648 A
1080 V
(05817)210 648 A
(struct)252 1026 A
(timezone)336 1320 A
1698({)S
1170 V
(05818)210 648 A
(int)126 1362 A
(tz_minuteswest;)630 1698 A
2370(/*)S
(minutes)294 2496 A
(west)168 2832 A
3042(of)S
(Greenwich)378 3168 A
3588(*/)S
1260 V
(05819)210 648 A
(int)126 1362 A
(tz_dsttime;)462 1698 A
2370(/*)S
(type)168 2496 A
2706(of)S
(dst)126 2832 A
(correction)420 3000 A
3462(*/)S
1350 V
(05820)210 648 A
1026(};)S
1440 V
(05821)210 648 A
1530 V
(05822)210 648 A
(int)126 1026 A
(_gettimeofday\(struct)840 1194 A
(timeval)294 2076 A
(*tp,)168 2412 A
(struct)252 2622 A
(timezone)336 2916 A
(*tzp\);)252 3294 A
1620 V
(05823)210 648 A
1710 V
(05824)210 648 A
(#elif)210 1026 A
(!defined\(_POSIX_SOURCE\))966 1362 A
2370(&&)S
(!defined\(__USG\))630 2496 A
1800 V
(05825)210 648 A
(#if)126 1026 A
(!defined\(_MINIX\))672 1362 A
2706(/*)S
(MINIX)210 2832 A
(has)126 3084 A
3252(no)S
(ftime\(\))294 3378 A
3714(*/)S
1890 V
(05826)210 648 A
(struct)252 1026 A
(timeb)210 1320 A
1572({)S
1980 V
(05827)210 648 A
(long)168 1362 A
(time;)210 1698 A
2070 V
(05828)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(millitm;)336 1992 A
2160 V
(05829)210 648 A
(short)210 1362 A
(timezone;)378 1698 A
2250 V
(05830)210 648 A
(short)210 1362 A
(dstflag;)336 1698 A
2340 V
(05831)210 648 A
1026(};)S
2430 V
(05832)210 648 A
(void)168 1026 A
(_ftime\(struct)546 1236 A
(timeb)210 1824 A
(*bp\);)210 2076 A
2520 V
(05833)210 648 A
(#endif)252 1026 A
2610 V
(05834)210 648 A
(#endif)252 1026 A
2700 V
(05835)210 648 A
2790 V
(05836)210 648 A
(#include)336 1026 A
("loc_time.h")504 1698 A
2880 V
(05837)210 648 A
2970 V
(05838)210 648 A
(#define)294 1026 A
(RULE_LEN)336 1362 A
(120)126 2034 A
3060 V
(05839)210 648 A
(#define)294 1026 A
(TZ_LEN)252 1362 A
2034(10)S
3150 V
(05840)210 648 A
3240 V
(05841)210 648 A
1026(/*)S
(Make)168 1152 A
(sure)168 1362 A
(that)168 1572 A
(the)126 1782 A
(strings)294 1950 A
2286(do)S
(not)126 2412 A
(end)126 2580 A
2748(up)S
2874(in)S
(ROM.)168 3000 A
3330 V
(05842)210 648 A
1068(*)S
(These)210 1152 A
(strings)294 1404 A
(probably)336 1740 A
(contain)294 2118 A
(the)126 2454 A
(wrong)210 2622 A
(value,)252 2874 A
(and)126 3168 A
3336(we)S
(cannot)252 3462 A
(obtain)252 3756 A
(the)126 4050 A
3420 V
(05843)210 648 A
1068(*)S
(right)210 1152 A
(value)210 1404 A
(from)168 1656 A
(the)126 1866 A
(system.)294 2034 A
2370(TZ)S
2496(is)S
(the)126 2622 A
(only)168 2790 A
(help.)210 3000 A
3510 V
(05844)210 648 A
1068(*/)S
3600 V
(05845)210 648 A
(static)252 1026 A
(char)168 1320 A
(ntstr[TZ_LEN)504 1530 A
2076(+)S
2160(1])S
2286(=)S
("GMT";)252 2370 A
2706(/*)S
(string)252 2832 A
(for)126 3126 A
(normal)252 3294 A
(time)168 3588 A
3798(*/)S
3690 V
(05846)210 648 A
(static)252 1026 A
(char)168 1320 A
(dststr[TZ_LEN)546 1530 A
2118(+)S
2202(1])S
2328(=)S
("GDT";)252 2412 A
2706(/*)S
(string)252 2832 A
(for)126 3126 A
(daylight)336 3294 A
(saving)252 3672 A
3966(*/)S
3780 V
(05847)210 648 A
3870 V
(05848)210 648 A
(long)168 1026 A
(_timezone)378 1362 A
1782(=)S
1866(0;)S
3960 V
(05849)210 648 A
(long)168 1026 A
(_dst_off)336 1362 A
1740(=)S
1824(60)S
1950(*)S
(60;)126 2034 A
4050 V
(05850)210 648 A
(int)126 1026 A
(_daylight)378 1362 A
1782(=)S
1866(0;)S
4140 V
(05851)210 648 A
(char)168 1026 A
(*_tzname[2])462 1362 A
1866(=)S
({ntstr,)294 1950 A
(dststr};)336 2286 A
4230 V
(05852)210 648 A
4320 V
(05853)210 648 A
(#if)126 1026 A
(defined\(__USG\))588 1362 A
1992(||)S
(defined\(_POSIX_SOURCE\))924 2118 A
4410 V
(05854)210 648 A
(char)168 1026 A
(*tzname[2])420 1362 A
1824(=)S
({ntstr,)294 1908 A
(dststr};)336 2244 A
4500 V
(05855)210 648 A
4590 V
(05856)210 648 A
(#if)126 1026 A
(defined\(__USG\))588 1362 A
4680 V
(05857)210 648 A
(long)168 1026 A
(timezone)336 1362 A
1740(=)S
1824(0;)S
4770 V
(05858)210 648 A
(int)126 1026 A
(daylight)336 1362 A
1740(=)S
1824(0;)S
4860 V
(05859)210 648 A
(#endif)252 1026 A
4950 V
(05860)210 648 A
(#endif)252 1026 A
5040 V
(05861)210 648 A
5130 V
(05862)210 648 A
(static)252 1026 A
(struct)252 1320 A
(dsttype)294 1614 A
1950({)S
5220 V
(05863)210 648 A
(char)168 1362 A
(ds_type;)336 1572 A
2370(/*)S
(Unknown,)336 2496 A
(Julian,)294 2874 A
(Zero-based)420 3210 A
3672(or)S
3798(M)S
3882(*/)S
5310 V
(05864)210 648 A
(int)126 1362 A
(ds_date[3];)462 1530 A
2370(/*)S
(months,)294 2496 A
(weeks,)252 2832 A
(days)168 3126 A
3336(*/)S
5400 V
(05865)210 648 A
(long)168 1362 A
(ds_sec;)294 1572 A
2370(/*)S
(usually)294 2496 A
(02:00:00)336 2832 A
3210(*/)S
5490 V
(05866)210 648 A
1026(})S
(dststart)336 1362 A
1740(=)S
1824({)S
('U',)168 1908 A
2118({)S
2202(0,)S
2328(0,)S
2454(0)S
2538(},)S
2664(2)S
2748(*)S
2832(60)S
2958(*)S
3042(60)S
3168(})S
5580 V
(05867)210 648 A
1362(,)S
(dstend)252 1446 A
1740(=)S
1824({)S
('U',)168 1908 A
2118({)S
2202(0,)S
2328(0,)S
2454(0)S
2538(},)S
2664(2)S
2748(*)S
2832(60)S
2958(*)S
3042(60)S
3168(};)S
5670 V
(05868)210 648 A
5760 V
(05869)210 648 A
(const)210 1026 A
(char)168 1278 A
(*_days[])336 1488 A
1866(=)S
1950({)S
5850 V
(05870)210 648 A
("Sunday",)378 2034 A
("Monday",)378 2454 A
("Tuesday",)420 2874 A
("Wednesday",)504 3336 A
5940 V
(05871)210 648 A
("Thursday",)462 2034 A
("Friday",)378 2538 A
("Saturday")420 2958 A
6030 V
(05872)210 648 A
1698(};)S
6120 V
(05873)210 648 A
6210 V
(05874)210 648 A
(const)210 1026 A
(char)168 1278 A
(*_months[])420 1488 A
1950(=)S
2034({)S
8418 V
EP
%%Page: 46 46
BP
/slant 0 def
/height 0 def
630 V
12 B
648(46)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(05875)210 648 A
("January",)420 2034 A
("February",)462 2496 A
("March",)336 3000 A
990 V
(05876)210 648 A
("April",)336 2034 A
("May",)252 2412 A
("June",)294 2706 A
1080 V
(05877)210 648 A
("July",)294 2034 A
("August",)378 2370 A
("September",)504 2790 A
1170 V
(05878)210 648 A
("October",)420 2034 A
("November",)462 2496 A
("December")420 3000 A
1260 V
(05879)210 648 A
1698(};)S
1350 V
(05880)210 648 A
1440 V
(05881)210 648 A
(const)210 1026 A
(int)126 1278 A
(_ytab[2][12])504 1446 A
1992(=)S
2076({)S
1530 V
(05882)210 648 A
1698({)S
(31,)126 1782 A
(28,)126 1950 A
(31,)126 2118 A
(30,)126 2286 A
(31,)126 2454 A
(30,)126 2622 A
(31,)126 2790 A
(31,)126 2958 A
(30,)126 3126 A
(31,)126 3294 A
(30,)126 3462 A
3630(31)S
3756(},)S
1620 V
(05883)210 648 A
1698({)S
(31,)126 1782 A
(29,)126 1950 A
(31,)126 2118 A
(30,)126 2286 A
(31,)126 2454 A
(30,)126 2622 A
(31,)126 2790 A
(31,)126 2958 A
(30,)126 3126 A
(31,)126 3294 A
(30,)126 3462 A
3630(31)S
3756(})S
1710 V
(05884)210 648 A
1362(};)S
1800 V
(05885)210 648 A
1890 V
(05886)210 648 A
(#if)126 1026 A
(!defined\(_POSIX_SOURCE\))966 1362 A
2370(&&)S
(!defined\(__USG\))630 2496 A
1980 V
(05887)210 648 A
(#define)294 1026 A
(USE_TABLE)378 1362 A
2034(1)S
2070 V
(05888)210 648 A
(#endif)252 1026 A
2160 V
(05889)210 648 A
2250 V
(05890)210 648 A
(#if)126 1026 A
(USE_TABLE)378 1362 A
2340 V
(05891)210 648 A
(static)252 1026 A
(int)126 1320 A
(usetable)336 1488 A
1866(=)S
1950(1;)S
2430 V
(05892)210 648 A
2520 V
(05893)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(table)210 1656 A
1908({)S
2610 V
(05894)210 648 A
(const)210 1362 A
(char)168 1614 A
(*tz_name;)378 1824 A
2700 V
(05895)210 648 A
(const)210 1362 A
(int)126 1614 A
(daylight;)378 1782 A
2790 V
(05896)210 648 A
(const)210 1362 A
(long)168 1614 A
(zoneoffset;)462 1824 A
2880 V
(05897)210 648 A
1026(})S
(TABLE;)252 1110 A
2970 V
(05898)210 648 A
3060 V
(05899)210 648 A
(#define)294 1026 A
(HOUR\(x\))294 1362 A
(\(\(x\))168 1698 A
1908(*)S
(60*60\))252 1992 A
3150 V
(05900)210 648 A
3240 V
(05901)210 648 A
(static)252 1026 A
(TABLE)210 1320 A
(TimezoneTable[])630 1572 A
2244(=)S
2328({)S
3330 V
(05902)210 648 A
({"GMT",)294 1362 A
1698(0,)S
(HOUR\(0\))294 2034 A
2370(},)S
2706(/*)S
(Greenwich)378 2832 A
(Mean)168 3252 A
3462(*/)S
3420 V
(05903)210 648 A
({"BST",)294 1362 A
(60*60,)252 1698 A
(HOUR\(0\))294 2034 A
2370(},)S
2706(/*)S
(British)294 2832 A
(Summer)252 3168 A
3462(*/)S
3510 V
(05904)210 648 A
({"WAT",)294 1362 A
1698(0,)S
(HOUR\(1\))294 2034 A
2370(},)S
2706(/*)S
(West)168 2832 A
(Africa)252 3042 A
3336(*/)S
3600 V
(05905)210 648 A
({"AT",)252 1362 A
1656(0,)S
(HOUR\(2\))294 2034 A
2370(},)S
2706(/*)S
(Azores)252 2832 A
3126(*/)S
3690 V
(05906)210 648 A
({"BST",)294 1362 A
1698(0,)S
(HOUR\(3\))294 2034 A
2370(},)S
2706(/*)S
(Brazil)252 2832 A
(Standard)336 3126 A
3504(*/)S
3780 V
(05907)210 648 A
({"NFT",)294 1362 A
1698(0,)S
(HOUR\(3.5\))378 2034 A
2454(},)S
2706(/*)S
(Newfoundland)504 2832 A
3378(*/)S
3870 V
(05908)210 648 A
({"NDT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(3.5\))378 2034 A
2454(},)S
2706(/*)S
(Newfoundland)504 2832 A
(Daylight)336 3378 A
3756(*/)S
3960 V
(05909)210 648 A
({"AST",)294 1362 A
1698(0,)S
(HOUR\(4\))294 2034 A
2370(},)S
2706(/*)S
(Atlantic)336 2832 A
(Standard)336 3210 A
3588(*/)S
4050 V
(05910)210 648 A
({"ADT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(4\))294 2034 A
2370(},)S
2706(/*)S
(Atlantic)336 2832 A
(Daylight)336 3210 A
3588(*/)S
4140 V
(05911)210 648 A
({"EST",)294 1362 A
1698(0,)S
(HOUR\(5\))294 2034 A
2370(},)S
2706(/*)S
(Eastern)294 2832 A
(Standard)336 3168 A
3546(*/)S
4230 V
(05912)210 648 A
({"EDT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(5\))294 2034 A
2370(},)S
2706(/*)S
(Eastern)294 2832 A
(Daylight)336 3168 A
3546(*/)S
4320 V
(05913)210 648 A
({"CST",)294 1362 A
1698(0,)S
(HOUR\(6\))294 2034 A
2370(},)S
2706(/*)S
(Central)294 2832 A
(Standard)336 3168 A
3546(*/)S
4410 V
(05914)210 648 A
({"CDT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(6\))294 2034 A
2370(},)S
2706(/*)S
(Central)294 2832 A
(Daylight)336 3168 A
3546(*/)S
4500 V
(05915)210 648 A
({"MST",)294 1362 A
1698(0,)S
(HOUR\(7\))294 2034 A
2370(},)S
2706(/*)S
(Mountain)336 2832 A
(Standard)336 3210 A
3588(*/)S
4590 V
(05916)210 648 A
({"MDT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(7\))294 2034 A
2370(},)S
2706(/*)S
(Mountain)336 2832 A
(Daylight)336 3210 A
3588(*/)S
4680 V
(05917)210 648 A
({"PST",)294 1362 A
1698(0,)S
(HOUR\(8\))294 2034 A
2370(},)S
2706(/*)S
(Pacific)294 2832 A
(Standard)336 3168 A
3546(*/)S
4770 V
(05918)210 648 A
({"PDT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(8\))294 2034 A
2370(},)S
2706(/*)S
(Pacific)294 2832 A
(Daylight)336 3168 A
3546(*/)S
4860 V
(05919)210 648 A
({"YST",)294 1362 A
1698(0,)S
(HOUR\(9\))294 2034 A
2370(},)S
2706(/*)S
(Yukon)210 2832 A
(Standard)336 3084 A
3462(*/)S
4950 V
(05920)210 648 A
({"YDT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(9\))294 2034 A
2370(},)S
2706(/*)S
(Yukon)210 2832 A
(Daylight)336 3084 A
3462(*/)S
5040 V
(05921)210 648 A
({"HST",)294 1362 A
1698(0,)S
(HOUR\(10\))336 2034 A
2412(},)S
2706(/*)S
(Hawaii)252 2832 A
(Standard)336 3126 A
3504(*/)S
5130 V
(05922)210 648 A
({"HDT",)294 1362 A
(60*60,)252 1698 A
(HOUR\(10\))336 2034 A
2412(},)S
2706(/*)S
(Hawaii)252 2832 A
(Daylight)336 3126 A
3504(*/)S
5220 V
(05923)210 648 A
({"NT",)252 1362 A
1656(0,)S
(HOUR\(11\))336 2034 A
2412(},)S
2706(/*)S
(Nome)168 2832 A
3042(*/)S
5310 V
(05924)210 648 A
({"IDLW",)336 1362 A
1740(0,)S
(HOUR\(12\))336 2034 A
2412(},)S
2706(/*)S
(International)546 2832 A
(Date)168 3420 A
(Line)168 3630 A
(West)168 3840 A
4050(*/)S
5400 V
(05925)210 648 A
({"MET",)294 1362 A
1698(0,)S
(-HOUR\(1\))336 2034 A
2412(},)S
2706(/*)S
(Middle)252 2832 A
(European)336 3126 A
3504(*/)S
5490 V
(05926)210 648 A
({"MDT",)294 1362 A
(60*60,)252 1698 A
(-HOUR\(1\))336 2034 A
2412(},)S
2706(/*)S
(Middle)252 2832 A
(European)336 3126 A
(Summer)252 3504 A
3798(*/)S
5580 V
(05927)210 648 A
({"EET",)294 1362 A
1698(0,)S
(-HOUR\(2\))336 2034 A
2412(},)S
2706(/*)S
(Eastern)294 2832 A
(Europe,)294 3168 A
(USSR)168 3504 A
(Zone)168 3714 A
3924(1)S
4008(*/)S
5670 V
(05928)210 648 A
({"BT",)252 1362 A
1656(0,)S
(-HOUR\(3\))336 2034 A
2412(},)S
2706(/*)S
(Baghdad,)336 2832 A
(USSR)168 3210 A
(Zone)168 3420 A
3630(2)S
3714(*/)S
5760 V
(05929)210 648 A
({"IT",)252 1362 A
1656(0,)S
(-HOUR\(3.5\))420 2034 A
2496(},)S
2706(/*)S
(Iran)168 2832 A
3042(*/)S
5850 V
(05930)210 648 A
({"ZP4",)294 1362 A
1698(0,)S
(-HOUR\(4\))336 2034 A
2412(},)S
2706(/*)S
(USSR)168 2832 A
(Zone)168 3042 A
3252(3)S
3336(*/)S
5940 V
(05931)210 648 A
({"ZP5",)294 1362 A
1698(0,)S
(-HOUR\(5\))336 2034 A
2412(},)S
2706(/*)S
(USSR)168 2832 A
(Zone)168 3042 A
3252(4)S
3336(*/)S
6030 V
(05932)210 648 A
({"IST",)294 1362 A
1698(0,)S
(-HOUR\(5.5\))420 2034 A
2496(},)S
2706(/*)S
(Indian)252 2832 A
(Standard)336 3126 A
3504(*/)S
6120 V
(05933)210 648 A
({"ZP6",)294 1362 A
1698(0,)S
(-HOUR\(6\))336 2034 A
2412(},)S
2706(/*)S
(USSR)168 2832 A
(Zone)168 3042 A
3252(5)S
3336(*/)S
6210 V
(05934)210 648 A
({"NST",)294 1362 A
1698(0,)S
(-HOUR\(6.5\))420 2034 A
2496(},)S
2706(/*)S
(North)210 2832 A
(Sumatra)294 3084 A
3420(*/)S
8418 V
EP
%%Page: 47 47
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
12 B
4308(47)S
900 V
7 LST
(05935)210 648 A
({"SST",)294 1362 A
1698(0,)S
(-HOUR\(7\))336 2034 A
2412(},)S
2706(/*)S
(South)210 2832 A
(Sumatra,)336 3084 A
(USSR)168 3462 A
(Zone)168 3672 A
3882(6)S
3966(*/)S
990 V
(05936)210 648 A
({"WAST",)336 1362 A
1740(0,)S
(-HOUR\(7\))336 2034 A
2412(},)S
2706(/*)S
(West)168 2832 A
(Australian)420 3042 A
(Standard)336 3504 A
3882(*/)S
1080 V
(05937)210 648 A
({"WADT",)336 1362 A
(60*60,)252 1740 A
(-HOUR\(7\))336 2034 A
2412(},)S
2706(/*)S
(West)168 2832 A
(Australian)420 3042 A
(Daylight)336 3504 A
3882(*/)S
1170 V
(05938)210 648 A
({"JT",)252 1362 A
1656(0,)S
(-HOUR\(7.5\))420 2034 A
2496(},)S
2706(/*)S
(Java)168 2832 A
(\(3pm)168 3042 A
3252(in)S
(Cronusland!\))504 3378 A
3924(*/)S
1260 V
(05939)210 648 A
({"CCT",)294 1362 A
1698(0,)S
(-HOUR\(8\))336 2034 A
2412(},)S
2706(/*)S
(China)210 2832 A
(Coast,)252 3084 A
(USSR)168 3378 A
(Zone)168 3588 A
3798(7)S
3882(*/)S
1350 V
(05940)210 648 A
({"JST",)294 1362 A
1698(0,)S
(-HOUR\(9\))336 2034 A
2412(},)S
2706(/*)S
(Japan)210 2832 A
(Standard,)378 3084 A
(USSR)168 3504 A
(Zone)168 3714 A
3924(8)S
4008(*/)S
1440 V
(05941)210 648 A
({"CAST",)336 1362 A
1740(0,)S
(-HOUR\(9.5\))420 2034 A
2496(},)S
2706(/*)S
(Central)294 2832 A
(Australian)420 3168 A
(Standard)336 3630 A
4008(*/)S
1530 V
(05942)210 648 A
({"CADT",)336 1362 A
(60*60,)252 1740 A
(-HOUR\(9.5\))420 2034 A
2496(},)S
2706(/*)S
(Central)294 2832 A
(Australian)420 3168 A
(Daylight)336 3630 A
4008(*/)S
1620 V
(05943)210 648 A
({"EAST",)336 1362 A
1740(0,)S
(-HOUR\(10\))378 2034 A
2454(},)S
2706(/*)S
(Eastern)294 2832 A
(Australian)420 3168 A
(Standard)336 3630 A
4008(*/)S
1710 V
(05944)210 648 A
({"EADT",)336 1362 A
(60*60,)252 1740 A
(-HOUR\(10\))378 2034 A
2454(},)S
2706(/*)S
(Eastern)294 2832 A
(Australian)420 3168 A
(Daylight)336 3630 A
4008(*/)S
1800 V
(05945)210 648 A
({"NZT",)294 1362 A
1698(0,)S
(-HOUR\(12\))378 2034 A
2454(},)S
2706(/*)S
(New)126 2832 A
(Zealand)294 3000 A
3336(*/)S
1890 V
(05946)210 648 A
({"NZDT",)336 1362 A
(60*60,)252 1740 A
(-HOUR\(12\))378 2034 A
2454(},)S
2706(/*)S
(New)126 2832 A
(Zealand)294 3000 A
(Daylight)336 3336 A
3714(*/)S
1980 V
(05947)210 648 A
1362({)S
(NULL,)210 1488 A
1740(0,)S
1866(0)S
1992(})S
2070 V
(05948)210 648 A
1026(};)S
2160 V
(05949)210 648 A
2250 V
(05950)210 648 A
1026(/*)S
2340 V
(05951)210 648 A
1068(*)S
(The)126 1152 A
(function)336 1320 A
(ZoneFromTable\(\))630 1698 A
(searches)336 2370 A
(the)126 2748 A
(table)210 2916 A
(for)126 3168 A
(the)126 3336 A
(current)294 3504 A
2430 V
(05952)210 648 A
1068(*)S
(timezone.)378 1152 A
1614(It)S
(saves)210 1740 A
(the)126 1992 A
(last)168 2160 A
(one)126 2370 A
(found)210 2538 A
2790(in)S
(ntstr)210 2916 A
3168(or)S
(dststr,)294 3294 A
(depending)378 3630 A
4050(on)S
2520 V
(05953)210 648 A
1068(*)S
(wheter)252 1152 A
(the)126 1446 A
(name)168 1614 A
1824(is)S
(for)126 1950 A
(daylight-saving-time)840 2118 A
3000(or)S
(not.)168 3126 A
2610 V
(05954)210 648 A
1068(*)S
(Both)168 1152 A
(ntstr)210 1362 A
(and)126 1614 A
(dststr)252 1782 A
(are)126 2076 A
(TZ_LEN)252 2244 A
2538(+)S
2622(1)S
(chars.)252 2706 A
2700 V
(05955)210 648 A
1068(*/)S
2790 V
(05956)210 648 A
(static)252 1026 A
(void)168 1320 A
2880 V
(05957)210 648 A
(ZoneFromTable\(long)756 1026 A
(timezone\))378 1824 A
2970 V
(05958)210 648 A
1026({)S
3060 V
(05959)210 648 A
(register)336 1362 A
(TABLE)210 1740 A
(*tptr)210 1992 A
2244(=)S
(TimezoneTable;)588 2328 A
3150 V
(05960)210 648 A
3240 V
(05961)210 648 A
(while)210 1362 A
(\(tptr->tz_name)588 1614 A
2244(!=)S
(NULL\))210 2370 A
2622({)S
3330 V
(05962)210 648 A
1698(if)S
(\(tptr->zoneoffset)714 1824 A
2580(==)S
(timezone\))378 2706 A
3126({)S
3420 V
(05963)210 648 A
2034(if)S
(\(tptr->daylight)630 2160 A
2832(==)S
2958(0\))S
3084({)S
3510 V
(05964)210 648 A
(strncpy\(ntstr,tptr->tz_name,)1176 2370 A
(TZ_LEN\);)336 3588 A
3600 V
(05965)210 648 A
(ntstr[TZ_LEN])546 2370 A
2958(=)S
('\\0';)210 3042 A
3690 V
(05966)210 648 A
2034(})S
(else)168 2118 A
2328({)S
3780 V
(05967)210 648 A
(strncpy\(dststr,tptr->tz_name,)1218 2370 A
(TZ_LEN\);)336 3630 A
3870 V
(05968)210 648 A
(dststr[TZ_LEN])588 2370 A
3000(=)S
('\\0';)210 3084 A
3960 V
(05969)210 648 A
2034(})S
4050 V
(05970)210 648 A
1698(})S
4140 V
(05971)210 648 A
(tptr++;)294 1698 A
4230 V
(05972)210 648 A
1362(})S
4320 V
(05973)210 648 A
1026(})S
4410 V
(05974)210 648 A
(#endif)252 1026 A
1362(/*)S
(USE_TABLE)378 1488 A
1908(*/)S
4500 V
(05975)210 648 A
4590 V
(05976)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
1782(*)S
4680 V
(05977)210 648 A
(parseZoneName\(register)924 1026 A
(char)168 1992 A
(*buf,)210 2202 A
(register)336 2454 A
(const)210 2832 A
(char)168 3084 A
(*p\))126 3294 A
4770 V
(05978)210 648 A
1026({)S
4860 V
(05979)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n)S
1992(=)S
2076(0;)S
4950 V
(05980)210 648 A
5040 V
(05981)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
(':'\))168 1782 A
(return)252 1992 A
(NULL;)210 2286 A
5130 V
(05982)210 648 A
(while)210 1362 A
(\(*p)126 1614 A
1782(&&)S
(!isdigit\(*p\))504 1908 A
2454(&&)S
2580(*p)S
2706(!=)S
(',')126 2832 A
3000(&&)S
3126(*p)S
3252(!=)S
('-')126 3378 A
3546(&&)S
3672(*p)S
3798(!=)S
('+'\))168 3924 A
4134({)S
5220 V
(05983)210 648 A
1698(if)S
1824(\(n)S
1950(<)S
(TZ_LEN\))294 2034 A
5310 V
(05984)210 648 A
(*buf++)252 2034 A
2328(=)S
(*p;)126 2412 A
5400 V
(05985)210 648 A
(p++;)168 1698 A
5490 V
(05986)210 648 A
(n++;)168 1698 A
5580 V
(05987)210 648 A
1362(})S
5670 V
(05988)210 648 A
1362(if)S
1488(\(n)S
1614(<)S
1698(3\))S
(return)252 1824 A
(NULL;)210 2118 A
3378(/*)S
(error)210 3504 A
3756(*/)S
5760 V
(05989)210 648 A
(*buf)168 1362 A
1572(=)S
('\\0';)210 1656 A
5850 V
(05990)210 648 A
(return)252 1362 A
1656(p;)S
5940 V
(05991)210 648 A
1026(})S
6120 V
(05993)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
1782(*)S
6210 V
(05994)210 648 A
(parseTime\(register)756 1026 A
(long)168 1824 A
(*tm,)168 2034 A
(const)210 2244 A
(char)168 2496 A
(*p,)126 2706 A
(register)336 2874 A
(struct)252 3252 A
(dsttype)294 3546 A
(*dst\))210 3882 A
8418 V
EP
%%Page: 48 48
BP
/slant 0 def
/height 0 def
630 V
12 B
648(48)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(05995)210 648 A
1026({)S
990 V
(05996)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n)S
1992(=)S
2076(0;)S
1080 V
(05997)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
2202(*q)S
2328(=)S
2412(p;)S
1170 V
(05998)210 648 A
(char)168 1362 A
(ds_type)294 1572 A
1908(=)S
(\(dst)168 1992 A
2202(?)S
(dst->ds_type)504 2286 A
2832(:)S
('\\0'\);)252 2916 A
1260 V
(05999)210 648 A
1350 V
(06000)210 648 A
1362(if)S
(\(dst\))210 1488 A
(dst->ds_type)504 1740 A
2286(=)S
('U';)168 2370 A
1440 V
(06001)210 648 A
1530 V
(06002)210 648 A
(*tm)126 1362 A
1530(=)S
1614(0;)S
1620 V
(06003)210 648 A
(while\(*p)336 1362 A
1740(>=)S
('0')126 1866 A
2034(&&)S
2160(*p)S
2286(<=)S
('9'\))168 2412 A
2622({)S
1710 V
(06004)210 648 A
1698(n)S
1782(=)S
1866(10)S
1992(*)S
2076(n)S
2160(+)S
(\(*p++)210 2244 A
2496(-)S
('0'\);)210 2580 A
1800 V
(06005)210 648 A
1362(})S
1890 V
(06006)210 648 A
1362(if)S
1488(\(q)S
1614(==)S
1740(p\))S
(return)252 1866 A
(NULL;)210 2160 A
2706(/*)S
("The)168 2832 A
(hour)168 3042 A
(shall)210 3252 A
3504(be)S
(required")378 3630 A
4050(*/)S
1980 V
(06007)210 648 A
1362(if)S
1488(\(n)S
1614(<)S
1698(0)S
1782(||)S
1908(n)S
1992(>=)S
(24\))126 2118 A
(return)252 2370 A
(NULL;)210 2664 A
2070 V
(06008)210 648 A
(*tm)126 1362 A
1530(=)S
1614(n)S
1698(*)S
1782(60)S
1908(*)S
(60;)126 1992 A
2160 V
(06009)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
(':'\))168 1782 A
1992({)S
2250 V
(06010)210 648 A
(p++;)168 1698 A
2340 V
(06011)210 648 A
1698(n)S
1782(=)S
1866(0;)S
2430 V
(06012)210 648 A
(while\(*p)336 1698 A
2076(>=)S
('0')126 2202 A
2370(&&)S
2496(*p)S
2622(<=)S
('9'\))168 2748 A
2958({)S
2520 V
(06013)210 648 A
2034(n)S
2118(=)S
2202(10)S
2328(*)S
2412(n)S
2496(+)S
(\(*p++)210 2580 A
2832(-)S
('0'\);)210 2916 A
2610 V
(06014)210 648 A
1698(})S
2700 V
(06015)210 648 A
1698(if)S
1824(\(q)S
1950(==)S
2076(p\))S
(return)252 2202 A
(NULL;)210 2496 A
3042(/*)S
(format)252 3168 A
(error)210 3462 A
3714(*/)S
2790 V
(06016)210 648 A
1698(if)S
1824(\(n)S
1950(<)S
2034(0)S
2118(||)S
2244(n)S
2328(>=)S
(60\))126 2454 A
(return)252 2706 A
(NULL;)210 3000 A
2880 V
(06017)210 648 A
(*tm)126 1698 A
1866(+=)S
1992(n)S
2076(*)S
(60;)126 2160 A
2970 V
(06018)210 648 A
1698(if)S
(\(*p)126 1824 A
1992(==)S
(':'\))168 2118 A
2328({)S
3060 V
(06019)210 648 A
(p++;)168 2034 A
3150 V
(06020)210 648 A
2034(n)S
2118(=)S
2202(0;)S
3240 V
(06021)210 648 A
(while\(*p)336 2034 A
2412(>=)S
('0')126 2538 A
2706(&&)S
2832(*p)S
2958(<=)S
('9'\))168 3084 A
3294({)S
3330 V
(06022)210 648 A
2370(n)S
2454(=)S
2538(10)S
2664(*)S
2748(n)S
2832(+)S
(\(*p++)210 2916 A
3168(-)S
('0'\);)210 3252 A
3420 V
(06023)210 648 A
2034(})S
3510 V
(06024)210 648 A
2034(if)S
2160(\(q)S
2286(==)S
2412(p\))S
(return)252 2538 A
(NULL;)210 2832 A
3378(/*)S
(format)252 3504 A
(error)210 3798 A
4050(*/)S
3600 V
(06025)210 648 A
2034(if)S
2160(\(n)S
2286(<)S
2370(0)S
2454(||)S
2580(n)S
2664(>=)S
(60\))126 2790 A
(return)252 3042 A
(NULL;)210 3336 A
3690 V
(06026)210 648 A
(*tm)126 2034 A
2202(+=)S
2328(n;)S
3780 V
(06027)210 648 A
1698(})S
3870 V
(06028)210 648 A
1362(})S
3960 V
(06029)210 648 A
1362(if)S
(\(dst\))210 1488 A
1740({)S
4050 V
(06030)210 648 A
(dst->ds_type)504 1698 A
2244(=)S
(ds_type;)336 2328 A
4140 V
(06031)210 648 A
(dst->ds_sec)462 1698 A
2202(=)S
(*tm;)168 2286 A
4230 V
(06032)210 648 A
1362(})S
4320 V
(06033)210 648 A
(return)252 1362 A
1656(p;)S
4410 V
(06034)210 648 A
1026(})S
4590 V
(06036)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
1782(*)S
4680 V
(06037)210 648 A
(parseDate\(register)756 1026 A
(char)168 1824 A
(*buf,)210 2034 A
(register)336 2286 A
(const)210 2664 A
(char)168 2916 A
(*p,)126 3126 A
(struct)252 3294 A
(dsttype)294 3588 A
(*dstinfo\))378 3924 A
4770 V
(06038)210 648 A
1026({)S
4860 V
(06039)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*q;)126 2202 A
4950 V
(06040)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n)S
1992(=)S
2076(0;)S
5040 V
(06041)210 648 A
(int)126 1362 A
(cnt)126 1530 A
1698(=)S
1782(0;)S
5130 V
(06042)210 648 A
(const)210 1362 A
(int)126 1614 A
(bnds[3][2])420 1782 A
2244(=)S
2370({)S
2706({)S
2790(1,)S
2916(12)S
3042(},)S
5220 V
(06043)210 648 A
2706({)S
2790(1,)S
2916(5)S
3000(},)S
5310 V
(06044)210 648 A
2706({)S
2790(0,)S
2916(6})S
5400 V
(06045)210 648 A
2412(};)S
5490 V
(06046)210 648 A
(char)168 1362 A
(ds_type;)336 1572 A
5580 V
(06047)210 648 A
5670 V
(06048)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(!=)S
('M'\))168 1782 A
1992({)S
5760 V
(06049)210 648 A
1698(if)S
(\(*p)126 1824 A
1992(==)S
('J'\))168 2118 A
2328({)S
5850 V
(06050)210 648 A
(*buf++)252 2034 A
2328(=)S
(*p++;)210 2412 A
5940 V
(06051)210 648 A
(ds_type)294 2034 A
2370(=)S
('J';)168 2454 A
6030 V
(06052)210 648 A
1698(})S
6120 V
(06053)210 648 A
(else)168 1698 A
(ds_type)294 2034 A
2370(=)S
('Z';)168 2454 A
6210 V
(06054)210 648 A
1698(q)S
1782(=)S
1866(p;)S
8418 V
EP
%%Page: 49 49
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
12 B
4308(49)S
900 V
7 LST
(06055)210 648 A
(while\(*p)336 1698 A
2076(>=)S
('0')126 2202 A
2370(&&)S
2496(*p)S
2622(<=)S
('9'\))168 2748 A
2958({)S
990 V
(06056)210 648 A
2034(n)S
2118(=)S
2202(10)S
2328(*)S
2412(n)S
2496(+)S
(\(*p)126 2580 A
2748(-)S
('0'\);)210 2832 A
1080 V
(06057)210 648 A
(*buf++)252 2034 A
2328(=)S
(*p++;)210 2412 A
1170 V
(06058)210 648 A
1698(})S
1260 V
(06059)210 648 A
1698(if)S
1824(\(q)S
1950(==)S
2076(p\))S
(return)252 2202 A
(NULL;)210 2496 A
3042(/*)S
(format)252 3168 A
(error)210 3462 A
3714(*/)S
1350 V
(06060)210 648 A
1698(if)S
1824(\(n)S
1950(<)S
(\(ds_type)336 2034 A
2412(==)S
('J'\))168 2538 A
2748(||)S
2874(n)S
2958(>)S
(365\))168 3042 A
(return)252 3252 A
(NULL;)210 3546 A
1440 V
(06061)210 648 A
(dstinfo->ds_type)672 1698 A
2412(=)S
(ds_type;)336 2496 A
1530 V
(06062)210 648 A
(dstinfo->ds_date[0])798 1698 A
2538(=)S
2622(n;)S
1620 V
(06063)210 648 A
(return)252 1698 A
1992(p;)S
1710 V
(06064)210 648 A
1362(})S
1800 V
(06065)210 648 A
(ds_type)294 1362 A
1698(=)S
('M';)168 1782 A
1890 V
(06066)210 648 A
1362(do)S
1488({)S
1980 V
(06067)210 648 A
(*buf++)252 1698 A
1992(=)S
(*p++;)210 2076 A
2070 V
(06068)210 648 A
1698(q)S
1782(=)S
1866(p;)S
2160 V
(06069)210 648 A
1698(n)S
1782(=)S
1866(0;)S
2250 V
(06070)210 648 A
(while\(*p)336 1698 A
2076(>=)S
('0')126 2202 A
2370(&&)S
2496(*p)S
2622(<=)S
('9'\))168 2748 A
2958({)S
2340 V
(06071)210 648 A
2034(n)S
2118(=)S
2202(10)S
2328(*)S
2412(n)S
2496(+)S
(\(*p)126 2580 A
2748(-)S
('0'\);)210 2832 A
2430 V
(06072)210 648 A
(*buf++)252 2034 A
2328(=)S
(*p++;)210 2412 A
2520 V
(06073)210 648 A
1698(})S
2610 V
(06074)210 648 A
1698(if)S
1824(\(q)S
1950(==)S
2076(p\))S
(return)252 2202 A
(NULL;)210 2496 A
3042(/*)S
(format)252 3168 A
(error)210 3462 A
3714(*/)S
2700 V
(06075)210 648 A
1698(if)S
1824(\(n)S
1950(<)S
(bnds[cnt][0])504 2034 A
2580(||)S
2706(n)S
2790(>)S
(bnds[cnt][1]\))546 2874 A
(return)252 3462 A
(NULL;)210 3756 A
2790 V
(06076)210 648 A
(dstinfo->ds_date[cnt])882 1698 A
2622(=)S
2706(n;)S
2880 V
(06077)210 648 A
(cnt++;)252 1698 A
2970 V
(06078)210 648 A
1362(})S
(while)210 1446 A
(\(cnt)168 1698 A
1908(<)S
1992(3)S
2076(&&)S
2202(*p)S
2328(==)S
('.'\);)210 2454 A
3060 V
(06079)210 648 A
1362(if)S
(\(cnt)168 1488 A
1698(!=)S
1824(3\))S
(return)252 1950 A
(NULL;)210 2244 A
3150 V
(06080)210 648 A
(*buf)168 1362 A
1572(=)S
('\\0';)210 1656 A
3240 V
(06081)210 648 A
(dstinfo->ds_type)672 1362 A
2076(=)S
(ds_type;)336 2160 A
3330 V
(06082)210 648 A
(return)252 1362 A
1656(p;)S
3420 V
(06083)210 648 A
1026(})S
3600 V
(06085)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
1782(*)S
3690 V
(06086)210 648 A
(parseRule\(register)756 1026 A
(char)168 1824 A
(*buf,)210 2034 A
(register)336 2286 A
(const)210 2664 A
(char)168 2916 A
(*p\))126 3126 A
3780 V
(06087)210 648 A
1026({)S
3870 V
(06088)210 648 A
(long)168 1362 A
(time;)210 1572 A
3960 V
(06089)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*q;)126 2202 A
4050 V
(06090)210 648 A
4140 V
(06091)210 648 A
1362(if)S
(\(!\(p)168 1488 A
1698(=)S
(parseDate\(buf,)588 1782 A
2412(p,)S
(&dststart\)\)\))504 2538 A
(return)252 3084 A
(NULL;)210 3378 A
4230 V
(06092)210 648 A
(buf)126 1362 A
1530(+=)S
(strlen\(buf\);)504 1656 A
4320 V
(06093)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
('/'\))168 1782 A
1992({)S
4410 V
(06094)210 648 A
1698(q)S
1782(=)S
(++p;)168 1866 A
4500 V
(06095)210 648 A
1698(if)S
(\(!\(p)168 1824 A
2034(=)S
(parseTime\(&time,)672 2118 A
2832(p,)S
(&dststart\)\)\))504 2958 A
(return)252 3504 A
(NULL;)210 3798 A
4590 V
(06096)210 648 A
(while\()252 1698 A
1992(p)S
2076(!=)S
2202(q\))S
(*buf++)252 2328 A
2622(=)S
(*q++;)210 2706 A
4680 V
(06097)210 648 A
1362(})S
4770 V
(06098)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(!=)S
(','\))168 1782 A
(return)252 1992 A
(NULL;)210 2286 A
4860 V
(06099)210 648 A
(p++;)168 1362 A
4950 V
(06100)210 648 A
1362(if)S
(\(!\(p)168 1488 A
1698(=)S
(parseDate\(buf,)588 1782 A
2412(p,)S
(&dstend\)\)\))420 2538 A
(return)252 3000 A
(NULL;)210 3294 A
5040 V
(06101)210 648 A
(buf)126 1362 A
1530(+=)S
(strlen\(buf\);)504 1656 A
5130 V
(06102)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
('/'\))168 1782 A
1992({)S
5220 V
(06103)210 648 A
1698(q)S
1782(=)S
(++p;)168 1866 A
5310 V
(06104)210 648 A
1698(if)S
(\(!\(p)168 1824 A
2034(=)S
(parseTime\(&time,)672 2118 A
2832(p,)S
(&dstend\)\)\))420 2958 A
(return)252 3420 A
(NULL;)210 3714 A
5400 V
(06105)210 648 A
(while\(*buf++)504 1698 A
2244(=)S
(*q++\);)252 2328 A
5490 V
(06106)210 648 A
1362(})S
5580 V
(06107)210 648 A
1362(if)S
(\(*p\))168 1488 A
(return)252 1698 A
(NULL;)210 1992 A
5670 V
(06108)210 648 A
(return)252 1362 A
1656(p;)S
5760 V
(06109)210 648 A
1026(})S
5940 V
(06111)210 648 A
1026(/*)S
(The)126 1152 A
(following)378 1320 A
(routine)294 1740 A
(parses)252 2076 A
(timezone)336 2370 A
(information)462 2748 A
3252(in)S
(POSIX-format.)546 3378 A
(For)126 3966 A
6030 V
(06112)210 648 A
1068(*)S
(the)126 1152 A
(requirements,)546 1320 A
(see)126 1908 A
(IEEE)168 2076 A
(Std)126 2286 A
(1003.1-1988)462 2454 A
(section)294 2958 A
(8.1.1.)252 3294 A
6120 V
(06113)210 648 A
1068(*)S
(The)126 1152 A
(function)336 1320 A
(returns)294 1698 A
2034(as)S
(soon)168 2160 A
2370(as)S
2496(it)S
(spots)210 2622 A
2874(an)S
(error.)252 3000 A
6210 V
(06114)210 648 A
1068(*/)S
8418 V
EP
%%Page: 50 50
BP
/slant 0 def
/height 0 def
630 V
12 B
648(50)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(06115)210 648 A
(static)252 1026 A
(void)168 1320 A
990 V
(06116)210 648 A
(parseTZ\(const)546 1026 A
(char)168 1614 A
(*p\))126 1824 A
1080 V
(06117)210 648 A
1026({)S
1170 V
(06118)210 648 A
(long)168 1362 A
(tz,)126 1572 A
(dst)126 1740 A
1908(=)S
1992(60)S
2118(*)S
(60,)126 2202 A
(sign)168 2370 A
2580(=)S
2664(1;)S
1260 V
(06119)210 648 A
(static)252 1362 A
(char)168 1656 A
(lastTZ[2)336 1866 A
2244(*)S
(RULE_LEN];)420 2328 A
1350 V
(06120)210 648 A
(static)252 1362 A
(char)168 1656 A
(buffer[RULE_LEN];)714 1866 A
1440 V
(06121)210 648 A
1530 V
(06122)210 648 A
1362(if)S
(\(!p\))168 1488 A
(return;)294 1698 A
1620 V
(06123)210 648 A
1710 V
(06124)210 648 A
(#if)126 1026 A
(USE_TABLE)378 1362 A
1800 V
(06125)210 648 A
(usetable)336 1362 A
1740(=)S
1824(0;)S
1890 V
(06126)210 648 A
(#endif)252 1026 A
1980 V
(06127)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
(':'\))168 1782 A
1992({)S
2070 V
(06128)210 648 A
1698(/*)S
2160 V
(06129)210 648 A
1740(*)S
(According)378 1824 A
2244(to)S
(POSIX,)252 2370 A
(this)168 2664 A
2874(is)S
(implementation)588 3000 A
(defined.)336 3630 A
2250 V
(06130)210 648 A
1740(*)S
(Since)210 1824 A
2076(it)S
(depends)294 2202 A
2538(on)S
(the)126 2664 A
(particular)420 2832 A
(operating)378 3294 A
(system,)294 3714 A
4050(we)S
2340 V
(06131)210 648 A
1740(*)S
(can)126 1824 A
1992(do)S
(nothing.)336 2118 A
2430 V
(06132)210 648 A
1740(*/)S
2520 V
(06133)210 648 A
(return;)294 1698 A
2610 V
(06134)210 648 A
1362(})S
2700 V
(06135)210 648 A
2790 V
(06136)210 648 A
1362(if)S
(\(!strcmp\(lastTZ,)672 1488 A
(p\)\))126 2202 A
(return;)294 2370 A
3042(/*)S
(nothing)294 3168 A
(changed)294 3504 A
3840(*/)S
2880 V
(06137)210 648 A
2970 V
(06138)210 648 A
(*_tzname[0])462 1362 A
1866(=)S
('\\0';)210 1950 A
3060 V
(06139)210 648 A
(*_tzname[1])462 1362 A
1866(=)S
('\\0';)210 1950 A
3150 V
(06140)210 648 A
(dststart.ds_type)672 1362 A
2076(=)S
('U';)168 2160 A
3240 V
(06141)210 648 A
(dststart.ds_sec)630 1362 A
2034(=)S
2118(2)S
2202(*)S
2286(60)S
2412(*)S
(60;)126 2496 A
3330 V
(06142)210 648 A
(dstend.ds_type)588 1362 A
1992(=)S
('U';)168 2076 A
3420 V
(06143)210 648 A
(dstend.ds_sec)546 1362 A
1950(=)S
2034(2)S
2118(*)S
2202(60)S
2328(*)S
(60;)126 2412 A
3510 V
(06144)210 648 A
3600 V
(06145)210 648 A
1362(if)S
(\(strlen\(p\))420 1488 A
1950(>)S
2034(2)S
2118(*)S
(RULE_LEN\))378 2202 A
(return;)294 2622 A
3690 V
(06146)210 648 A
(strcpy\(lastTZ,)588 1362 A
(p\);)126 1992 A
3780 V
(06147)210 648 A
3870 V
(06148)210 648 A
1362(if)S
(\(!\(p)168 1488 A
1698(=)S
(parseZoneName\(buffer,)882 1782 A
(p\)\)\))168 2706 A
(return;)294 2916 A
3960 V
(06149)210 648 A
4050 V
(06150)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
('-'\))168 1782 A
1992({)S
4140 V
(06151)210 648 A
(sign)168 1698 A
1908(=)S
(-1;)126 1992 A
4230 V
(06152)210 648 A
(p++;)168 1698 A
4320 V
(06153)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(*p)126 1782 A
1950(==)S
('+'\))168 2076 A
(p++;)168 2286 A
4410 V
(06154)210 648 A
4500 V
(06155)210 648 A
1362(if)S
(\(!\(p)168 1488 A
1698(=)S
(parseTime\(&tz,)588 1782 A
2412(p,)S
(NULL\)\)\))294 2538 A
(return;)294 2874 A
4590 V
(06156)210 648 A
1362(tz)S
1488(*=)S
(sign;)210 1614 A
4680 V
(06157)210 648 A
(_timezone)378 1362 A
1782(=)S
(tz;)126 1866 A
4770 V
(06158)210 648 A
(strncpy\(_tzname[0],)798 1362 A
(buffer,)294 2202 A
(TZ_LEN\);)336 2538 A
4860 V
(06159)210 648 A
4950 V
(06160)210 648 A
1362(if)S
(\(!\(_daylight)504 1488 A
2034(=)S
(\(*p)126 2118 A
2286(!=)S
('\\0'\)\)\))294 2412 A
(return;)294 2748 A
5040 V
(06161)210 648 A
5130 V
(06162)210 648 A
(buffer[0])378 1362 A
1782(=)S
('\\0';)210 1866 A
5220 V
(06163)210 648 A
1362(if)S
(\(!\(p)168 1488 A
1698(=)S
(parseZoneName\(buffer,)882 1782 A
(p\)\)\))168 2706 A
(return;)294 2916 A
5310 V
(06164)210 648 A
(strncpy\(_tzname[1],)798 1362 A
(buffer,)294 2202 A
(TZ_LEN\);)336 2538 A
5400 V
(06165)210 648 A
5490 V
(06166)210 648 A
(buffer[0])378 1362 A
1782(=)S
('\\0';)210 1866 A
5580 V
(06167)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(&&)S
(\(*p)126 1782 A
1950(!=)S
(','\)\))210 2076 A
5670 V
(06168)210 648 A
1698(if)S
(\(!\(p)168 1824 A
2034(=)S
(parseTime\(&dst,)630 2118 A
2790(p,)S
(NULL\)\)\))294 2916 A
(return;)294 3252 A
5760 V
(06169)210 648 A
(_dst_off)336 1362 A
1740(=)S
(dst;)168 1824 A
2706(/*)S
(dst)126 2832 A
(was)126 3000 A
(initialized)462 3168 A
3672(to)S
3798(1)S
(hour)168 3882 A
4092(*/)S
5850 V
(06170)210 648 A
1362(if)S
(\(*p\))168 1488 A
1698({)S
5940 V
(06171)210 648 A
1698(if)S
(\(*p)126 1824 A
1992(!=)S
(','\))168 2118 A
(return;)294 2328 A
6030 V
(06172)210 648 A
(p++;)168 1698 A
6120 V
(06173)210 648 A
1698(if)S
(\(strlen\(p\))420 1824 A
2286(>)S
(RULE_LEN\))378 2370 A
(return;)294 2790 A
6210 V
(06174)210 648 A
1698(if)S
(\(!\(p)168 1824 A
2034(=)S
(parseRule\(buffer,)714 2118 A
(p\)\)\))168 2874 A
(return;)294 3084 A
8418 V
EP
%%Page: 51 51
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
12 B
4308(51)S
900 V
7 LST
(06175)210 648 A
1362(})S
990 V
(06176)210 648 A
1026(})S
1170 V
(06178)210 648 A
(void)168 1026 A
1260 V
(06179)210 648 A
(_tzset\(void\))504 1026 A
1350 V
(06180)210 648 A
1026({)S
1440 V
(06181)210 648 A
(#if)126 1026 A
(defined\(__BSD4_2\))714 1362 A
1530 V
(06182)210 648 A
1620 V
(06183)210 648 A
(struct)252 1362 A
(timeval)294 1656 A
(tv;)126 1992 A
1710 V
(06184)210 648 A
(struct)252 1362 A
(timezone)336 1656 A
(tz;)126 2034 A
1800 V
(06185)210 648 A
1890 V
(06186)210 648 A
(_gettimeofday\(&tv,)756 1362 A
(&tz\);)210 2160 A
1980 V
(06187)210 648 A
(_daylight)378 1362 A
1782(=)S
(tz.tz_dsttime;)588 1866 A
2070 V
(06188)210 648 A
(_timezone)378 1362 A
1782(=)S
(tz.tz_minuteswest)714 1866 A
2622(*)S
(60L;)168 2706 A
2160 V
(06189)210 648 A
2250 V
(06190)210 648 A
(#elif)210 1026 A
(!defined\(_POSIX_SOURCE\))966 1362 A
2370(&&)S
(!defined\(__USG\))630 2496 A
2340 V
(06191)210 648 A
2430 V
(06192)210 648 A
(#if)126 1026 A
(!defined\(_MINIX\))672 1362 A
2706(/*)S
(MINIX)210 2832 A
(has)126 3084 A
3252(no)S
(ftime\(\))294 3378 A
3714(*/)S
2520 V
(06193)210 648 A
(struct)252 1362 A
(timeb)210 1656 A
(time;)210 1908 A
2610 V
(06194)210 648 A
2700 V
(06195)210 648 A
(_ftime\(&time\);)588 1362 A
2790 V
(06196)210 648 A
(_timezone)378 1362 A
1782(=)S
(time.timezone)546 1866 A
2454(*)S
(60L;)168 2538 A
2880 V
(06197)210 648 A
(_daylight)378 1362 A
1782(=)S
(time.dstflag;)546 1866 A
2970 V
(06198)210 648 A
(#endif)252 1026 A
3060 V
(06199)210 648 A
3150 V
(06200)210 648 A
(#endif)252 1026 A
1362(/*)S
(!_POSIX_SOURCE)588 1488 A
2118(&&)S
(!__USG)252 2244 A
2538(*/)S
3240 V
(06201)210 648 A
3330 V
(06202)210 648 A
(parseTZ\(getenv\("TZ"\)\);)924 1362 A
2706(/*)S
(should)252 2832 A
3126(go)S
(inside)252 3252 A
(#if)126 3546 A
3714(*/)S
3420 V
(06203)210 648 A
3510 V
(06204)210 648 A
(#if)126 1026 A
(defined\(__USG\))588 1362 A
1992(||)S
(defined\(_POSIX_SOURCE\))924 2118 A
3600 V
(06205)210 648 A
(tzname[0])378 1362 A
1782(=)S
(_tzname[0];)462 1866 A
3690 V
(06206)210 648 A
(tzname[1])378 1362 A
1782(=)S
(_tzname[1];)462 1866 A
3780 V
(06207)210 648 A
(#if)126 1026 A
(defined\(__USG\))588 1362 A
3870 V
(06208)210 648 A
(timezone)336 1362 A
1740(=)S
(_timezone;)420 1824 A
3960 V
(06209)210 648 A
(daylight)336 1362 A
1740(=)S
(_daylight;)420 1824 A
4050 V
(06210)210 648 A
(#endif)252 1026 A
4140 V
(06211)210 648 A
(#endif)252 1026 A
1362(/*)S
(__USG)210 1488 A
1740(||)S
(_POSIX_SOURCE)546 1866 A
2454(*/)S
4230 V
(06212)210 648 A
1026(})S
4410 V
(06214)210 648 A
(static)252 1026 A
(int)126 1320 A
4500 V
(06215)210 648 A
(last_sunday\(register)840 1026 A
(int)126 1908 A
(day,)168 2076 A
(register)336 2286 A
(struct)252 2664 A
2958(tm)S
(*timep\))294 3084 A
4590 V
(06216)210 648 A
1026({)S
4680 V
(06217)210 648 A
(int)126 1362 A
(first)210 1530 A
1782(=)S
(FIRSTSUNDAY\(timep\);)798 1866 A
4770 V
(06218)210 648 A
4860 V
(06219)210 648 A
1362(if)S
(\(day)168 1488 A
1698(>=)S
1824(58)S
1950(&&)S
(LEAPYEAR\(YEAR0)588 2076 A
2706(+)S
(timep->tm_year\)\))672 2790 A
(day++;)252 3504 A
4950 V
(06220)210 648 A
1362(if)S
(\(day)168 1488 A
1698(<)S
(first\))252 1782 A
(return)252 2076 A
(first;)252 2370 A
5040 V
(06221)210 648 A
(return)252 1362 A
(day)126 1656 A
1824(-)S
(\(day)168 1908 A
2118(-)S
(first\))252 2202 A
2496(%)S
2580(7;)S
5130 V
(06222)210 648 A
1026(})S
5310 V
(06224)210 648 A
(static)252 1026 A
(int)126 1320 A
5400 V
(06225)210 648 A
(date_of\(register)672 1026 A
(struct)252 1740 A
(dsttype)294 2034 A
(*dst,)210 2370 A
(struct)252 2622 A
2916(tm)S
(*timep\))294 3042 A
5490 V
(06226)210 648 A
1026({)S
5580 V
(06227)210 648 A
(int)126 1362 A
(leap)168 1530 A
1740(=)S
(LEAPYEAR\(YEAR0)588 1824 A
2454(+)S
(timep->tm_year\);)672 2538 A
5670 V
(06228)210 648 A
(int)126 1362 A
(firstday,)378 1530 A
(tmpday;)294 1950 A
5760 V
(06229)210 648 A
(register)336 1362 A
(int)126 1740 A
(day,)168 1908 A
(month;)252 2118 A
5850 V
(06230)210 648 A
5940 V
(06231)210 648 A
1362(if)S
(\(dst->ds_type)546 1488 A
2076(!=)S
('M'\))168 2202 A
2412({)S
6030 V
(06232)210 648 A
(return)252 1698 A
(dst->ds_date[0])630 1992 A
2664(-)S
6120 V
(06233)210 648 A
(\(dst->ds_type)546 2202 A
2790(==)S
('J')126 2916 A
6210 V
(06234)210 648 A
2370(&&)S
(leap)168 2496 A
8418 V
EP
%%Page: 52 52
BP
/slant 0 def
/height 0 def
630 V
12 B
648(52)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(06235)210 648 A
2370(&&)S
(dst->ds_date[0])630 2496 A
3168(<)S
(58\);)168 3252 A
990 V
(06236)210 648 A
1362(})S
1080 V
(06237)210 648 A
(day)126 1362 A
1530(=)S
1614(0;)S
1170 V
(06238)210 648 A
(month)210 1362 A
1614(=)S
1698(1;)S
1260 V
(06239)210 648 A
(while)210 1362 A
(\(month)252 1614 A
1908(<)S
(dst->ds_date[0]\))672 1992 A
2706({)S
1350 V
(06240)210 648 A
(day)126 1698 A
1866(+=)S
(_ytab[leap][month)714 1992 A
2748(-)S
(1];)126 2832 A
1440 V
(06241)210 648 A
(month++;)336 1698 A
1530 V
(06242)210 648 A
1362(})S
1620 V
(06243)210 648 A
(firstday)336 1362 A
1740(=)S
(\(day)168 1824 A
2034(+)S
(FIRSTDAYOF\(timep\)\))756 2118 A
2916(%)S
3000(7;)S
1710 V
(06244)210 648 A
(tmpday)252 1362 A
1656(=)S
(day;)168 1740 A
1800 V
(06245)210 648 A
(day)126 1362 A
1530(+=)S
(\(dst->ds_date[2])672 1656 A
2370(-)S
(firstday)336 2454 A
2832(+)S
2916(7\))S
3042(%)S
3126(7)S
1890 V
(06246)210 648 A
1698(+)S
1782(7)S
1866(*)S
(\(dst->ds_date[1])672 1950 A
2664(-)S
(1\);)126 2748 A
1980 V
(06247)210 648 A
1362(if)S
(\(day)168 1488 A
1698(>=)S
(tmpday)252 1824 A
2118(+)S
(_ytab[leap][month]\))798 2202 A
(day)126 3042 A
3210(-=)S
3336(7;)S
2070 V
(06248)210 648 A
(return)252 1362 A
(day;)168 1656 A
2160 V
(06249)210 648 A
1026(})S
2340 V
(06251)210 648 A
1026(/*)S
2430 V
(06252)210 648 A
1068(*)S
(The)126 1152 A
(default)294 1320 A
(dst)126 1656 A
(transitions)462 1824 A
(are)126 2328 A
(those)210 2496 A
(for)126 2748 A
(Western)294 2916 A
(Europe)252 3252 A
(\(except)294 3546 A
(Great)210 3882 A
2520 V
(06253)210 648 A
1068(*)S
(Britain\).)378 1152 A
2610 V
(06254)210 648 A
1068(*/)S
2700 V
(06255)210 648 A
(unsigned)336 1026 A
2790 V
(06256)210 648 A
(_dstget\(register)672 1026 A
(struct)252 1740 A
2034(tm)S
(*timep\))294 2160 A
2880 V
(06257)210 648 A
1026({)S
2970 V
(06258)210 648 A
(int)126 1362 A
(begindst,)378 1530 A
(enddst;)294 1950 A
3060 V
(06259)210 648 A
(register)336 1362 A
(struct)252 1740 A
(dsttype)294 2034 A
(*dsts)210 2370 A
2622(=)S
(&dststart,)420 2706 A
(*dste)210 3168 A
3420(=)S
(&dstend;)336 3504 A
3150 V
(06260)210 648 A
(int)126 1362 A
(do_dst)252 1530 A
1824(=)S
1908(0;)S
3240 V
(06261)210 648 A
3330 V
(06262)210 648 A
1362(if)S
(\(_daylight)420 1488 A
1950(==)S
(-1\))126 2076 A
3420 V
(06263)210 648 A
(_tzset\(\);)378 1698 A
3510 V
(06264)210 648 A
3600 V
(06265)210 648 A
(timep->tm_isdst)630 1362 A
2034(=)S
(_daylight;)420 2118 A
3690 V
(06266)210 648 A
1362(if)S
(\(!_daylight\))504 1488 A
(return)252 2034 A
2328(0;)S
3780 V
(06267)210 648 A
3870 V
(06268)210 648 A
1362(if)S
(\(dsts->ds_type)588 1488 A
2118(!=)S
('U'\))168 2244 A
3960 V
(06269)210 648 A
(begindst)336 1698 A
2076(=)S
(date_of\(dsts,)546 2160 A
(timep\);)294 2748 A
4050 V
(06270)210 648 A
(else)168 1362 A
(begindst)336 1572 A
1950(=)S
(last_sunday\(89,)630 2034 A
(timep\);)294 2706 A
3042(/*)S
(last)168 3168 A
(Sun)126 3378 A
(before)252 3546 A
(Apr)126 3840 A
4008(*/)S
4140 V
(06271)210 648 A
1362(if)S
(\(dste->ds_type)588 1488 A
2118(!=)S
('U'\))168 2244 A
4230 V
(06272)210 648 A
(enddst)252 1698 A
1992(=)S
(date_of\(dste,)546 2076 A
(timep\);)294 2664 A
4320 V
(06273)210 648 A
(else)168 1362 A
(enddst)252 1572 A
1866(=)S
(last_sunday\(272,)672 1950 A
(timep\);)294 2664 A
3042(/*)S
(last)168 3168 A
(Sun)126 3378 A
3546(in)S
(Sep)126 3672 A
3840(*/)S
4410 V
(06274)210 648 A
4500 V
(06275)210 648 A
1362(/*)S
(assume)252 1488 A
(begindst)336 1782 A
2160(!=)S
(enddst)252 2286 A
(\(otherwise)420 2580 A
3042(it)S
(would)210 3168 A
3420(be)S
3546(no)S
(use\))168 3672 A
3882(*/)S
4590 V
(06276)210 648 A
1362(if)S
(\(begindst)378 1488 A
1908(<)S
(enddst\))294 1992 A
2328({)S
3042(/*)S
(northern)336 3168 A
(hemisphere)420 3546 A
4008(*/)S
4680 V
(06277)210 648 A
1698(if)S
(\(timep->tm_yday)630 1824 A
2496(>)S
(begindst)336 2580 A
2958(&&)S
(timep->tm_yday)588 3084 A
3714(<)S
(enddst\))294 3798 A
4770 V
(06278)210 648 A
(do_dst)252 2034 A
2328(=)S
2412(1;)S
4860 V
(06279)210 648 A
1362(})S
(else)168 1446 A
1656({)S
3042(/*)S
(southern)336 3168 A
(hemisphere)420 3546 A
4008(*/)S
4950 V
(06280)210 648 A
1698(if)S
(\(timep->tm_yday)630 1824 A
2496(>)S
(begindst)336 2580 A
2958(||)S
(timep->tm_yday)588 3084 A
3714(<)S
(enddst\))294 3798 A
5040 V
(06281)210 648 A
(do_dst)252 2034 A
2328(=)S
2412(1;)S
5130 V
(06282)210 648 A
1362(})S
5220 V
(06283)210 648 A
5310 V
(06284)210 648 A
1362(if)S
(\(!do_dst)336 1488 A
5400 V
(06285)210 648 A
1530(&&)S
(\(timep->tm_yday)630 1656 A
2328(==)S
(begindst)336 2454 A
2832(||)S
(timep->tm_yday)588 2958 A
3588(==)S
(enddst\)\))336 3714 A
4092({)S
5490 V
(06286)210 648 A
(long)168 1698 A
(dsttranssec;)504 1908 A
2706(/*)S
(transition)420 2832 A
(when)168 3294 A
(day)126 3504 A
3672(is)S
(this)168 3798 A
(old)126 4008 A
4176(*/)S
5580 V
(06287)210 648 A
(long)168 1698 A
(cursec;)294 1908 A
5670 V
(06288)210 648 A
5760 V
(06289)210 648 A
1698(if)S
(\(timep->tm_yday)630 1824 A
2496(==)S
(begindst\))378 2622 A
5850 V
(06290)210 648 A
(dsttranssec)462 2034 A
2538(=)S
(dsts->ds_sec;)546 2622 A
5940 V
(06291)210 648 A
(else)168 1698 A
(dsttranssec)462 2034 A
2538(=)S
(dste->ds_sec;)546 2622 A
6030 V
(06292)210 648 A
(cursec)252 1698 A
1992(=)S
(\(\(timep->tm_hour)672 2076 A
2790(*)S
(60\))126 2874 A
3042(+)S
(timep->tm_min\))588 3126 A
3756(*)S
(60L)126 3840 A
6120 V
(06293)210 648 A
2202(+)S
(timep->tm_sec;)588 2286 A
6210 V
(06294)210 648 A
8418 V
EP
%%Page: 53 53
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2018(File:)S
(src/lib/ansi/misc.c)807 2251 A
12 B
4308(53)S
900 V
7 LST
(06295)210 648 A
1698(if)S
(\(\(timep->tm_yday)672 1824 A
2538(==)S
(begindst)336 2664 A
3042(&&)S
(cursec)252 3168 A
3462(>=)S
(dsttranssec\))504 3588 A
990 V
(06296)210 648 A
1866(||)S
(\(timep->tm_yday)630 1992 A
2664(==)S
(enddst)252 2790 A
3084(&&)S
(cursec)252 3210 A
3504(<)S
(dsttranssec\)\))546 3588 A
1080 V
(06297)210 648 A
(do_dst)252 2034 A
2328(=)S
2412(1;)S
1170 V
(06298)210 648 A
1362(})S
1260 V
(06299)210 648 A
(#if)126 1026 A
(USE_TABLE)378 1194 A
1350 V
(06300)210 648 A
1362(if)S
(\(usetable\))420 1488 A
(ZoneFromTable\(_timezone\);)1050 1950 A
1440 V
(06301)210 648 A
(#endif)252 1026 A
1530 V
(06302)210 648 A
1362(if)S
(\(do_dst\))336 1488 A
(return)252 1866 A
(_dst_off;)378 2160 A
1620 V
(06303)210 648 A
(timep->tm_isdst)630 1362 A
2034(=)S
2118(0;)S
1710 V
(06304)210 648 A
(return)252 1362 A
1656(0;)S
1800 V
(06305)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ansi/mktime.c)882 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(06400)210 648 A
1026(/*)S
2790 V
(06401)210 648 A
1068(*)S
(mktime)252 1152 A
1446(-)S
(convert)294 1530 A
(local)210 1866 A
(time)168 2118 A
(into)168 2328 A
(calendar)336 2538 A
(time)168 2916 A
2880 V
(06402)210 648 A
1068(*/)S
2970 V
(06403)210 648 A
1026(/*)S
($Header:)336 1152 A
(mktime.c,v)420 1530 A
(1.5)126 1992 A
(91/04/22)336 2160 A
(13:20:54)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
3060 V
(06404)210 648 A
3150 V
(06405)210 648 A
1026(/*)S
(Michael)294 1152 A
1488(A.)S
(Temari)252 1614 A
(<temari@ix.netcom.com>)924 1908 A
(03/01/96)336 2958 A
3462(*/)S
3240 V
(06406)210 648 A
1026(/*)S
1236(-)S
(fixed)210 1362 A
(bug)126 1614 A
1782(is)S
(structure)378 1908 A
(fixup)210 2328 A
(code)168 2580 A
3462(*/)S
3330 V
(06407)210 648 A
3420 V
(06408)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
3510 V
(06409)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
3600 V
(06410)210 648 A
(#include)336 1026 A
("loc_time.h")504 1698 A
3690 V
(06411)210 648 A
3780 V
(06412)210 648 A
1026(/*)S
(The)126 1152 A
(code)168 1320 A
(assumes)294 1530 A
(that)168 1866 A
(unsigned)336 2076 A
(long)168 2454 A
(can)126 2664 A
2832(be)S
(converted)378 2958 A
3378(to)S
(time_t.)294 3504 A
3870 V
(06413)210 648 A
1068(*)S
1152(A)S
(time_t)252 1236 A
(should)252 1530 A
(not)126 1824 A
1992(be)S
(wider)210 2118 A
(than)168 2370 A
(unsigned)336 2580 A
(long,)210 2958 A
(since)210 3210 A
(this)168 3462 A
(would)210 3672 A
(mean)168 3924 A
3960 V
(06414)210 648 A
1068(*)S
(that)168 1152 A
(the)126 1362 A
(check)210 1530 A
(for)126 1782 A
(overflow)336 1950 A
2328(at)S
(the)126 2454 A
(end)126 2622 A
(could)210 2790 A
(fail.)210 3042 A
4050 V
(06415)210 648 A
1068(*/)S
4140 V
(06416)210 648 A
(time_t)252 1026 A
4230 V
(06417)210 648 A
(mktime\(register)630 1026 A
(struct)252 1698 A
1992(tm)S
(*timep\))294 2118 A
4320 V
(06418)210 648 A
1026({)S
4410 V
(06419)210 648 A
(register)336 1362 A
(long)168 1740 A
(day,)168 1950 A
(year;)210 2160 A
4500 V
(06420)210 648 A
(register)336 1362 A
(int)126 1740 A
(tm_year;)336 1908 A
4590 V
(06421)210 648 A
(int)126 1362 A
(yday,)210 1530 A
(month;)252 1782 A
4680 V
(06422)210 648 A
(register)336 1362 A
(unsigned)336 1740 A
(long)168 2118 A
(seconds;)336 2328 A
4770 V
(06423)210 648 A
(int)126 1362 A
(overflow;)378 1530 A
4860 V
(06424)210 648 A
(unsigned)336 1362 A
(dst;)168 1740 A
4950 V
(06425)210 648 A
5040 V
(06426)210 648 A
(timep->tm_min)546 1362 A
1950(+=)S
(timep->tm_sec)546 2076 A
2664(/)S
(60;)126 2748 A
5130 V
(06427)210 648 A
(timep->tm_sec)546 1362 A
1950(%=)S
(60;)126 2076 A
5220 V
(06428)210 648 A
1362(if)S
(\(timep->tm_sec)588 1488 A
2118(<)S
2202(0\))S
2328({)S
5310 V
(06429)210 648 A
(timep->tm_sec)546 1698 A
2286(+=)S
(60;)126 2412 A
5400 V
(06430)210 648 A
(timep->tm_min--;)672 1698 A
5490 V
(06431)210 648 A
1362(})S
5580 V
(06432)210 648 A
(timep->tm_hour)588 1362 A
1992(+=)S
(timep->tm_min)546 2118 A
2706(/)S
(60;)126 2790 A
5670 V
(06433)210 648 A
(timep->tm_min)546 1362 A
1950(=)S
(timep->tm_min)546 2034 A
2622(%)S
(60;)126 2706 A
5760 V
(06434)210 648 A
1362(if)S
(\(timep->tm_min)588 1488 A
2118(<)S
2202(0\))S
2328({)S
5850 V
(06435)210 648 A
(timep->tm_min)546 1698 A
2286(+=)S
(60;)126 2412 A
5940 V
(06436)210 648 A
(timep->tm_hour--;)714 1698 A
6030 V
(06437)210 648 A
1362(})S
6120 V
(06438)210 648 A
(day)126 1362 A
1530(=)S
(timep->tm_hour)588 1614 A
2244(/)S
(24;)126 2328 A
6210 V
(06439)210 648 A
(timep->tm_hour=)630 1362 A
(timep->tm_hour)588 2034 A
2664(%)S
(24;)126 2748 A
8418 V
EP
%%Page: 54 54
BP
/slant 0 def
/height 0 def
630 V
12 B
648(54)S
11 R
1953(File:)S
(src/lib/ansi/mktime.c)936 2186 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(06440)210 648 A
1362(if)S
(\(timep->tm_hour)630 1488 A
2160(<)S
2244(0\))S
2370({)S
990 V
(06441)210 648 A
(timep->tm_hour)588 1698 A
2328(+=)S
(24;)126 2454 A
1080 V
(06442)210 648 A
(day--;)252 1698 A
1170 V
(06443)210 648 A
1362(})S
1260 V
(06444)210 648 A
(timep->tm_year)588 1362 A
1992(+=)S
(timep->tm_mon)546 2118 A
2706(/)S
(12;)126 2790 A
1350 V
(06445)210 648 A
(timep->tm_mon)546 1362 A
1950(%=)S
(12;)126 2076 A
1440 V
(06446)210 648 A
1362(if)S
(\(timep->tm_mon)588 1488 A
2118(<)S
2202(0\))S
2328({)S
1530 V
(06447)210 648 A
(timep->tm_mon)546 1698 A
2286(+=)S
(12;)126 2412 A
1620 V
(06448)210 648 A
(timep->tm_year--;)714 1698 A
1710 V
(06449)210 648 A
1362(})S
1800 V
(06450)210 648 A
(day)126 1362 A
1530(+=)S
(\(timep->tm_mday)630 1656 A
2328(-)S
(1\);)126 2412 A
1890 V
(06451)210 648 A
(while)210 1362 A
(\(day)168 1614 A
1824(<)S
1908(0\))S
2034({)S
1980 V
(06452)210 648 A
(if\(--timep->tm_mon)756 1698 A
2496(<)S
2580(0\))S
2706({)S
2070 V
(06453)210 648 A
(timep->tm_year--;)714 2034 A
2160 V
(06454)210 648 A
(timep->tm_mon)546 2034 A
2622(=)S
(11;)126 2706 A
2250 V
(06455)210 648 A
1698(})S
2340 V
(06456)210 648 A
(day)126 1698 A
1866(+=)S
(_ytab[LEAPYEAR\(YEAR0)840 1992 A
2874(+)S
(timep->tm_year\)][timep->tm_mon];)1344 2958 A
2430 V
(06457)210 648 A
1362(})S
2520 V
(06458)210 648 A
(while)210 1362 A
(\(day)168 1614 A
1824(>=)S
(_ytab[LEAPYEAR\(YEAR0)840 1950 A
2832(+)S
(timep->tm_year\)][timep->tm_mon]\))1344 2916 A
4302({)S
2610 V
(06459)210 648 A
(day)126 1698 A
1866(-=)S
(_ytab[LEAPYEAR\(YEAR0)840 1992 A
2874(+)S
(timep->tm_year\)][timep->tm_mon];)1344 2958 A
2700 V
(06460)210 648 A
1698(if)S
(\(++\(timep->tm_mon\))756 1824 A
2622(==)S
(12\))126 2748 A
2916({)S
2790 V
(06461)210 648 A
(timep->tm_mon)546 2034 A
2622(=)S
2706(0;)S
2880 V
(06462)210 648 A
(timep->tm_year++;)714 2034 A
2970 V
(06463)210 648 A
1698(})S
3060 V
(06464)210 648 A
1362(})S
3150 V
(06465)210 648 A
(timep->tm_mday)588 1362 A
1992(=)S
(day)126 2076 A
2244(+)S
2328(1;)S
3240 V
(06466)210 648 A
(_tzset\(\);)378 1362 A
2706(/*)S
(set)126 2832 A
(timezone)336 3000 A
(and)126 3378 A
(dst)126 3546 A
(info)168 3714 A
3966(*/)S
3330 V
(06467)210 648 A
(year)168 1362 A
1572(=)S
(EPOCH_YR;)378 1656 A
3420 V
(06468)210 648 A
1362(if)S
(\(timep->tm_year)630 1488 A
2160(<)S
(year)168 2244 A
2454(-)S
(YEAR0\))252 2538 A
(return)252 2832 A
(\(time_t\)-1;)462 3126 A
3510 V
(06469)210 648 A
(seconds)294 1362 A
1698(=)S
1782(0;)S
3600 V
(06470)210 648 A
(day)126 1362 A
1530(=)S
1614(0;)S
2706(/*)S
(means)210 2832 A
(days)168 3084 A
(since)210 3294 A
(day)126 3546 A
3714(0)S
(now)126 3798 A
3966(*/)S
3690 V
(06471)210 648 A
(overflow)336 1362 A
1740(=)S
1824(0;)S
3780 V
(06472)210 648 A
3870 V
(06473)210 648 A
1362(/*)S
(Assume)252 1488 A
(that)168 1782 A
(when)168 1992 A
(day)126 2202 A
(becomes)294 2370 A
(negative,)378 2706 A
(there)210 3126 A
(will)168 3378 A
(certainly)378 3588 A
3960 V
(06474)210 648 A
1404(*)S
1488(be)S
(overflow)336 1614 A
1992(on)S
(seconds.)336 2118 A
4050 V
(06475)210 648 A
1404(*)S
(The)126 1488 A
(check)210 1656 A
(for)126 1908 A
(overflow)336 2076 A
(needs)210 2454 A
(not)126 2706 A
2874(to)S
3000(be)S
(done)168 3126 A
(for)126 3336 A
(leapyears)378 3504 A
4140 V
(06476)210 648 A
1404(*)S
(divisible)378 1488 A
1908(by)S
(400.)168 2034 A
4230 V
(06477)210 648 A
1404(*)S
(The)126 1488 A
(code)168 1656 A
(only)168 1866 A
(works)210 2076 A
(when)168 2328 A
(year)168 2538 A
(\(1970\))252 2748 A
3042(is)S
(not)126 3168 A
3336(a)S
(leapyear.)378 3420 A
4320 V
(06478)210 648 A
1404(*/)S
4410 V
(06479)210 648 A
(#if)126 1026 A
(EPOCH_YR)336 1362 A
1740(!=)S
(1970)168 1866 A
4500 V
(06480)210 648 A
(#error)252 1026 A
(EPOCH_YR)336 1362 A
1740(!=)S
(1970)168 1866 A
4590 V
(06481)210 648 A
(#endif)252 1026 A
4680 V
(06482)210 648 A
(tm_year)294 1362 A
1698(=)S
(timep->tm_year)588 1782 A
2412(+)S
(YEAR0;)252 2496 A
4770 V
(06483)210 648 A
4860 V
(06484)210 648 A
1362(if)S
(\(LONG_MAX)378 1488 A
1908(/)S
(365)126 1992 A
2160(<)S
(tm_year)294 2244 A
2580(-)S
(year\))210 2664 A
(overflow++;)462 2916 A
4950 V
(06485)210 648 A
(day)126 1362 A
1530(=)S
(\(tm_year)336 1614 A
1992(-)S
(year\))210 2076 A
2328(*)S
(365;)168 2412 A
5040 V
(06486)210 648 A
1362(if)S
(\(LONG_MAX)378 1488 A
1908(-)S
(day)126 1992 A
2160(<)S
(\(tm_year)336 2244 A
2622(-)S
(year\))210 2706 A
2958(/)S
3042(4)S
3126(+)S
3210(1\))S
(overflow++;)462 3336 A
5130 V
(06487)210 648 A
(day)126 1362 A
1530(+=)S
(\(tm_year)336 1656 A
2034(-)S
(year\))210 2118 A
2370(/)S
2454(4)S
5220 V
(06488)210 648 A
1698(+)S
(\(\(tm_year)378 1782 A
2202(%)S
2286(4\))S
2412(&&)S
(tm_year)294 2538 A
2874(%)S
2958(4)S
3042(<)S
(year)168 3126 A
3336(%)S
(4\);)126 3420 A
5310 V
(06489)210 648 A
(day)126 1362 A
1530(-=)S
(\(tm_year)336 1656 A
2034(-)S
(year\))210 2118 A
2370(/)S
(100)126 2454 A
5400 V
(06490)210 648 A
1698(+)S
(\(\(tm_year)378 1782 A
2202(%)S
(100\))168 2286 A
2496(&&)S
(tm_year)294 2622 A
2958(%)S
(100)126 3042 A
3210(<)S
(year)168 3294 A
3504(%)S
(100\);)210 3588 A
5490 V
(06491)210 648 A
(day)126 1362 A
1530(+=)S
(\(tm_year)336 1656 A
2034(-)S
(year\))210 2118 A
2370(/)S
(400)126 2454 A
5580 V
(06492)210 648 A
1698(+)S
(\(\(tm_year)378 1782 A
2202(%)S
(400\))168 2286 A
2496(&&)S
(tm_year)294 2622 A
2958(%)S
(400)126 3042 A
3210(<)S
(year)168 3294 A
3504(%)S
(400\);)210 3588 A
5670 V
(06493)210 648 A
5760 V
(06494)210 648 A
(yday)168 1362 A
1572(=)S
(month)210 1656 A
1908(=)S
1992(0;)S
5850 V
(06495)210 648 A
(while)210 1362 A
(\(month)252 1614 A
1908(<)S
(timep->tm_mon\))588 1992 A
2622({)S
5940 V
(06496)210 648 A
(yday)168 1698 A
1908(+=)S
(_ytab[LEAPYEAR\(tm_year\)][month];)1344 2034 A
6030 V
(06497)210 648 A
(month++;)336 1698 A
6120 V
(06498)210 648 A
1362(})S
6210 V
(06499)210 648 A
(yday)168 1362 A
1572(+=)S
(\(timep->tm_mday)630 1698 A
2370(-)S
(1\);)126 2454 A
8418 V
EP
%%Page: 55 55
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1953(File:)S
(src/lib/ansi/mktime.c)936 2186 A
12 B
4308(55)S
900 V
7 LST
(06500)210 648 A
1362(if)S
(\(day)168 1488 A
1698(+)S
(yday)168 1782 A
1992(<)S
2076(0\))S
(overflow++;)462 2202 A
990 V
(06501)210 648 A
(day)126 1362 A
1530(+=)S
(yday;)210 1656 A
1080 V
(06502)210 648 A
1170 V
(06503)210 648 A
(timep->tm_yday)588 1362 A
1992(=)S
(yday;)210 2076 A
1260 V
(06504)210 648 A
(timep->tm_wday)588 1362 A
1992(=)S
(\(day)168 2076 A
2286(+)S
2370(4\))S
2496(%)S
2580(7;)S
3042(/*)S
(day)126 3168 A
3336(0)S
(was)126 3420 A
(thursday)336 3588 A
(\(4\))126 3966 A
4134(*/)S
1350 V
(06505)210 648 A
1440 V
(06506)210 648 A
(seconds)294 1362 A
1698(=)S
(\(\(timep->tm_hour)672 1782 A
2496(*)S
(60L\))168 2580 A
2790(+)S
(timep->tm_min\))588 2874 A
3504(*)S
(60L)126 3588 A
3756(+)S
(timep->tm_sec;)588 3840 A
1530 V
(06507)210 648 A
1620 V
(06508)210 648 A
1362(if)S
(\(\(TIME_MAX)420 1488 A
1950(-)S
(seconds\))336 2034 A
2412(/)S
(SECS_DAY)336 2496 A
2874(<)S
(day\))168 2958 A
(overflow++;)462 3168 A
1710 V
(06509)210 648 A
(seconds)294 1362 A
1698(+=)S
(day)126 1824 A
1992(*)S
(SECS_DAY;)378 2076 A
1800 V
(06510)210 648 A
1890 V
(06511)210 648 A
1362(/*)S
(Now)126 1488 A
(adjust)252 1656 A
(according)378 1950 A
2370(to)S
(timezone)336 2496 A
(and)126 2874 A
(daylight)336 3042 A
(saving)252 3420 A
(time)168 3714 A
3924(*/)S
1980 V
(06512)210 648 A
2070 V
(06513)210 648 A
1362(if)S
(\(\(\(_timezone)504 1488 A
2034(>)S
2118(0\))S
2244(&&)S
(\(TIME_MAX)378 2370 A
2790(-)S
(_timezone)378 2874 A
3294(<)S
(seconds\)\))378 3378 A
2160 V
(06514)210 648 A
1530(||)S
(\(\(_timezone)462 1656 A
2160(<)S
2244(0\))S
2370(&&)S
(\(seconds)336 2496 A
2874(<)S
(-_timezone\)\)\))546 2958 A
2250 V
(06515)210 648 A
(overflow++;)462 1698 A
2340 V
(06516)210 648 A
(seconds)294 1362 A
1698(+=)S
(_timezone;)420 1824 A
2430 V
(06517)210 648 A
2520 V
(06518)210 648 A
1362(if)S
(\(timep->tm_isdst)672 1488 A
2202(<)S
2286(0\))S
2610 V
(06519)210 648 A
(dst)126 1698 A
1866(=)S
(_dstget\(timep\);)630 1950 A
2700 V
(06520)210 648 A
(else)168 1362 A
1572(if)S
(\(timep->tm_isdst\))714 1698 A
2790 V
(06521)210 648 A
(dst)126 1698 A
1866(=)S
(_dst_off;)378 1950 A
2880 V
(06522)210 648 A
(else)168 1362 A
(dst)126 1572 A
1740(=)S
1824(0;)S
2970 V
(06523)210 648 A
3060 V
(06524)210 648 A
1362(if)S
(\(dst)168 1488 A
1698(>)S
(seconds\))336 1782 A
(overflow++;)462 2160 A
2706(/*)S
(dst)126 2832 A
3000(is)S
(always)252 3126 A
(non-negative)504 3420 A
3966(*/)S
3150 V
(06525)210 648 A
(seconds)294 1362 A
1698(-=)S
(dst;)168 1824 A
3240 V
(06526)210 648 A
3330 V
(06527)210 648 A
1362(if)S
(\(overflow\))420 1488 A
(return)252 1950 A
(\(time_t\)-1;)462 2244 A
3420 V
(06528)210 648 A
3510 V
(06529)210 648 A
1362(if)S
(\(\(time_t\)seconds)672 1488 A
2202(!=)S
(seconds\))336 2328 A
(return)252 2706 A
(\(time_t\)-1;)462 3000 A
3600 V
(06530)210 648 A
(return)252 1362 A
(\(time_t\)seconds;)672 1656 A
3690 V
(06531)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ansi/qsort.c)840 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(06600)210 648 A
1026(/*)S
4590 V
(06601)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4680 V
(06602)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4770 V
(06603)210 648 A
1068(*/)S
4860 V
(06604)210 648 A
1026(/*)S
($Header:)336 1152 A
(qsort.c,v)378 1530 A
(1.3)126 1950 A
(90/08/28)336 2118 A
(14:03:24)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
4950 V
(06605)210 648 A
5040 V
(06606)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5130 V
(06607)210 648 A
5220 V
(06608)210 648 A
(static)252 1026 A
(void)168 1362 A
(qsort1\(char)462 1572 A
2076(*,)S
(char)168 2202 A
2412(*,)S
(size_t\);)336 2538 A
5310 V
(06609)210 648 A
(static)252 1026 A
(int)126 1362 A
(\(*qcompar\)\(const)672 1530 A
(char)168 2244 A
2454(*,)S
(const)210 2580 A
(char)168 2832 A
(*\);)126 3042 A
5400 V
(06610)210 648 A
(static)252 1026 A
(void)168 1362 A
(qexchange\(char)588 1572 A
2202(*,)S
(char)168 2328 A
2538(*,)S
(size_t\);)336 2664 A
5490 V
(06611)210 648 A
(static)252 1026 A
(void)168 1362 A
(q3exchange\(char)630 1572 A
2244(*,)S
(char)168 2370 A
2580(*,)S
(char)168 2706 A
2916(*,)S
(size_t\);)336 3042 A
5580 V
(06612)210 648 A
5670 V
(06613)210 648 A
(void)168 1026 A
5760 V
(06614)210 648 A
(qsort\(void)420 1026 A
(*base,)252 1488 A
(size_t)252 1782 A
(nel,)168 2076 A
(size_t)252 2286 A
(width,)252 2580 A
5850 V
(06615)210 648 A
(int)126 1278 A
(\(*compar\)\(const)630 1446 A
(void)168 2118 A
2328(*,)S
(const)210 2454 A
(void)168 2706 A
(*\)\))126 2916 A
5940 V
(06616)210 648 A
1026({)S
6030 V
(06617)210 648 A
1362(/*)S
(when)168 1488 A
(nel)126 1698 A
1866(is)S
1992(0,)S
(the)126 2118 A
(expression)420 2286 A
('\(nel)210 2748 A
3000(-)S
3084(1\))S
3210(*)S
(width')252 3294 A
3588(is)S
(wrong)210 3714 A
3966(*/)S
6120 V
(06618)210 648 A
1362(if)S
(\(!nel\))252 1488 A
(return;)294 1782 A
6210 V
(06619)210 648 A
(qcompar)294 1362 A
1698(=)S
(\(int)168 1782 A
(\(*\)\(const)378 1992 A
(char)168 2412 A
2622(*,)S
(const)210 2748 A
(char)168 3000 A
(*\)\))126 3210 A
(compar;)294 3378 A
8418 V
EP
%%Page: 56 56
BP
/slant 0 def
/height 0 def
630 V
12 B
648(56)S
11 R
2012(File:)S
(src/lib/ansi/qsort.c)818 2245 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(06620)210 648 A
(qsort1\(base,)504 1362 A
(\(char)210 1908 A
(*\)base)252 2160 A
2454(+)S
(\(nel)168 2538 A
2748(-)S
2832(1\))S
2958(*)S
(width,)252 3042 A
(width\);)294 3336 A
990 V
(06621)210 648 A
1026(})S
1170 V
(06623)210 648 A
(static)252 1026 A
(void)168 1320 A
1260 V
(06624)210 648 A
(qsort1\(char)462 1026 A
(*a1,)168 1530 A
(char)168 1740 A
(*a2,)168 1950 A
(register)336 2160 A
(size_t)252 2538 A
(width\))252 2832 A
1350 V
(06625)210 648 A
1026({)S
1440 V
(06626)210 648 A
(register)336 1362 A
(char)168 1740 A
(*left,)252 1950 A
(*right;)294 2244 A
1530 V
(06627)210 648 A
(register)336 1362 A
(char)168 1740 A
(*lefteq,)336 1950 A
(*righteq;)378 2328 A
1620 V
(06628)210 648 A
(int)126 1362 A
(cmp;)168 1530 A
1710 V
(06629)210 648 A
1800 V
(06630)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
1890 V
(06631)210 648 A
1698(if)S
(\(a2)126 1824 A
1992(<=)S
(a1\))126 2118 A
(return;)294 2286 A
1980 V
(06632)210 648 A
(left)168 1698 A
1908(=)S
(a1;)126 1992 A
2070 V
(06633)210 648 A
(right)210 1698 A
1950(=)S
(a2;)126 2034 A
2160 V
(06634)210 648 A
(lefteq)252 1698 A
1992(=)S
(righteq)294 2076 A
2412(=)S
2496(a1)S
2622(+)S
(width)210 2706 A
2958(*)S
(\(\(\(a2-a1\)+width\)/\(2*width\)\);)1176 3042 A
2250 V
(06635)210 648 A
1698(/*)S
2340 V
(06636)210 648 A
(Pick)168 1824 A
2034(an)S
(element)294 2160 A
2496(in)S
(the)126 2622 A
(middle)252 2790 A
3084(of)S
(the)126 3210 A
(array.)252 3378 A
2430 V
(06637)210 648 A
1824(We)S
(will)168 1950 A
(collect)294 2160 A
(the)126 2496 A
(equals)252 2664 A
(around)252 2958 A
(it.)126 3252 A
2520 V
(06638)210 648 A
("lefteq")336 1824 A
(and)126 2202 A
("righteq")378 2370 A
(indicate)336 2790 A
(the)126 3168 A
(left)168 3336 A
(and)126 3546 A
(right)210 3714 A
2610 V
(06639)210 648 A
(bounds)252 1824 A
2118(of)S
(the)126 2244 A
(equals)252 2412 A
(respectively.)546 2706 A
2700 V
(06640)210 648 A
(Smaller)294 1824 A
(elements)336 2160 A
(end)126 2538 A
2706(up)S
(left)168 2832 A
3042(of)S
(it,)126 3168 A
(larger)252 3336 A
(elements)336 3630 A
(end)126 4008 A
2790 V
(06641)210 648 A
1824(up)S
(right)210 1950 A
2202(of)S
(it.)126 2328 A
2880 V
(06642)210 648 A
1698(*/)S
2970 V
(06643)210 648 A
(again:)252 1026 A
3060 V
(06644)210 648 A
(while)210 1698 A
(\(left)210 1950 A
2202(<)S
(lefteq)252 2286 A
2580(&&)S
(\(cmp)168 2706 A
2916(=)S
(\(*qcompar\)\(left,)672 3000 A
(lefteq\)\))336 3714 A
4092(<=)S
4218(0\))S
4344({)S
3150 V
(06645)210 648 A
2034(if)S
(\(cmp)168 2160 A
2370(<)S
2454(0\))S
2580({)S
3240 V
(06646)210 648 A
2370(/*)S
(leave)210 2496 A
2748(it)S
(where)210 2874 A
3126(it)S
3252(is)S
3378(*/)S
3330 V
(06647)210 648 A
(left)168 2370 A
2580(+=)S
(width;)252 2706 A
3420 V
(06648)210 648 A
2034(})S
3510 V
(06649)210 648 A
(else)168 2034 A
2244({)S
3600 V
(06650)210 648 A
2370(/*)S
(equal,)252 2496 A
2790(so)S
(exchange)336 2916 A
(with)168 3294 A
(the)126 3504 A
(element)294 3672 A
4008(to)S
3690 V
(06651)210 648 A
(the)126 2496 A
(left)168 2664 A
2874(of)S
(the)126 3000 A
("equal"-interval.)714 3168 A
3780 V
(06652)210 648 A
2370(*/)S
3870 V
(06653)210 648 A
(lefteq)252 2370 A
2664(-=)S
(width;)252 2790 A
3960 V
(06654)210 648 A
(qexchange\(left,)630 2370 A
(lefteq,)294 3042 A
(width\);)294 3378 A
4050 V
(06655)210 648 A
2034(})S
4140 V
(06656)210 648 A
1698(})S
4230 V
(06657)210 648 A
(while)210 1698 A
(\(right)252 1950 A
2244(>)S
(righteq\))336 2328 A
2706({)S
4320 V
(06658)210 648 A
2034(if)S
(\(\(cmp)210 2160 A
2412(=)S
(\(*qcompar\)\(right,)714 2496 A
(righteq\)\))378 3252 A
3672(<)S
3756(0\))S
3882({)S
4410 V
(06659)210 648 A
2370(/*)S
(smaller,)336 2496 A
(should)252 2874 A
3168(go)S
3294(to)S
(left)168 3420 A
(part)168 3630 A
4500 V
(06660)210 648 A
2370(*/)S
4590 V
(06661)210 648 A
2370(if)S
(\(left)210 2496 A
2748(<)S
(lefteq\))294 2832 A
3168({)S
4680 V
(06662)210 648 A
2706(/*)S
(yes,)168 2832 A
3042(we)S
(had)126 3168 A
3336(a)S
(larger)252 3420 A
(one)126 3714 A
3882(at)S
(the)126 4008 A
4770 V
(06663)210 648 A
(left,)210 2832 A
3084(so)S
3210(we)S
(can)126 3336 A
(just)168 3504 A
(exchange)336 3714 A
4860 V
(06664)210 648 A
2706(*/)S
4950 V
(06665)210 648 A
(qexchange\(left,)630 2706 A
(right,)252 3378 A
(width\);)294 3672 A
5040 V
(06666)210 648 A
(left)168 2706 A
2916(+=)S
(width;)252 3042 A
5130 V
(06667)210 648 A
(right)210 2706 A
2958(-=)S
(width;)252 3084 A
5220 V
(06668)210 648 A
(goto)168 2706 A
(again;)252 2916 A
5310 V
(06669)210 648 A
2370(})S
5400 V
(06670)210 648 A
2370(/*)S
2496(no)S
(more)168 2622 A
(room)168 2832 A
3042(at)S
(the)126 3168 A
(left)168 3336 A
(part,)210 3546 A
3798(so)S
3924(we)S
5490 V
(06671)210 648 A
(move)168 2496 A
(the)126 2706 A
("equal-interval")672 2874 A
(one)126 3588 A
(place)210 3756 A
4008(to)S
(the)126 4134 A
5580 V
(06672)210 648 A
(right,)252 2496 A
(and)126 2790 A
(the)126 2958 A
(smaller)294 3126 A
(element)294 3462 A
3798(to)S
(the)126 3924 A
5670 V
(06673)210 648 A
(left)168 2496 A
2706(of)S
(it.)126 2832 A
5760 V
(06674)210 648 A
(This)168 2496 A
2706(is)S
(best)168 2832 A
(expressed)378 3042 A
3462(as)S
3588(a)S
(three-way)378 3672 A
5850 V
(06675)210 648 A
(exchange.)378 2496 A
5940 V
(06676)210 648 A
2370(*/)S
6030 V
(06677)210 648 A
(righteq)294 2370 A
2706(+=)S
(width;)252 2832 A
6120 V
(06678)210 648 A
(q3exchange\(left,)672 2370 A
(righteq,)336 3084 A
(right,)252 3462 A
(width\);)294 3756 A
6210 V
(06679)210 648 A
(lefteq)252 2370 A
2664(+=)S
(width;)252 2790 A
8418 V
EP
%%Page: 57 57
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2012(File:)S
(src/lib/ansi/qsort.c)818 2245 A
12 B
4308(57)S
900 V
7 LST
(06680)210 648 A
(left)168 2370 A
2580(=)S
(lefteq;)294 2664 A
990 V
(06681)210 648 A
2034(})S
1080 V
(06682)210 648 A
(else)168 2034 A
2244(if)S
(\(cmp)168 2370 A
2580(==)S
2706(0\))S
2832({)S
1170 V
(06683)210 648 A
2370(/*)S
(equal,)252 2496 A
2790(so)S
(exchange)336 2916 A
(with)168 3294 A
(the)126 3504 A
(element)294 3672 A
4008(to)S
1260 V
(06684)210 648 A
(the)126 2496 A
(right)210 2664 A
2916(of)S
(the)126 3042 A
("equal-interval")672 3210 A
1350 V
(06685)210 648 A
2370(*/)S
1440 V
(06686)210 648 A
(righteq)294 2370 A
2706(+=)S
(width;)252 2832 A
1530 V
(06687)210 648 A
(qexchange\(right,)672 2370 A
(righteq,)336 3084 A
(width\);)294 3462 A
1620 V
(06688)210 648 A
2034(})S
1710 V
(06689)210 648 A
(else)168 2034 A
2370(/*)S
(just)168 2496 A
(leave)210 2706 A
2958(it)S
3084(*/)S
(right)210 3210 A
3462(-=)S
(width;)252 3588 A
1800 V
(06690)210 648 A
1698(})S
1890 V
(06691)210 648 A
1698(if)S
(\(left)210 1824 A
2076(<)S
(lefteq\))294 2160 A
2496({)S
1980 V
(06692)210 648 A
2034(/*)S
(larger)252 2160 A
(element)294 2454 A
2790(to)S
(the)126 2916 A
(left,)210 3084 A
(but)126 3336 A
3504(no)S
(more)168 3630 A
(room,)210 3840 A
2070 V
(06693)210 648 A
2160(so)S
(move)168 2286 A
(the)126 2496 A
("equal-interval")672 2664 A
(one)126 3378 A
(place)210 3546 A
3798(to)S
(the)126 3924 A
2160 V
(06694)210 648 A
(left,)210 2160 A
(and)126 2412 A
(the)126 2580 A
(larger)252 2748 A
(element)294 3042 A
3378(to)S
(the)126 3504 A
(right)210 3672 A
2250 V
(06695)210 648 A
2160(of)S
(it.)126 2286 A
2340 V
(06696)210 648 A
2034(*/)S
2430 V
(06697)210 648 A
(lefteq)252 2034 A
2328(-=)S
(width;)252 2454 A
2520 V
(06698)210 648 A
(q3exchange\(right,)714 2034 A
(lefteq,)294 2790 A
(left,)210 3126 A
(width\);)294 3378 A
2610 V
(06699)210 648 A
(righteq)294 2034 A
2370(-=)S
(width;)252 2496 A
2700 V
(06700)210 648 A
(right)210 2034 A
2286(=)S
(righteq;)336 2370 A
2790 V
(06701)210 648 A
(goto)168 2034 A
(again;)252 2244 A
2880 V
(06702)210 648 A
1698(})S
2970 V
(06703)210 648 A
1698(/*)S
(now)126 1824 A
(sort)168 1992 A
(the)126 2202 A
("smaller")378 2370 A
(part)168 2790 A
3000(*/)S
3060 V
(06704)210 648 A
(qsort1\(a1,)420 1698 A
(lefteq)252 2160 A
2454(-)S
(width,)252 2538 A
(width\);)294 2832 A
3150 V
(06705)210 648 A
1698(/*)S
(and)126 1824 A
(now)126 1992 A
(the)126 2160 A
(larger,)294 2328 A
(saving)252 2664 A
2958(a)S
(subroutine)420 3042 A
(call)168 3504 A
3240 V
(06706)210 648 A
(because)294 1824 A
2160(of)S
(the)126 2286 A
(for\(;;\))294 2454 A
3330 V
(06707)210 648 A
1698(*/)S
3420 V
(06708)210 648 A
1698(a1)S
1824(=)S
(righteq)294 1908 A
2244(+)S
(width;)252 2328 A
3510 V
(06709)210 648 A
1362(})S
3600 V
(06710)210 648 A
(/*NOTREACHED*/)588 1362 A
3690 V
(06711)210 648 A
1026(})S
3870 V
(06713)210 648 A
(static)252 1026 A
(void)168 1320 A
3960 V
(06714)210 648 A
(qexchange\(register)756 1026 A
(char)168 1824 A
(*p,)126 2034 A
(register)336 2202 A
(char)168 2580 A
(*q,)126 2790 A
4050 V
(06715)210 648 A
(register)336 1446 A
(size_t)252 1824 A
2118(n\))S
4140 V
(06716)210 648 A
1026({)S
4230 V
(06717)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(c;)S
4320 V
(06718)210 648 A
4410 V
(06719)210 648 A
(while)210 1362 A
(\(n--)168 1614 A
1824(>)S
1908(0\))S
2034({)S
4500 V
(06720)210 648 A
1698(c)S
1782(=)S
(*p;)126 1866 A
4590 V
(06721)210 648 A
(*p++)168 1698 A
1908(=)S
(*q;)126 1992 A
4680 V
(06722)210 648 A
(*q++)168 1698 A
1908(=)S
1992(c;)S
4770 V
(06723)210 648 A
1362(})S
4860 V
(06724)210 648 A
1026(})S
5040 V
(06726)210 648 A
(static)252 1026 A
(void)168 1320 A
5130 V
(06727)210 648 A
(q3exchange\(register)798 1026 A
(char)168 1866 A
(*p,)126 2076 A
(register)336 2244 A
(char)168 2622 A
(*q,)126 2832 A
(register)336 3000 A
(char)168 3378 A
(*r,)126 3588 A
5220 V
(06728)210 648 A
(register)336 1488 A
(size_t)252 1866 A
2160(n\))S
5310 V
(06729)210 648 A
1026({)S
5400 V
(06730)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(c;)S
5490 V
(06731)210 648 A
5580 V
(06732)210 648 A
(while)210 1362 A
(\(n--)168 1614 A
1824(>)S
1908(0\))S
2034({)S
5670 V
(06733)210 648 A
1698(c)S
1782(=)S
(*p;)126 1866 A
5760 V
(06734)210 648 A
(*p++)168 1698 A
1908(=)S
(*r;)126 1992 A
5850 V
(06735)210 648 A
(*r++)168 1698 A
1908(=)S
(*q;)126 1992 A
5940 V
(06736)210 648 A
(*q++)168 1698 A
1908(=)S
1992(c;)S
6030 V
(06737)210 648 A
1362(})S
6120 V
(06738)210 648 A
1026(})S
8418 V
EP
%%Page: 58 58
BP
/slant 0 def
/height 0 def
630 V
12 B
648(58)S
11 R
2017(File:)S
(src/lib/ansi/raise.c)808 2250 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/raise.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(06800)210 648 A
1026(/*)S
1440 V
(06801)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(06802)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(06803)210 648 A
1068(*/)S
1710 V
(06804)210 648 A
1026(/*)S
($Header:)336 1152 A
(raise.c,v)378 1530 A
(1.3)126 1950 A
(90/11/22)336 2118 A
(13:55:50)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
1800 V
(06805)210 648 A
1890 V
(06806)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
1980 V
(06807)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
2070 V
(06808)210 648 A
(#endif)252 1026 A
2160 V
(06809)210 648 A
(#include)336 1026 A
(<signal.h>)420 1698 A
2250 V
(06810)210 648 A
2340 V
(06811)210 648 A
(int)126 1026 A
(_kill\(int)378 1194 A
(pid,)168 1614 A
(int)126 1824 A
(sig\);)210 1992 A
2430 V
(06812)210 648 A
(pid_t)210 1026 A
(_getpid\(void\);)588 1278 A
2520 V
(06813)210 648 A
2610 V
(06814)210 648 A
(int)126 1026 A
2700 V
(06815)210 648 A
(raise\(int)378 1026 A
(sig\))168 1446 A
2790 V
(06816)210 648 A
1026({)S
2880 V
(06817)210 648 A
1362(if)S
(\(sig)168 1488 A
1698(<)S
1782(0)S
1866(||)S
(sig)126 1992 A
2160(>)S
(_NSIG\))252 2244 A
2970 V
(06818)210 648 A
(return)252 1698 A
(-1;)126 1992 A
3060 V
(06819)210 648 A
(return)252 1362 A
(_kill\(_getpid\(\),)672 1656 A
(sig\);)210 2370 A
3150 V
(06820)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/rand.c)798 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(06900)210 648 A
1026(/*)S
4140 V
(06901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(06902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(06903)210 648 A
1068(*/)S
4410 V
(06904)210 648 A
1026(/*)S
($Header:)336 1152 A
(rand.c,v)336 1530 A
(1.3)126 1908 A
(90/06/30)336 2076 A
(20:02:45)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4500 V
(06905)210 648 A
4590 V
(06906)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4680 V
(06907)210 648 A
4770 V
(06908)210 648 A
(static)252 1026 A
(unsigned)336 1320 A
(long)168 1698 A
(int)126 1908 A
(next)168 2076 A
2286(=)S
2370(1;)S
4860 V
(06909)210 648 A
4950 V
(06910)210 648 A
(int)126 1026 A
(rand\(void\))420 1194 A
5040 V
(06911)210 648 A
1026({)S
5130 V
(06912)210 648 A
(next)168 1362 A
1572(=)S
(next)168 1656 A
1866(*)S
(1103515245)420 1950 A
2412(+)S
(12345;)252 2496 A
5220 V
(06913)210 648 A
(return)252 1362 A
(\(unsigned)378 1656 A
(int\)\(next/\(2)504 2076 A
2622(*)S
(\(RAND_MAX)378 2706 A
(+1L\)\))210 3126 A
3378(%)S
(\(RAND_MAX+1L\)\);)630 3462 A
5310 V
(06914)210 648 A
1026(})S
5490 V
(06916)210 648 A
(void)168 1026 A
(srand\(unsigned)588 1236 A
(int)126 1866 A
(seed\))210 2034 A
5580 V
(06917)210 648 A
1026({)S
5670 V
(06918)210 648 A
(next)168 1362 A
1572(=)S
(seed;)210 1656 A
5760 V
(06919)210 648 A
1026(})S
8418 V
EP
%%Page: 59 59
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1927(File:)S
(src/lib/ansi/setlocale.c)988 2160 A
12 B
4308(59)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/setlocale.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(07000)210 648 A
1026(/*)S
1440 V
(07001)210 648 A
1068(*)S
(setlocale)378 1152 A
1572(-)S
(set)126 1656 A
(the)126 1824 A
(programs)336 1992 A
(locale)252 2370 A
1530 V
(07002)210 648 A
1068(*/)S
1620 V
(07003)210 648 A
1026(/*)S
($Header:)336 1152 A
(setlocale.c,v)546 1530 A
(1.2)126 2118 A
(89/12/18)336 2286 A
(15:49:11)336 2664 A
(eck)126 3042 A
(Exp)126 3210 A
3378($)S
3462(*/)S
1710 V
(07004)210 648 A
1800 V
(07005)210 648 A
(#include)336 1026 A
(<locale.h>)420 1698 A
1890 V
(07006)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(07007)210 648 A
2070 V
(07008)210 648 A
(struct)252 1026 A
(lconv)210 1320 A
(_lc;)168 1572 A
2160 V
(07009)210 648 A
2250 V
(07010)210 648 A
(char)168 1026 A
1236(*)S
2340 V
(07011)210 648 A
(setlocale\(int)546 1026 A
(category,)378 1614 A
(const)210 2034 A
(char)168 2286 A
(*locale\))336 2496 A
2430 V
(07012)210 648 A
1026({)S
2520 V
(07013)210 648 A
1362(if)S
(\(!locale\))378 1488 A
(return)252 1908 A
("C";)168 2202 A
2610 V
(07014)210 648 A
1362(if)S
(\(*locale)336 1488 A
1866(&&)S
(strcmp\(locale,)588 1992 A
("C"\)\))210 2622 A
(return)252 2874 A
(\(char)210 3168 A
(*\)NULL;)294 3420 A
2700 V
(07015)210 648 A
2790 V
(07016)210 648 A
(switch\(category\))672 1362 A
2076({)S
2880 V
(07017)210 648 A
(case)168 1362 A
(LC_ALL:)294 1572 A
2970 V
(07018)210 648 A
(case)168 1362 A
(LC_CTYPE:)378 1572 A
3060 V
(07019)210 648 A
(case)168 1362 A
(LC_COLLATE:)462 1572 A
3150 V
(07020)210 648 A
(case)168 1362 A
(LC_TIME:)336 1572 A
3240 V
(07021)210 648 A
(case)168 1362 A
(LC_NUMERIC:)462 1572 A
3330 V
(07022)210 648 A
(case)168 1362 A
(LC_MONETARY:)504 1572 A
3420 V
(07023)210 648 A
(return)252 1698 A
(*locale)294 1992 A
2328(?)S
(\(char)210 2412 A
(*\)locale)336 2664 A
3042(:)S
("C";)168 3126 A
3510 V
(07024)210 648 A
(default:)336 1362 A
3600 V
(07025)210 648 A
(return)252 1698 A
(\(char)210 1992 A
(*\)NULL;)294 2244 A
3690 V
(07026)210 648 A
1362(})S
3780 V
(07027)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ansi/sigmisc.c)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(07100)210 648 A
1026(/*)S
4590 V
(07101)210 648 A
1068(*)S
(sigmisc.c)378 1152 A
1572(-)S
(used)168 1656 A
1866(to)S
(get)126 1992 A
2160(a)S
(signal)252 2244 A
(mask)168 2538 A
4680 V
(07102)210 648 A
1068(*/)S
4770 V
(07103)210 648 A
1026(/*)S
($Header:)336 1152 A
(sigmisc.c,v)462 1530 A
(1.2)126 2034 A
(90/10/15)336 2202 A
(11:23:08)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4860 V
(07104)210 648 A
4950 V
(07105)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
5040 V
(07106)210 648 A
5130 V
(07107)210 648 A
1026(/*)S
(This)168 1152 A
(can't)210 1362 A
1614(be)S
(done)168 1740 A
1950(in)S
(setjmp.e,)378 2076 A
(since)210 2496 A
(SIG_SETMASK)462 2748 A
3252(is)S
(defined)294 3378 A
3714(in)S
5220 V
(07108)210 648 A
1068(*)S
(<signal.h>.)462 1152 A
(This)168 1656 A
1866(is)S
1992(a)S
(C-file,)294 2076 A
(which)210 2412 A
(can't)210 2664 A
2916(be)S
(included.)378 3042 A
5310 V
(07109)210 648 A
1068(*/)S
5400 V
(07110)210 648 A
5490 V
(07111)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
5580 V
(07112)210 648 A
(#include)336 1026 A
(<signal.h>)420 1698 A
5670 V
(07113)210 648 A
(#include)336 1026 A
(<stddef.h>)420 1698 A
5760 V
(07114)210 648 A
5850 V
(07115)210 648 A
(int)126 1026 A
(_sigprocmask\(int,)714 1194 A
(sigset_t)336 1950 A
2328(*,)S
(sigset_t)336 2454 A
(*\);)126 2832 A
5940 V
(07116)210 648 A
6030 V
(07117)210 648 A
(static)252 1026 A
(void)168 1320 A
6120 V
(07118)210 648 A
(__testsigset\(void\))756 1026 A
1824({)S
6210 V
(07119)210 648 A
1362(/*)S
(This)168 1488 A
(switch)252 1698 A
(compiles)336 1992 A
(when)168 2370 A
2580(a)S
(sigset_t)336 2664 A
(has)126 3042 A
(the)126 3210 A
(right)210 3378 A
(size.)210 3630 A
3882(*/)S
8418 V
EP
%%Page: 60 60
BP
/slant 0 def
/height 0 def
630 V
12 B
648(60)S
11 R
1953(File:)S
(src/lib/ansi/sigmisc.c)936 2186 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(07120)210 648 A
(switch\(0\))378 1362 A
1782({)S
990 V
(07121)210 648 A
(case)168 1362 A
1572(0:)S
1080 V
(07122)210 648 A
(case)168 1362 A
(sizeof\(sigset_t\))672 1572 A
2286(<=)S
(sizeof\(long\):)546 2412 A
(break;)252 3000 A
1170 V
(07123)210 648 A
1362(})S
1260 V
(07124)210 648 A
1026(})S
1440 V
(07126)210 648 A
(void)168 1026 A
1530 V
(07127)210 648 A
(__newsigset\(sigset_t)840 1026 A
(*p\))126 1908 A
1620 V
(07128)210 648 A
1026({)S
1710 V
(07129)210 648 A
1362(/*)S
(The)126 1488 A
(SIG_SETMASK)462 1656 A
2160(is)S
(not)126 2286 A
(significant)462 2454 A
2958(*/)S
1800 V
(07130)210 648 A
(_sigprocmask\(SIG_SETMASK,)1050 1362 A
(NULL,)210 2454 A
(p\);)126 2706 A
1890 V
(07131)210 648 A
1026(})S
2070 V
(07133)210 648 A
(void)168 1026 A
2160 V
(07134)210 648 A
(__oldsigset\(sigset_t)840 1026 A
(*p\))126 1908 A
2250 V
(07135)210 648 A
1026({)S
2340 V
(07136)210 648 A
(_sigprocmask\(SIG_SETMASK,)1050 1362 A
2454(p,)S
(NULL\);)252 2580 A
2430 V
(07137)210 648 A
1026(})S
2520 V
(07138)210 648 A
(#endif)252 1026 A
1362(/*)S
(_POSIX_SOURCE)546 1488 A
2076(*/)S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/ansi/signal.c)882 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(07200)210 648 A
1026(/*)S
(SYSVR4)252 1152 A
(and)126 1446 A
(ANSI)168 1614 A
(compatible)420 1824 A
(signal\(2\).)420 2286 A
2748(*/)S
3240 V
(07201)210 648 A
3330 V
(07202)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3420 V
(07203)210 648 A
(#define)294 1026 A
(sigaction)378 1362 A
(_sigaction)420 2034 A
3510 V
(07204)210 648 A
(#define)294 1026 A
(sigemptyset)462 1362 A
(_sigemptyset)504 2034 A
3600 V
(07205)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
3690 V
(07206)210 648 A
3780 V
(07207)210 648 A
(PUBLIC)252 1026 A
(sighandler_t)504 1320 A
(signal\(sig,)462 1866 A
(disp\))210 2370 A
3870 V
(07208)210 648 A
(int)126 1026 A
(sig;)168 1194 A
2370(/*)S
(signal)252 2496 A
(number)252 2790 A
3084(*/)S
3960 V
(07209)210 648 A
(sighandler_t)504 1026 A
(disp;)210 1572 A
2370(/*)S
(signal)252 2496 A
(handler,)336 2790 A
3168(or)S
(SIG_DFL,)336 3294 A
3672(or)S
(SIG_IGN)294 3798 A
4134(*/)S
4050 V
(07210)210 648 A
1026({)S
4140 V
(07211)210 648 A
(struct)252 1110 A
(sigaction)378 1404 A
(sa,)126 1824 A
(osa;)168 1992 A
4230 V
(07212)210 648 A
4320 V
(07213)210 648 A
1110(if)S
(\(sig)168 1236 A
1446(<=)S
1572(0)S
1656(||)S
(sig)126 1782 A
1950(>)S
(_NSIG)210 2034 A
2286(||)S
(sig)126 2412 A
2580(==)S
(SIGKILL\))336 2706 A
3084({)S
4410 V
(07214)210 648 A
(errno)210 1362 A
1614(=)S
(EINVAL;)294 1698 A
4500 V
(07215)210 648 A
(return\(SIG_ERR\);)672 1362 A
4590 V
(07216)210 648 A
1110(})S
4680 V
(07217)210 648 A
(sigemptyset\(&sa.sa_mask\);)1050 1110 A
4770 V
(07218)210 648 A
4860 V
(07219)210 648 A
(#ifdef)252 1026 A
(WANT_UNRELIABLE_SIGNALS)966 1320 A
4950 V
(07220)210 648 A
1110(/*)S
(Allow)210 1236 A
(the)126 1488 A
(signal)252 1656 A
(being)210 1950 A
(handled)294 2202 A
2538(to)S
(interrupt)378 2664 A
(the)126 3084 A
(signal)252 3252 A
(handler.)336 3546 A
3924(*/)S
5040 V
(07221)210 648 A
(sa.sa_flags)462 1110 A
1614(=)S
(SA_NODEFER;)462 1698 A
5130 V
(07222)210 648 A
5220 V
(07223)210 648 A
1110(/*)S
(When)168 1236 A
(signal)252 1446 A
1740(is)S
(caught,)294 1866 A
(reset)210 2202 A
(signal)252 2454 A
(handler)294 2748 A
3084(to)S
(SIG_DFL)294 3210 A
(for)126 3546 A
(all)126 3714 A
(but)126 3882 A
5310 V
(07224)210 648 A
1152(*)S
(SIGILL)252 1236 A
(and)126 1530 A
(SIGTRAP.)336 1698 A
5400 V
(07225)210 648 A
1152(*/)S
5490 V
(07226)210 648 A
1110(if)S
(\(sig)168 1236 A
1446(!=)S
(SIGILL)252 1572 A
1866(&&)S
(sig)126 1992 A
2160(!=)S
(SIGTRAP\))336 2286 A
(sa.sa_flags)462 2664 A
3168(|=)S
(SA_RESETHAND;)546 3294 A
5580 V
(07227)210 648 A
(#else)210 1026 A
5670 V
(07228)210 648 A
(sa.sa_flags)462 1110 A
1614(=)S
1698(0;)S
5760 V
(07229)210 648 A
(#endif)252 1026 A
5850 V
(07230)210 648 A
5940 V
(07231)210 648 A
(sa.sa_handler)546 1110 A
1698(=)S
(disp;)210 1782 A
6030 V
(07232)210 648 A
1110(if)S
(\(sigaction\(sig,)630 1236 A
(&sa,)168 1908 A
(&osa\))210 2118 A
2370(<)S
2454(0\))S
(return\(SIG_ERR\);)672 2580 A
6120 V
(07233)210 648 A
(return\(osa.sa_handler\);)966 1110 A
6210 V
(07234)210 648 A
1026(})S
8418 V
EP
%%Page: 61 61
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2002(File:)S
(src/lib/ansi/strcat.c)839 2235 A
12 B
4308(61)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/strcat.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(07300)210 648 A
1026(/*)S
1440 V
(07301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(07302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(07303)210 648 A
1068(*/)S
1710 V
(07304)210 648 A
1026(/*)S
($Header:)336 1152 A
(strcat.c,v)420 1530 A
(1.2)126 1992 A
(90/05/31)336 2160 A
(18:33:06)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
1800 V
(07305)210 648 A
1890 V
(07306)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(07307)210 648 A
2070 V
(07308)210 648 A
(char)168 1026 A
1236(*)S
2160 V
(07309)210 648 A
(strcat\(char)462 1026 A
(*ret,)210 1530 A
(register)336 1782 A
(const)210 2160 A
(char)168 2412 A
(*s2\))168 2622 A
2250 V
(07310)210 648 A
1026({)S
2340 V
(07311)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1)126 1950 A
2118(=)S
(ret;)168 2202 A
2430 V
(07312)210 648 A
2520 V
(07313)210 648 A
(while)210 1362 A
(\(*s1++)252 1614 A
1908(!=)S
('\\0'\))210 2034 A
2610 V
(07314)210 648 A
1698(/*)S
(EMPTY)210 1824 A
2076(*/)S
2202(;)S
2700 V
(07315)210 648 A
(s1--;)210 1362 A
2790 V
(07316)210 648 A
(while)210 1362 A
(\(*s1++)252 1614 A
1908(=)S
(*s2++\))252 1992 A
2880 V
(07317)210 648 A
1698(/*)S
(EMPTY)210 1824 A
2076(*/)S
2202(;)S
2970 V
(07318)210 648 A
(return)252 1362 A
(ret;)168 1656 A
3060 V
(07319)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/strchr.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(07400)210 648 A
1026(/*)S
4140 V
(07401)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(07402)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(07403)210 648 A
1068(*/)S
4410 V
(07404)210 648 A
1026(/*)S
($Header:)336 1152 A
(strchr.c,v)420 1530 A
(1.3)126 1992 A
(90/08/28)336 2160 A
(13:53:00)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4500 V
(07405)210 648 A
4590 V
(07406)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4680 V
(07407)210 648 A
4770 V
(07408)210 648 A
(char)168 1026 A
1236(*)S
4860 V
(07409)210 648 A
(strchr\(register)630 1026 A
(const)210 1698 A
(char)168 1950 A
(*s,)126 2160 A
(register)336 2328 A
(int)126 2706 A
2874(c\))S
4950 V
(07410)210 648 A
1026({)S
5040 V
(07411)210 648 A
1362(c)S
1446(=)S
(\(char\))252 1530 A
1824(c;)S
5130 V
(07412)210 648 A
5220 V
(07413)210 648 A
(while)210 1362 A
1614(\(c)S
1740(!=)S
(*s\))126 1866 A
2034({)S
5310 V
(07414)210 648 A
1698(if)S
(\(*s++)210 1824 A
2076(==)S
('\\0'\))210 2202 A
(return)252 2454 A
(NULL;)210 2748 A
5400 V
(07415)210 648 A
1362(})S
5490 V
(07416)210 648 A
(return)252 1362 A
(\(char)210 1656 A
(*\)s;)168 1908 A
5580 V
(07417)210 648 A
1026(})S
8418 V
EP
%%Page: 62 62
BP
/slant 0 def
/height 0 def
630 V
12 B
648(62)S
11 R
1972(File:)S
(src/lib/ansi/strcmp.c)899 2205 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/strcmp.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(07500)210 648 A
1026(/*)S
1440 V
(07501)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(07502)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(07503)210 648 A
1068(*/)S
1710 V
(07504)210 648 A
1026(/*)S
($Id:)168 1152 A
(strcmp.c,v)420 1362 A
(1.4)126 1824 A
(1994/06/24)420 1992 A
(11:56:43)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1800 V
(07505)210 648 A
1890 V
(07506)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(07507)210 648 A
2070 V
(07508)210 648 A
(int)126 1026 A
2160 V
(07509)210 648 A
(strcmp\(register)630 1026 A
(const)210 1698 A
(char)168 1950 A
(*s1,)168 2160 A
(register)336 2370 A
(const)210 2748 A
(char)168 3000 A
(*s2\))168 3210 A
2250 V
(07510)210 648 A
1026({)S
2340 V
(07511)210 648 A
(while)210 1362 A
(\(*s1)168 1614 A
1824(==)S
(*s2++\))252 1950 A
2244({)S
2430 V
(07512)210 648 A
1698(if)S
(\(*s1++)252 1824 A
2118(==)S
('\\0'\))210 2244 A
2496({)S
2520 V
(07513)210 648 A
(return)252 2034 A
2328(0;)S
2610 V
(07514)210 648 A
1698(})S
2700 V
(07515)210 648 A
1362(})S
2790 V
(07516)210 648 A
1362(if)S
(\(*s1)168 1488 A
1698(==)S
('\\0'\))210 1824 A
(return)252 2076 A
(-1;)126 2370 A
2880 V
(07517)210 648 A
1362(if)S
(\(*--s2)252 1488 A
1782(==)S
('\\0'\))210 1908 A
(return)252 2160 A
2454(1;)S
2970 V
(07518)210 648 A
(return)252 1362 A
(\(unsigned)378 1656 A
(char\))210 2076 A
(*s1)126 2328 A
2496(-)S
(\(unsigned)378 2580 A
(char\))210 3000 A
(*s2;)168 3252 A
3060 V
(07519)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/strcoll.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(07600)210 648 A
1026(/*)S
4140 V
(07601)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(07602)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(07603)210 648 A
1068(*/)S
4410 V
(07604)210 648 A
1026(/*)S
($Header:)336 1152 A
(strcoll.c,v)462 1530 A
(1.2)126 2034 A
(90/08/28)336 2202 A
(13:53:23)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4500 V
(07605)210 648 A
4590 V
(07606)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4680 V
(07607)210 648 A
(#include)336 1026 A
(<locale.h>)420 1698 A
4770 V
(07608)210 648 A
4860 V
(07609)210 648 A
(int)126 1026 A
4950 V
(07610)210 648 A
(strcoll\(register)672 1026 A
(const)210 1740 A
(char)168 1992 A
(*s1,)168 2202 A
(register)336 2412 A
(const)210 2790 A
(char)168 3042 A
(*s2\))168 3252 A
5040 V
(07611)210 648 A
1026({)S
5130 V
(07612)210 648 A
(while)210 1362 A
(\(*s1)168 1614 A
1824(==)S
(*s2++\))252 1950 A
2244({)S
5220 V
(07613)210 648 A
1698(if)S
(\(*s1++)252 1824 A
2118(==)S
('\\0'\))210 2244 A
2496({)S
5310 V
(07614)210 648 A
(return)252 2034 A
2328(0;)S
5400 V
(07615)210 648 A
1698(})S
5490 V
(07616)210 648 A
1362(})S
5580 V
(07617)210 648 A
(return)252 1362 A
(*s1)126 1656 A
1824(-)S
(*--s2;)252 1908 A
5670 V
(07618)210 648 A
1026(})S
8418 V
EP
%%Page: 63 63
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1987(File:)S
(src/lib/ansi/strcpy.c)868 2220 A
12 B
4308(63)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/strcpy.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(07700)210 648 A
1026(/*)S
1440 V
(07701)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(07702)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(07703)210 648 A
1068(*/)S
1710 V
(07704)210 648 A
1026(/*)S
($Header:)336 1152 A
(strcpy.c,v)420 1530 A
(1.2)126 1992 A
(90/05/31)336 2160 A
(18:33:13)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
1800 V
(07705)210 648 A
1890 V
(07706)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(07707)210 648 A
2070 V
(07708)210 648 A
(char)168 1026 A
1236(*)S
2160 V
(07709)210 648 A
(strcpy\(char)462 1026 A
(*ret,)210 1530 A
(register)336 1782 A
(const)210 2160 A
(char)168 2412 A
(*s2\))168 2622 A
2250 V
(07710)210 648 A
1026({)S
2340 V
(07711)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1)126 1950 A
2118(=)S
(ret;)168 2202 A
2430 V
(07712)210 648 A
2520 V
(07713)210 648 A
(while)210 1362 A
(\(*s1++)252 1614 A
1908(=)S
(*s2++\))252 1992 A
2610 V
(07714)210 648 A
1698(/*)S
(EMPTY)210 1824 A
2076(*/)S
2202(;)S
2700 V
(07715)210 648 A
2790 V
(07716)210 648 A
(return)252 1362 A
(ret;)168 1656 A
2880 V
(07717)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ansi/strcspn.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(07800)210 648 A
1026(/*)S
3690 V
(07801)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
3780 V
(07802)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
3870 V
(07803)210 648 A
1068(*/)S
3960 V
(07804)210 648 A
1026(/*)S
($Header:)336 1152 A
(strcspn.c,v)462 1530 A
(1.2)126 2034 A
(89/12/18)336 2202 A
(16:01:42)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4050 V
(07805)210 648 A
4140 V
(07806)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4230 V
(07807)210 648 A
4320 V
(07808)210 648 A
(size_t)252 1026 A
4410 V
(07809)210 648 A
(strcspn\(const)546 1026 A
(char)168 1614 A
(*string,)336 1824 A
(const)210 2202 A
(char)168 2454 A
(*notin\))294 2664 A
4500 V
(07810)210 648 A
1026({)S
4590 V
(07811)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*s1,)168 2202 A
(*s2;)168 2412 A
4680 V
(07812)210 648 A
4770 V
(07813)210 648 A
(for)126 1362 A
(\(s1)126 1530 A
1698(=)S
(string;)294 1782 A
(*s1;)168 2118 A
(s1++\))210 2328 A
2580({)S
4860 V
(07814)210 648 A
(for\(s2)252 1698 A
1992(=)S
(notin;)252 2076 A
(*s2)126 2370 A
2538(!=)S
(*s1)126 2664 A
2832(&&)S
(*s2;)168 2958 A
(s2++\))210 3168 A
4950 V
(07815)210 648 A
2034(/*)S
(EMPTY)210 2160 A
2412(*/)S
2538(;)S
5040 V
(07816)210 648 A
1698(if)S
(\(*s2\))210 1824 A
5130 V
(07817)210 648 A
(break;)252 2034 A
5220 V
(07818)210 648 A
1362(})S
5310 V
(07819)210 648 A
(return)252 1362 A
1656(s1)S
1782(-)S
(string;)294 1866 A
5400 V
(07820)210 648 A
1026(})S
8418 V
EP
%%Page: 64 64
BP
/slant 0 def
/height 0 def
630 V
12 B
648(64)S
11 R
1959(File:)S
(src/lib/ansi/strerror.c)924 2192 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/strerror.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(07900)210 648 A
1026(/*)S
1440 V
(07901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(07902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(07903)210 648 A
1068(*/)S
1710 V
(07904)210 648 A
1026(/*)S
($Header:)336 1152 A
(strerror.c,v)504 1530 A
(1.3)126 2076 A
(90/08/28)336 2244 A
(13:53:31)336 2622 A
(eck)126 3000 A
(Exp)126 3168 A
3336($)S
3420(*/)S
1800 V
(07905)210 648 A
1890 V
(07906)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(07907)210 648 A
2070 V
(07908)210 648 A
1026(/*)S
2160 V
(07909)210 648 A
1068(*)S
1152(I)S
(don't)210 1236 A
(know)168 1488 A
(why,)168 1698 A
(but)126 1908 A
(X3J11)210 2076 A
(says)168 2328 A
(that)168 2538 A
(strerror\(\))420 2748 A
(should)252 3210 A
3504(be)S
3630(in)S
(declared)336 3756 A
2250 V
(07910)210 648 A
1068(*)S
1152(in)S
(<string.h>.)462 1278 A
(That)168 1824 A
2034(is)S
(why)126 2160 A
(the)126 2328 A
(function)336 2496 A
2874(is)S
(defined)294 3000 A
(here.)210 3336 A
2340 V
(07911)210 648 A
1068(*/)S
2430 V
(07912)210 648 A
(char)168 1026 A
1236(*)S
2520 V
(07913)210 648 A
(strerror\(register)714 1026 A
(int)126 1782 A
(errnum\))294 1950 A
2610 V
(07914)210 648 A
1026({)S
2700 V
(07915)210 648 A
(extern)252 1362 A
(const)210 1656 A
(char)168 1908 A
(*_sys_errlist[];)672 2118 A
2790 V
(07916)210 648 A
(extern)252 1362 A
(const)210 1656 A
(int)126 1908 A
(_sys_nerr;)420 2076 A
2880 V
(07917)210 648 A
2970 V
(07918)210 648 A
1362(if)S
(\(errnum)294 1488 A
1824(<)S
1908(0)S
1992(||)S
(errnum)252 2118 A
2412(>=)S
(_sys_nerr\))420 2538 A
3060 V
(07919)210 648 A
(return)252 1698 A
("unknown)336 1992 A
(error";)294 2370 A
3150 V
(07920)210 648 A
(return)252 1362 A
(\(char)210 1656 A
(*\)_sys_errlist[errnum];)966 1908 A
3240 V
(07921)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/strftime.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(08000)210 648 A
1026(/*)S
4140 V
(08001)210 648 A
1068(*)S
(strftime)336 1152 A
1530(-)S
(convert)294 1614 A
1950(a)S
(structure)378 2034 A
2454(to)S
2580(a)S
(string,)294 2664 A
(controlled)420 3000 A
3462(by)S
3588(an)S
(argument)336 3714 A
4230 V
(08002)210 648 A
1068(*/)S
4320 V
(08003)210 648 A
1026(/*)S
($Header:)336 1152 A
(strftime.c,v)504 1530 A
(1.3)126 2076 A
(91/04/22)336 2244 A
(13:21:03)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
4410 V
(08004)210 648 A
4500 V
(08005)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
4590 V
(08006)210 648 A
(#include)336 1026 A
("loc_time.h")504 1698 A
4680 V
(08007)210 648 A
4770 V
(08008)210 648 A
1026(/*)S
(The)126 1152 A
(width)210 1320 A
(can)126 1572 A
1740(be)S
1866(-1)S
1992(in)S
(both)168 2118 A
(s_prnt\(\))336 2328 A
2706(as)S
2832(in)S
(u_prnt\(\).)378 2958 A
(This)168 3378 A
4860 V
(08009)210 648 A
1068(*)S
(indicates)378 1152 A
(that)168 1572 A
1782(as)S
(many)168 1908 A
(characters)420 2118 A
2580(as)S
(needed)252 2706 A
(should)252 3000 A
3294(be)S
(printed.)336 3420 A
4950 V
(08010)210 648 A
1068(*/)S
5040 V
(08011)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
5130 V
(08012)210 648 A
(s_prnt\(char)462 1026 A
(*s,)126 1530 A
(size_t)252 1698 A
(maxsize,)336 1992 A
(const)210 2370 A
(char)168 2622 A
(*str,)210 2832 A
(int)126 3084 A
(width\))252 3252 A
5220 V
(08013)210 648 A
1026({)S
5310 V
(08014)210 648 A
(while)210 1362 A
(\(width)252 1614 A
1908(>)S
1992(0)S
2076(||)S
(\(width)252 2202 A
2496(<)S
2580(0)S
2664(&&)S
(*str\)\))252 2790 A
3084({)S
5400 V
(08015)210 648 A
1698(if)S
(\(!maxsize\))420 1824 A
(break;)252 2286 A
5490 V
(08016)210 648 A
(*s++)168 1698 A
1908(=)S
(*str++;)294 1992 A
5580 V
(08017)210 648 A
(maxsize--;)420 1698 A
5670 V
(08018)210 648 A
(width--;)336 1698 A
5760 V
(08019)210 648 A
1362(})S
5850 V
(08020)210 648 A
(return)252 1362 A
1656(s;)S
5940 V
(08021)210 648 A
1026(})S
6120 V
(08023)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
6210 V
(08024)210 648 A
(u_prnt\(char)462 1026 A
(*s,)126 1530 A
(size_t)252 1698 A
(maxsize,)336 1992 A
(unsigned)336 2370 A
(val,)168 2748 A
(int)126 2958 A
(width\))252 3126 A
8418 V
EP
%%Page: 65 65
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1950(File:)S
(src/lib/ansi/strftime.c)943 2183 A
12 B
4308(65)S
900 V
7 LST
(08025)210 648 A
1026({)S
990 V
(08026)210 648 A
(int)126 1362 A
1530(c;)S
1080 V
(08027)210 648 A
1170 V
(08028)210 648 A
1362(c)S
1446(=)S
(val)126 1530 A
1698(%)S
(10;)126 1782 A
1260 V
(08029)210 648 A
(val)126 1362 A
1530(=)S
(val)126 1614 A
1782(/)S
(10;)126 1866 A
1350 V
(08030)210 648 A
1362(if)S
(\(--width)336 1488 A
1866(>)S
1950(0)S
2034(||)S
(\(width)252 2160 A
2454(<)S
2538(0)S
2622(&&)S
(val)126 2748 A
2916(!=)S
(0\)\))126 3042 A
1440 V
(08031)210 648 A
1698(s)S
1782(=)S
(u_prnt\(s,)378 1866 A
(\(maxsize)336 2286 A
2664(?)S
(maxsize)294 2748 A
3084(-)S
3168(1)S
3252(:)S
(0\),)126 3336 A
(val,)168 3504 A
(width\);)294 3714 A
1530 V
(08032)210 648 A
1362(if)S
(\(maxsize\))378 1488 A
(*s++)168 1908 A
2118(=)S
2202(c)S
2286(+)S
('0';)168 2370 A
1620 V
(08033)210 648 A
(return)252 1362 A
1656(s;)S
1710 V
(08034)210 648 A
1026(})S
1890 V
(08036)210 648 A
(size_t)252 1026 A
1980 V
(08037)210 648 A
(strftime\(char)546 1026 A
(*s,)126 1614 A
(size_t)252 1782 A
(maxsize,)336 2076 A
2070 V
(08038)210 648 A
(const)210 1698 A
(char)168 1950 A
(*format,)336 2160 A
(const)210 2538 A
(struct)252 2790 A
3084(tm)S
(*timeptr\))378 3210 A
2160 V
(08039)210 648 A
1026({)S
2250 V
(08040)210 648 A
(size_t)252 1362 A
1656(n;)S
2340 V
(08041)210 648 A
(char)168 1362 A
(*firsts,)336 1572 A
(*olds;)252 1950 A
2430 V
(08042)210 648 A
2520 V
(08043)210 648 A
1362(if)S
(\(!format\))378 1488 A
(return)252 1908 A
2202(0;)S
2610 V
(08044)210 648 A
2700 V
(08045)210 648 A
(_tzset\(\);)378 1362 A
2034(/*)S
(for)126 2160 A
2328(%Z)S
(conversion)420 2454 A
2916(*/)S
2790 V
(08046)210 648 A
(firsts)252 1362 A
1656(=)S
1740(s;)S
2880 V
(08047)210 648 A
(while)210 1362 A
(\(maxsize)336 1614 A
1992(&&)S
(*format\))336 2118 A
2496({)S
2970 V
(08048)210 648 A
(while)210 1698 A
(\(maxsize)336 1950 A
2328(&&)S
(*format)294 2454 A
2790(&&)S
(*format)294 2916 A
3252(!=)S
('%'\))168 3378 A
3588({)S
3060 V
(08049)210 648 A
(*s++)168 2034 A
2244(=)S
(*format++;)420 2328 A
3150 V
(08050)210 648 A
(maxsize--;)420 2034 A
3240 V
(08051)210 648 A
1698(})S
3330 V
(08052)210 648 A
1698(if)S
(\(!maxsize)378 1824 A
2244(||)S
(!*format\))378 2370 A
(break;)252 2790 A
3420 V
(08053)210 648 A
(format++;)378 1698 A
3510 V
(08054)210 648 A
3600 V
(08055)210 648 A
(olds)168 1698 A
1908(=)S
1992(s;)S
3690 V
(08056)210 648 A
(switch)252 1698 A
(\(*format++\))462 1992 A
2496({)S
3780 V
(08057)210 648 A
(case)168 1698 A
('a':)168 1908 A
3870 V
(08058)210 648 A
2034(s)S
2118(=)S
(s_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
3960 V
(08059)210 648 A
(_days[timeptr->tm_wday],)1008 2706 A
(ABB_LEN\);)378 3756 A
4050 V
(08060)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
4140 V
(08061)210 648 A
(break;)252 2034 A
4230 V
(08062)210 648 A
(case)168 1698 A
('A':)168 1908 A
4320 V
(08063)210 648 A
2034(s)S
2118(=)S
(s_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(_days[timeptr->tm_wday],)1008 3000 A
(-1\);)168 4050 A
4410 V
(08064)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
4500 V
(08065)210 648 A
(break;)252 2034 A
4590 V
(08066)210 648 A
(case)168 1698 A
('b':)168 1908 A
4680 V
(08067)210 648 A
2034(s)S
2118(=)S
(s_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
4770 V
(08068)210 648 A
(_months[timeptr->tm_mon],)1050 2706 A
(ABB_LEN\);)378 3798 A
4860 V
(08069)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
4950 V
(08070)210 648 A
(break;)252 2034 A
5040 V
(08071)210 648 A
(case)168 1698 A
('B':)168 1908 A
5130 V
(08072)210 648 A
2034(s)S
2118(=)S
(s_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(_months[timeptr->tm_mon],)1050 3000 A
(-1\);)168 4092 A
5220 V
(08073)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
5310 V
(08074)210 648 A
(break;)252 2034 A
5400 V
(08075)210 648 A
(case)168 1698 A
('c':)168 1908 A
5490 V
(08076)210 648 A
2034(n)S
2118(=)S
(strftime\(s,)462 2202 A
(maxsize,)336 2706 A
5580 V
(08077)210 648 A
("%a)126 2706 A
2874(%b)S
3000(%d)S
(%H:%M:%S)336 3126 A
(%Y",)168 3504 A
(timeptr\);)378 3714 A
5670 V
(08078)210 648 A
2034(if)S
(\(n\))126 2160 A
(maxsize)294 2328 A
2664(-=)S
2790(n;)S
5760 V
(08079)210 648 A
(else)168 2034 A
(maxsize)294 2244 A
2580(=)S
2664(0;)S
5850 V
(08080)210 648 A
2034(s)S
2118(+=)S
2244(n;)S
5940 V
(08081)210 648 A
(break;)252 2034 A
6030 V
(08082)210 648 A
(case)168 1698 A
('d':)168 1908 A
6120 V
(08083)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_mday,)714 3000 A
(2\);)126 3756 A
6210 V
(08084)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
8418 V
EP
%%Page: 66 66
BP
/slant 0 def
/height 0 def
630 V
12 B
648(66)S
11 R
1950(File:)S
(src/lib/ansi/strftime.c)943 2183 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(08085)210 648 A
(break;)252 2034 A
990 V
(08086)210 648 A
(case)168 1698 A
('H':)168 1908 A
1080 V
(08087)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_hour,)714 3000 A
(2\);)126 3756 A
1170 V
(08088)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
1260 V
(08089)210 648 A
(break;)252 2034 A
1350 V
(08090)210 648 A
(case)168 1698 A
('I':)168 1908 A
1440 V
(08091)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
1530 V
(08092)210 648 A
(\(timeptr->tm_hour)714 2706 A
3462(+)S
(11\))126 3546 A
3714(%)S
3798(12)S
3924(+)S
4008(1,)S
(2\);)126 4134 A
1620 V
(08093)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
1710 V
(08094)210 648 A
(break;)252 2034 A
1800 V
(08095)210 648 A
(case)168 1698 A
('j':)168 1908 A
1890 V
(08096)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_yday)672 3000 A
3714(+)S
3798(1,)S
(3\);)126 3924 A
1980 V
(08097)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
2070 V
(08098)210 648 A
(break;)252 2034 A
2160 V
(08099)210 648 A
(case)168 1698 A
('m':)168 1908 A
2250 V
(08100)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_mon)630 3000 A
3672(+)S
3756(1,)S
(2\);)126 3882 A
2340 V
(08101)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
2430 V
(08102)210 648 A
(break;)252 2034 A
2520 V
(08103)210 648 A
(case)168 1698 A
('M':)168 1908 A
2610 V
(08104)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_min,)672 3000 A
(2\);)126 3714 A
2700 V
(08105)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
2790 V
(08106)210 648 A
(break;)252 2034 A
2880 V
(08107)210 648 A
(case)168 1698 A
('p':)168 1908 A
2970 V
(08108)210 648 A
2034(s)S
2118(=)S
(s_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
3060 V
(08109)210 648 A
(\(timeptr->tm_hour)714 2538 A
3294(<)S
(12\))126 3378 A
3546(?)S
("AM")168 3630 A
3840(:)S
("PM",)210 3924 A
(2\);)126 4176 A
3150 V
(08110)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
3240 V
(08111)210 648 A
(break;)252 2034 A
3330 V
(08112)210 648 A
(case)168 1698 A
('S':)168 1908 A
3420 V
(08113)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_sec,)672 3000 A
(2\);)126 3714 A
3510 V
(08114)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
3600 V
(08115)210 648 A
(break;)252 2034 A
3690 V
(08116)210 648 A
(case)168 1698 A
('U':)168 1908 A
3780 V
(08117)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
3378(/*)S
(???)126 3504 A
3672(*/)S
3870 V
(08118)210 648 A
(\(timeptr->tm_yday)714 2202 A
2958(+)S
3042(7)S
3126(-)S
(timeptr->tm_wday\))714 3210 A
3966(/)S
4050(7,)S
(2\);)126 4176 A
3960 V
(08119)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
4050 V
(08120)210 648 A
(break;)252 2034 A
4140 V
(08121)210 648 A
(case)168 1698 A
('w':)168 1908 A
4230 V
(08122)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_wday,)714 3000 A
(1\);)126 3756 A
4320 V
(08123)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
4410 V
(08124)210 648 A
(break;)252 2034 A
4500 V
(08125)210 648 A
(case)168 1698 A
('W':)168 1908 A
4590 V
(08126)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
3378(/*)S
(???)126 3504 A
3672(*/)S
4680 V
(08127)210 648 A
(\(timeptr->tm_yday+7-\(timeptr->tm_wday+6\)%7\)/7,2\);)2058 2202 A
4770 V
(08128)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
4860 V
(08129)210 648 A
(break;)252 2034 A
4950 V
(08130)210 648 A
(case)168 1698 A
('x':)168 1908 A
5040 V
(08131)210 648 A
2034(n)S
2118(=)S
(strftime\(s,)462 2202 A
(maxsize,)336 2706 A
("%a)126 3084 A
3252(%b)S
3378(%d)S
(%Y",)168 3504 A
(timeptr\);)378 3714 A
5130 V
(08132)210 648 A
2034(if)S
(\(n\))126 2160 A
(maxsize)294 2328 A
2664(-=)S
2790(n;)S
5220 V
(08133)210 648 A
(else)168 2034 A
(maxsize)294 2244 A
2580(=)S
2664(0;)S
5310 V
(08134)210 648 A
2034(s)S
2118(+=)S
2244(n;)S
5400 V
(08135)210 648 A
(break;)252 2034 A
5490 V
(08136)210 648 A
(case)168 1698 A
('X':)168 1908 A
5580 V
(08137)210 648 A
2034(n)S
2118(=)S
(strftime\(s,)462 2202 A
(maxsize,)336 2706 A
("%H:%M:%S",)462 3084 A
(timeptr\);)378 3588 A
5670 V
(08138)210 648 A
2034(if)S
(\(n\))126 2160 A
(maxsize)294 2328 A
2664(-=)S
2790(n;)S
5760 V
(08139)210 648 A
(else)168 2034 A
(maxsize)294 2244 A
2580(=)S
2664(0;)S
5850 V
(08140)210 648 A
2034(s)S
2118(+=)S
2244(n;)S
5940 V
(08141)210 648 A
(break;)252 2034 A
6030 V
(08142)210 648 A
(case)168 1698 A
('y':)168 1908 A
6120 V
(08143)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_year)672 3000 A
3714(%)S
(100,)168 3798 A
(2\);)126 4008 A
6210 V
(08144)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
8418 V
EP
%%Page: 67 67
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1950(File:)S
(src/lib/ansi/strftime.c)943 2183 A
12 B
4308(67)S
900 V
7 LST
(08145)210 648 A
(break;)252 2034 A
990 V
(08146)210 648 A
(case)168 1698 A
('Y':)168 1908 A
1080 V
(08147)210 648 A
2034(s)S
2118(=)S
(u_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
(timeptr->tm_year)672 3000 A
3714(+)S
(YEAR0,)252 3798 A
(-1\);)168 4092 A
1170 V
(08148)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
1260 V
(08149)210 648 A
(break;)252 2034 A
1350 V
(08150)210 648 A
(case)168 1698 A
('Z':)168 1908 A
1440 V
(08151)210 648 A
2034(s)S
2118(=)S
(s_prnt\(s,)378 2202 A
(maxsize,)336 2622 A
1530 V
(08152)210 648 A
(_tzname[\(timeptr->tm_isdst)1092 2706 A
3840(>)S
(0\)],)168 3924 A
(-1\);)168 4134 A
1620 V
(08153)210 648 A
(maxsize)294 2034 A
2370(-=)S
2496(s)S
2580(-)S
(olds;)210 2664 A
1710 V
(08154)210 648 A
(break;)252 2034 A
1800 V
(08155)210 648 A
(case)168 1698 A
('%':)168 1908 A
1890 V
(08156)210 648 A
(*s++)168 2034 A
2244(=)S
('%';)168 2328 A
1980 V
(08157)210 648 A
(maxsize--;)420 2034 A
2070 V
(08158)210 648 A
(break;)252 2034 A
2160 V
(08159)210 648 A
(default:)336 1698 A
2250 V
(08160)210 648 A
2034(/*)S
2160(A)S
(conversion)420 2244 A
(error.)252 2706 A
(Leave)210 3000 A
(the)126 3252 A
(loop.)210 3420 A
3672(*/)S
2340 V
(08161)210 648 A
(while)210 2034 A
(\(*format\))378 2286 A
(format++;)378 2706 A
2430 V
(08162)210 648 A
(break;)252 2034 A
2520 V
(08163)210 648 A
1698(})S
2610 V
(08164)210 648 A
2700 V
(08165)210 648 A
1362(})S
2790 V
(08166)210 648 A
1362(if)S
(\(maxsize\))378 1488 A
1908({)S
2880 V
(08167)210 648 A
1698(*s)S
1824(=)S
('\\0';)210 1908 A
2970 V
(08168)210 648 A
(return)252 1698 A
1992(s)S
2076(-)S
(firsts;)294 2160 A
3060 V
(08169)210 648 A
1362(})S
3150 V
(08170)210 648 A
(return)252 1362 A
1656(0;)S
2034(/*)S
(The)126 2160 A
(buffer)252 2328 A
2622(is)S
(full)168 2748 A
2958(*/)S
3240 V
(08171)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ansi/strlen.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(08200)210 648 A
1026(/*)S
4140 V
(08201)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(08202)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(08203)210 648 A
1068(*/)S
4410 V
(08204)210 648 A
1026(/*)S
($Header:)336 1152 A
(strlen.c,v)420 1530 A
(1.4)126 1992 A
(90/08/28)336 2160 A
(13:53:42)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4500 V
(08205)210 648 A
4590 V
(08206)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4680 V
(08207)210 648 A
4770 V
(08208)210 648 A
(size_t)252 1026 A
4860 V
(08209)210 648 A
(strlen\(const)504 1026 A
(char)168 1572 A
(*org\))210 1782 A
4950 V
(08210)210 648 A
1026({)S
5040 V
(08211)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
2202(*s)S
2328(=)S
(org;)168 2412 A
5130 V
(08212)210 648 A
5220 V
(08213)210 648 A
(while)210 1362 A
(\(*s++\))252 1614 A
5310 V
(08214)210 648 A
1698(/*)S
(EMPTY)210 1824 A
2076(*/)S
2202(;)S
5400 V
(08215)210 648 A
5490 V
(08216)210 648 A
(return)252 1362 A
(--s)126 1656 A
1824(-)S
(org;)168 1908 A
5580 V
(08217)210 648 A
1026(})S
8418 V
EP
%%Page: 68 68
BP
/slant 0 def
/height 0 def
630 V
12 B
648(68)S
11 R
1974(File:)S
(src/lib/ansi/strncat.c)894 2207 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/strncat.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(08300)210 648 A
1026(/*)S
1440 V
(08301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(08302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(08303)210 648 A
1068(*/)S
1710 V
(08304)210 648 A
1026(/*)S
($Header:)336 1152 A
(strncat.c,v)462 1530 A
(1.3)126 2034 A
(90/08/28)336 2202 A
(13:53:54)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1800 V
(08305)210 648 A
1890 V
(08306)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
1980 V
(08307)210 648 A
2070 V
(08308)210 648 A
(char)168 1026 A
1236(*)S
2160 V
(08309)210 648 A
(strncat\(char)504 1026 A
(*ret,)210 1572 A
(register)336 1824 A
(const)210 2202 A
(char)168 2454 A
(*s2,)168 2664 A
(size_t)252 2874 A
3168(n\))S
2250 V
(08310)210 648 A
1026({)S
2340 V
(08311)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1)126 1950 A
2118(=)S
(ret;)168 2202 A
2430 V
(08312)210 648 A
2520 V
(08313)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(0\))S
1824({)S
2610 V
(08314)210 648 A
(while)210 1698 A
(\(*s1++\))294 1950 A
2700 V
(08315)210 648 A
2034(/*)S
(EMPTY)210 2160 A
2412(*/)S
2538(;)S
2790 V
(08316)210 648 A
(s1--;)210 1698 A
2880 V
(08317)210 648 A
(while)210 1698 A
(\(*s1++)252 1950 A
2244(=)S
(*s2++\))252 2328 A
2664({)S
2970 V
(08318)210 648 A
2034(if)S
(\(--n)168 2160 A
2370(>)S
2454(0\))S
(continue;)378 2580 A
3060 V
(08319)210 648 A
(*s1)126 2034 A
2202(=)S
('\\0';)210 2286 A
3150 V
(08320)210 648 A
(break;)252 2034 A
3240 V
(08321)210 648 A
1698(})S
3330 V
(08322)210 648 A
(return)252 1698 A
(ret;)168 1992 A
3420 V
(08323)210 648 A
1362(})S
(else)168 1446 A
(return)252 1656 A
(s1;)126 1950 A
3510 V
(08324)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ansi/strncmp.c)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(08400)210 648 A
1026(/*)S
4590 V
(08401)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4680 V
(08402)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4770 V
(08403)210 648 A
1068(*/)S
4860 V
(08404)210 648 A
1026(/*)S
($Id:)168 1152 A
(strncmp.c,v)462 1362 A
(1.4)126 1866 A
(1994/06/24)420 2034 A
(11:57:04)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
4950 V
(08405)210 648 A
5040 V
(08406)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5130 V
(08407)210 648 A
5220 V
(08408)210 648 A
(int)126 1026 A
5310 V
(08409)210 648 A
(strncmp\(register)672 1026 A
(const)210 1740 A
(char)168 1992 A
(*s1,)168 2202 A
(register)336 2412 A
(const)210 2790 A
(char)168 3042 A
(*s2,)168 3252 A
(register)336 3462 A
(size_t)252 3840 A
4134(n\))S
5400 V
(08410)210 648 A
1026({)S
5490 V
(08411)210 648 A
1362(if)S
(\(n\))126 1488 A
1656({)S
5580 V
(08412)210 648 A
1698(do)S
1824({)S
5670 V
(08413)210 648 A
2034(if)S
(\(*s1)168 2160 A
2370(!=)S
(*s2++\))252 2496 A
5760 V
(08414)210 648 A
(break;)252 2370 A
5850 V
(08415)210 648 A
2034(if)S
(\(*s1++)252 2160 A
2454(==)S
('\\0'\))210 2580 A
5940 V
(08416)210 648 A
(return)252 2370 A
2664(0;)S
6030 V
(08417)210 648 A
1698(})S
(while)210 1782 A
(\(--n)168 2034 A
2244(>)S
(0\);)126 2328 A
6120 V
(08418)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
2034(0\))S
2160({)S
6210 V
(08419)210 648 A
2034(if)S
(\(*s1)168 2160 A
2370(==)S
('\\0'\))210 2496 A
(return)252 2748 A
(-1;)126 3042 A
8418 V
EP
%%Page: 69 69
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1944(File:)S
(src/lib/ansi/strncmp.c)954 2177 A
12 B
4308(69)S
900 V
7 LST
(08420)210 648 A
2034(if)S
(\(*--s2)252 2160 A
2454(==)S
('\\0'\))210 2580 A
(return)252 2832 A
3126(1;)S
990 V
(08421)210 648 A
(return)252 2034 A
(\(unsigned)378 2328 A
(char\))210 2748 A
(*s1)126 3000 A
3168(-)S
(\(unsigned)378 3252 A
(char\))210 3672 A
(*s2;)168 3924 A
1080 V
(08422)210 648 A
1698(})S
1170 V
(08423)210 648 A
1362(})S
1260 V
(08424)210 648 A
(return)252 1362 A
1656(0;)S
1350 V
(08425)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/strncpy.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(08500)210 648 A
1026(/*)S
2340 V
(08501)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(08502)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(08503)210 648 A
1068(*/)S
2610 V
(08504)210 648 A
1026(/*)S
($Header:)336 1152 A
(strncpy.c,v)462 1530 A
(1.3)126 2034 A
(90/08/28)336 2202 A
(13:54:11)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2700 V
(08505)210 648 A
2790 V
(08506)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2880 V
(08507)210 648 A
2970 V
(08508)210 648 A
(char)168 1026 A
1236(*)S
3060 V
(08509)210 648 A
(strncpy\(char)504 1026 A
(*ret,)210 1572 A
(register)336 1824 A
(const)210 2202 A
(char)168 2454 A
(*s2,)168 2664 A
(register)336 2874 A
(size_t)252 3252 A
3546(n\))S
3150 V
(08510)210 648 A
1026({)S
3240 V
(08511)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1)126 1950 A
2118(=)S
(ret;)168 2202 A
3330 V
(08512)210 648 A
3420 V
(08513)210 648 A
1362(if)S
(\(n>0\))210 1488 A
1740({)S
3510 V
(08514)210 648 A
(while\(\(*s1++)504 1698 A
2244(=)S
(*s2++\))252 2328 A
2622(&&)S
(--n)126 2748 A
2916(>)S
3000(0\))S
3600 V
(08515)210 648 A
2034(/*)S
(EMPTY)210 2160 A
2412(*/)S
2538(;)S
3690 V
(08516)210 648 A
1698(if)S
(\(\(*--s2)294 1824 A
2160(==)S
('\\0'\))210 2286 A
2538(&&)S
(--n)126 2664 A
2832(>)S
2916(0\))S
3042({)S
3780 V
(08517)210 648 A
2034(do)S
2160({)S
3870 V
(08518)210 648 A
(*s1++)210 2370 A
2622(=)S
('\\0';)210 2706 A
3960 V
(08519)210 648 A
2034(})S
(while\(--n)378 2118 A
2538(>)S
(0\);)126 2622 A
4050 V
(08520)210 648 A
1698(})S
4140 V
(08521)210 648 A
1362(})S
4230 V
(08522)210 648 A
(return)252 1362 A
(ret;)168 1656 A
4320 V
(08523)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/strpbrk.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(08600)210 648 A
1026(/*)S
5040 V
(08601)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(08602)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(08603)210 648 A
1068(*/)S
5310 V
(08604)210 648 A
1026(/*)S
($Header:)336 1152 A
(strpbrk.c,v)462 1530 A
(1.2)126 2034 A
(89/12/18)336 2202 A
(16:02:21)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5400 V
(08605)210 648 A
5490 V
(08606)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5580 V
(08607)210 648 A
5670 V
(08608)210 648 A
(char)168 1026 A
1236(*)S
5760 V
(08609)210 648 A
(strpbrk\(register)672 1026 A
(const)210 1740 A
(char)168 1992 A
(*string,)336 2202 A
(register)336 2580 A
(const)210 2958 A
(char)168 3210 A
(*brk\))210 3420 A
5850 V
(08610)210 648 A
1026({)S
5940 V
(08611)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*s1;)168 2202 A
6030 V
(08612)210 648 A
6120 V
(08613)210 648 A
(while)210 1362 A
(\(*string\))378 1614 A
2034({)S
6210 V
(08614)210 648 A
(for)126 1698 A
(\(s1)126 1866 A
2034(=)S
(brk;)168 2118 A
(*s1)126 2328 A
2496(&&)S
(*s1)126 2622 A
2790(!=)S
(*string;)336 2916 A
(s1++\))210 3294 A
8418 V
EP
%%Page: 70 70
BP
/slant 0 def
/height 0 def
630 V
12 B
648(70)S
11 R
1966(File:)S
(src/lib/ansi/strpbrk.c)910 2199 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(08615)210 648 A
2034(/*)S
(EMPTY)210 2160 A
2412(*/)S
2538(;)S
990 V
(08616)210 648 A
1698(if)S
(\(*s1\))210 1824 A
1080 V
(08617)210 648 A
(return)252 2034 A
(\(char)210 2328 A
(*\)string;)378 2580 A
1170 V
(08618)210 648 A
(string++;)378 1698 A
1260 V
(08619)210 648 A
1362(})S
1350 V
(08620)210 648 A
(return)252 1362 A
(\(char)210 1656 A
(*\)NULL;)294 1908 A
1440 V
(08621)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/strrchr.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(08700)210 648 A
1026(/*)S
2340 V
(08701)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(08702)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(08703)210 648 A
1068(*/)S
2610 V
(08704)210 648 A
1026(/*)S
($Header:)336 1152 A
(strrchr.c,v)462 1530 A
(1.3)126 2034 A
(90/08/28)336 2202 A
(13:54:21)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2700 V
(08705)210 648 A
2790 V
(08706)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2880 V
(08707)210 648 A
2970 V
(08708)210 648 A
(char)168 1026 A
1236(*)S
3060 V
(08709)210 648 A
(strrchr\(register)672 1026 A
(const)210 1740 A
(char)168 1992 A
(*s,)126 2202 A
(int)126 2370 A
2538(c\))S
3150 V
(08710)210 648 A
1026({)S
3240 V
(08711)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*result)294 2202 A
2538(=)S
(NULL;)210 2622 A
3330 V
(08712)210 648 A
3420 V
(08713)210 648 A
1362(c)S
1446(=)S
(\(char\))252 1530 A
1824(c;)S
3510 V
(08714)210 648 A
3600 V
(08715)210 648 A
1362(do)S
1488({)S
3690 V
(08716)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
(*s\))126 2076 A
3780 V
(08717)210 648 A
(result)252 2034 A
2328(=)S
2412(s;)S
3870 V
(08718)210 648 A
1362(})S
(while)210 1446 A
(\(*s++)210 1698 A
1950(!=)S
('\\0'\);)252 2076 A
3960 V
(08719)210 648 A
4050 V
(08720)210 648 A
(return)252 1362 A
(\(char)210 1656 A
(*\)result;)378 1908 A
4140 V
(08721)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/strspn.c)882 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(08800)210 648 A
1026(/*)S
5040 V
(08801)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(08802)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(08803)210 648 A
1068(*/)S
5310 V
(08804)210 648 A
1026(/*)S
($Header:)336 1152 A
(strspn.c,v)420 1530 A
(1.1)126 1992 A
(89/05/11)336 2160 A
(10:09:09)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
5400 V
(08805)210 648 A
5490 V
(08806)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5580 V
(08807)210 648 A
5670 V
(08808)210 648 A
(size_t)252 1026 A
5760 V
(08809)210 648 A
(strspn\(const)504 1026 A
(char)168 1572 A
(*string,)336 1782 A
(const)210 2160 A
(char)168 2412 A
(*in\))168 2622 A
5850 V
(08810)210 648 A
1026({)S
5940 V
(08811)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*s1,)168 2202 A
(*s2;)168 2412 A
6030 V
(08812)210 648 A
6120 V
(08813)210 648 A
(for)126 1362 A
(\(s1)126 1530 A
1698(=)S
(string;)294 1782 A
(*s1;)168 2118 A
(s1++\))210 2328 A
2580({)S
6210 V
(08814)210 648 A
(for)126 1698 A
(\(s2)126 1866 A
2034(=)S
(in;)126 2118 A
(*s2)126 2286 A
2454(&&)S
(*s2)126 2580 A
2748(!=)S
(*s1;)168 2874 A
(s2++\))210 3084 A
8418 V
EP
%%Page: 71 71
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1991(File:)S
(src/lib/ansi/strspn.c)861 2224 A
12 B
4308(71)S
900 V
7 LST
(08815)210 648 A
2034(/*)S
(EMPTY)210 2160 A
2412(*/)S
2538(;)S
990 V
(08816)210 648 A
1698(if)S
(\(*s2)168 1824 A
2034(==)S
('\\0'\))210 2160 A
1080 V
(08817)210 648 A
(break;)252 2034 A
1170 V
(08818)210 648 A
1362(})S
1260 V
(08819)210 648 A
(return)252 1362 A
1656(s1)S
1782(-)S
(string;)294 1866 A
1350 V
(08820)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/strstr.c)882 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(08900)210 648 A
1026(/*)S
2340 V
(08901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(08902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(08903)210 648 A
1068(*/)S
2610 V
(08904)210 648 A
1026(/*)S
($Header:)336 1152 A
(strstr.c,v)420 1530 A
(1.3)126 1992 A
(90/08/28)336 2160 A
(13:54:28)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2700 V
(08905)210 648 A
2790 V
(08906)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2880 V
(08907)210 648 A
2970 V
(08908)210 648 A
(char)168 1026 A
1236(*)S
3060 V
(08909)210 648 A
(strstr\(register)630 1026 A
(const)210 1698 A
(char)168 1950 A
(*s,)126 2160 A
(register)336 2328 A
(const)210 2706 A
(char)168 2958 A
(*wanted\))336 3168 A
3150 V
(08910)210 648 A
1026({)S
3240 V
(08911)210 648 A
(register)336 1362 A
(const)210 1740 A
(size_t)252 1992 A
(len)126 2286 A
2454(=)S
(strlen\(wanted\);)630 2538 A
3330 V
(08912)210 648 A
3420 V
(08913)210 648 A
1362(if)S
(\(len)168 1488 A
1698(==)S
1824(0\))S
(return)252 1950 A
(\(char)210 2244 A
(*\)s;)168 2496 A
3510 V
(08914)210 648 A
(while)210 1362 A
(\(*s)126 1614 A
1782(!=)S
(*wanted)294 1908 A
2244(||)S
(strncmp\(s,)420 2370 A
(wanted,)294 2832 A
(len\)\))210 3168 A
3600 V
(08915)210 648 A
1698(if)S
(\(*s++)210 1824 A
2076(==)S
('\\0'\))210 2202 A
3690 V
(08916)210 648 A
(return)252 2034 A
(\(char)210 2328 A
(*\)NULL;)294 2580 A
3780 V
(08917)210 648 A
(return)252 1362 A
(\(char)210 1656 A
(*\)s;)168 1908 A
3870 V
(08918)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ansi/strtok.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(09000)210 648 A
1026(/*)S
4590 V
(09001)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4680 V
(09002)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4770 V
(09003)210 648 A
1068(*/)S
4860 V
(09004)210 648 A
1026(/*)S
($Header:)336 1152 A
(strtok.c,v)420 1530 A
(1.2)126 1992 A
(90/08/28)336 2160 A
(13:54:38)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4950 V
(09005)210 648 A
5040 V
(09006)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5130 V
(09007)210 648 A
5220 V
(09008)210 648 A
(char)168 1026 A
1236(*)S
5310 V
(09009)210 648 A
(strtok\(register)630 1026 A
(char)168 1698 A
(*string,)336 1908 A
(const)210 2286 A
(char)168 2538 A
(*separators\))504 2748 A
5400 V
(09010)210 648 A
1026({)S
5490 V
(09011)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1,)168 1950 A
(*s2;)168 2160 A
5580 V
(09012)210 648 A
(static)252 1362 A
(char)168 1656 A
(*savestring;)504 1866 A
5670 V
(09013)210 648 A
5760 V
(09014)210 648 A
1362(if)S
(\(string)294 1488 A
1824(==)S
(NULL\))210 1950 A
2202({)S
5850 V
(09015)210 648 A
(string)252 1698 A
1992(=)S
(savestring;)462 2076 A
5940 V
(09016)210 648 A
1698(if)S
(\(string)294 1824 A
2160(==)S
(NULL\))210 2286 A
(return)252 2538 A
(\(char)210 2832 A
(*\)NULL;)294 3084 A
6030 V
(09017)210 648 A
1362(})S
6120 V
(09018)210 648 A
6210 V
(09019)210 648 A
1362(s1)S
1488(=)S
(string)252 1572 A
1866(+)S
(strspn\(string,)588 1950 A
(separators\);)504 2580 A
8418 V
EP
%%Page: 72 72
BP
/slant 0 def
/height 0 def
630 V
12 B
648(72)S
11 R
1997(File:)S
(src/lib/ansi/strtok.c)849 2230 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(09020)210 648 A
1362(if)S
(\(*s1)168 1488 A
1698(==)S
('\\0'\))210 1824 A
2076({)S
990 V
(09021)210 648 A
(savestring)420 1698 A
2160(=)S
(NULL;)210 2244 A
1080 V
(09022)210 648 A
(return)252 1698 A
(\(char)210 1992 A
(*\)NULL;)294 2244 A
1170 V
(09023)210 648 A
1362(})S
1260 V
(09024)210 648 A
1350 V
(09025)210 648 A
1362(s2)S
1488(=)S
(strpbrk\(s1,)462 1572 A
(separators\);)504 2076 A
1440 V
(09026)210 648 A
1362(if)S
(\(s2)126 1488 A
1656(!=)S
(NULL\))210 1782 A
1530 V
(09027)210 648 A
(*s2++)210 1698 A
1950(=)S
('\\0';)210 2034 A
1620 V
(09028)210 648 A
(savestring)420 1362 A
1824(=)S
(s2;)126 1908 A
1710 V
(09029)210 648 A
(return)252 1362 A
(s1;)126 1656 A
1800 V
(09030)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ansi/strtol.c)882 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(09100)210 648 A
1026(/*)S
2790 V
(09101)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2880 V
(09102)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2970 V
(09103)210 648 A
1068(*/)S
3060 V
(09104)210 648 A
1026(/*)S
($Header:)336 1152 A
(strtol.c,v)420 1530 A
(1.4)126 1992 A
(90/05/11)336 2160 A
(15:22:19)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
3150 V
(09105)210 648 A
3240 V
(09106)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
3330 V
(09107)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
3420 V
(09108)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
3510 V
(09109)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
3600 V
(09110)210 648 A
3690 V
(09111)210 648 A
(static)252 1026 A
(unsigned)336 1320 A
(long)168 1698 A
3780 V
(09112)210 648 A
(string2long\(register)840 1026 A
(const)210 1908 A
(char)168 2160 A
(*nptr,)252 2370 A
(char)168 2664 A
(**endptr,)378 2874 A
3870 V
(09113)210 648 A
(int)126 2034 A
(base,)210 2202 A
(int)126 2454 A
(is_signed\);)462 2622 A
3960 V
(09114)210 648 A
4050 V
(09115)210 648 A
(long)168 1026 A
(int)126 1236 A
4140 V
(09116)210 648 A
(strtol\(register)630 1026 A
(const)210 1698 A
(char)168 1950 A
(*nptr,)252 2160 A
(char)168 2454 A
(**endptr,)378 2664 A
(int)126 3084 A
(base\))210 3252 A
4230 V
(09117)210 648 A
1026({)S
4320 V
(09118)210 648 A
(return)252 1362 A
(\(signed)294 1656 A
(long\)string2long\(nptr,)924 1992 A
(endptr,)294 2958 A
(base,)210 3294 A
(1\);)126 3546 A
4410 V
(09119)210 648 A
1026(})S
4590 V
(09121)210 648 A
(unsigned)336 1026 A
(long)168 1404 A
(int)126 1614 A
4680 V
(09122)210 648 A
(strtoul\(register)672 1026 A
(const)210 1740 A
(char)168 1992 A
(*nptr,)252 2202 A
(char)168 2496 A
(**endptr,)378 2706 A
(int)126 3126 A
(base\))210 3294 A
4770 V
(09123)210 648 A
1026({)S
4860 V
(09124)210 648 A
(return)252 1362 A
(\(unsigned)378 1656 A
(long\)string2long\(nptr,)924 2076 A
(endptr,)294 3042 A
(base,)210 3378 A
(0\);)126 3630 A
4950 V
(09125)210 648 A
1026(})S
5130 V
(09127)210 648 A
(#define)294 1026 A
(between\(a,)420 1362 A
1824(c,)S
1950(z\))S
(\(\(unsigned\))462 2118 A
(\(\(c\))168 2622 A
2832(-)S
(\(a\)\))168 2916 A
3126(<=)S
(\(unsigned\))420 3252 A
(\(\(z\))168 3714 A
3924(-)S
(\(a\)\)\))210 4008 A
5220 V
(09128)210 648 A
5310 V
(09129)210 648 A
(static)252 1026 A
(unsigned)336 1320 A
(long)168 1698 A
5400 V
(09130)210 648 A
(string2long\(register)840 1026 A
(const)210 1908 A
(char)168 2160 A
(*nptr,)252 2370 A
(char)168 2664 A
2874(**)S
(const)210 3000 A
(endptr,)294 3252 A
5490 V
(09131)210 648 A
(int)126 2034 A
(base,)210 2202 A
(int)126 2454 A
(is_signed\))420 2622 A
5580 V
(09132)210 648 A
1026({)S
5670 V
(09133)210 648 A
(register)336 1362 A
(unsigned)336 1740 A
(int)126 2118 A
2286(v;)S
5760 V
(09134)210 648 A
(register)336 1362 A
(unsigned)336 1740 A
(long)168 2118 A
(val)126 2328 A
2496(=)S
2580(0;)S
5850 V
(09135)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(c;)S
5940 V
(09136)210 648 A
(int)126 1362 A
(ovfl)168 1530 A
1740(=)S
1824(0,)S
(sign)168 1950 A
2160(=)S
2244(1;)S
6030 V
(09137)210 648 A
(const)210 1362 A
(char)168 1614 A
(*startnptr)420 1824 A
2286(=)S
(nptr,)210 2370 A
(*nrstart;)378 2622 A
6120 V
(09138)210 648 A
6210 V
(09139)210 648 A
1362(if)S
(\(endptr\))336 1488 A
(*endptr)294 1866 A
2202(=)S
(\(char)210 2286 A
(*\)nptr;)294 2538 A
8418 V
EP
%%Page: 73 73
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2009(File:)S
(src/lib/ansi/strtol.c)825 2242 A
12 B
4308(73)S
900 V
7 LST
(09140)210 648 A
(while)210 1362 A
(\(isspace\(*nptr\)\))672 1614 A
(nptr++;)294 2328 A
990 V
(09141)210 648 A
1362(c)S
1446(=)S
(*nptr;)252 1530 A
1080 V
(09142)210 648 A
1170 V
(09143)210 648 A
1362(if)S
1488(\(c)S
1614(==)S
('-')126 1740 A
1908(||)S
2034(c)S
2118(==)S
('+'\))168 2244 A
2454({)S
1260 V
(09144)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('-'\))168 2076 A
(sign)168 2286 A
2496(=)S
(-1;)126 2580 A
1350 V
(09145)210 648 A
(nptr++;)294 1698 A
1440 V
(09146)210 648 A
1362(})S
1530 V
(09147)210 648 A
(nrstart)294 1362 A
1698(=)S
(nptr;)210 1782 A
2706(/*)S
(start)210 2832 A
3084(of)S
(the)126 3210 A
(number)252 3378 A
3672(*/)S
1620 V
(09148)210 648 A
1710 V
(09149)210 648 A
1362(/*)S
(When)168 1488 A
(base)168 1698 A
1908(is)S
2034(0,)S
(the)126 2160 A
(syntax)252 2328 A
(determines)420 2622 A
(the)126 3084 A
(actual)252 3252 A
(base)168 3546 A
3756(*/)S
1800 V
(09150)210 648 A
1362(if)S
(\(base)210 1488 A
1740(==)S
1866(0\))S
1890 V
(09151)210 648 A
1698(if)S
(\(*nptr)252 1824 A
2118(==)S
('0'\))168 2244 A
1980 V
(09152)210 648 A
2034(if)S
(\(*++nptr)336 2160 A
2538(==)S
('x')126 2664 A
2832(||)S
(*nptr)210 2958 A
3210(==)S
('X'\))168 3336 A
3546({)S
2070 V
(09153)210 648 A
(base)168 2370 A
2580(=)S
(16;)126 2664 A
2160 V
(09154)210 648 A
(nptr++;)294 2370 A
2250 V
(09155)210 648 A
2034(})S
2340 V
(09156)210 648 A
(else)168 2034 A
(base)168 2370 A
2580(=)S
2664(8;)S
2430 V
(09157)210 648 A
(else)168 1698 A
(base)168 2034 A
2244(=)S
(10;)126 2328 A
2520 V
(09158)210 648 A
(else)168 1362 A
1572(if)S
(\(base==16)378 1698 A
2118(&&)S
(*nptr=='0')420 2244 A
2706(&&)S
(\(*++nptr)336 2832 A
(=='x')210 3210 A
3462(||)S
(*nptr)210 3588 A
(=='X'\)\))294 3840 A
2610 V
(09159)210 648 A
(nptr++;)294 1698 A
2700 V
(09160)210 648 A
2790 V
(09161)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
2880 V
(09162)210 648 A
1698(c)S
1782(=)S
(*nptr;)252 1866 A
2970 V
(09163)210 648 A
1698(if)S
(\(between\('0',)546 1824 A
2412(c,)S
('9'\)\))210 2538 A
2790({)S
3060 V
(09164)210 648 A
2034(v)S
2118(=)S
2202(c)S
2286(-)S
('0';)168 2370 A
3150 V
(09165)210 648 A
1698(})S
(else)168 1782 A
3240 V
(09166)210 648 A
1698(if)S
(\(between\('a',)546 1824 A
2412(c,)S
('z'\)\))210 2538 A
2790({)S
3330 V
(09167)210 648 A
2034(v)S
2118(=)S
2202(c)S
2286(-)S
('a')126 2370 A
2538(+)S
(0xa;)168 2622 A
3420 V
(09168)210 648 A
1698(})S
(else)168 1782 A
3510 V
(09169)210 648 A
1698(if)S
(\(between\('A',)546 1824 A
2412(c,)S
('Z'\)\))210 2538 A
2790({)S
3600 V
(09170)210 648 A
2034(v)S
2118(=)S
2202(c)S
2286(-)S
('A')126 2370 A
2538(+)S
(0xA;)168 2622 A
3690 V
(09171)210 648 A
1698(})S
(else)168 1782 A
1992({)S
3780 V
(09172)210 648 A
(break;)252 2034 A
3870 V
(09173)210 648 A
1698(})S
3960 V
(09174)210 648 A
1698(if)S
1824(\(v)S
1950(>=)S
(base\))210 2076 A
(break;)252 2328 A
4050 V
(09175)210 648 A
1698(if)S
(\(val)168 1824 A
2034(>)S
(\(ULONG_MAX)420 2118 A
2580(-)S
2664(v\))S
2790(/)S
(base\))210 2874 A
(ovfl++;)294 3126 A
4140 V
(09176)210 648 A
(val)126 1698 A
1866(=)S
(\(val)168 1950 A
2160(*)S
(base\))210 2244 A
2496(+)S
2580(v;)S
4230 V
(09177)210 648 A
(nptr++;)294 1698 A
4320 V
(09178)210 648 A
1362(})S
4410 V
(09179)210 648 A
1362(if)S
(\(endptr\))336 1488 A
1866({)S
4500 V
(09180)210 648 A
1698(if)S
(\(nrstart)336 1824 A
2202(==)S
(nptr\))210 2328 A
(*endptr)294 2580 A
2916(=)S
(\(char)210 3000 A
(*\)startnptr;)504 3252 A
4590 V
(09181)210 648 A
(else)168 1698 A
(*endptr)294 1908 A
2244(=)S
(\(char)210 2328 A
(*\)nptr;)294 2580 A
4680 V
(09182)210 648 A
1362(})S
4770 V
(09183)210 648 A
4860 V
(09184)210 648 A
1362(if)S
(\(!ovfl\))294 1488 A
1824({)S
4950 V
(09185)210 648 A
1698(/*)S
(Overflow)336 1824 A
2202(is)S
(only)168 2328 A
(possible)336 2538 A
(when)168 2916 A
(converting)420 3126 A
3588(a)S
(signed)252 3672 A
(long.)210 3966 A
4218(*/)S
5040 V
(09186)210 648 A
1698(if)S
(\(is_signed)420 1824 A
5130 V
(09187)210 648 A
1866(&&)S
1992(\()S
(\(sign)210 2160 A
2412(<)S
2496(0)S
2580(&&)S
(val)126 2706 A
2874(>)S
(-\(unsigned)420 2958 A
(long\)LONG_MIN\))588 3420 A
5220 V
(09188)210 648 A
2034(||)S
(\(sign)210 2160 A
2412(>)S
2496(0)S
2580(&&)S
(val)126 2706 A
2874(>)S
(LONG_MAX\)\)\))462 2958 A
5310 V
(09189)210 648 A
(ovfl++;)294 1866 A
5400 V
(09190)210 648 A
1362(})S
5490 V
(09191)210 648 A
5580 V
(09192)210 648 A
1362(if)S
(\(ovfl\))252 1488 A
1782({)S
5670 V
(09193)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
5760 V
(09194)210 648 A
1698(if)S
(\(is_signed\))462 1824 A
5850 V
(09195)210 648 A
2034(if)S
(\(sign)210 2160 A
2412(<)S
2496(0\))S
(return)252 2622 A
(LONG_MIN;)378 2916 A
5940 V
(09196)210 648 A
(else)168 2034 A
(return)252 2244 A
(LONG_MAX;)378 2538 A
6030 V
(09197)210 648 A
(else)168 1698 A
(return)252 1908 A
(ULONG_MAX;)420 2202 A
6120 V
(09198)210 648 A
1362(})S
6210 V
(09199)210 648 A
(return)252 1362 A
(\(long\))252 1656 A
(sign)168 1950 A
2160(*)S
(val;)168 2244 A
8418 V
EP
%%Page: 74 74
BP
/slant 0 def
/height 0 def
630 V
12 B
648(74)S
11 R
2009(File:)S
(src/lib/ansi/strtol.c)825 2242 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(09200)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/ansi/strxfrm.c)924 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(09300)210 648 A
1026(/*)S
1890 V
(09301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1980 V
(09302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2070 V
(09303)210 648 A
1068(*/)S
2160 V
(09304)210 648 A
1026(/*)S
($Header:)336 1152 A
(strxfrm.c,v)462 1530 A
(1.4)126 2034 A
(90/08/28)336 2202 A
(13:54:46)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2250 V
(09305)210 648 A
2340 V
(09306)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2430 V
(09307)210 648 A
2520 V
(09308)210 648 A
(size_t)252 1026 A
2610 V
(09309)210 648 A
(strxfrm\(register)672 1026 A
(char)168 1740 A
(*s1,)168 1950 A
(register)336 2160 A
(const)210 2538 A
(char)168 2790 A
(*save,)252 3000 A
(register)336 3294 A
(size_t)252 3672 A
3966(n\))S
2700 V
(09310)210 648 A
1026({)S
2790 V
(09311)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*s2)126 2202 A
2370(=)S
(save;)210 2454 A
2880 V
(09312)210 648 A
2970 V
(09313)210 648 A
(while)210 1362 A
(\(*s2\))210 1614 A
1866({)S
3060 V
(09314)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
2034(1\))S
2160({)S
3150 V
(09315)210 648 A
(n--;)168 2034 A
3240 V
(09316)210 648 A
(*s1++)210 2034 A
2286(=)S
(*s2++;)252 2370 A
3330 V
(09317)210 648 A
1698(})S
(else)168 1782 A
3420 V
(09318)210 648 A
(s2++;)210 2034 A
3510 V
(09319)210 648 A
1362(})S
3600 V
(09320)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(0\))S
3690 V
(09321)210 648 A
(*s1++)210 1698 A
1950(=)S
('\\0';)210 2034 A
3780 V
(09322)210 648 A
(return)252 1362 A
1656(s2)S
1782(-)S
(save;)210 1866 A
3870 V
(09323)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ansi/system.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(09400)210 648 A
1026(/*)S
4590 V
(09401)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4680 V
(09402)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4770 V
(09403)210 648 A
1068(*/)S
4860 V
(09404)210 648 A
1026(/*)S
($Header:)336 1152 A
(system.c,v)420 1530 A
(1.4)126 1992 A
(90/11/22)336 2160 A
(13:59:54)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4950 V
(09405)210 648 A
5040 V
(09406)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
5130 V
(09407)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
5220 V
(09408)210 648 A
(#endif)252 1026 A
5310 V
(09409)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5400 V
(09410)210 648 A
(#include)336 1026 A
(<signal.h>)420 1698 A
5490 V
(09411)210 648 A
5580 V
(09412)210 648 A
(extern)252 1026 A
(pid_t)210 1320 A
(_fork\(void\);)504 1572 A
5670 V
(09413)210 648 A
(extern)252 1026 A
(pid_t)210 1320 A
(_wait\(int)378 1572 A
(*\);)126 1992 A
5760 V
(09414)210 648 A
(extern)252 1026 A
(void)168 1320 A
(_exit\(int\);)462 1530 A
5850 V
(09415)210 648 A
(extern)252 1026 A
(void)168 1320 A
(_execve\(const)546 1530 A
(char)168 2118 A
(*path,)252 2328 A
(const)210 2622 A
(char)168 2874 A
3084(**)S
(argv,)210 3210 A
(const)210 3462 A
(char)168 3714 A
3924(**)S
(envp\);)252 4050 A
5940 V
(09416)210 648 A
(extern)252 1026 A
(int)126 1320 A
(_close\(int\);)504 1488 A
6030 V
(09417)210 648 A
6120 V
(09418)210 648 A
(#define)294 1026 A
(FAIL)168 1362 A
(127)126 1698 A
6210 V
(09419)210 648 A
8418 V
EP
%%Page: 75 75
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1969(File:)S
(src/lib/ansi/system.c)905 2202 A
12 B
4308(75)S
900 V
7 LST
(09420)210 648 A
(extern)252 1026 A
(const)210 1320 A
(char)168 1572 A
(**_penvp;)378 1782 A
990 V
(09421)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
(*exec_tab[])462 1782 A
2286(=)S
2370({)S
1080 V
(09422)210 648 A
("sh",)210 1362 A
2370(/*)S
(argv[0])294 2496 A
2832(*/)S
1170 V
(09423)210 648 A
("-c",)210 1362 A
2370(/*)S
(argument)336 2496 A
2874(to)S
(the)126 3000 A
(shell)210 3168 A
3420(*/)S
1260 V
(09424)210 648 A
(NULL,)210 1362 A
2370(/*)S
2496(to)S
2622(be)S
(filled)252 2748 A
(with)168 3042 A
(user)168 3252 A
(command)294 3462 A
3798(*/)S
1350 V
(09425)210 648 A
(NULL)168 1362 A
2370(/*)S
(terminating)462 2496 A
(NULL)168 3000 A
3210(*/)S
1440 V
(09426)210 648 A
1362(};)S
1530 V
(09427)210 648 A
1620 V
(09428)210 648 A
(int)126 1026 A
1710 V
(09429)210 648 A
(system\(const)504 1026 A
(char)168 1572 A
(*str\))210 1782 A
1800 V
(09430)210 648 A
1026({)S
1890 V
(09431)210 648 A
(int)126 1362 A
(pid,)168 1530 A
(exitstatus,)462 1740 A
(waitval;)336 2244 A
1980 V
(09432)210 648 A
(int)126 1362 A
1530(i;)S
2070 V
(09433)210 648 A
2160 V
(09434)210 648 A
1362(if)S
(\(\(pid)210 1488 A
1740(=)S
(_fork\(\)\))336 1824 A
2202(<)S
2286(0\))S
(return)252 2412 A
(str)126 2706 A
2874(?)S
2958(-1)S
3084(:)S
3168(0;)S
2250 V
(09435)210 648 A
2340 V
(09436)210 648 A
1362(if)S
(\(pid)168 1488 A
1698(==)S
1824(0\))S
1950({)S
2430 V
(09437)210 648 A
(for)126 1698 A
1866(\(i)S
1992(=)S
2076(3;)S
2202(i)S
2286(<=)S
(20;)126 2412 A
(i++\))168 2580 A
2520 V
(09438)210 648 A
(_close\(i\);)420 2034 A
2610 V
(09439)210 648 A
1698(if)S
(\(!str\))252 1824 A
(str)126 2118 A
2286(=)S
("cd)126 2370 A
(.";)126 2538 A
3042(/*)S
(just)168 3168 A
(testing)294 3378 A
(for)126 3714 A
3882(a)S
(shell)210 3966 A
4218(*/)S
2700 V
(09440)210 648 A
(exec_tab[2])462 1698 A
2202(=)S
(str;)168 2286 A
3042(/*)S
(fill)168 3168 A
3378(in)S
(command)294 3504 A
3840(*/)S
2790 V
(09441)210 648 A
(_execve\("/bin/sh",)756 1698 A
(exec_tab,)378 2496 A
(_penvp\);)336 2916 A
2880 V
(09442)210 648 A
1698(/*)S
(get)126 1824 A
(here)168 1992 A
2202(if)S
(execve)252 2328 A
(fails)210 2622 A
(...)126 2874 A
3042(*/)S
2970 V
(09443)210 648 A
(_exit\(FAIL\);)504 1698 A
2370(/*)S
(see)126 2496 A
(manual)252 2664 A
(page)168 2958 A
3168(*/)S
3060 V
(09444)210 648 A
1362(})S
3150 V
(09445)210 648 A
(while)210 1362 A
(\(\(waitval)378 1614 A
2034(=)S
(_wait\(&exitstatus\)\))798 2118 A
2958(!=)S
(pid\))168 3084 A
3294({)S
3240 V
(09446)210 648 A
1698(if)S
(\(waitval)336 1824 A
2202(==)S
(-1\))126 2328 A
(break;)252 2496 A
3330 V
(09447)210 648 A
1362(})S
3420 V
(09448)210 648 A
1362(if)S
(\(waitval)336 1488 A
1866(==)S
(-1\))126 1992 A
2160({)S
3510 V
(09449)210 648 A
1698(/*)S
1824(no)S
(child)210 1950 A
(???)126 2202 A
2370(or)S
(maybe)210 2496 A
(interrupted)462 2748 A
(???)126 3252 A
3420(*/)S
3600 V
(09450)210 648 A
(exitstatus)420 1698 A
2160(=)S
(-1;)126 2244 A
3690 V
(09451)210 648 A
1362(})S
3780 V
(09452)210 648 A
1362(if)S
(\(!str\))252 1488 A
1782({)S
3870 V
(09453)210 648 A
1698(if)S
(\(exitstatus)462 1824 A
2328(==)S
(FAIL)168 2454 A
2664(<<)S
2790(8\))S
3378(/*)S
(execve\(\))336 3504 A
(failed)252 3882 A
4176(*/)S
3960 V
(09454)210 648 A
(exitstatus)420 2034 A
2496(=)S
2580(0;)S
4050 V
(09455)210 648 A
(else)168 1698 A
(exitstatus)420 1908 A
2370(=)S
2454(1;)S
3378(/*)S
(/bin/sh)294 3504 A
(exists)252 3840 A
4134(*/)S
4140 V
(09456)210 648 A
1362(})S
4230 V
(09457)210 648 A
(return)252 1362 A
(exitstatus;)462 1656 A
4320 V
(09458)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/tolower.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(09500)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
5040 V
(09501)210 648 A
5130 V
(09502)210 648 A
(int)126 1026 A
(tolower\(int)462 1194 A
1698(c\))S
1824({)S
5220 V
(09503)210 648 A
(return)252 1362 A
(isupper\(c\))420 1656 A
2118(?)S
2202(c)S
2286(-)S
('A')126 2370 A
2538(+)S
('a')126 2622 A
2790(:)S
2874(c)S
2958(;)S
5310 V
(09504)210 648 A
1026(})S
8418 V
EP
%%Page: 76 76
BP
/slant 0 def
/height 0 def
630 V
12 B
648(76)S
11 R
1954(File:)S
(src/lib/ansi/toupper.c)935 2187 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ansi/toupper.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(09600)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
1440 V
(09601)210 648 A
1530 V
(09602)210 648 A
(int)126 1026 A
(toupper\(int)462 1194 A
1698(c\))S
1824({)S
1620 V
(09603)210 648 A
(return)252 1362 A
(islower\(c\))420 1656 A
2118(?)S
2202(c)S
2286(-)S
('a')126 2370 A
2538(+)S
('A')126 2622 A
2790(:)S
2874(c)S
2958(;)S
1710 V
(09604)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ansi/tzset.c)840 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(09700)210 648 A
1026(/*)S
2790 V
(09701)210 648 A
1068(*)S
(tzset)210 1152 A
1404(-)S
(set)126 1488 A
(timezone)336 1656 A
(information)462 2034 A
2880 V
(09702)210 648 A
1068(*/)S
2970 V
(09703)210 648 A
1026(/*)S
($Header:)336 1152 A
(tzset.c,v)378 1530 A
(1.3)126 1950 A
(91/04/22)336 2118 A
(13:21:11)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
3060 V
(09704)210 648 A
3150 V
(09705)210 648 A
1026(/*)S
(This)168 1152 A
(function)336 1362 A
1740(is)S
(present)294 1866 A
(for)126 2202 A
(System)252 2370 A
2664(V)S
2748(&&)S
(POSIX)210 2874 A
3126(*/)S
3240 V
(09706)210 648 A
3330 V
(09707)210 648 A
(#include)336 1026 A
(<time.h>)336 1698 A
3420 V
(09708)210 648 A
(#include)336 1026 A
("loc_time.h")504 1698 A
3510 V
(09709)210 648 A
3600 V
(09710)210 648 A
(void)168 1026 A
3690 V
(09711)210 648 A
(tzset\(void\))462 1026 A
3780 V
(09712)210 648 A
1026({)S
3870 V
(09713)210 648 A
(_tzset\(\);)378 1362 A
2034(/*)S
(does)168 2160 A
(the)126 2370 A
(job)126 2538 A
2706(*/)S
3960 V
(09714)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ansi/wcstombs.c)966 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(09800)210 648 A
1026(/*)S
5040 V
(09801)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(09802)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(09803)210 648 A
1068(*/)S
5310 V
(09804)210 648 A
1026(/*)S
($Header:)336 1152 A
(wcstombs.c,v)504 1530 A
(1.3)126 2076 A
(90/03/28)336 2244 A
(16:37:07)336 2622 A
(eck)126 3000 A
(Exp)126 3168 A
3336($)S
3420(*/)S
5400 V
(09805)210 648 A
5490 V
(09806)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5580 V
(09807)210 648 A
(#include)336 1026 A
(<locale.h>)420 1698 A
5670 V
(09808)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
5760 V
(09809)210 648 A
5850 V
(09810)210 648 A
(size_t)252 1026 A
5940 V
(09811)210 648 A
(wcstombs\(register)714 1026 A
(char)168 1782 A
(*s,)126 1992 A
(register)336 2160 A
(const)210 2538 A
(wchar_t)294 2790 A
(*pwcs,)252 3126 A
(size_t)252 3420 A
3714(n\))S
6030 V
(09812)210 648 A
1026({)S
6120 V
(09813)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i)S
1992(=)S
2076(n;)S
6210 V
(09814)210 648 A
8418 V
EP
%%Page: 77 77
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1901(File:)S
(src/lib/ansi/wcstombs.c)1040 2134 A
12 B
4308(77)S
900 V
7 LST
(09815)210 648 A
(while)210 1362 A
(\(--i)168 1614 A
1824(>=)S
1950(0\))S
2076({)S
990 V
(09816)210 648 A
1698(if)S
(\(!\(*s++)294 1824 A
2160(=)S
(*pwcs++\)\))378 2244 A
1080 V
(09817)210 648 A
(break;)252 2034 A
1170 V
(09818)210 648 A
1362(})S
1260 V
(09819)210 648 A
(return)252 1362 A
1656(n)S
1740(-)S
1824(i)S
1908(-)S
1992(1;)S
1350 V
(09820)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ansi/wctomb.c)882 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(09900)210 648 A
1026(/*)S
2340 V
(09901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(09902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(09903)210 648 A
1068(*/)S
2610 V
(09904)210 648 A
1026(/*)S
($Header:)336 1152 A
(wctomb.c,v)420 1530 A
(1.4)126 1992 A
(91/01/15)336 2160 A
(11:55:33)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
2700 V
(09905)210 648 A
2790 V
(09906)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2880 V
(09907)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
2970 V
(09908)210 648 A
3060 V
(09909)210 648 A
(int)126 1026 A
3150 V
(09910)210 648 A
1026(/*)S
(was:)168 1152 A
(wctomb\(char)462 1362 A
(*s,)126 1866 A
(wchar_t)294 2034 A
(wchar\))252 2370 A
3240 V
(09911)210 648 A
1068(*)S
(This)168 1152 A
(conflicts)378 1362 A
(with)168 1782 A
(prototype,)420 1992 A
2454(so)S
2580(it)S
(was)126 2706 A
(changed)294 2874 A
(to:)126 3210 A
3330 V
(09912)210 648 A
1068(*/)S
3420 V
(09913)210 648 A
(wctomb\(char)462 1026 A
(*s,)126 1530 A
(wchar_t)294 1698 A
(wchar\))252 2034 A
3510 V
(09914)210 648 A
1026({)S
3600 V
(09915)210 648 A
1362(if)S
(\(!s\))168 1488 A
(return)252 1698 A
1992(0;)S
2706(/*)S
2832(no)S
(state)210 2958 A
(dependent)378 3210 A
(codings)294 3630 A
3966(*/)S
3690 V
(09916)210 648 A
3780 V
(09917)210 648 A
1362(*s)S
1488(=)S
(wchar;)252 1572 A
3870 V
(09918)210 648 A
(return)252 1362 A
1656(1;)S
3960 V
(09919)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/curses/curspriv.h)1050 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(10000)210 648 A
1026(/*)S
(Constants)378 1152 A
1572(*/)S
5040 V
(10001)210 648 A
(#define)294 1026 A
(_SUBWIN)294 1362 A
2034(1)S
2706(/*)S
(window)252 2832 A
3126(is)S
3252(a)S
(subwindow)378 3336 A
3756(*/)S
5130 V
(10002)210 648 A
(#define)294 1026 A
(_ENDLINE)336 1362 A
2034(2)S
2706(/*)S
(last)168 2832 A
(winline)294 3042 A
3378(is)S
(last)168 3504 A
(screen)252 3714 A
(line)168 4008 A
4218(*/)S
5220 V
(10003)210 648 A
(#define)294 1026 A
(_FULLWIN)336 1362 A
2034(4)S
2706(/*)S
(window)252 2832 A
(fills)210 3126 A
(screen)252 3378 A
3672(*/)S
5310 V
(10004)210 648 A
(#define)294 1026 A
(_SCROLLWIN)420 1362 A
2034(8)S
2706(/*)S
(window)252 2832 A
(lwr)126 3126 A
(rgt)126 3294 A
3462(is)S
(screen)252 3588 A
(lwr)126 3882 A
(rgt)126 4050 A
4218(*/)S
5400 V
(10005)210 648 A
5490 V
(10006)210 648 A
(#define)294 1026 A
(_NO_CHANGE)420 1362 A
2034(-1)S
2706(/*)S
(flags)210 2832 A
(line)168 3084 A
(edge)168 3294 A
(unchanged)378 3504 A
3924(*/)S
5580 V
(10007)210 648 A
(#define)294 1026 A
(_BREAKCHAR)420 1362 A
(0x03)168 2034 A
2706(/*)S
2832(\303C)S
(character)378 2958 A
3378(*/)S
5670 V
(10008)210 648 A
(#define)294 1026 A
(_DCCHAR)294 1362 A
(0x08)168 2034 A
2706(/*)S
(Delete)252 2832 A
(Char)168 3126 A
(char)168 3336 A
(\(BS\))168 3546 A
3756(*/)S
5760 V
(10009)210 648 A
(#define)294 1026 A
(_DLCHAR)294 1362 A
(0x1b)168 2034 A
2706(/*)S
(Delete)252 2832 A
(Line)168 3126 A
(char)168 3336 A
(\(ESC\))210 3546 A
3798(*/)S
5850 V
(10010)210 648 A
(#define)294 1026 A
(_GOCHAR)294 1362 A
(0x11)168 2034 A
2706(/*)S
2832(\303Q)S
(character)378 2958 A
3378(*/)S
5940 V
(10011)210 648 A
(#define)294 1026 A
(_PRINTCHAR)420 1362 A
(0x10)168 2034 A
2706(/*)S
2832(\303P)S
(character)378 2958 A
3378(*/)S
6030 V
(10012)210 648 A
(#define)294 1026 A
(_STOPCHAR)378 1362 A
(0x13)168 2034 A
2706(/*)S
2832(\303S)S
(character)378 2958 A
3378(*/)S
6120 V
(10013)210 648 A
(#define)294 1026 A
(NUNGETCH)336 1404 A
2034(10)S
2706(/*)S
(max)126 2832 A
3000(#)S
(chars)210 3084 A
3336(to)S
(ungetch\(\))378 3462 A
3882(*/)S
6210 V
(10014)210 648 A
8418 V
EP
%%Page: 78 78
BP
/slant 0 def
/height 0 def
630 V
12 B
648(78)S
11 R
1889(File:)S
(src/lib/curses/curspriv.h)1064 2122 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(10015)210 648 A
(#define)294 1026 A
(max\(a,b\))336 1362 A
(\(\(\(a\))210 1740 A
1992(>)S
(\(b\)\))168 2076 A
2286(?)S
(\(a\))126 2370 A
2538(:)S
(\(b\)\))168 2622 A
990 V
(10016)210 648 A
(#define)294 1026 A
(min\(a,b\))336 1362 A
(\(\(\(a\))210 1740 A
1992(<)S
(\(b\)\))168 2076 A
2286(?)S
(\(a\))126 2370 A
2538(:)S
(\(b\)\))168 2622 A
1080 V
(10017)210 648 A
1170 V
(10018)210 648 A
1026(/*)S
(Character)378 1152 A
(mask)168 1572 A
(definitions.)504 1782 A
2328(*/)S
1260 V
(10019)210 648 A
(#define)294 1026 A
(CHR_MSK)294 1362 A
(\(\(int\))252 1698 A
(0x00ff\))294 1992 A
2706(/*)S
(ASCIIZ)252 2832 A
(character)378 3126 A
(mask)168 3546 A
3756(*/)S
1350 V
(10020)210 648 A
(#define)294 1026 A
(ATR_MSK)294 1362 A
(\(\(int\))252 1698 A
(0xff00\))294 1992 A
2706(/*)S
(attribute)378 2832 A
(mask)168 3252 A
3462(*/)S
1440 V
(10021)210 648 A
(#define)294 1026 A
(ATR_NRM)294 1362 A
(\(\(int\))252 1698 A
(0x0000\))294 1992 A
2706(/*)S
2832(no)S
(special)294 2958 A
(attributes)420 3294 A
3756(*/)S
1530 V
(10022)210 648 A
1620 V
(10023)210 648 A
1026(/*)S
(Type)168 1152 A
(declarations.)546 1362 A
1950(*/)S
1710 V
(10024)210 648 A
1800 V
(10025)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
1656({)S
1890 V
(10026)210 648 A
(WINDOW)252 1110 A
(*tmpwin;)336 1446 A
2706(/*)S
(window)252 2832 A
(used)168 3126 A
(for)126 3336 A
(updates)294 3504 A
3840(*/)S
1980 V
(10027)210 648 A
(int)126 1110 A
(cursrow;)336 1488 A
2706(/*)S
(position)336 2832 A
3210(of)S
(physical)336 3336 A
(cursor)252 3714 A
4008(*/)S
2070 V
(10028)210 648 A
(int)126 1110 A
(curscol;)336 1488 A
2160 V
(10029)210 648 A
(bool)168 1110 A
(rawmode;)336 1488 A
2250 V
(10030)210 648 A
(bool)168 1110 A
(cbrkmode;)378 1488 A
2340 V
(10031)210 648 A
(bool)168 1110 A
(echoit;)294 1488 A
2430 V
(10032)210 648 A
1026(})S
(cursv;)252 1110 A
2520 V
(10033)210 648 A
2610 V
(10034)210 648 A
1026(/*)S
(External)336 1152 A
(variables)378 1530 A
1950(*/)S
2700 V
(10035)210 648 A
(extern)252 1026 A
(cursv)210 1362 A
(_cursvar;)378 1698 A
2706(/*)S
(curses)252 2832 A
(variables)378 3126 A
3546(*/)S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/curses/beep.c)882 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(10100)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
3690 V
(10101)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
3780 V
(10102)210 648 A
(#include)336 1026 A
(<termcap.h>)462 1404 A
3870 V
(10103)210 648 A
3960 V
(10104)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*bl,)168 1530 A
(*vb;)168 1740 A
4050 V
(10105)210 648 A
4140 V
(10106)210 648 A
1026(/*)S
(Beep\(\))252 1152 A
(sounds)252 1446 A
(the)126 1740 A
(terminal)336 1908 A
(bell.)210 2286 A
2538(*/)S
4230 V
(10107)210 648 A
(void)168 1026 A
(beep\(\))252 1236 A
4320 V
(10108)210 648 A
1026({)S
4410 V
(10109)210 648 A
1110(if)S
(\(bl\))168 1236 A
4500 V
(10110)210 648 A
(tputs\(bl,)378 1362 A
1782(1,)S
(outc\);)252 1908 A
4590 V
(10111)210 648 A
(else)168 1110 A
1320(if)S
(\(vb\))168 1446 A
4680 V
(10112)210 648 A
(tputs\(vb,)378 1362 A
1782(1,)S
(outc\);)252 1908 A
4770 V
(10113)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/curses/charpick.c)1050 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(10200)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
5490 V
(10201)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
5580 V
(10202)210 648 A
5670 V
(10203)210 648 A
(/****************************************************************/)2772 1026 A
5760 V
(10204)210 648 A
1026(/*)S
(Winch\(win\))420 1152 A
(returns)294 1614 A
(the)126 1950 A
(character)378 2118 A
2538(at)S
(the)126 2664 A
(current)294 2832 A
(position)336 3168 A
3546(in)S
3714(*/)S
5850 V
(10205)210 648 A
1026(/*)S
(Window)252 1152 A
('win'.)252 1446 A
3714(*/)S
5940 V
(10206)210 648 A
(/****************************************************************/)2772 1026 A
6030 V
(10207)210 648 A
6120 V
(10208)210 648 A
(int)126 1026 A
(winch\(win\))420 1194 A
6210 V
(10209)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
8418 V
EP
%%Page: 79 79
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1882(File:)S
(src/lib/curses/charpick.c)1079 2115 A
12 B
4308(79)S
900 V
7 LST
(10210)210 648 A
1026({)S
990 V
(10211)210 648 A
(return\(\(win->_line[win->_cury][win->_curx]\))1806 1110 A
2958(&)S
(0xff\);)252 3042 A
1080 V
(10212)210 648 A
1026(})S
2370(/*)S
(winch)210 2496 A
2748(*/)S
1170 V
(10213)210 648 A
1260 V
(10214)210 648 A
(/****************************************************************/)2772 1026 A
1350 V
(10215)210 648 A
1026(/*)S
(Mvinch\(\))336 1152 A
(moves)210 1530 A
(the)126 1782 A
(stdscr)252 1950 A
(cursor)252 2244 A
2538(to)S
2664(a)S
(new)126 2748 A
(position,)378 2916 A
(then)168 3336 A
3714(*/)S
1440 V
(10216)210 648 A
1026(/*)S
(Returns)294 1152 A
(the)126 1488 A
(character)378 1656 A
2076(at)S
(that)168 2202 A
(position.)378 2412 A
3714(*/)S
1530 V
(10217)210 648 A
(/****************************************************************/)2772 1026 A
1620 V
(10218)210 648 A
1710 V
(10219)210 648 A
(int)126 1026 A
(mvinch\(y,)378 1194 A
1614(x\))S
1800 V
(10220)210 648 A
(int)126 1026 A
1194(y;)S
1890 V
(10221)210 648 A
(int)126 1026 A
1194(x;)S
1980 V
(10222)210 648 A
1026({)S
2070 V
(10223)210 648 A
1110(if)S
(\(wmove\(stdscr,)588 1236 A
1866(y,)S
1992(x\))S
2118(==)S
(ERR\))168 2244 A
(return\(ERR\);)504 2454 A
2160 V
(10224)210 648 A
(return\(\(stdscr->_line[stdscr->_cury][stdscr->_curx]\))2184 1110 A
3336(&)S
(0xff\);)252 3420 A
2250 V
(10225)210 648 A
1026(})S
2430 V
(10227)210 648 A
(/****************************************************************/)2772 1026 A
2520 V
(10228)210 648 A
1026(/*)S
(Mvwinch\(\))378 1152 A
(moves)210 1572 A
(the)126 1824 A
(cursor)252 1992 A
2286(of)S
(window)252 2412 A
('win')210 2706 A
2958(to)S
3084(a)S
(new)126 3168 A
(posi-)210 3336 A
3714(*/)S
2610 V
(10229)210 648 A
1026(/*)S
(Tion,)210 1152 A
(then)168 1404 A
(returns)294 1614 A
(the)126 1950 A
(character)378 2118 A
2538(at)S
(that)168 2664 A
(position.)378 2874 A
3714(*/)S
2700 V
(10230)210 648 A
(/****************************************************************/)2772 1026 A
2790 V
(10231)210 648 A
2880 V
(10232)210 648 A
(int)126 1026 A
(mvwinch\(win,)504 1194 A
1740(y,)S
1866(x\))S
2970 V
(10233)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
3060 V
(10234)210 648 A
(int)126 1026 A
1194(y;)S
3150 V
(10235)210 648 A
(int)126 1026 A
1194(x;)S
3240 V
(10236)210 648 A
1026({)S
3330 V
(10237)210 648 A
1110(if)S
(\(wmove\(win,)462 1236 A
1740(y,)S
1866(x\))S
1992(==)S
(ERR\))168 2118 A
(return\(ERR\);)504 2328 A
3420 V
(10238)210 648 A
(return\(\(win->_line[win->_cury][win->_curx]\))1806 1110 A
2958(&)S
(0xff\);)252 3042 A
3510 V
(10239)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/curses/curs_set.c)1050 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(10300)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4590 V
(10301)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4680 V
(10302)210 648 A
(#include)336 1026 A
(<termcap.h>)462 1404 A
4770 V
(10303)210 648 A
4860 V
(10304)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*vi,)168 1530 A
(*ve,)168 1740 A
(*vs;)168 1950 A
4950 V
(10305)210 648 A
5040 V
(10306)210 648 A
1026(/*)S
(Sets)168 1152 A
(cursor)252 1362 A
(visibility)420 1656 A
2118(to)S
(unvisible=0;)504 2244 A
(normal)252 2790 A
(visible=1)378 3084 A
3504(or)S
(very)168 3630 A
(good)168 3840 A
5130 V
(10307)210 648 A
1068(*)S
(visible=2.)420 1152 A
5220 V
(10308)210 648 A
1026(*/)S
5310 V
(10309)210 648 A
(void)168 1026 A
(curs_set\(visibility\))840 1236 A
5400 V
(10310)210 648 A
(int)126 1026 A
(visibility;)462 1194 A
5490 V
(10311)210 648 A
1026({)S
5580 V
(10312)210 648 A
(switch)252 1110 A
(\(visibility\))504 1404 A
1950({)S
5670 V
(10313)210 648 A
(case)168 1278 A
1488(0:)S
5760 V
(10314)210 648 A
1362(if)S
(\(vi\))168 1488 A
(tputs\(vi,)378 1698 A
2118(1,)S
(outc\);)252 2244 A
5850 V
(10315)210 648 A
(break;)252 1362 A
5940 V
(10316)210 648 A
(case)168 1278 A
1488(1:)S
6030 V
(10317)210 648 A
1362(if)S
(\(ve\))168 1488 A
(tputs\(ve,)378 1698 A
2118(1,)S
(outc\);)252 2244 A
6120 V
(10318)210 648 A
(break;)252 1362 A
6210 V
(10319)210 648 A
(case)168 1278 A
1488(2:)S
8418 V
EP
%%Page: 80 80
BP
/slant 0 def
/height 0 def
630 V
12 B
648(80)S
11 R
1891(File:)S
(src/lib/curses/curs_set.c)1060 2124 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(10320)210 648 A
1362(if)S
(\(vs\))168 1488 A
990 V
(10321)210 648 A
(tputs\(vs,)378 1698 A
2118(1,)S
(outc\);)252 2244 A
1080 V
(10322)210 648 A
(else)168 1362 A
1572(if)S
(\(ve\))168 1698 A
1170 V
(10323)210 648 A
(tputs\(ve,)378 1698 A
2118(1,)S
(outc\);)252 2244 A
1260 V
(10324)210 648 A
1110(})S
1350 V
(10325)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/curses/cursesio.c)1050 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(10400)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
2340 V
(10401)210 648 A
(#include)336 1026 A
(<termcap.h>)462 1404 A
2430 V
(10402)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2520 V
(10403)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
2610 V
(10404)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
2700 V
(10405)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
2790 V
(10406)210 648 A
2880 V
(10407)210 648 A
(struct)252 1026 A
(termios)294 1320 A
(_orig_tty,)420 1656 A
(_tty;)210 2118 A
2970 V
(10408)210 648 A
(cursv)210 1026 A
(_cursvar;)378 1278 A
3060 V
(10409)210 648 A
3150 V
(10410)210 648 A
(WINDOW)252 1026 A
(*stdscr,)336 1320 A
(*curscr;)336 1698 A
3240 V
(10411)210 648 A
(int)126 1026 A
(LINES,)252 1194 A
(COLS;)210 1488 A
3330 V
(10412)210 648 A
(bool)168 1026 A
(NONL;)210 1236 A
3420 V
(10413)210 648 A
3510 V
(10414)210 648 A
(char)168 1026 A
(termcap[1024];)588 1236 A
2370(/*)S
(termcap)294 2496 A
(buffer)252 2832 A
3126(*/)S
3600 V
(10415)210 648 A
(char)168 1026 A
(tc[200];)336 1236 A
2370(/*)S
(area)168 2496 A
2706(to)S
(hold)168 2832 A
(string)252 3042 A
(capabilities)504 3336 A
3882(*/)S
3690 V
(10416)210 648 A
(char)168 1026 A
(*ttytype;)378 1236 A
2370(/*)S
(terminal)336 2496 A
(type)168 2874 A
(from)168 3084 A
(env)126 3294 A
3462(*/)S
3780 V
(10417)210 648 A
(char)168 1026 A
(*arp;)210 1236 A
2370(/*)S
(pointer)294 2496 A
(for)126 2832 A
(use)126 3000 A
3168(in)S
(tgetstr)294 3294 A
3630(*/)S
3870 V
(10418)210 648 A
(char)168 1026 A
(*cp;)168 1236 A
2370(/*)S
(character)378 2496 A
(pointer)294 2916 A
3252(*/)S
3960 V
(10419)210 648 A
4050 V
(10420)210 648 A
(char)168 1026 A
(*cl;)168 1236 A
2370(/*)S
(clear)210 2496 A
(screen)252 2748 A
(capability)420 3042 A
3504(*/)S
4140 V
(10421)210 648 A
(char)168 1026 A
(*cm;)168 1236 A
2370(/*)S
(cursor)252 2496 A
(motion)252 2790 A
(capability)420 3084 A
3546(*/)S
4230 V
(10422)210 648 A
(char)168 1026 A
(*so;)168 1236 A
2370(/*)S
(start)210 2496 A
(standout)336 2748 A
(capability)420 3126 A
3588(*/)S
4320 V
(10423)210 648 A
(char)168 1026 A
(*se;)168 1236 A
2370(/*)S
(end)126 2496 A
(standout)336 2664 A
(capability)420 3042 A
3504(*/)S
4410 V
(10424)210 648 A
(char)168 1026 A
(*mr;)168 1236 A
2370(/*)S
(start)210 2496 A
2748(of)S
(reverse)294 2874 A
3210(*/)S
4500 V
(10425)210 648 A
(char)168 1026 A
(*me;)168 1236 A
2370(/*)S
(revert)252 2496 A
2790(to)S
(normal)252 2916 A
3210(*/)S
4590 V
(10426)210 648 A
(char)168 1026 A
(*mb;)168 1236 A
2370(/*)S
(start)210 2496 A
2748(of)S
(blink)210 2874 A
3126(*/)S
4680 V
(10427)210 648 A
(char)168 1026 A
(*md;)168 1236 A
2370(/*)S
(start)210 2496 A
2748(of)S
(bold)168 2874 A
3084(*/)S
4770 V
(10428)210 648 A
(char)168 1026 A
(*us;)168 1236 A
2370(/*)S
(start)210 2496 A
2748(of)S
(underscore)420 2874 A
3336(*/)S
4860 V
(10429)210 648 A
(char)168 1026 A
(*ue;)168 1236 A
2370(/*)S
(end)126 2496 A
2664(of)S
(underscore)420 2790 A
3252(*/)S
4950 V
(10430)210 648 A
(char)168 1026 A
(*vi;)168 1236 A
2370(/*)S
(cursor)252 2496 A
(invisible)378 2790 A
3210(*/)S
5040 V
(10431)210 648 A
(char)168 1026 A
(*ve;)168 1236 A
2370(/*)S
(cursor)252 2496 A
(normal)252 2790 A
3084(*/)S
5130 V
(10432)210 648 A
(char)168 1026 A
(*vs;)168 1236 A
2370(/*)S
(cursor)252 2496 A
(good)168 2790 A
(visible)294 3000 A
3336(*/)S
5220 V
(10433)210 648 A
(char)168 1026 A
(*as;)168 1236 A
2370(/*)S
(alternative)462 2496 A
(charset)294 3000 A
(start)210 3336 A
3588(*/)S
5310 V
(10434)210 648 A
(char)168 1026 A
(*ae;)168 1236 A
2370(/*)S
(alternative)462 2496 A
(charset)294 3000 A
(end)126 3336 A
3504(*/)S
5400 V
(10435)210 648 A
(char)168 1026 A
(*bl;)168 1236 A
2370(/*)S
(ring)168 2496 A
(the)126 2706 A
(bell)168 2874 A
3084(*/)S
5490 V
(10436)210 648 A
(char)168 1026 A
(*vb;)168 1236 A
2370(/*)S
(visual)252 2496 A
(bell)168 2790 A
3000(*/)S
5580 V
(10437)210 648 A
5670 V
(10438)210 648 A
1026(/*)S
(fatal)210 1152 A
1404(-)S
(report)252 1488 A
(error)210 1782 A
(and)126 2034 A
(die.)168 2202 A
(Never)210 2412 A
(returns)294 2664 A
3000(*/)S
5760 V
(10439)210 648 A
(void)168 1026 A
(fatal\(s\))336 1236 A
5850 V
(10440)210 648 A
(char)168 1026 A
(*s;)126 1236 A
5940 V
(10441)210 648 A
1026({)S
6030 V
(10442)210 648 A
(\(void\))252 1110 A
(fprintf\(stderr,)630 1404 A
("curses:)336 2076 A
(%s\\n",)252 2454 A
(s\);)126 2748 A
6120 V
(10443)210 648 A
(exit\(1\);)336 1110 A
6210 V
(10444)210 648 A
1026(})S
8418 V
EP
%%Page: 81 81
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1891(File:)S
(src/lib/curses/cursesio.c)1060 2124 A
12 B
4308(81)S
990 V
7 LST
(10446)210 648 A
1026(/*)S
(Outc)168 1152 A
1362(-)S
(call)168 1446 A
(putchar,)336 1656 A
(necessary)378 2034 A
(because)294 2454 A
(putchar)294 2790 A
3126(is)S
3252(a)S
(macro.)252 3336 A
3630(*/)S
1080 V
(10447)210 648 A
(void)168 1026 A
(outc\(c\))294 1236 A
1170 V
(10448)210 648 A
(int)126 1026 A
1194(c;)S
1260 V
(10449)210 648 A
1026({)S
1350 V
(10450)210 648 A
(putchar\(c\);)462 1110 A
1440 V
(10451)210 648 A
1026(})S
1620 V
(10453)210 648 A
1026(/*)S
(Move)168 1152 A
(cursor)252 1362 A
1656(to)S
(r,c)126 1782 A
1950(*/)S
1710 V
(10454)210 648 A
(void)168 1026 A
(poscur\(r,)378 1236 A
1656(c\))S
1800 V
(10455)210 648 A
(int)126 1026 A
1194(r,)S
1320(c;)S
1890 V
(10456)210 648 A
1026({)S
1980 V
(10457)210 648 A
(tputs\(tgoto\(cm,)630 1110 A
1782(c,)S
(r\),)126 1908 A
2076(1,)S
(outc\);)252 2202 A
2070 V
(10458)210 648 A
1026(})S
2250 V
(10460)210 648 A
1026(/*)S
(Clear)210 1152 A
(the)126 1404 A
(screen)252 1572 A
1866(*/)S
2340 V
(10461)210 648 A
(void)168 1026 A
(clrscr\(\))336 1236 A
2430 V
(10462)210 648 A
1026({)S
2520 V
(10463)210 648 A
(tputs\(cl,)378 1110 A
1530(1,)S
(outc\);)252 1656 A
2610 V
(10464)210 648 A
1026(})S
2790 V
(10466)210 648 A
1026(/*)S
(This)168 1152 A
(are)126 1362 A
(terminal)336 1530 A
(independent)462 1908 A
(characters)420 2412 A
(which)210 2874 A
(can)126 3126 A
3294(be)S
(used)168 3420 A
3630(in)S
(curses)252 3756 A
4050(*/)S
2880 V
(10467)210 648 A
2970 V
(10468)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_ULCORNER;)546 1572 A
3060 V
(10469)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_LLCORNER;)546 1572 A
3150 V
(10470)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_URCORNER;)546 1572 A
3240 V
(10471)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_LRCORNER;)546 1572 A
3330 V
(10472)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_RTEE;)378 1572 A
3420 V
(10473)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_LTEE;)378 1572 A
3510 V
(10474)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_BTEE;)378 1572 A
3600 V
(10475)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_TTEE;)378 1572 A
3690 V
(10476)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_HLINE;)420 1572 A
3780 V
(10477)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_VLINE;)420 1572 A
3870 V
(10478)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_PLUS;)378 1572 A
3960 V
(10479)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_S1;)294 1572 A
4050 V
(10480)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_S9;)294 1572 A
4140 V
(10481)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_DIAMOND;)504 1572 A
4230 V
(10482)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_CKBOARD;)504 1572 A
4320 V
(10483)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_DEGREE;)462 1572 A
4410 V
(10484)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_PLMINUS;)504 1572 A
4500 V
(10485)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_BULLET;)462 1572 A
4590 V
(10486)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_LARROW;)462 1572 A
4680 V
(10487)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_RARROW;)462 1572 A
4770 V
(10488)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_DARROW;)462 1572 A
4860 V
(10489)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_UARROW;)462 1572 A
4950 V
(10490)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_BOARD;)420 1572 A
5040 V
(10491)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_LANTERN;)504 1572 A
5130 V
(10492)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(ACS_BLOCK;)420 1572 A
5220 V
(10493)210 648 A
5310 V
(10494)210 648 A
1026(/*)S
(These)210 1152 A
(defines)294 1404 A
(describe)336 1740 A
(the)126 2118 A
(full)168 2286 A
(set)126 2496 A
2664(of)S
(grafic)252 2790 A
(block)210 3084 A
(characters)420 3336 A
(which)210 3798 A
5400 V
(10495)210 648 A
1068(*)S
(can)126 1152 A
1320(be)S
(defined)294 1446 A
(via)126 1782 A
(termcap.)336 1950 A
5490 V
(10496)210 648 A
1068(*/)S
5580 V
(10497)210 648 A
5670 V
(10498)210 648 A
(#define)294 1026 A
(RIGHTARROW)420 1362 A
1866(0)S
5760 V
(10499)210 648 A
(#define)294 1026 A
(LEFTARROW)378 1362 A
1866(1)S
5850 V
(10500)210 648 A
(#define)294 1026 A
(DOWNARROW)378 1362 A
1866(2)S
5940 V
(10501)210 648 A
(#define)294 1026 A
(UPARROW)294 1362 A
1866(3)S
6030 V
(10502)210 648 A
(#define)294 1026 A
(FULLSQUARE)420 1362 A
1866(4)S
6120 V
(10503)210 648 A
(#define)294 1026 A
(GREYSQUARE)420 1362 A
1866(5)S
6210 V
(10504)210 648 A
(#define)294 1026 A
(EMPTYSQUARE)462 1362 A
1866(6)S
8418 V
EP
%%Page: 82 82
BP
/slant 0 def
/height 0 def
630 V
12 B
648(82)S
11 R
1891(File:)S
(src/lib/curses/cursesio.c)1060 2124 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(10505)210 648 A
(#define)294 1026 A
(LATERN)252 1362 A
1866(7)S
990 V
(10506)210 648 A
(#define)294 1026 A
(DIAMOND)294 1362 A
1866(8)S
1080 V
(10507)210 648 A
(#define)294 1026 A
(DEGREE)252 1362 A
1866(9)S
1170 V
(10508)210 648 A
(#define)294 1026 A
(PLUSMINUS)378 1362 A
1824(10)S
1260 V
(10509)210 648 A
(#define)294 1026 A
(DOWNRIGHT)378 1362 A
1824(11)S
1350 V
(10510)210 648 A
(#define)294 1026 A
(UPRIGHT)294 1362 A
1824(12)S
1440 V
(10511)210 648 A
(#define)294 1026 A
(UPLEFT)252 1362 A
1824(13)S
1530 V
(10512)210 648 A
(#define)294 1026 A
(DOWNLEFT)336 1362 A
1824(14)S
1620 V
(10513)210 648 A
(#define)294 1026 A
(CROSS)210 1362 A
1824(15)S
1710 V
(10514)210 648 A
(#define)294 1026 A
(UPLINE)252 1362 A
1824(16)S
1800 V
(10515)210 648 A
(#define)294 1026 A
(UPMIDLINE)378 1362 A
1824(17)S
1890 V
(10516)210 648 A
(#define)294 1026 A
(MIDLINE)294 1362 A
1824(18)S
1980 V
(10517)210 648 A
(#define)294 1026 A
(DOMIDLINE)378 1362 A
1824(19)S
2070 V
(10518)210 648 A
(#define)294 1026 A
(DOWNLINE)336 1362 A
1824(20)S
2160 V
(10519)210 648 A
(#define)294 1026 A
(TEELEFT)294 1362 A
1824(21)S
2250 V
(10520)210 648 A
(#define)294 1026 A
(TEERIGHT)336 1362 A
1824(22)S
2340 V
(10521)210 648 A
(#define)294 1026 A
(TEEHEAD)294 1362 A
1824(23)S
2430 V
(10522)210 648 A
(#define)294 1026 A
(TEENORMAL)378 1362 A
1824(24)S
2520 V
(10523)210 648 A
(#define)294 1026 A
(VERTLINE)336 1362 A
1824(25)S
2610 V
(10524)210 648 A
(#define)294 1026 A
(PARAGRAPH)378 1362 A
1824(26)S
2700 V
(10525)210 648 A
2790 V
(10526)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(_cursgraftable[27])756 1572 A
2370(=)S
2880 V
(10527)210 648 A
1026({)S
2970 V
(10528)210 648 A
('>',)168 1068 A
('<',)168 1278 A
('v',)168 1488 A
('\303',)168 1698 A
('#',)168 1908 A
(':',)168 2118 A
2328(')S
2412(',)S
('#',)168 2538 A
('+',)168 2748 A
('\\'',)210 2958 A
('#',)168 3210 A
('+',)168 3420 A
('+',)168 3630 A
3060 V
(10529)210 648 A
('+',)168 1068 A
('+',)168 1278 A
('+',)168 1488 A
('-',)168 1698 A
1908(')S
1992(',)S
('-',)168 2118 A
2328(')S
2412(',)S
('_',)168 2538 A
('+',)168 2748 A
('+',)168 2958 A
('+',)168 3168 A
('+',)168 3378 A
('|')126 3588 A
3150 V
(10530)210 648 A
1026(};)S
3240 V
(10531)210 648 A
(char)168 1026 A
(_cursident[28])588 1236 A
1866(=)S
("+,.-0ahI`fgjklmnopqrstuvwx\304";)1260 1950 A
3330 V
(10532)210 648 A
3420 V
(10533)210 648 A
(int)126 1026 A
(setterm\(type\))546 1194 A
3510 V
(10534)210 648 A
(char)168 1026 A
(*type;)252 1236 A
3600 V
(10535)210 648 A
1026({)S
3690 V
(10536)210 648 A
(unsigned)336 1110 A
(char)168 1488 A
(*ac;)168 1698 A
3780 V
(10537)210 648 A
(int)126 1110 A
1278(i;)S
3870 V
(10538)210 648 A
(#ifdef)252 1026 A
(TIOCGWINSZ)420 1320 A
3960 V
(10539)210 648 A
(struct)252 1110 A
(winsize)294 1404 A
(wsize;)252 1740 A
4050 V
(10540)210 648 A
(#endif)252 1026 A
4140 V
(10541)210 648 A
4230 V
(10542)210 648 A
1110(if)S
(\(tgetent\(termcap,)714 1236 A
(type\))210 1992 A
2244(!=)S
2370(1\))S
(return)252 2496 A
(ERR;)168 2790 A
4320 V
(10543)210 648 A
4410 V
(10544)210 648 A
(#ifdef)252 1026 A
(TIOCGWINSZ)420 1320 A
4500 V
(10545)210 648 A
1110(if)S
(\(ioctl\(0,)378 1236 A
(TIOCGWINSZ,)462 1656 A
(&wsize\))294 2160 A
2496(==)S
2622(0\))S
2748({)S
4590 V
(10546)210 648 A
(LINES)210 1362 A
1614(=)S
(wsize.ws_row)504 1698 A
2244(!=)S
2370(0)S
2454(?)S
(wsize.ws_row)504 2538 A
3084(:)S
(tgetnum\("li"\);)588 3168 A
4680 V
(10547)210 648 A
(COLS)168 1362 A
1572(=)S
(wsize.ws_col)504 1656 A
2202(!=)S
2328(0)S
2412(?)S
(wsize.ws_col)504 2496 A
3042(:)S
(tgetnum\("co"\);)588 3126 A
4770 V
(10548)210 648 A
1110(})S
(else)168 1194 A
1404({)S
4860 V
(10549)210 648 A
(#endif)252 1026 A
4950 V
(10550)210 648 A
(LINES)210 1362 A
1614(=)S
(tgetnum\("li"\);)588 1698 A
5040 V
(10551)210 648 A
(COLS)168 1362 A
1572(=)S
(tgetnum\("co"\);)588 1656 A
5130 V
(10552)210 648 A
(#ifdef)252 1026 A
(TIOCGWINSZ)420 1320 A
5220 V
(10553)210 648 A
1110(})S
5310 V
(10554)210 648 A
(#endif)252 1026 A
5400 V
(10555)210 648 A
(arp)126 1110 A
1278(=)S
(tc;)126 1362 A
5490 V
(10556)210 648 A
1110(cl)S
1236(=)S
(tgetstr\("cl",)546 1320 A
(&arp\);)252 1908 A
5580 V
(10557)210 648 A
1110(so)S
1236(=)S
(tgetstr\("so",)546 1320 A
(&arp\);)252 1908 A
5670 V
(10558)210 648 A
1110(se)S
1236(=)S
(tgetstr\("se",)546 1320 A
(&arp\);)252 1908 A
5760 V
(10559)210 648 A
1110(cm)S
1236(=)S
(tgetstr\("cm",)546 1320 A
(&arp\);)252 1908 A
5850 V
(10560)210 648 A
1110(mr)S
1236(=)S
(tgetstr\("mr",)546 1320 A
(&arp\);)252 1908 A
5940 V
(10561)210 648 A
1110(me)S
1236(=)S
(tgetstr\("me",)546 1320 A
(&arp\);)252 1908 A
6030 V
(10562)210 648 A
1110(mb)S
1236(=)S
(tgetstr\("mb",)546 1320 A
(&arp\);)252 1908 A
6120 V
(10563)210 648 A
1110(md)S
1236(=)S
(tgetstr\("md",)546 1320 A
(&arp\);)252 1908 A
6210 V
(10564)210 648 A
1110(us)S
1236(=)S
(tgetstr\("us",)546 1320 A
(&arp\);)252 1908 A
8418 V
EP
%%Page: 83 83
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1891(File:)S
(src/lib/curses/cursesio.c)1060 2124 A
12 B
4308(83)S
900 V
7 LST
(10565)210 648 A
1110(ue)S
1236(=)S
(tgetstr\("ue",)546 1320 A
(&arp\);)252 1908 A
990 V
(10566)210 648 A
1110(vi)S
1236(=)S
(tgetstr\("vi",)546 1320 A
(&arp\);)252 1908 A
1080 V
(10567)210 648 A
1110(ve)S
1236(=)S
(tgetstr\("ve",)546 1320 A
(&arp\);)252 1908 A
1170 V
(10568)210 648 A
1110(vs)S
1236(=)S
(tgetstr\("vs",)546 1320 A
(&arp\);)252 1908 A
1260 V
(10569)210 648 A
1110(as)S
1236(=)S
(tgetstr\("as",)546 1320 A
(&arp\);)252 1908 A
1350 V
(10570)210 648 A
1110(ae)S
1236(=)S
(tgetstr\("ae",)546 1320 A
(&arp\);)252 1908 A
1440 V
(10571)210 648 A
1110(ac)S
1236(=)S
(\(unsigned)378 1320 A
(char)168 1740 A
1950(*\))S
(tgetstr\("ac",)546 2076 A
(&arp\);)252 2664 A
1530 V
(10572)210 648 A
1110(bl)S
1236(=)S
(tgetstr\("bl",)546 1320 A
(&arp\);)252 1908 A
1620 V
(10573)210 648 A
1110(vb)S
1236(=)S
(tgetstr\("vb",)546 1320 A
(&arp\);)252 1908 A
1710 V
(10574)210 648 A
1800 V
(10575)210 648 A
1110(if)S
(\(ac\))168 1236 A
1446({)S
1890 V
(10576)210 648 A
(while)210 1362 A
(\(*ac\))210 1614 A
1866({)S
1980 V
(10577)210 648 A
1698(i)S
1782(=)S
1866(0;)S
2070 V
(10578)210 648 A
(while)210 1698 A
(\(*ac)168 1950 A
2160(!=)S
(_cursident[i]\))588 2286 A
(i++;)168 2916 A
2160 V
(10579)210 648 A
(_cursgraftable[i])714 1698 A
2454(=)S
(*++ac)210 2538 A
2790(|)S
(A_ALTCHARSET;)546 2874 A
2250 V
(10580)210 648 A
(ac++;)210 1698 A
2340 V
(10581)210 648 A
1362(})S
2430 V
(10582)210 648 A
1110(})S
2520 V
(10583)210 648 A
2610 V
(10584)210 648 A
(ACS_ULCORNER)504 1110 A
1656(=)S
(_cursgraftable[UPLEFT];)966 1740 A
2700 V
(10585)210 648 A
(ACS_LLCORNER)504 1110 A
1656(=)S
(_cursgraftable[DOWNLEFT];)1050 1740 A
2790 V
(10586)210 648 A
(ACS_URCORNER)504 1110 A
1656(=)S
(_cursgraftable[UPRIGHT];)1008 1740 A
2880 V
(10587)210 648 A
(ACS_LRCORNER)504 1110 A
1656(=)S
(_cursgraftable[DOWNRIGHT];)1092 1740 A
2970 V
(10588)210 648 A
(ACS_RTEE)336 1110 A
1488(=)S
(_cursgraftable[TEERIGHT];)1050 1572 A
3060 V
(10589)210 648 A
(ACS_LTEE)336 1110 A
1488(=)S
(_cursgraftable[TEELEFT];)1008 1572 A
3150 V
(10590)210 648 A
(ACS_BTEE)336 1110 A
1488(=)S
(_cursgraftable[TEEHEAD];)1008 1572 A
3240 V
(10591)210 648 A
(ACS_TTEE)336 1110 A
1488(=)S
(_cursgraftable[TEENORMAL];)1092 1572 A
3330 V
(10592)210 648 A
(ACS_HLINE)378 1110 A
1530(=)S
(_cursgraftable[MIDLINE];)1008 1614 A
3420 V
(10593)210 648 A
(ACS_VLINE)378 1110 A
1530(=)S
(_cursgraftable[VERTLINE];)1050 1614 A
3510 V
(10594)210 648 A
(ACS_PLUS)336 1110 A
1488(=)S
(_cursgraftable[CROSS];)924 1572 A
3600 V
(10595)210 648 A
(ACS_S1)252 1110 A
1404(=)S
(_cursgraftable[UPLINE];)966 1488 A
3690 V
(10596)210 648 A
(ACS_S9)252 1110 A
1404(=)S
(_cursgraftable[DOWNLINE];)1050 1488 A
3780 V
(10597)210 648 A
(ACS_DIAMOND)462 1110 A
1614(=)S
(_cursgraftable[DIAMOND];)1008 1698 A
3870 V
(10598)210 648 A
(ACS_CKBOARD)462 1110 A
1614(=)S
(_cursgraftable[GREYSQUARE];)1134 1698 A
3960 V
(10599)210 648 A
(ACS_DEGREE)420 1110 A
1572(=)S
(_cursgraftable[DEGREE];)966 1656 A
4050 V
(10600)210 648 A
(ACS_PLMINUS)462 1110 A
1614(=)S
(_cursgraftable[PLUSMINUS];)1092 1698 A
4140 V
(10601)210 648 A
(ACS_BULLET)420 1110 A
1572(=)S
('o';)168 1656 A
2370(/*)S
(where)210 2496 A
(the)126 2748 A
(hell)168 2916 A
3126(is)S
3252(a)S
(bullet)252 3336 A
(defined)294 3630 A
3966(in)S
4230 V
(10602)210 648 A
2076(*)S
(termcap)294 2160 A
(???)126 2496 A
2664(*/)S
4320 V
(10603)210 648 A
(ACS_LARROW)420 1110 A
1572(=)S
(_cursgraftable[LEFTARROW];)1092 1656 A
4410 V
(10604)210 648 A
(ACS_RARROW)420 1110 A
1572(=)S
(_cursgraftable[RIGHTARROW];)1134 1656 A
4500 V
(10605)210 648 A
(ACS_DARROW)420 1110 A
1572(=)S
(_cursgraftable[DOWNARROW];)1092 1656 A
4590 V
(10606)210 648 A
(ACS_UARROW)420 1110 A
1572(=)S
(_cursgraftable[UPARROW];)1008 1656 A
4680 V
(10607)210 648 A
(ACS_BOARD)378 1110 A
1530(=)S
(_cursgraftable[EMPTYSQUARE];)1176 1614 A
4770 V
(10608)210 648 A
(ACS_LANTERN)462 1110 A
1614(=)S
(_cursgraftable[LATERN];)966 1698 A
4860 V
(10609)210 648 A
(ACS_BLOCK)378 1110 A
1530(=)S
(_cursgraftable[FULLSQUARE];)1134 1614 A
4950 V
(10610)210 648 A
1110(/*)S
(Wow,)168 1236 A
1446(I)S
(got)126 1530 A
(it!)126 1698 A
1866(*/)S
5040 V
(10611)210 648 A
(return)252 1110 A
(OK;)126 1404 A
5130 V
(10612)210 648 A
1026(})S
5310 V
(10614)210 648 A
(void)168 1026 A
(gettmode\(\))420 1236 A
5400 V
(10615)210 648 A
1026({)S
5490 V
(10616)210 648 A
(tcgetattr\(0,)504 1110 A
(&_orig_tty\);)504 1656 A
5580 V
(10617)210 648 A
(tcgetattr\(0,)504 1110 A
(&_tty\);)294 1656 A
5670 V
(10618)210 648 A
(_cursvar.echoit)630 1110 A
1782(=)S
(\(_tty.c_lflag)546 1866 A
2454(&)S
(ECHO\))210 2538 A
2790(!=)S
2916(0;)S
5760 V
(10619)210 648 A
(_cursvar.rawmode)672 1110 A
1824(=)S
(\(_tty.c_lflag)546 1908 A
2496(&)S
(\(ICANON|ISIG\)\))588 2580 A
3210(==)S
3336(0;)S
5850 V
(10620)210 648 A
(_cursvar.cbrkmode)714 1110 A
1866(=)S
(\(_tty.c_lflag)546 1950 A
2538(&)S
(\(ICANON|ISIG\)\))588 2622 A
3252(==)S
(ISIG;)210 3378 A
5940 V
(10621)210 648 A
(NONL)168 1110 A
1320(=)S
(\(_tty.c_iflag)546 1404 A
1992(&)S
(ICRNL\))252 2076 A
2370(!=)S
2496(0;)S
6030 V
(10622)210 648 A
1026(})S
8418 V
EP
%%Page: 84 84
BP
/slant 0 def
/height 0 def
630 V
12 B
648(84)S
11 R
1910(File:)S
(src/lib/curses/endwin.c)1022 2143 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/endwin.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(10700)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(10701)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(10702)210 648 A
(#include)336 1026 A
(<termcap.h>)462 1404 A
1620 V
(10703)210 648 A
1710 V
(10704)210 648 A
(int)126 1026 A
(endwin\(\))336 1194 A
1800 V
(10705)210 648 A
1026({)S
1890 V
(10706)210 648 A
(extern)252 1110 A
(char)168 1404 A
(*me;)168 1614 A
1980 V
(10707)210 648 A
2070 V
(10708)210 648 A
(curs_set\(1\);)504 1110 A
2160 V
(10709)210 648 A
(poscur\(LINES)504 1110 A
1656(-)S
1740(1,)S
(0\);)126 1866 A
2250 V
(10710)210 648 A
(refresh\(\);)420 1110 A
2340 V
(10711)210 648 A
(tputs\(me,)378 1110 A
1530(1,)S
(outc\);)252 1656 A
2430 V
(10712)210 648 A
(delwin\(stdscr\);)630 1110 A
2520 V
(10713)210 648 A
(delwin\(curscr\);)630 1110 A
2610 V
(10714)210 648 A
(delwin\(_cursvar.tmpwin\);)1008 1110 A
2700 V
(10715)210 648 A
(resetty\(\);)420 1110 A
2790 V
(10716)210 648 A
(return\(OK\);)462 1110 A
2880 V
(10717)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/curses/flash.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(10800)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
3690 V
(10801)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
3780 V
(10802)210 648 A
(#include)336 1026 A
(<termcap.h>)462 1404 A
3870 V
(10803)210 648 A
3960 V
(10804)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*bl,)168 1530 A
(*vb;)168 1740 A
4050 V
(10805)210 648 A
4140 V
(10806)210 648 A
1026(/*)S
(Flash\(\))294 1152 A
(flashes)294 1488 A
(the)126 1824 A
(terminal)336 1992 A
(screen.)294 2370 A
2706(*/)S
4230 V
(10807)210 648 A
(void)168 1026 A
(flash\(\))294 1236 A
4320 V
(10808)210 648 A
1026({)S
4410 V
(10809)210 648 A
1110(if)S
(\(vb\))168 1236 A
4500 V
(10810)210 648 A
(tputs\(vb,)378 1362 A
1782(1,)S
(outc\);)252 1908 A
4590 V
(10811)210 648 A
(else)168 1110 A
1320(if)S
(\(bl\))168 1446 A
4680 V
(10812)210 648 A
(tputs\(bl,)378 1362 A
1782(1,)S
(outc\);)252 1908 A
4770 V
(10813)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/curses/initscr.c)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(10900)210 648 A
1026(/*)S
(initscr.c)378 1152 A
1572(-)S
(initialize)420 1656 A
(the)126 2118 A
(curses)252 2286 A
(library)294 2580 A
2916(*/)S
5490 V
(10901)210 648 A
5580 V
(10902)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5670 V
(10903)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
5760 V
(10904)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
5850 V
(10905)210 648 A
5940 V
(10906)210 648 A
(WINDOW)252 1026 A
(*initscr\(\))420 1320 A
6030 V
(10907)210 648 A
1026({)S
6120 V
(10908)210 648 A
(char)168 1110 A
(*term;)252 1320 A
6210 V
(10909)210 648 A
8418 V
EP
%%Page: 85 85
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1934(File:)S
(src/lib/curses/initscr.c)974 2167 A
12 B
4308(85)S
900 V
7 LST
(10910)210 648 A
1110(if)S
(\(\(term)252 1236 A
1530(=)S
(getenv\("TERM"\)\))630 1614 A
2286(==)S
(NULL\))210 2412 A
(return)252 2664 A
(NULL;)210 2958 A
990 V
(10911)210 648 A
(setterm\(term\);)588 1110 A
1080 V
(10912)210 648 A
(gettmode\(\);)462 1110 A
1170 V
(10913)210 648 A
1110(if)S
(\(\(_cursvar.tmpwin)714 1236 A
1992(=)S
(newwin\(LINES,)546 2076 A
(COLS,)210 2664 A
2916(0,)S
(0\)\))126 3042 A
3210(==)S
(NULL\))210 3336 A
(return)252 3588 A
(NULL;)210 3882 A
1260 V
(10914)210 648 A
1110(if)S
(\(\(curscr)336 1236 A
1614(=)S
(newwin\(LINES,)546 1698 A
(COLS,)210 2286 A
2538(0,)S
(0\)\))126 2664 A
2832(==)S
(NULL\))210 2958 A
(return)252 3210 A
(NULL;)210 3504 A
1350 V
(10915)210 648 A
1110(if)S
(\(\(stdscr)336 1236 A
1614(=)S
(newwin\(LINES,)546 1698 A
(COLS,)210 2286 A
2538(0,)S
(0\)\))126 2664 A
2832(==)S
(NULL\))210 2958 A
(return)252 3210 A
(NULL;)210 3504 A
1440 V
(10916)210 648 A
(clearok\(curscr,)630 1110 A
(TRUE\);)252 1782 A
1530 V
(10917)210 648 A
(return\(stdscr\);)630 1110 A
1620 V
(10918)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/curses/longname.c)1050 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(11000)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
2340 V
(11001)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
2430 V
(11002)210 648 A
2520 V
(11003)210 648 A
(/****************************************************************/)2772 1026 A
2610 V
(11004)210 648 A
1026(/*)S
(Longname\(\))420 1152 A
(returns)294 1614 A
1950(a)S
(pointer)294 2034 A
2370(to)S
2496(a)S
(string)252 2580 A
(describing)420 2874 A
(the)126 3336 A
3714(*/)S
2700 V
(11005)210 648 A
1026(/*)S
(User)168 1152 A
(terminal.)378 1362 A
3714(*/)S
2790 V
(11006)210 648 A
(/****************************************************************/)2772 1026 A
2880 V
(11007)210 648 A
2970 V
(11008)210 648 A
(char)168 1026 A
(*longname\(\))462 1236 A
3060 V
(11009)210 648 A
1026({)S
3150 V
(11010)210 648 A
(return\("not)462 1110 A
(implemented"\);)588 1614 A
3240 V
(11011)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/curses/move.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(11100)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4140 V
(11101)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4230 V
(11102)210 648 A
4320 V
(11103)210 648 A
(/****************************************************************/)2772 1026 A
4410 V
(11104)210 648 A
1026(/*)S
(Wmove\(\))294 1152 A
(moves)210 1488 A
(the)126 1740 A
(cursor)252 1908 A
2202(in)S
(window)252 2328 A
('win')210 2622 A
2874(to)S
(position)336 3000 A
(\(x,y\).)252 3378 A
3714(*/)S
4500 V
(11105)210 648 A
(/****************************************************************/)2772 1026 A
4590 V
(11106)210 648 A
4680 V
(11107)210 648 A
(int)126 1026 A
(wmove\(win,)420 1194 A
1656(y,)S
1782(x\))S
4770 V
(11108)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
4860 V
(11109)210 648 A
(int)126 1026 A
1194(y;)S
4950 V
(11110)210 648 A
(int)126 1026 A
1194(x;)S
5040 V
(11111)210 648 A
1026({)S
5130 V
(11112)210 648 A
1110(if)S
(\(\(x<0\))252 1236 A
1530(||)S
(\(x>win->_maxx\))588 1656 A
2286(||)S
(\(y<win->_regtop\))672 2412 A
3126(||)S
(\(y>win->_regbottom\)\))840 3252 A
5220 V
(11113)210 648 A
(return\(ERR\);)504 1362 A
5310 V
(11114)210 648 A
(win->_curx)420 1110 A
1572(=)S
1656(x;)S
5400 V
(11115)210 648 A
(win->_cury)420 1110 A
1572(=)S
1656(y;)S
5490 V
(11116)210 648 A
(return\(OK\);)462 1110 A
5580 V
(11117)210 648 A
1026(})S
8418 V
EP
%%Page: 86 86
BP
/slant 0 def
/height 0 def
630 V
12 B
648(86)S
11 R
1864(File:)S
(src/lib/curses/mvcursor.c)1114 2097 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/mvcursor.c)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(11200)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(11201)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(11202)210 648 A
1620 V
(11203)210 648 A
(/****************************************************************/)2772 1026 A
1710 V
(11204)210 648 A
1026(/*)S
(Mvcur\(oldy,oldx,newy,newx\))1092 1152 A
(the)126 2286 A
(display)294 2454 A
(cursor)252 2790 A
3084(to)S
(<newy,newx>)462 3210 A
3714(*/)S
1800 V
(11205)210 648 A
(/****************************************************************/)2772 1026 A
1890 V
(11206)210 648 A
1980 V
(11207)210 648 A
(int)126 1026 A
(mvcur\(oldy,)462 1194 A
(oldx,)210 1698 A
(newy,)210 1950 A
(newx\))210 2202 A
2070 V
(11208)210 648 A
(int)126 1026 A
(oldy;)210 1194 A
2160 V
(11209)210 648 A
(int)126 1026 A
(oldx;)210 1194 A
2250 V
(11210)210 648 A
(int)126 1026 A
(newy;)210 1194 A
2340 V
(11211)210 648 A
(int)126 1026 A
(newx;)210 1194 A
2430 V
(11212)210 648 A
1026({)S
2520 V
(11213)210 648 A
1110(if)S
(\(\(newy)252 1236 A
1530(>=)S
(LINES\))252 1656 A
1950(||)S
(\(newx)210 2076 A
2328(>=)S
(COLS\))210 2454 A
2706(||)S
(\(newy)210 2832 A
3084(<)S
3168(0\))S
3294(||)S
(\(newx)210 3420 A
3672(<)S
(0\)\))126 3756 A
2610 V
(11214)210 648 A
(return\(ERR\);)504 1362 A
2700 V
(11215)210 648 A
(poscur\(newy,)504 1110 A
(newx\);)252 1656 A
2790 V
(11216)210 648 A
(_cursvar.cursrow)672 1110 A
1824(=)S
(newy;)210 1908 A
2880 V
(11217)210 648 A
(_cursvar.curscol)672 1110 A
1824(=)S
(newx;)210 1908 A
2970 V
(11218)210 648 A
(return\(OK\);)462 1110 A
3060 V
(11219)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/curses/newwin.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(11300)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4140 V
(11301)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4230 V
(11302)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4320 V
(11303)210 648 A
4410 V
(11304)210 648 A
(/****************************************************************/)2772 1026 A
4500 V
(11305)210 648 A
1026(/*)S
(Makenew\(\))378 1152 A
(allocates)378 1572 A
(all)126 1992 A
(data)168 2160 A
(for)126 2370 A
2538(a)S
(new)126 2622 A
(window)252 2790 A
(except)252 3084 A
(the)126 3378 A
3714(*/)S
4590 V
(11306)210 648 A
1026(/*)S
(Actual)252 1152 A
(lines)210 1446 A
(themselves.)462 1698 A
3714(*/)S
4680 V
(11307)210 648 A
(/****************************************************************/)2772 1026 A
4770 V
(11308)210 648 A
4860 V
(11309)210 648 A
(_PROTOTYPE\(static)714 1026 A
(WINDOW)252 1782 A
(*makenew,)378 2076 A
(\(int)168 2496 A
(nlines,)294 2706 A
(int)126 3042 A
(ncols,)252 3210 A
(int)126 3504 A
(begy,int)336 3672 A
(begx\)\);)294 4050 A
4950 V
(11310)210 648 A
5040 V
(11311)210 648 A
(static)252 1026 A
(WINDOW)252 1320 A
(*makenew\(num_lines,)798 1614 A
(num_columns,)504 2454 A
(begy,)210 3000 A
(begx\))210 3252 A
5130 V
(11312)210 648 A
(int)126 1026 A
(num_lines,)420 1194 A
(num_columns,)504 1656 A
(begy,)210 2202 A
(begx;)210 2454 A
5220 V
(11313)210 648 A
1026({)S
5310 V
(11314)210 648 A
(int)126 1110 A
1278(i;)S
5400 V
(11315)210 648 A
(WINDOW)252 1110 A
(*win;)210 1404 A
5490 V
(11316)210 648 A
5580 V
(11317)210 648 A
1110(/*)S
(Allocate)336 1236 A
(the)126 1614 A
(window)252 1782 A
(structure)378 2076 A
(itself)252 2496 A
2790(*/)S
5670 V
(11318)210 648 A
1110(if)S
(\(\(win)210 1236 A
1488(=)S
(\(WINDOW)294 1572 A
1908(*\))S
(malloc\(sizeof\(WINDOW\)\)\))966 2034 A
3042(==)S
(NULL\))210 3168 A
5760 V
(11319)210 648 A
(return\(\(WINDOW)588 1362 A
1992(*\))S
(ERR\);)210 2118 A
5850 V
(11320)210 648 A
5940 V
(11321)210 648 A
1110(/*)S
(Allocate)336 1236 A
(the)126 1614 A
(line)168 1782 A
(pointer)294 1992 A
(array)210 2328 A
2580(*/)S
6030 V
(11322)210 648 A
1110(if)S
(\(\(win->_line)504 1236 A
1782(=)S
(\(int)168 1866 A
(**\))126 2076 A
(calloc\(num_lines,)714 2244 A
(sizeof\(int)420 3000 A
(*\)\)\))168 3462 A
3672(==)S
(NULL\))210 3798 A
4050({)S
6120 V
(11323)210 648 A
(free\(win\);)420 1362 A
6210 V
(11324)210 648 A
(return\(\(WINDOW)588 1362 A
1992(*\))S
(ERR\);)210 2118 A
8418 V
EP
%%Page: 87 87
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1898(File:)S
(src/lib/curses/newwin.c)1047 2131 A
12 B
4308(87)S
900 V
7 LST
(11325)210 648 A
1110(})S
990 V
(11326)210 648 A
1080 V
(11327)210 648 A
1110(/*)S
(Allocate)336 1236 A
(the)126 1614 A
(minchng)294 1782 A
(and)126 2118 A
(maxchng)294 2286 A
(arrays)252 2622 A
2916(*/)S
1170 V
(11328)210 648 A
1110(if)S
(\(\(win->_minchng)630 1236 A
1908(=)S
(\(int)168 1992 A
2202(*\))S
(calloc\(num_lines,)714 2328 A
(sizeof\(int\)\)\))546 3084 A
3672(==)S
(NULL\))210 3798 A
4050({)S
1260 V
(11329)210 648 A
(free\(win\);)420 1362 A
1350 V
(11330)210 648 A
(free\(win->_line\);)714 1362 A
1440 V
(11331)210 648 A
(return\(\(WINDOW)588 1362 A
1992(*\))S
(ERR\);)210 2118 A
1530 V
(11332)210 648 A
1110(})S
1620 V
(11333)210 648 A
1110(if)S
(\(\(win->_maxchng)630 1236 A
1908(=)S
(\(int)168 1992 A
2202(*\))S
(calloc\(num_lines,)714 2328 A
(sizeof\(int\)\)\))546 3084 A
3672(==)S
(NULL\))210 3798 A
4050({)S
1710 V
(11334)210 648 A
(free\(win\);)420 1362 A
1800 V
(11335)210 648 A
(free\(win->_line\);)714 1362 A
1890 V
(11336)210 648 A
(free\(win->_minchng\);)840 1362 A
1980 V
(11337)210 648 A
(return\(\(WINDOW)588 1362 A
1992(*\))S
(ERR\);)210 2118 A
2070 V
(11338)210 648 A
1110(})S
2160 V
(11339)210 648 A
2250 V
(11340)210 648 A
1110(/*)S
(Initialize)420 1236 A
(window)252 1698 A
(variables)378 1992 A
2412(*/)S
2340 V
(11341)210 648 A
(win->_curx)420 1110 A
1572(=)S
1656(0;)S
2430 V
(11342)210 648 A
(win->_cury)420 1110 A
1572(=)S
1656(0;)S
2520 V
(11343)210 648 A
(win->_maxy)420 1110 A
1572(=)S
(num_lines)378 1656 A
2076(-)S
2160(1;)S
2610 V
(11344)210 648 A
(win->_maxx)420 1110 A
1572(=)S
(num_columns)462 1656 A
2160(-)S
2244(1;)S
2700 V
(11345)210 648 A
(win->_begy)420 1110 A
1572(=)S
(begy;)210 1656 A
2790 V
(11346)210 648 A
(win->_begx)420 1110 A
1572(=)S
(begx;)210 1656 A
2880 V
(11347)210 648 A
(win->_flags)462 1110 A
1614(=)S
1698(0;)S
2970 V
(11348)210 648 A
(win->_attrs)462 1110 A
1614(=)S
(ATR_NRM;)336 1698 A
3060 V
(11349)210 648 A
(win->_tabsize)546 1110 A
1698(=)S
1782(8;)S
3150 V
(11350)210 648 A
(win->_clear)462 1110 A
1614(=)S
(FALSE;)252 1698 A
3240 V
(11351)210 648 A
(win->_leave)462 1110 A
1614(=)S
(FALSE;)252 1698 A
3330 V
(11352)210 648 A
(win->_scroll)504 1110 A
1656(=)S
(FALSE;)252 1740 A
3420 V
(11353)210 648 A
(win->_nodelay)546 1110 A
1698(=)S
(FALSE;)252 1782 A
3510 V
(11354)210 648 A
(win->_keypad)504 1110 A
1656(=)S
(FALSE;)252 1740 A
3600 V
(11355)210 648 A
(win->_regtop)504 1110 A
1656(=)S
1740(0;)S
3690 V
(11356)210 648 A
(win->_regbottom)630 1110 A
1782(=)S
(num_lines)378 1866 A
2286(-)S
2370(1;)S
3780 V
(11357)210 648 A
3870 V
(11358)210 648 A
1110(/*)S
(Init)168 1236 A
1446(to)S
(say)126 1572 A
(window)252 1740 A
(unchanged)378 2034 A
2454(*/)S
3960 V
(11359)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(num_lines;)420 1782 A
(i++\))168 2244 A
2454({)S
4050 V
(11360)210 648 A
(win->_minchng[i])672 1362 A
2076(=)S
2160(0;)S
4140 V
(11361)210 648 A
(win->_maxchng[i])672 1362 A
2076(=)S
(num_columns)462 2160 A
2664(-)S
2748(1;)S
4230 V
(11362)210 648 A
1110(})S
4320 V
(11363)210 648 A
4410 V
(11364)210 648 A
1110(/*)S
(Set)126 1236 A
(flags)210 1404 A
(for)126 1656 A
(window)252 1824 A
(properties)420 2118 A
2580(*/)S
4500 V
(11365)210 648 A
1110(if)S
(\(\(begy)252 1236 A
1530(+)S
(num_lines\))420 1614 A
2076(==)S
(LINES\))252 2202 A
2496({)S
4590 V
(11366)210 648 A
(win->_flags)462 1362 A
1866(|=)S
(_ENDLINE;)378 1992 A
4680 V
(11367)210 648 A
1362(if)S
(\(\(begx)252 1488 A
1782(==)S
1908(0\))S
2034(&&)S
(\(num_columns)504 2160 A
2706(==)S
(COLS\))210 2832 A
3084(&&)S
(\(begy)210 3210 A
3462(==)S
(0\)\))126 3588 A
4770 V
(11368)210 648 A
(win->_flags)462 1698 A
2202(|=)S
(_FULLWIN;)378 2328 A
4860 V
(11369)210 648 A
1110(})S
2370(/*)S
2496(if)S
2622(*/)S
4950 V
(11370)210 648 A
1110(if)S
(\(\(\(begy)294 1236 A
1572(+)S
(num_lines\))420 1656 A
2118(==)S
(LINES\))252 2244 A
2538(&&)S
(\(\(begx)252 2664 A
2958(+)S
(num_columns\))504 3042 A
3588(==)S
(COLS\)\))252 3714 A
5040 V
(11371)210 648 A
(win->_flags)462 1362 A
1866(|=)S
(_SCROLLWIN;)462 1992 A
5130 V
(11372)210 648 A
(return\(win\);)504 1110 A
5220 V
(11373)210 648 A
1026(})S
5490 V
(11376)210 648 A
(/****************************************************************/)2772 1026 A
5580 V
(11377)210 648 A
1026(/*)S
(Newwin\(\))336 1152 A
(creates)294 1530 A
1866(a)S
(new)126 1950 A
(window)252 2118 A
(with)168 2412 A
(size)168 2622 A
(num_lines)378 2832 A
3252(*)S
(num_co-)294 3336 A
3714(*/)S
5670 V
(11378)210 648 A
1026(/*)S
(Lumns,)252 1152 A
(and)126 1446 A
(origin)252 1614 A
(begx,begy)378 1908 A
(relative)336 2328 A
2706(to)S
(the)126 2832 A
(SCREEN.)294 3000 A
(Special)294 3336 A
3714(*/)S
5760 V
(11379)210 648 A
1026(/*)S
(Case:)210 1152 A
1404(if)S
(num_lines)378 1530 A
(and/or)252 1950 A
(num_columns)462 2244 A
2748(is)S
2874(0,)S
(the)126 3000 A
(remainder)378 3168 A
3588(of)S
3714(*/)S
5850 V
(11380)210 648 A
1026(/*)S
(The)126 1152 A
(screen)252 1320 A
1614(is)S
(used.)210 1740 A
3714(*/)S
5940 V
(11381)210 648 A
(/****************************************************************/)2772 1026 A
6030 V
(11382)210 648 A
(WINDOW)252 1026 A
(*newwin\(num_lines,)756 1320 A
(num_columns,)504 2118 A
(begy,)210 2664 A
(begx\))210 2916 A
6120 V
(11383)210 648 A
(int)126 1026 A
(num_lines,)420 1194 A
(num_columns,)504 1656 A
(begy,)210 2202 A
(begx;)210 2454 A
6210 V
(11384)210 648 A
1026({)S
8418 V
EP
%%Page: 88 88
BP
/slant 0 def
/height 0 def
630 V
12 B
648(88)S
11 R
1898(File:)S
(src/lib/curses/newwin.c)1047 2131 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(11385)210 648 A
(WINDOW)252 1110 A
(*win;)210 1404 A
990 V
(11386)210 648 A
(int)126 1110 A
(*ptr;)210 1278 A
1080 V
(11387)210 648 A
(int)126 1110 A
1278(i,)S
1404(j;)S
1170 V
(11388)210 648 A
1260 V
(11389)210 648 A
1110(if)S
(\(num_lines)420 1236 A
1698(==)S
1824(0\))S
(num_lines)378 1950 A
2370(=)S
(LINES)210 2454 A
2706(-)S
(begy;)210 2790 A
1350 V
(11390)210 648 A
1110(if)S
(\(num_columns)504 1236 A
1782(==)S
1908(0\))S
(num_columns)462 2034 A
2538(=)S
(COLS)168 2622 A
2832(-)S
(begx;)210 2916 A
1440 V
(11391)210 648 A
1110(if)S
(\(\(win)210 1236 A
1488(=)S
(makenew\(num_lines,)756 1572 A
(num_columns,)504 2370 A
(begy,)210 2916 A
(begx\)\))252 3168 A
3462(==)S
(\(WINDOW)294 3588 A
3924(*\))S
(ERR\))168 4050 A
1530 V
(11392)210 648 A
(return\(\(WINDOW)588 1362 A
1992(*\))S
(ERR\);)210 2118 A
1620 V
(11393)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(num_lines;)420 1782 A
(i++\))168 2244 A
2454({)S
2706(/*)S
(make)168 2832 A
(and)126 3042 A
(clear)210 3210 A
(the)126 3462 A
(lines)210 3630 A
3882(*/)S
1710 V
(11394)210 648 A
1362(if)S
(\(\(win->_line[i])630 1488 A
2160(=)S
(\(int)168 2244 A
(*\)calloc\(num_columns,)882 2454 A
(sizeof\(int\)\)\))546 3378 A
3966(==)S
(NULL\){)252 4092 A
1800 V
(11395)210 648 A
(for)126 1698 A
1866(\(j)S
1992(=)S
2076(0;)S
2202(j)S
2286(<)S
2370(i;)S
(j++\))168 2496 A
2706(/*)S
2832(if)S
(error,)252 2958 A
(free)168 3252 A
(all)126 3462 A
(the)126 3630 A
(data)168 3798 A
4008(*/)S
1890 V
(11396)210 648 A
(free\(win->_line[j]\);)840 2034 A
1980 V
(11397)210 648 A
(free\(win->_minchng\);)840 1698 A
2070 V
(11398)210 648 A
(free\(win->_maxchng\);)840 1698 A
2160 V
(11399)210 648 A
(free\(win->_line\);)714 1698 A
2250 V
(11400)210 648 A
(free\(win\);)420 1698 A
2340 V
(11401)210 648 A
(return\(\(WINDOW)588 1698 A
2328(*\))S
(ERR\);)210 2454 A
2430 V
(11402)210 648 A
1362(})S
(else)168 1446 A
1656({)S
2520 V
(11403)210 648 A
(for)126 1698 A
(\(ptr)168 1866 A
2076(=)S
(win->_line[i];)588 2160 A
(ptr)126 2790 A
2958(<)S
(win->_line[i])546 3042 A
3630(+)S
(num_columns;\))546 3714 A
2610 V
(11404)210 648 A
(*ptr++)252 2034 A
2328(=)S
2412(')S
2496(')S
2580(|)S
(ATR_NRM;)336 2664 A
2700 V
(11405)210 648 A
1362(})S
2790 V
(11406)210 648 A
1110(})S
2880 V
(11407)210 648 A
(return\(win\);)504 1110 A
2970 V
(11408)210 648 A
1026(})S
3240 V
(11411)210 648 A
(/****************************************************************/)2772 1026 A
3330 V
(11412)210 648 A
1026(/*)S
(Subwin\(\))336 1152 A
(creates)294 1530 A
1866(a)S
(sub-window)420 1950 A
2412(in)S
(the)126 2538 A
('orig')252 2706 A
(window,)294 3000 A
(with)168 3336 A
3714(*/)S
3420 V
(11413)210 648 A
1026(/*)S
(Size)168 1152 A
(num_lines)378 1362 A
1782(*)S
(num_columns,)504 1866 A
(and)126 2412 A
(with)168 2580 A
(origin)252 2790 A
(begx,)210 3084 A
(begy)168 3336 A
3714(*/)S
3510 V
(11414)210 648 A
1026(/*)S
(Relative)336 1152 A
1530(to)S
(the)126 1656 A
(SCREEN.)294 1824 A
(Special)294 2160 A
(case:)210 2496 A
2748(if)S
(num_lines)378 2874 A
(and/or)252 3294 A
3714(*/)S
3600 V
(11415)210 648 A
1026(/*)S
(Num_columns)462 1152 A
1656(is)S
1782(0,)S
(the)126 1908 A
(remainder)378 2076 A
2496(of)S
(the)126 2622 A
(original)336 2790 A
(window)252 3168 A
3462(is)S
3714(*/)S
3690 V
(11416)210 648 A
1026(/*)S
(Used.)210 1152 A
(The)126 1404 A
(subwindow)378 1572 A
(uses)168 1992 A
(the)126 2202 A
(original)336 2370 A
(window's)336 2748 A
(line)168 3126 A
(buffers)294 3336 A
3714(*/)S
3780 V
(11417)210 648 A
1026(/*)S
1152(To)S
(store)210 1278 A
(it's)168 1530 A
(own)126 1740 A
(lines.)252 1908 A
3714(*/)S
3870 V
(11418)210 648 A
(/****************************************************************/)2772 1026 A
3960 V
(11419)210 648 A
(WINDOW)252 1026 A
(*subwin\(orig,)546 1320 A
(num_lines,)420 1908 A
(num_columns,)504 2370 A
(begy,)210 2916 A
(begx\))210 3168 A
4050 V
(11420)210 648 A
(WINDOW)252 1026 A
(*orig;)252 1320 A
4140 V
(11421)210 648 A
(int)126 1026 A
(num_lines,)420 1194 A
(num_columns,)504 1656 A
(begy,)210 2202 A
(begx;)210 2454 A
4230 V
(11422)210 648 A
1026({)S
4320 V
(11423)210 648 A
(WINDOW)252 1110 A
(*win;)210 1404 A
4410 V
(11424)210 648 A
(int)126 1110 A
1278(i,)S
1404(j,)S
1530(k;)S
4500 V
(11425)210 648 A
4590 V
(11426)210 648 A
1110(/*)S
(Make)168 1236 A
(sure)168 1446 A
(window)252 1656 A
(fits)168 1950 A
(inside)252 2160 A
(the)126 2454 A
(original)336 2622 A
(one)126 3000 A
3168(*/)S
4680 V
(11427)210 648 A
1110(if)S
(\(begy)210 1236 A
1488(<)S
(orig->_begy)462 1572 A
2076(||)S
(begx)168 2202 A
2412(<)S
(orig->_begx)462 2496 A
3000(||)S
4770 V
(11428)210 648 A
(\(begy)210 1950 A
2202(+)S
(num_lines\))420 2286 A
2748(>)S
(\(orig->_begy)504 2832 A
3378(+)S
(orig->_maxy\))504 3462 A
4008(||)S
4860 V
(11429)210 648 A
(\(begx)210 1950 A
2202(+)S
(num_columns\))504 2286 A
2832(>)S
(\(orig->_begx)504 2916 A
3462(+)S
(orig->_maxx\))504 3546 A
4092(\))S
4950 V
(11430)210 648 A
(return\(\(WINDOW)588 1362 A
1992(*\))S
(ERR\);)210 2118 A
5040 V
(11431)210 648 A
5130 V
(11432)210 648 A
1110(if)S
(\(num_lines)420 1236 A
1698(==)S
1824(0\))S
(num_lines)378 1950 A
2370(=)S
(orig->_maxy)462 2454 A
2958(-)S
(\(begy)210 3042 A
3294(-)S
(orig->_begy\);)546 3378 A
5220 V
(11433)210 648 A
1110(if)S
(\(num_columns)504 1236 A
1782(==)S
1908(0\))S
(num_columns)462 2034 A
2538(=)S
(orig->_maxx)462 2622 A
3126(-)S
(\(begx)210 3210 A
3462(-)S
(orig->_begx\);)546 3546 A
5310 V
(11434)210 648 A
1110(if)S
(\(\(win)210 1236 A
1488(=)S
(makenew\(num_lines,)756 1572 A
(num_columns,)504 2370 A
(begy,)210 2916 A
(begx\)\))252 3168 A
3462(==)S
(\(WINDOW)294 3588 A
3924(*\))S
(ERR\))168 4050 A
5400 V
(11435)210 648 A
(return\(\(WINDOW)588 1362 A
1992(*\))S
(ERR\);)210 2118 A
5490 V
(11436)210 648 A
5580 V
(11437)210 648 A
1110(/*)S
(Set)126 1236 A
(line)168 1404 A
(pointers)336 1614 A
(the)126 1992 A
(same)168 2160 A
2370(as)S
2496(in)S
(the)126 2622 A
(original)336 2790 A
(window)252 3168 A
3462(*/)S
5670 V
(11438)210 648 A
1110(j)S
1194(=)S
(begy)168 1278 A
1488(-)S
(orig->_begy;)504 1572 A
5760 V
(11439)210 648 A
1110(k)S
1194(=)S
(begx)168 1278 A
1488(-)S
(orig->_begx;)504 1572 A
5850 V
(11440)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(num_lines;)420 1782 A
(i++\))168 2244 A
(win->_line[i])546 2454 A
3042(=)S
(\(orig->_line[j++]\))756 3126 A
3924(+)S
4008(k;)S
5940 V
(11441)210 648 A
(win->_flags)462 1110 A
1614(|=)S
(_SUBWIN;)336 1740 A
6030 V
(11442)210 648 A
(return\(win\);)504 1110 A
6120 V
(11443)210 648 A
1026(})S
8418 V
EP
%%Page: 89 89
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1911(File:)S
(src/lib/curses/options.c)1021 2144 A
12 B
4308(89)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/options.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(11500)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(11501)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(11502)210 648 A
1620 V
(11503)210 648 A
(static)252 1026 A
(bool)168 1320 A
(hasold)252 1530 A
1824(=)S
(FALSE;)252 1908 A
2370(/*)S
(for)126 2496 A
(remembering)462 2664 A
(old)126 3168 A
(cursor)252 3336 A
(type)168 3630 A
3840(*/)S
1710 V
(11504)210 648 A
(static)252 1026 A
(int)126 1320 A
(oldmode;)336 1488 A
1800 V
(11505)210 648 A
1890 V
(11506)210 648 A
(/****************************************************************/)2772 1026 A
1980 V
(11507)210 648 A
1026(/*)S
(Idlok\(\))294 1152 A
1488(is)S
(used)168 1614 A
1824(to)S
(set)126 1950 A
(flag)168 2160 A
(for)126 2370 A
(using)210 2538 A
(the)126 2790 A
(terminal)336 2958 A
(insert/)294 3336 A
3714(*/)S
2070 V
(11508)210 648 A
1026(/*)S
(Delete)252 1152 A
(line)168 1446 A
(capabilities.)546 1656 A
(This)168 2244 A
2454(is)S
(not)126 2580 A
(relevant)336 2748 A
(for)126 3126 A
(the)126 3294 A
3462(PC)S
3714(*/)S
2160 V
(11509)210 648 A
1026(/*)S
(Version)294 1152 A
1488(of)S
(curses,)294 1614 A
(and)126 1950 A
(thus)168 2118 A
(nothing)294 2328 A
2664(is)S
(done.)210 2790 A
3714(*/)S
2250 V
(11510)210 648 A
(/****************************************************************/)2772 1026 A
2340 V
(11511)210 648 A
(void)168 1026 A
(idlok\(win,)420 1236 A
(flag\))210 1698 A
2430 V
(11512)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2520 V
(11513)210 648 A
(bool)168 1026 A
(flag;)210 1236 A
2610 V
(11514)210 648 A
1026({)S
2700 V
(11515)210 648 A
1026(})S
2880 V
(11517)210 648 A
(/****************************************************************/)2772 1026 A
2970 V
(11518)210 648 A
1026(/*)S
(Clearok\(\))378 1152 A
(marks)210 1572 A
(window)252 1824 A
('win')210 2118 A
2370(to)S
(cause)210 2496 A
(screen)252 2748 A
(clearing)336 3042 A
(and)126 3420 A
3714(*/)S
3060 V
(11519)210 648 A
1026(/*)S
(Redraw)252 1152 A
(the)126 1446 A
(next)168 1614 A
(time)168 1824 A
2034(a)S
(refresh)294 2118 A
2454(is)S
(done.)210 2580 A
3714(*/)S
3150 V
(11520)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(11521)210 648 A
(void)168 1026 A
(clearok\(win,)504 1236 A
(flag\))210 1782 A
3330 V
(11522)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
3420 V
(11523)210 648 A
(bool)168 1026 A
(flag;)210 1236 A
3510 V
(11524)210 648 A
1026({)S
3600 V
(11525)210 648 A
1110(if)S
(\(win)168 1236 A
1446(==)S
(curscr\))294 1572 A
3690 V
(11526)210 648 A
(_cursvar.tmpwin->_clear)966 1362 A
2370(=)S
(flag;)210 2454 A
3780 V
(11527)210 648 A
(else)168 1110 A
3870 V
(11528)210 648 A
(win->_clear)462 1362 A
1866(=)S
(flag;)210 1950 A
3960 V
(11529)210 648 A
1026(})S
4140 V
(11531)210 648 A
(/****************************************************************/)2772 1026 A
4230 V
(11532)210 648 A
1026(/*)S
(Leaveok\(\))378 1152 A
(marks)210 1572 A
(window)252 1824 A
('win')210 2118 A
2370(to)S
(allow)210 2496 A
(the)126 2748 A
(update)252 2916 A
(routines)336 3210 A
3714(*/)S
4320 V
(11533)210 648 A
1026(/*)S
1152(To)S
(leave)210 1278 A
(the)126 1530 A
(hardware)336 1698 A
(cursor)252 2076 A
(where)210 2370 A
2622(it)S
(happens)294 2748 A
3084(to)S
3210(be)S
3336(at)S
(the)126 3462 A
3714(*/)S
4410 V
(11534)210 648 A
1026(/*)S
(End)126 1152 A
1320(of)S
(update.)294 1446 A
(Usually)294 1782 A
(used)168 2118 A
2328(in)S
(combination)462 2454 A
(with)168 2958 A
(cursoff\(\).)420 3168 A
3714(*/)S
4500 V
(11535)210 648 A
(/****************************************************************/)2772 1026 A
4590 V
(11536)210 648 A
4680 V
(11537)210 648 A
(void)168 1026 A
(leaveok\(win,)504 1236 A
(flag\))210 1782 A
4770 V
(11538)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
4860 V
(11539)210 648 A
(bool)168 1026 A
(flag;)210 1236 A
4950 V
(11540)210 648 A
1026({)S
5040 V
(11541)210 648 A
(win->_leave)462 1110 A
1614(=)S
(flag;)210 1698 A
5130 V
(11542)210 648 A
1026(})S
5310 V
(11544)210 648 A
(/****************************************************************/)2772 1026 A
5400 V
(11545)210 648 A
1026(/*)S
(Scrollok\(\))420 1152 A
(marks)210 1614 A
(window)252 1866 A
('win')210 2160 A
2412(to)S
(allow)210 2538 A
(the)126 2790 A
(scrolling)378 2958 A
(region)252 3378 A
3714(*/)S
5490 V
(11546)210 648 A
1026(/*)S
1152(Of)S
1278(it)S
1404(to)S
(actually)336 1530 A
(scroll.)294 1908 A
3714(*/)S
5580 V
(11547)210 648 A
(/****************************************************************/)2772 1026 A
5670 V
(11548)210 648 A
(void)168 1026 A
(scrollok\(win,)546 1236 A
(flag\))210 1824 A
5760 V
(11549)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
5850 V
(11550)210 648 A
(bool)168 1026 A
(flag;)210 1236 A
5940 V
(11551)210 648 A
1026({)S
6030 V
(11552)210 648 A
(win->_scroll)504 1110 A
1656(=)S
(flag;)210 1740 A
6120 V
(11553)210 648 A
1026(})S
8418 V
EP
%%Page: 90 90
BP
/slant 0 def
/height 0 def
630 V
12 B
648(90)S
11 R
1911(File:)S
(src/lib/curses/options.c)1021 2144 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(11555)210 648 A
(/****************************************************************/)2772 1026 A
990 V
(11556)210 648 A
1026(/*)S
(Nodelay\(\))378 1152 A
(marks)210 1572 A
(the)126 1824 A
(window)252 1992 A
2286(to)S
(make)168 2412 A
(character)378 2622 A
(input)210 3042 A
(non-)168 3294 A
3714(*/)S
1080 V
(11557)210 648 A
1026(/*)S
(Waiting,)336 1152 A
(i.e.)168 1530 A
1740(if)S
(there)210 1866 A
2118(is)S
2244(no)S
(character)378 2370 A
2790(to)S
(get,)168 2916 A
3126(-1)S
(will)168 3252 A
3462(be)S
3714(*/)S
1170 V
(11558)210 648 A
1026(/*)S
(Returned.)378 1152 A
3714(*/)S
1260 V
(11559)210 648 A
(/****************************************************************/)2772 1026 A
1350 V
(11560)210 648 A
(void)168 1026 A
(nodelay\(win,)504 1236 A
(flag\))210 1782 A
1440 V
(11561)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
1530 V
(11562)210 648 A
(bool)168 1026 A
(flag;)210 1236 A
1620 V
(11563)210 648 A
1026({)S
1710 V
(11564)210 648 A
(win->_nodelay)546 1110 A
1698(=)S
(flag;)210 1782 A
1800 V
(11565)210 648 A
1026(})S
1980 V
(11567)210 648 A
(/****************************************************************/)2772 1026 A
2070 V
(11568)210 648 A
1026(/*)S
(Keypad\(\))336 1152 A
(marks)210 1530 A
(window)252 1782 A
('win')210 2076 A
2328(to)S
(use)126 2454 A
(the)126 2622 A
(special)294 2790 A
(keypad)252 3126 A
(mode.)210 3420 A
3714(*/)S
2160 V
(11569)210 648 A
(/****************************************************************/)2772 1026 A
2250 V
(11570)210 648 A
(void)168 1026 A
(keypad\(win,)462 1236 A
(flag\))210 1740 A
2340 V
(11571)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2430 V
(11572)210 648 A
(bool)168 1026 A
(flag;)210 1236 A
2520 V
(11573)210 648 A
1026({)S
2610 V
(11574)210 648 A
(win->_keypad)504 1110 A
1656(=)S
(flag;)210 1740 A
2700 V
(11575)210 648 A
1026(})S
2880 V
(11577)210 648 A
(/****************************************************************/)2772 1026 A
2970 V
(11578)210 648 A
1026(/*)S
(Meta\(\))252 1152 A
(allows)252 1446 A
(use)126 1740 A
1908(of)S
(any)126 2034 A
(alternate)378 2202 A
(character)378 2622 A
(set)126 3042 A
(allowed)294 3210 A
3546(by)S
3714(*/)S
3060 V
(11579)210 648 A
1026(/*)S
(The)126 1152 A
(terminal.)378 1320 A
1740(We)S
(always)252 1866 A
(allow)210 2160 A
(this)168 2412 A
2622(on)S
(the)126 2748 A
(PC,)126 2916 A
3084(so)S
(this)168 3210 A
(one)126 3420 A
3714(*/)S
3150 V
(11580)210 648 A
1026(/*)S
(Does)168 1152 A
(nothing.)336 1362 A
3714(*/)S
3240 V
(11581)210 648 A
(/****************************************************************/)2772 1026 A
3330 V
(11582)210 648 A
(void)168 1026 A
(meta\(win,)378 1236 A
(flag\))210 1656 A
3420 V
(11583)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
3510 V
(11584)210 648 A
(bool)168 1026 A
(flag;)210 1236 A
3600 V
(11585)210 648 A
1026({)S
3690 V
(11586)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/curses/overlay.c)1008 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(11600)210 648 A
(/****************************************************************/)2772 1026 A
4590 V
(11601)210 648 A
1026(/*)S
(Overlay\(\))378 1152 A
(and)126 1572 A
(overwrite\(\))462 1740 A
(functions)378 2244 A
2664(of)S
(the)126 2790 A
(PCcurses)336 2958 A
(package)294 3336 A
3714(*/)S
4680 V
(11602)210 648 A
1026(/*)S
3714(*/)S
4770 V
(11603)210 648 A
(/****************************************************************/)2772 1026 A
4860 V
(11604)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
4950 V
(11605)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
5040 V
(11606)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
5130 V
(11607)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
5220 V
(11608)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
5310 V
(11609)210 648 A
(/****************************************************************/)2772 1026 A
5400 V
(11610)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
5490 V
(11611)210 648 A
(/****************************************************************/)2772 1026 A
5580 V
(11612)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
5670 V
(11613)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
5760 V
(11614)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
5850 V
(11615)210 648 A
(/****************************************************************/)2772 1026 A
5940 V
(11616)210 648 A
6030 V
(11617)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
6120 V
(11618)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
6210 V
(11619)210 648 A
8418 V
EP
%%Page: 91 91
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1907(File:)S
(src/lib/curses/overlay.c)1029 2140 A
12 B
4308(91)S
900 V
7 LST
(11620)210 648 A
(/****************************************************************/)2772 1026 A
990 V
(11621)210 648 A
1026(/*)S
(Overlay\(\))378 1152 A
(overwrites)420 1572 A
('win1')252 2034 A
(upon)168 2328 A
('win2',)294 2538 A
(with)168 2874 A
(origins)294 3084 A
(alig-)210 3420 A
3714(*/)S
1080 V
(11622)210 648 A
1026(/*)S
(Ned.)168 1152 A
(Overlay)294 1362 A
1698(is)S
(transparent;)504 1824 A
(blanks)252 2370 A
(from)168 2664 A
('win1')252 2874 A
(are)126 3168 A
(not)126 3336 A
3714(*/)S
1170 V
(11623)210 648 A
1026(/*)S
(Copied)252 1152 A
1446(to)S
('win2'.)294 1572 A
3714(*/)S
1260 V
(11624)210 648 A
(/****************************************************************/)2772 1026 A
1350 V
(11625)210 648 A
(void)168 1026 A
(overlay\(win1,)546 1236 A
(win2\))210 1824 A
1440 V
(11626)210 648 A
(WINDOW)252 1026 A
(*win1,)252 1320 A
(*win2;)252 1614 A
1530 V
(11627)210 648 A
1026({)S
1620 V
(11628)210 648 A
(int)126 1110 A
(*minchng;)378 1278 A
1710 V
(11629)210 648 A
(int)126 1110 A
(*maxchng;)378 1278 A
1800 V
(11630)210 648 A
(int)126 1110 A
(*w1ptr;)294 1278 A
1890 V
(11631)210 648 A
(int)126 1110 A
(*w2ptr;)294 1278 A
1980 V
(11632)210 648 A
(int)126 1110 A
(attrs;)252 1278 A
2070 V
(11633)210 648 A
(int)126 1110 A
(col;)168 1278 A
2160 V
(11634)210 648 A
(int)126 1110 A
(line;)210 1278 A
2250 V
(11635)210 648 A
(int)126 1110 A
(last_line;)420 1278 A
2340 V
(11636)210 648 A
(int)126 1110 A
(last_col;)378 1278 A
2430 V
(11637)210 648 A
2520 V
(11638)210 648 A
(last_col)336 1110 A
1488(=)S
(min\(win1->_maxx,)672 1572 A
(win2->_maxx\);)546 2286 A
2610 V
(11639)210 648 A
(last_line)378 1110 A
1530(=)S
(min\(win1->_maxy,)672 1614 A
(win2->_maxy\);)546 2328 A
2700 V
(11640)210 648 A
(attrs)210 1110 A
1362(=)S
(win2->_attrs)504 1446 A
1992(&)S
(ATR_MSK;)336 2076 A
2790 V
(11641)210 648 A
(minchng)294 1110 A
1446(=)S
(win2->_minchng;)630 1530 A
2880 V
(11642)210 648 A
(maxchng)294 1110 A
1446(=)S
(win2->_maxchng;)630 1530 A
2970 V
(11643)210 648 A
3060 V
(11644)210 648 A
(for)126 1110 A
(\(line)210 1278 A
1530(=)S
1614(0;)S
(line)168 1740 A
1950(<=)S
(last_line;)420 2076 A
(line++\))294 2538 A
2874({)S
3150 V
(11645)210 648 A
(register)336 1362 A
(short)210 1740 A
(fc,)126 1992 A
2160(lc)S
2286(=)S
2370(0;)S
3240 V
(11646)210 648 A
(w1ptr)210 1362 A
1614(=)S
(win1->_line[line];)756 1698 A
3330 V
(11647)210 648 A
(w2ptr)210 1362 A
1614(=)S
(win2->_line[line];)756 1698 A
3420 V
(11648)210 648 A
1362(fc)S
1488(=)S
(_NO_CHANGE;)462 1572 A
3510 V
(11649)210 648 A
(for)126 1362 A
(\(col)168 1530 A
1740(=)S
1824(0;)S
(col)126 1950 A
2118(<=)S
(last_col;)378 2244 A
(col++\))252 2664 A
2958({)S
3600 V
(11650)210 648 A
1698(if)S
(\(\(*w1ptr)336 1824 A
2202(&)S
(CHR_MSK\))336 2286 A
2664(!=)S
2790(')S
2874('\))S
3000({)S
3690 V
(11651)210 648 A
(*w2ptr)252 2034 A
2328(=)S
(\(*w1ptr)294 2412 A
2748(&)S
(CHR_MSK\))336 2832 A
3210(|)S
(attrs;)252 3294 A
3780 V
(11652)210 648 A
2034(if)S
(\(fc)126 2160 A
2328(==)S
(_NO_CHANGE\))462 2454 A
2958(fc)S
3084(=)S
(col;)168 3168 A
3870 V
(11653)210 648 A
2034(lc)S
2160(=)S
(col;)168 2244 A
3960 V
(11654)210 648 A
1698(})S
4050 V
(11655)210 648 A
(w1ptr++;)336 1698 A
4140 V
(11656)210 648 A
(w2ptr++;)336 1698 A
4230 V
(11657)210 648 A
1362(})S
4320 V
(11658)210 648 A
4410 V
(11659)210 648 A
1362(if)S
(\(*minchng)378 1488 A
1908(==)S
(_NO_CHANGE\))462 2034 A
2538({)S
4500 V
(11660)210 648 A
(*minchng)336 1698 A
2076(=)S
(fc;)126 2160 A
4590 V
(11661)210 648 A
(*maxchng)336 1698 A
2076(=)S
(lc;)126 2160 A
4680 V
(11662)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(fc)126 1782 A
1950(!=)S
(_NO_CHANGE\))462 2076 A
2580({)S
4770 V
(11663)210 648 A
1698(if)S
(\(fc)126 1824 A
1992(<)S
(*minchng\))378 2076 A
(*minchng)336 2496 A
2874(=)S
(fc;)126 2958 A
4860 V
(11664)210 648 A
1698(if)S
(\(lc)126 1824 A
1992(>)S
(*maxchng\))378 2076 A
(*maxchng)336 2496 A
2874(=)S
(lc;)126 2958 A
4950 V
(11665)210 648 A
1362(})S
5040 V
(11666)210 648 A
(minchng++;)420 1362 A
5130 V
(11667)210 648 A
(maxchng++;)420 1362 A
5220 V
(11668)210 648 A
1110(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
5310 V
(11669)210 648 A
1026(})S
2370(/*)S
(overlay)294 2496 A
2832(*/)S
5400 V
(11670)210 648 A
5490 V
(11671)210 648 A
(/****************************************************************/)2772 1026 A
5580 V
(11672)210 648 A
1026(/*)S
(Overwrite\(\))462 1152 A
(overwrites)420 1656 A
('win1')252 2118 A
(upon)168 2412 A
('win2',)294 2622 A
(with)168 2958 A
(origins)294 3168 A
3714(*/)S
5670 V
(11673)210 648 A
1026(/*)S
(Aligned.)336 1152 A
(Overwrite)378 1530 A
1950(is)S
(non-transparent;)672 2076 A
(blanks)252 2790 A
(from)168 3084 A
('win1')252 3294 A
3714(*/)S
5760 V
(11674)210 648 A
1026(/*)S
(Are)126 1152 A
(copied)252 1320 A
1614(to)S
('win2'.)294 1740 A
3714(*/)S
5850 V
(11675)210 648 A
(/****************************************************************/)2772 1026 A
5940 V
(11676)210 648 A
(void)168 1026 A
(overwrite\(win1,)630 1236 A
(win2\))210 1908 A
6030 V
(11677)210 648 A
(WINDOW)252 1026 A
(*win1,)252 1320 A
(*win2;)252 1614 A
6120 V
(11678)210 648 A
1026({)S
6210 V
(11679)210 648 A
(int)126 1110 A
(*minchng;)378 1278 A
8418 V
EP
%%Page: 92 92
BP
/slant 0 def
/height 0 def
630 V
12 B
648(92)S
11 R
1907(File:)S
(src/lib/curses/overlay.c)1029 2140 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(11680)210 648 A
(int)126 1110 A
(*maxchng;)378 1278 A
990 V
(11681)210 648 A
(int)126 1110 A
(*w1ptr;)294 1278 A
1080 V
(11682)210 648 A
(int)126 1110 A
(*w2ptr;)294 1278 A
1170 V
(11683)210 648 A
(int)126 1110 A
(attrs;)252 1278 A
1260 V
(11684)210 648 A
(int)126 1110 A
(col;)168 1278 A
1350 V
(11685)210 648 A
(int)126 1110 A
(line;)210 1278 A
1440 V
(11686)210 648 A
(int)126 1110 A
(last_line;)420 1278 A
1530 V
(11687)210 648 A
(int)126 1110 A
(last_col;)378 1278 A
1620 V
(11688)210 648 A
1710 V
(11689)210 648 A
(last_col)336 1110 A
1488(=)S
(min\(win1->_maxx,)672 1572 A
(win2->_maxx\);)546 2286 A
1800 V
(11690)210 648 A
(last_line)378 1110 A
1530(=)S
(min\(win1->_maxy,)672 1614 A
(win2->_maxy\);)546 2328 A
1890 V
(11691)210 648 A
(attrs)210 1110 A
1362(=)S
(win2->_attrs)504 1446 A
1992(&)S
(ATR_MSK;)336 2076 A
1980 V
(11692)210 648 A
(minchng)294 1110 A
1446(=)S
(win2->_minchng;)630 1530 A
2070 V
(11693)210 648 A
(maxchng)294 1110 A
1446(=)S
(win2->_maxchng;)630 1530 A
2160 V
(11694)210 648 A
2250 V
(11695)210 648 A
(for)126 1110 A
(\(line)210 1278 A
1530(=)S
1614(0;)S
(line)168 1740 A
1950(<=)S
(last_line;)420 2076 A
(line++\))294 2538 A
2874({)S
2340 V
(11696)210 648 A
(register)336 1362 A
(short)210 1740 A
(fc,)126 1992 A
2160(lc)S
2286(=)S
2370(0;)S
2430 V
(11697)210 648 A
2520 V
(11698)210 648 A
(w1ptr)210 1362 A
1614(=)S
(win1->_line[line];)756 1698 A
2610 V
(11699)210 648 A
(w2ptr)210 1362 A
1614(=)S
(win2->_line[line];)756 1698 A
2700 V
(11700)210 648 A
1362(fc)S
1488(=)S
(_NO_CHANGE;)462 1572 A
2790 V
(11701)210 648 A
2880 V
(11702)210 648 A
(for)126 1362 A
(\(col)168 1530 A
1740(=)S
1824(0;)S
(col)126 1950 A
2118(<=)S
(last_col;)378 2244 A
(col++\))252 2664 A
2958({)S
2970 V
(11703)210 648 A
1698(if)S
(\(\(*w1ptr)336 1824 A
2202(&)S
(CHR_MSK\))336 2286 A
2664(!=)S
(\(*w2ptr)294 2790 A
3126(&)S
(CHR_MSK\)\))378 3210 A
3630({)S
3060 V
(11704)210 648 A
(*w2ptr)252 2034 A
2328(=)S
(\(*w1ptr)294 2412 A
2748(&)S
(CHR_MSK\))336 2832 A
3210(|)S
(attrs;)252 3294 A
3150 V
(11705)210 648 A
3240 V
(11706)210 648 A
2034(if)S
(\(fc)126 2160 A
2328(==)S
(_NO_CHANGE\))462 2454 A
2958(fc)S
3084(=)S
(col;)168 3168 A
3330 V
(11707)210 648 A
2034(lc)S
2160(=)S
(col;)168 2244 A
3420 V
(11708)210 648 A
1698(})S
3510 V
(11709)210 648 A
(w1ptr++;)336 1698 A
3600 V
(11710)210 648 A
(w2ptr++;)336 1698 A
3690 V
(11711)210 648 A
1362(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
3780 V
(11712)210 648 A
3870 V
(11713)210 648 A
1362(if)S
(\(*minchng)378 1488 A
1908(==)S
(_NO_CHANGE\))462 2034 A
2538({)S
3960 V
(11714)210 648 A
(*minchng)336 1698 A
2076(=)S
(fc;)126 2160 A
4050 V
(11715)210 648 A
(*maxchng)336 1698 A
2076(=)S
(lc;)126 2160 A
4140 V
(11716)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(fc)126 1782 A
1950(!=)S
(_NO_CHANGE\))462 2076 A
2580({)S
4230 V
(11717)210 648 A
1698(if)S
(\(fc)126 1824 A
1992(<)S
(*minchng\))378 2076 A
(*minchng)336 2496 A
2874(=)S
(fc;)126 2958 A
4320 V
(11718)210 648 A
1698(if)S
(\(lc)126 1824 A
1992(>)S
(*maxchng\))378 2076 A
(*maxchng)336 2496 A
2874(=)S
(lc;)126 2958 A
4410 V
(11719)210 648 A
1362(})S
4500 V
(11720)210 648 A
(minchng++;)420 1362 A
4590 V
(11721)210 648 A
(maxchng++;)420 1362 A
4680 V
(11722)210 648 A
1110(})S
4770 V
(11723)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/curses/prntscan.c)1050 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(11800)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5490 V
(11801)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
5580 V
(11802)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
5670 V
(11803)210 648 A
5760 V
(11804)210 648 A
(static)252 1026 A
(char)168 1320 A
(printscanbuf[513];)756 1530 A
2370(/*)S
(buffer)252 2496 A
(used)168 2790 A
(during)252 3000 A
(I/O)126 3294 A
3462(*/)S
5850 V
(11805)210 648 A
5940 V
(11806)210 648 A
(/****************************************************************/)2772 1026 A
6030 V
(11807)210 648 A
1026(/*)S
(Wprintw\(win,fmt,args\))882 1152 A
(does)168 2076 A
2286(a)S
(printf\(\))336 2370 A
2748(in)S
(window)252 2874 A
('win'.)252 3168 A
3714(*/)S
6120 V
(11808)210 648 A
(/****************************************************************/)2772 1026 A
6210 V
(11809)210 648 A
(int)126 1026 A
(wprintw\(WINDOW)588 1194 A
(*win,)210 1824 A
(const)210 2076 A
(char)168 2328 A
(*fmt,)210 2538 A
(...\))168 2790 A
8418 V
EP
%%Page: 93 93
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1885(File:)S
(src/lib/curses/prntscan.c)1072 2118 A
12 B
4308(93)S
900 V
7 LST
(11810)210 648 A
1026({)S
990 V
(11811)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
1080 V
(11812)210 648 A
1170 V
(11813)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
1260 V
(11814)210 648 A
(vsprintf\(printscanbuf,)924 1110 A
(fmt,)168 2076 A
(args\);)252 2286 A
1350 V
(11815)210 648 A
1110(if)S
(\(waddstr\(win,)546 1236 A
(printscanbuf\))546 1824 A
2412(==)S
(ERR\))168 2538 A
(return\(ERR\);)504 2748 A
1440 V
(11816)210 648 A
(return\(strlen\(printscanbuf\)\);)1218 1110 A
1530 V
(11817)210 648 A
1026(})S
1710 V
(11819)210 648 A
(/****************************************************************/)2772 1026 A
1800 V
(11820)210 648 A
1026(/*)S
(Printw\(fmt,args\))672 1152 A
(does)168 1866 A
2076(a)S
(printf\(\))336 2160 A
2538(in)S
(stdscr.)294 2664 A
3714(*/)S
1890 V
(11821)210 648 A
(/****************************************************************/)2772 1026 A
1980 V
(11822)210 648 A
(int)126 1026 A
(printw\(const)504 1194 A
(char)168 1740 A
(*fmt,)210 1950 A
(...\))168 2202 A
2070 V
(11823)210 648 A
1026({)S
2160 V
(11824)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
2250 V
(11825)210 648 A
2340 V
(11826)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
2430 V
(11827)210 648 A
(vsprintf\(printscanbuf,)924 1110 A
(fmt,)168 2076 A
(args\);)252 2286 A
2520 V
(11828)210 648 A
1110(if)S
(\(waddstr\(stdscr,)672 1236 A
(printscanbuf\))546 1950 A
2538(==)S
(ERR\))168 2664 A
(return\(ERR\);)504 2874 A
2610 V
(11829)210 648 A
(return\(strlen\(printscanbuf\)\);)1218 1110 A
2700 V
(11830)210 648 A
1026(})S
2370(/*)S
(printw)252 2496 A
2790(*/)S
2790 V
(11831)210 648 A
2880 V
(11832)210 648 A
(/****************************************************************/)2772 1026 A
2970 V
(11833)210 648 A
1026(/*)S
(Mvprintw\(fmt,args\))756 1152 A
(moves)210 1950 A
(the)126 2202 A
(stdscr)252 2370 A
(cursor)252 2664 A
2958(to)S
3084(a)S
(new)126 3168 A
(posi-)210 3336 A
3714(*/)S
3060 V
(11834)210 648 A
1026(/*)S
(tion,)210 1152 A
(then)168 1404 A
(does)168 1614 A
1824(a)S
(printf\(\))336 1908 A
2286(in)S
(stdscr.)294 2412 A
3714(*/)S
3150 V
(11835)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(11836)210 648 A
(int)126 1026 A
(mvprintw\(int)504 1194 A
1740(y,)S
(int)126 1866 A
2034(x,)S
(const)210 2160 A
(char)168 2412 A
(*fmt,)210 2622 A
(...\))168 2874 A
3330 V
(11837)210 648 A
1026({)S
3420 V
(11838)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
3510 V
(11839)210 648 A
3600 V
(11840)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
3690 V
(11841)210 648 A
1110(if)S
(\(wmove\(stdscr,)588 1236 A
1866(y,)S
1992(x\))S
2118(==)S
(ERR\))168 2244 A
(return\(ERR\);)504 2454 A
3780 V
(11842)210 648 A
(vsprintf\(printscanbuf,)924 1110 A
(fmt,)168 2076 A
(args\);)252 2286 A
3870 V
(11843)210 648 A
1110(if)S
(\(waddstr\(stdscr,)672 1236 A
(printscanbuf\))546 1950 A
2538(==)S
(ERR\))168 2664 A
(return\(ERR\);)504 2874 A
3960 V
(11844)210 648 A
(return\(strlen\(printscanbuf\)\);)1218 1110 A
4050 V
(11845)210 648 A
1026(})S
4230 V
(11847)210 648 A
(/****************************************************************/)2772 1026 A
4320 V
(11848)210 648 A
1026(/*)S
(Mvwprintw\(win,fmt,args\))966 1152 A
(moves)210 2160 A
(the)126 2412 A
(window)252 2580 A
('win's)252 2874 A
(cursor)252 3168 A
3462(to)S
3714(*/)S
4410 V
(11849)210 648 A
1026(/*)S
1152(A)S
(new)126 1236 A
(position,)378 1404 A
(then)168 1824 A
(does)168 2034 A
2244(a)S
(printf\(\))336 2328 A
2706(in)S
(window)252 2832 A
('win'.)252 3126 A
3714(*/)S
4500 V
(11850)210 648 A
(/****************************************************************/)2772 1026 A
4590 V
(11851)210 648 A
(int)126 1026 A
(mvwprintw\(WINDOW)672 1194 A
(*win,)210 1908 A
(int)126 2160 A
2328(y,)S
(int)126 2454 A
2622(x,)S
(const)210 2748 A
(char)168 3000 A
(*fmt,)210 3210 A
(...\))168 3462 A
4680 V
(11852)210 648 A
1026({)S
4770 V
(11853)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
4860 V
(11854)210 648 A
4950 V
(11855)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
5040 V
(11856)210 648 A
1110(if)S
(\(wmove\(win,)462 1236 A
1740(y,)S
1866(x\))S
1992(==)S
(ERR\))168 2118 A
(return\(ERR\);)504 2328 A
5130 V
(11857)210 648 A
(vsprintf\(printscanbuf,)924 1110 A
(fmt,)168 2076 A
(args\);)252 2286 A
5220 V
(11858)210 648 A
1110(if)S
(\(waddstr\(win,)546 1236 A
(printscanbuf\))546 1824 A
2412(==)S
(ERR\))168 2538 A
(return\(ERR\);)504 2748 A
5310 V
(11859)210 648 A
(return\(strlen\(printscanbuf\)\);)1218 1110 A
5400 V
(11860)210 648 A
1026(})S
2370(/*)S
(mvwprintw)378 2496 A
2916(*/)S
5490 V
(11861)210 648 A
5580 V
(11862)210 648 A
(/****************************************************************/)2772 1026 A
5670 V
(11863)210 648 A
1026(/*)S
(Wscanw\(win,fmt,args\))840 1152 A
(gets)168 2034 A
2244(a)S
(string)252 2328 A
(via)126 2622 A
(window)252 2790 A
('win',)252 3084 A
(then)168 3378 A
3714(*/)S
5760 V
(11864)210 648 A
1026(/*)S
(Scans)210 1152 A
(the)126 1404 A
(string)252 1572 A
(using)210 1866 A
(format)252 2118 A
('fmt')210 2412 A
2664(to)S
(extract)294 2790 A
(the)126 3126 A
(values)252 3294 A
3714(*/)S
5850 V
(11865)210 648 A
1026(/*)S
(And)126 1152 A
(put)126 1320 A
(them)168 1488 A
1698(in)S
(the)126 1824 A
(variables)378 1992 A
(pointed)294 2412 A
2748(to)S
(the)126 2874 A
(arguments.)420 3042 A
3714(*/)S
5940 V
(11866)210 648 A
(/****************************************************************/)2772 1026 A
6030 V
(11867)210 648 A
(int)126 1026 A
(wscanw\(WINDOW)546 1194 A
(*win,)210 1782 A
(const)210 2034 A
(char)168 2286 A
(*fmt,)210 2496 A
(...\))168 2748 A
6120 V
(11868)210 648 A
1026({)S
6210 V
(11869)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
8418 V
EP
%%Page: 94 94
BP
/slant 0 def
/height 0 def
630 V
12 B
648(94)S
11 R
1885(File:)S
(src/lib/curses/prntscan.c)1072 2118 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(11870)210 648 A
990 V
(11871)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
1080 V
(11872)210 648 A
(wrefresh\(win\);)588 1110 A
2370(/*)S
(set)126 2496 A
(cursor)252 2664 A
2958(*/)S
1170 V
(11873)210 648 A
1110(if)S
(\(wgetstr\(win,)546 1236 A
(printscanbuf\))546 1824 A
2412(==)S
(ERR\))168 2538 A
3042(/*)S
(get)126 3168 A
(string)252 3336 A
3630(*/)S
1260 V
(11874)210 648 A
(return\(ERR\);)504 1362 A
1350 V
(11875)210 648 A
(return\(vsscanf\(printscanbuf,)1176 1110 A
(fmt,)168 2328 A
(args\)\);)294 2538 A
1440 V
(11876)210 648 A
1026(})S
2370(/*)S
(wscanw)252 2496 A
2790(*/)S
1530 V
(11877)210 648 A
1620 V
(11878)210 648 A
(/****************************************************************/)2772 1026 A
1710 V
(11879)210 648 A
1026(/*)S
(Scanw\(fmt,args\))630 1152 A
(gets)168 1824 A
2034(a)S
(string)252 2118 A
(via)126 2412 A
(stdscr,)294 2580 A
(then)168 2916 A
(scans)210 3126 A
(the)126 3378 A
3714(*/)S
1800 V
(11880)210 648 A
1026(/*)S
(String)252 1152 A
(using)210 1446 A
(format)252 1698 A
('fmt')210 1992 A
2244(to)S
(extract)294 2370 A
(the)126 2706 A
(values)252 2874 A
(and)126 3168 A
(put)126 3336 A
(them)168 3504 A
3714(*/)S
1890 V
(11881)210 648 A
1026(/*)S
1152(In)S
(the)126 1278 A
(variables)378 1446 A
(pointed)294 1866 A
2202(to)S
(the)126 2328 A
(arguments.)420 2496 A
3714(*/)S
1980 V
(11882)210 648 A
(/****************************************************************/)2772 1026 A
2070 V
(11883)210 648 A
(int)126 1026 A
(scanw\(const)462 1194 A
(char)168 1698 A
(*fmt,)210 1908 A
(...\))168 2160 A
2160 V
(11884)210 648 A
1026({)S
2250 V
(11885)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
2340 V
(11886)210 648 A
2430 V
(11887)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
2520 V
(11888)210 648 A
(wrefresh\(stdscr\);)714 1110 A
2370(/*)S
(set)126 2496 A
(cursor)252 2664 A
2958(*/)S
2610 V
(11889)210 648 A
1110(if)S
(\(wgetstr\(stdscr,)672 1236 A
(printscanbuf\))546 1950 A
2538(==)S
(ERR\))168 2664 A
3042(/*)S
(get)126 3168 A
(string)252 3336 A
3630(*/)S
2700 V
(11890)210 648 A
(return\(ERR\);)504 1362 A
2790 V
(11891)210 648 A
(return\(vsscanf\(printscanbuf,)1176 1110 A
(fmt,)168 2328 A
(args\)\);)294 2538 A
2880 V
(11892)210 648 A
1026(})S
2370(/*)S
(scanw)210 2496 A
2748(*/)S
2970 V
(11893)210 648 A
3060 V
(11894)210 648 A
(/****************************************************************/)2772 1026 A
3150 V
(11895)210 648 A
1026(/*)S
(Mvscanw\(y,x,fmt,args\))882 1152 A
(moves)210 2076 A
(stdscr's)336 2328 A
(cursor)252 2706 A
3000(to)S
3126(a)S
(new)126 3210 A
(posi-)210 3378 A
3714(*/)S
3240 V
(11896)210 648 A
1026(/*)S
(Tion,)210 1152 A
(then)168 1404 A
(gets)168 1614 A
1824(a)S
(string)252 1908 A
(via)126 2202 A
(stdscr)252 2370 A
(and)126 2664 A
(scans)210 2832 A
(the)126 3084 A
(string)252 3252 A
3714(*/)S
3330 V
(11897)210 648 A
1026(/*)S
(Using)210 1152 A
(format)252 1404 A
('fmt')210 1698 A
1950(to)S
(extract)294 2076 A
(the)126 2412 A
(values)252 2580 A
(and)126 2874 A
(put)126 3042 A
(them)168 3210 A
3420(in)S
(the)126 3546 A
3714(*/)S
3420 V
(11898)210 648 A
1026(/*)S
(Variables)378 1152 A
(pointed)294 1572 A
1908(to)S
(the)126 2034 A
(arguments.)420 2202 A
3714(*/)S
3510 V
(11899)210 648 A
(/****************************************************************/)2772 1026 A
3600 V
(11900)210 648 A
(int)126 1026 A
(mvscanw\(int)462 1194 A
1698(y,)S
(int)126 1824 A
1992(x,)S
(const)210 2118 A
(char)168 2370 A
(*fmt,)210 2580 A
(...\))168 2832 A
3690 V
(11901)210 648 A
1026({)S
3780 V
(11902)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
3870 V
(11903)210 648 A
3960 V
(11904)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
4050 V
(11905)210 648 A
1110(if)S
(\(wmove\(stdscr,)588 1236 A
1866(y,)S
1992(x\))S
2118(==)S
(ERR\))168 2244 A
(return\(ERR\);)504 2454 A
4140 V
(11906)210 648 A
(wrefresh\(stdscr\);)714 1110 A
2370(/*)S
(set)126 2496 A
(cursor)252 2664 A
2958(*/)S
4230 V
(11907)210 648 A
1110(if)S
(\(wgetstr\(stdscr,)672 1236 A
(printscanbuf\))546 1950 A
2538(==)S
(ERR\))168 2664 A
3042(/*)S
(get)126 3168 A
(string)252 3336 A
3630(*/)S
4320 V
(11908)210 648 A
(return\(ERR\);)504 1362 A
4410 V
(11909)210 648 A
(return\(vsscanf\(printscanbuf,)1176 1110 A
(fmt,)168 2328 A
(args\)\);)294 2538 A
4500 V
(11910)210 648 A
1026(})S
2370(/*)S
(mvscanw)294 2496 A
2832(*/)S
4590 V
(11911)210 648 A
4680 V
(11912)210 648 A
(/****************************************************************/)2772 1026 A
4770 V
(11913)210 648 A
1026(/*)S
(Mvwscanw\(win,y,x,fmt,args\))1092 1152 A
(moves)210 2286 A
(window)252 2538 A
('win's)252 2832 A
(cursor)252 3126 A
3420(to)S
3546(a)S
3714(*/)S
4860 V
(11914)210 648 A
1026(/*)S
(New)126 1152 A
(position,)378 1320 A
(then)168 1740 A
(gets)168 1950 A
2160(a)S
(string)252 2244 A
(via)126 2538 A
('win')210 2706 A
(and)126 2958 A
(scans)210 3126 A
(the)126 3378 A
3714(*/)S
4950 V
(11915)210 648 A
1026(/*)S
(String)252 1152 A
(using)210 1446 A
(format)252 1698 A
('fmt')210 1992 A
2244(to)S
(extract)294 2370 A
(the)126 2706 A
(values)252 2874 A
(and)126 3168 A
(put)126 3336 A
(them)168 3504 A
3714(*/)S
5040 V
(11916)210 648 A
1026(/*)S
1152(In)S
(the)126 1278 A
(variables)378 1446 A
(pointed)294 1866 A
2202(to)S
(the)126 2328 A
(arguments.)420 2496 A
3714(*/)S
5130 V
(11917)210 648 A
(/****************************************************************/)2772 1026 A
5220 V
(11918)210 648 A
(int)126 1026 A
(mvwscanw\(WINDOW)630 1194 A
(*win,)210 1866 A
(int)126 2118 A
2286(y,)S
(int)126 2412 A
2580(x,)S
(const)210 2706 A
(char)168 2958 A
(*fmt,)210 3168 A
(...\))168 3420 A
5310 V
(11919)210 648 A
1026({)S
5400 V
(11920)210 648 A
(va_list)294 1110 A
(args;)210 1446 A
5490 V
(11921)210 648 A
5580 V
(11922)210 648 A
(va_start\(args,)588 1110 A
(fmt\);)210 1740 A
5670 V
(11923)210 648 A
1110(if)S
(\(wmove\(win,)462 1236 A
1740(y,)S
1866(x\))S
1992(==)S
(ERR\))168 2118 A
(return\(ERR\);)504 2328 A
5760 V
(11924)210 648 A
(wrefresh\(win\);)588 1110 A
2370(/*)S
(set)126 2496 A
(cursor)252 2664 A
2958(*/)S
5850 V
(11925)210 648 A
1110(if)S
(\(wgetstr\(win,)546 1236 A
(printscanbuf\))546 1824 A
2412(==)S
(ERR\))168 2538 A
3042(/*)S
(get)126 3168 A
(string)252 3336 A
3630(*/)S
5940 V
(11926)210 648 A
(return\(ERR\);)504 1362 A
6030 V
(11927)210 648 A
(return\(vsscanf\(printscanbuf,)1176 1110 A
(fmt,)168 2328 A
(args\)\);)294 2538 A
6120 V
(11928)210 648 A
1026(})S
2370(/*)S
(mvwscanw)336 2496 A
2874(*/)S
8418 V
EP
%%Page: 95 95
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1919(File:)S
(src/lib/curses/refresh.c)1005 2152 A
12 B
4308(95)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/refresh.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(12000)210 648 A
1026(/*)S
(refresh.c)378 1152 A
1572(*/)S
1440 V
(12001)210 648 A
1530 V
(12002)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1620 V
(12003)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1710 V
(12004)210 648 A
1800 V
(12005)210 648 A
1026(/*)S
(Wrefresh\(\))420 1152 A
(updates)294 1614 A
(window)252 1950 A
(win's)210 2244 A
(area)168 2496 A
2706(of)S
(the)126 2832 A
(physical)336 3000 A
(screen.)294 3378 A
3714(*/)S
1890 V
(12006)210 648 A
(void)168 1026 A
(wrefresh\(win\))546 1236 A
1980 V
(12007)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2070 V
(12008)210 648 A
1026({)S
2160 V
(12009)210 648 A
1110(if)S
(\(win)168 1236 A
1446(==)S
(curscr\))294 1572 A
2250 V
(12010)210 648 A
(curscr->_clear)588 1362 A
1992(=)S
(TRUE;)210 2076 A
2340 V
(12011)210 648 A
(else)168 1110 A
2430 V
(12012)210 648 A
(wnoutrefresh\(win\);)756 1362 A
2520 V
(12013)210 648 A
(doupdate\(\);)462 1110 A
2610 V
(12014)210 648 A
1026(})S
2790 V
(12016)210 648 A
(/****************************************************************/)2772 1026 A
2880 V
(12017)210 648 A
1026(/*)S
(Wnoutrefresh\(\))588 1152 A
(updates)294 1782 A
(the)126 2118 A
(image)210 2286 A
2538(of)S
(the)126 2664 A
(desired)294 2832 A
(screen,)294 3168 A
3714(*/)S
2970 V
(12018)210 648 A
1026(/*)S
(Without)294 1152 A
(doing)210 1488 A
(physical)336 1740 A
(update)252 2118 A
(\(copies)294 2412 A
(window)252 2748 A
(win's)210 3042 A
(image)210 3294 A
3546(to)S
3714(*/)S
3060 V
(12019)210 648 A
1026(/*)S
(The)126 1152 A
(_cursvar.tmpwin)630 1320 A
(window,)294 1992 A
(which)210 2328 A
2580(is)S
(hidden)252 2706 A
(from)168 3000 A
(the)126 3210 A
(user\).)252 3378 A
3714(*/)S
3150 V
(12020)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(12021)210 648 A
3330 V
(12022)210 648 A
(void)168 1026 A
(wnoutrefresh\(win\))714 1236 A
3420 V
(12023)210 648 A
(register)336 1026 A
(WINDOW)252 1404 A
(*win;)210 1698 A
3510 V
(12024)210 648 A
1026({)S
3600 V
(12025)210 648 A
(register)336 1110 A
(int)126 1488 A
(*dst;)210 1656 A
2370(/*)S
(start)210 2496 A
(destination)462 2748 A
3252(in)S
(temp)168 3378 A
(window)252 3588 A
3882(*/)S
3690 V
(12026)210 648 A
(register)336 1110 A
(int)126 1488 A
(*end;)210 1656 A
2370(/*)S
(end)126 2496 A
(destination)462 2664 A
3168(in)S
(temp)168 3294 A
(window)252 3504 A
3798(*/)S
3780 V
(12027)210 648 A
(register)336 1110 A
(int)126 1488 A
(*src;)210 1656 A
2370(/*)S
(source)252 2496 A
2790(in)S
(user)168 2916 A
(window)252 3126 A
3420(*/)S
3870 V
(12028)210 648 A
(register)336 1110 A
(int)126 1488 A
(first;)252 1656 A
2370(/*)S
(first)210 2496 A
(changed)294 2748 A
(char)168 3084 A
3294(on)S
(line)168 3420 A
3630(*/)S
3960 V
(12029)210 648 A
(register)336 1110 A
(int)126 1488 A
(last;)210 1656 A
2370(/*)S
(last)168 2496 A
(changed)294 2706 A
(char)168 3042 A
3252(on)S
(line)168 3378 A
3588(*/)S
4050 V
(12030)210 648 A
(WINDOW)252 1110 A
(*nscr;)252 1404 A
4140 V
(12031)210 648 A
(int)126 1110 A
(begy;)210 1278 A
2370(/*)S
(window's)336 2496 A
(place)210 2874 A
3126(on)S
(screen)252 3252 A
3546(*/)S
4230 V
(12032)210 648 A
(int)126 1110 A
(begx;)210 1278 A
4320 V
(12033)210 648 A
(int)126 1110 A
1278(i;)S
4410 V
(12034)210 648 A
(int)126 1110 A
1278(j;)S
4500 V
(12035)210 648 A
4590 V
(12036)210 648 A
(nscr)168 1110 A
1320(=)S
(_cursvar.tmpwin;)672 1404 A
4680 V
(12037)210 648 A
(begy)168 1110 A
1320(=)S
(win->_begy;)462 1404 A
4770 V
(12038)210 648 A
(begx)168 1110 A
1320(=)S
(win->_begx;)462 1404 A
4860 V
(12039)210 648 A
4950 V
(12040)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0,)S
1614(j)S
1698(=)S
(begy;)210 1782 A
2034(i)S
2118(<=)S
(win->_maxy;)462 2244 A
(i++,)168 2748 A
(j++\))168 2958 A
3168({)S
5040 V
(12041)210 648 A
1362(if)S
(\(win->_minchng[i])714 1488 A
2244(!=)S
(_NO_CHANGE\))462 2370 A
2874({)S
5130 V
(12042)210 648 A
(first)210 1698 A
1950(=)S
(win->_minchng[i];)714 2034 A
5220 V
(12043)210 648 A
(last)168 1698 A
1908(=)S
(win->_maxchng[i];)714 1992 A
5310 V
(12044)210 648 A
(dst)126 1698 A
1866(=)S
(&\(nscr->_line[j][begx)882 1950 A
2874(+)S
(first]\);)336 2958 A
5400 V
(12045)210 648 A
(end)126 1698 A
1866(=)S
(&\(nscr->_line[j][begx)882 1950 A
2874(+)S
(last]\);)294 2958 A
5490 V
(12046)210 648 A
(src)126 1698 A
1866(=)S
(&\(win->_line[i][first]\);)1008 1950 A
5580 V
(12047)210 648 A
5670 V
(12048)210 648 A
(while)210 1698 A
(\(dst)168 1950 A
2160(<=)S
(end\))168 2286 A
2706(/*)S
(copy)168 2832 A
(user)168 3042 A
(line)168 3252 A
3462(to)S
(temp)168 3588 A
(window)252 3798 A
4092(*/)S
5760 V
(12049)210 648 A
(*dst++)252 2034 A
2328(=)S
(*src++;)294 2412 A
5850 V
(12050)210 648 A
5940 V
(12051)210 648 A
(first)210 1698 A
1950(+=)S
(begx;)210 2076 A
2370(/*)S
(nscr's)252 2496 A
(min/max)294 2790 A
(change)252 3126 A
(positions)378 3420 A
3840(*/)S
6030 V
(12052)210 648 A
(last)168 1698 A
1908(+=)S
(begx;)210 2034 A
6120 V
(12053)210 648 A
6210 V
(12054)210 648 A
1698(if)S
(\(\(nscr->_minchng[j])798 1824 A
2664(==)S
(_NO_CHANGE\))462 2790 A
3294(||)S
(\(nscr->_minchng[j])756 3420 A
4218(>)S
(first\)\))294 4302 A
8418 V
EP
%%Page: 96 96
BP
/slant 0 def
/height 0 def
630 V
12 B
648(96)S
11 R
1919(File:)S
(src/lib/curses/refresh.c)1005 2152 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(12055)210 648 A
(nscr->_minchng[j])714 2034 A
2790(=)S
(first;)252 2874 A
990 V
(12056)210 648 A
1698(if)S
(\(last)210 1824 A
2076(>)S
(nscr->_maxchng[j]\))756 2160 A
(nscr->_maxchng[j])714 2958 A
3714(=)S
(last;)210 3798 A
1080 V
(12057)210 648 A
1170 V
(12058)210 648 A
(win->_minchng[i])672 1698 A
2412(=)S
(_NO_CHANGE;)462 2496 A
3042(/*)S
(updated)294 3168 A
(now)126 3504 A
3672(*/)S
1260 V
(12059)210 648 A
1362(})S
2370(/*)S
2496(if)S
2622(*/)S
1350 V
(12060)210 648 A
(win->_maxchng[i])672 1362 A
2076(=)S
(_NO_CHANGE;)462 2160 A
2706(/*)S
(updated)294 2832 A
(now)126 3168 A
3336(*/)S
1440 V
(12061)210 648 A
1110(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
1530 V
(12062)210 648 A
1620 V
(12063)210 648 A
1110(if)S
(\(win->_clear\))546 1236 A
1824({)S
1710 V
(12064)210 648 A
(win->_clear)462 1362 A
1866(=)S
(FALSE;)252 1950 A
1800 V
(12065)210 648 A
(nscr->_clear)504 1362 A
1908(=)S
(TRUE;)210 1992 A
1890 V
(12066)210 648 A
1110(})S
2370(/*)S
2496(if)S
2622(*/)S
1980 V
(12067)210 648 A
1110(if)S
(\(!win->_leave\))588 1236 A
1866({)S
2070 V
(12068)210 648 A
(nscr->_cury)462 1362 A
1866(=)S
(win->_cury)420 1950 A
2412(+)S
(begy;)210 2496 A
2160 V
(12069)210 648 A
(nscr->_curx)462 1362 A
1866(=)S
(win->_curx)420 1950 A
2412(+)S
(begx;)210 2496 A
2250 V
(12070)210 648 A
1110(})S
2370(/*)S
2496(if)S
2622(*/)S
2340 V
(12071)210 648 A
1026(})S
2370(/*)S
(wnoutrefresh)504 2496 A
3042(*/)S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/curses/scrreg.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(12100)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(12101)210 648 A
1026(/*)S
(Wsetscrreg\(\))504 1152 A
(routine)294 1698 A
2034(of)S
(the)126 2160 A
(PCcurses)336 2328 A
(package)294 2706 A
3714(*/)S
3330 V
(12102)210 648 A
1026(/*)S
3714(*/)S
3420 V
(12103)210 648 A
(/****************************************************************/)2772 1026 A
3510 V
(12104)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
3600 V
(12105)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
3690 V
(12106)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
3780 V
(12107)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
3870 V
(12108)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
3960 V
(12109)210 648 A
(/****************************************************************/)2772 1026 A
4050 V
(12110)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
4140 V
(12111)210 648 A
(/****************************************************************/)2772 1026 A
4230 V
(12112)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
4320 V
(12113)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
4410 V
(12114)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
4500 V
(12115)210 648 A
(/****************************************************************/)2772 1026 A
4590 V
(12116)210 648 A
4680 V
(12117)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4770 V
(12118)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4860 V
(12119)210 648 A
4950 V
(12120)210 648 A
(/****************************************************************/)2772 1026 A
5040 V
(12121)210 648 A
1026(/*)S
(Wsetscrreg\(\))504 1152 A
(set)126 1698 A
(the)126 1866 A
(scrolling)378 2034 A
(region)252 2454 A
2748(of)S
(window)252 2874 A
('win')210 3168 A
3420(to)S
(in-)126 3546 A
3714(*/)S
5130 V
(12122)210 648 A
1026(/*)S
(Clude)210 1152 A
(all)126 1404 A
(lines)210 1572 A
(between)294 1824 A
('top')210 2160 A
(and)126 2412 A
('bottom'.)378 2580 A
3714(*/)S
5220 V
(12123)210 648 A
(/****************************************************************/)2772 1026 A
5310 V
(12124)210 648 A
5400 V
(12125)210 648 A
(int)126 1026 A
(wsetscrreg\(win,)630 1194 A
(top,)168 1866 A
(bottom\))294 2076 A
5490 V
(12126)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
5580 V
(12127)210 648 A
(int)126 1026 A
(top;)168 1194 A
5670 V
(12128)210 648 A
(int)126 1026 A
(bottom;)294 1194 A
5760 V
(12129)210 648 A
1026({)S
5850 V
(12130)210 648 A
1110(if)S
(\(\(0)126 1236 A
1404(<=)S
(top\))168 1530 A
1740(&&)S
5940 V
(12131)210 648 A
(\(top)168 1278 A
1488(<=)S
(win->_cury\))462 1614 A
6030 V
(12132)210 648 A
1278(&&)S
6120 V
(12133)210 648 A
(\(win->_cury)462 1278 A
1782(<=)S
(bottom\))294 1908 A
6210 V
(12134)210 648 A
1278(&&)S
8418 V
EP
%%Page: 97 97
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1937(File:)S
(src/lib/curses/scrreg.c)968 2170 A
12 B
4308(97)S
900 V
7 LST
(12135)210 648 A
(\(bottom)294 1278 A
1614(<=)S
(win->_maxy\))462 1740 A
990 V
(12136)210 648 A
1362(\))S
1446({)S
1080 V
(12137)210 648 A
(win->_regtop)504 1362 A
1908(=)S
(top;)168 1992 A
1170 V
(12138)210 648 A
(win->_regbottom)630 1362 A
2034(=)S
(bottom;)294 2118 A
1260 V
(12139)210 648 A
(return\(OK\);)462 1362 A
1350 V
(12140)210 648 A
1110(})S
1440 V
(12141)210 648 A
1530 V
(12142)210 648 A
1152(/*)S
1278(If)S
1404(*/)S
1620 V
(12143)210 648 A
(else)168 1110 A
1710 V
(12144)210 648 A
(return\(ERR\);)504 1362 A
1800 V
(12145)210 648 A
1026(})S
2370(/*)S
(wsetscrreg)420 2496 A
2958(*/)S
1890 V
(12146)210 648 A
1980 V
(12147)210 648 A
(/****************************************************************/)2772 1026 A
2070 V
(12148)210 648 A
1026(/*)S
(Setscrreg\(\))462 1152 A
(set)126 1656 A
(the)126 1824 A
(scrolling)378 1992 A
(region)252 2412 A
2706(of)S
(stdscr)252 2832 A
3126(to)S
(include)294 3252 A
3714(*/)S
2160 V
(12149)210 648 A
1026(/*)S
(All)126 1152 A
(lines)210 1320 A
(between)294 1572 A
('top')210 1908 A
(and)126 2160 A
('bottom'.)378 2328 A
3714(*/)S
2250 V
(12150)210 648 A
(/****************************************************************/)2772 1026 A
2340 V
(12151)210 648 A
2430 V
(12152)210 648 A
(int)126 1026 A
(setscrreg\(top,)588 1194 A
(bottom\))294 1824 A
2520 V
(12153)210 648 A
(int)126 1026 A
(top;)168 1194 A
2610 V
(12154)210 648 A
(int)126 1026 A
(bottom;)294 1194 A
2700 V
(12155)210 648 A
1026({)S
2790 V
(12156)210 648 A
(return\(wsetscrreg\(stdscr,)1050 1110 A
(top,)168 2202 A
(bottom\)\);)378 2412 A
2880 V
(12157)210 648 A
1026(})S
2370(/*)S
(setscrreg)378 2496 A
2916(*/)S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/curses/setterm.c)1008 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(12200)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
3690 V
(12201)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
3780 V
(12202)210 648 A
3870 V
(12203)210 648 A
(_PROTOTYPE\()462 1026 A
(static)252 1530 A
(void)168 1824 A
(ttysetflags,)504 2034 A
(\(void\))252 2580 A
2874(\);)S
3960 V
(12204)210 648 A
4050 V
(12205)210 648 A
(static)252 1026 A
(void)168 1320 A
(ttysetflags\(\))546 1530 A
4140 V
(12206)210 648 A
1026({)S
4230 V
(12207)210 648 A
(_tty.c_iflag)504 1110 A
1656(|=)S
(ICRNL)210 1782 A
2034(|)S
(IXON;)210 2118 A
4320 V
(12208)210 648 A
(_tty.c_oflag)504 1110 A
1656(|=)S
(OPOST)210 1782 A
2034(|)S
(ONLCR;)252 2118 A
4410 V
(12209)210 648 A
(_tty.c_lflag)504 1110 A
1656(|=)S
(ECHO)168 1782 A
1992(|)S
(ICANON)252 2076 A
2370(|)S
(IEXTEN)252 2454 A
2748(|)S
(ISIG;)210 2832 A
4500 V
(12210)210 648 A
4590 V
(12211)210 648 A
1110(if)S
(\(_cursvar.rawmode\))756 1236 A
2034({)S
4680 V
(12212)210 648 A
(_tty.c_iflag)504 1362 A
1908(&=)S
(\304\(ICRNL)294 2034 A
2370(|)S
(IXON\);)252 2454 A
4770 V
(12213)210 648 A
(_tty.c_oflag)504 1362 A
1908(&=)S
(\304\(OPOST\);)378 2034 A
4860 V
(12214)210 648 A
(_tty.c_lflag)504 1362 A
1908(&=)S
(\304\(ICANON)336 2034 A
2412(|)S
(IEXTEN)252 2496 A
2790(|)S
(ISIG\);)252 2874 A
4950 V
(12215)210 648 A
1110(})S
5040 V
(12216)210 648 A
1110(if)S
(\(_cursvar.cbrkmode\))798 1236 A
2076({)S
5130 V
(12217)210 648 A
(_tty.c_lflag)504 1362 A
1908(&=)S
(\304\(ICANON\);)420 2034 A
5220 V
(12218)210 648 A
1110(})S
5310 V
(12219)210 648 A
1110(if)S
(\(!_cursvar.echoit\))756 1236 A
2034({)S
5400 V
(12220)210 648 A
(_tty.c_lflag)504 1362 A
1908(&=)S
(\304\(ECHO)252 2034 A
2328(|)S
(ECHONL\);)336 2412 A
5490 V
(12221)210 648 A
1110(})S
5580 V
(12222)210 648 A
1110(if)S
(\(NONL\))252 1236 A
1530({)S
5670 V
(12223)210 648 A
(_tty.c_iflag)504 1362 A
1908(&=)S
(\304\(ICRNL\);)378 2034 A
5760 V
(12224)210 648 A
(_tty.c_oflag)504 1362 A
1908(&=)S
(\304\(ONLCR\);)378 2034 A
5850 V
(12225)210 648 A
1110(})S
5940 V
(12226)210 648 A
(tcsetattr\(0,)504 1110 A
(TCSANOW,)336 1656 A
(&_tty\);)294 2034 A
6030 V
(12227)210 648 A
1026(})S
2370(/*)S
(ttysetflags)462 2496 A
3000(*/)S
6120 V
(12228)210 648 A
6210 V
(12229)210 648 A
(void)168 1026 A
(raw\(\))210 1236 A
8418 V
EP
%%Page: 98 98
BP
/slant 0 def
/height 0 def
630 V
12 B
648(98)S
11 R
1909(File:)S
(src/lib/curses/setterm.c)1024 2142 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(12230)210 648 A
1026({)S
990 V
(12231)210 648 A
(_cursvar.rawmode)672 1110 A
1824(=)S
(TRUE;)210 1908 A
1080 V
(12232)210 648 A
(ttysetflags\(\);)588 1110 A
1170 V
(12233)210 648 A
1026(})S
2370(/*)S
(raw)126 2496 A
2664(*/)S
1260 V
(12234)210 648 A
1350 V
(12235)210 648 A
(void)168 1026 A
(noraw\(\))294 1236 A
1440 V
(12236)210 648 A
1026({)S
1530 V
(12237)210 648 A
(_cursvar.rawmode)672 1110 A
1824(=)S
(FALSE;)252 1908 A
1620 V
(12238)210 648 A
(ttysetflags\(\);)588 1110 A
1710 V
(12239)210 648 A
1026(})S
2370(/*)S
(noraw)210 2496 A
2748(*/)S
1800 V
(12240)210 648 A
1890 V
(12241)210 648 A
(void)168 1026 A
(echo\(\))252 1236 A
1980 V
(12242)210 648 A
1026({)S
2070 V
(12243)210 648 A
(_cursvar.echoit)630 1110 A
1782(=)S
(TRUE;)210 1866 A
2160 V
(12244)210 648 A
(ttysetflags\(\);)588 1110 A
2250 V
(12245)210 648 A
1026(})S
2430 V
(12247)210 648 A
(void)168 1026 A
(noecho\(\))336 1236 A
2520 V
(12248)210 648 A
1026({)S
2610 V
(12249)210 648 A
(_cursvar.echoit)630 1110 A
1782(=)S
(FALSE;)252 1866 A
2700 V
(12250)210 648 A
(ttysetflags\(\);)588 1110 A
2790 V
(12251)210 648 A
1026(})S
2970 V
(12253)210 648 A
(void)168 1026 A
(nl\(\))168 1236 A
3060 V
(12254)210 648 A
1026({)S
3150 V
(12255)210 648 A
(NONL)168 1110 A
1320(=)S
(FALSE;)252 1404 A
3240 V
(12256)210 648 A
(ttysetflags\(\);)588 1110 A
3330 V
(12257)210 648 A
1026(})S
2370(/*)S
2496(nl)S
2622(*/)S
3420 V
(12258)210 648 A
3510 V
(12259)210 648 A
(void)168 1026 A
(nonl\(\))252 1236 A
3600 V
(12260)210 648 A
1026({)S
3690 V
(12261)210 648 A
(NONL)168 1110 A
1320(=)S
(TRUE;)210 1404 A
3780 V
(12262)210 648 A
(ttysetflags\(\);)588 1110 A
3870 V
(12263)210 648 A
1026(})S
2370(/*)S
(nonl)168 2496 A
2706(*/)S
3960 V
(12264)210 648 A
4050 V
(12265)210 648 A
(void)168 1026 A
(cbreak\(\))336 1236 A
4140 V
(12266)210 648 A
1026({)S
4230 V
(12267)210 648 A
(_cursvar.cbrkmode)714 1110 A
1866(=)S
(TRUE;)210 1950 A
4320 V
(12268)210 648 A
(ttysetflags\(\);)588 1110 A
4410 V
(12269)210 648 A
1026(})S
2370(/*)S
(cbreak)252 2496 A
2790(*/)S
4500 V
(12270)210 648 A
4590 V
(12271)210 648 A
(void)168 1026 A
(nocbreak\(\))420 1236 A
4680 V
(12272)210 648 A
1026({)S
4770 V
(12273)210 648 A
(_cursvar.cbrkmode)714 1110 A
1866(=)S
(FALSE;)252 1950 A
4860 V
(12274)210 648 A
(ttysetflags\(\);)588 1110 A
4950 V
(12275)210 648 A
1026(})S
2370(/*)S
(nocbreak)336 2496 A
2874(*/)S
8418 V
EP
%%Page: 99 99
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1918(File:)S
(src/lib/curses/tabsize.c)1006 2151 A
12 B
4308(99)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/tabsize.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(12300)210 648 A
(/****************************************************************/)2772 1026 A
1440 V
(12301)210 648 A
1026(/*)S
(Tabsize\(\))378 1152 A
(routines)336 1572 A
1950(of)S
(the)126 2076 A
(PCcurses)336 2244 A
(package)294 2622 A
3714(*/)S
1530 V
(12302)210 648 A
1026(/*)S
3714(*/)S
1620 V
(12303)210 648 A
(/****************************************************************/)2772 1026 A
1710 V
(12304)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
1800 V
(12305)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
1890 V
(12306)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
1980 V
(12307)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
2070 V
(12308)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
2160 V
(12309)210 648 A
(/****************************************************************/)2772 1026 A
2250 V
(12310)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
2340 V
(12311)210 648 A
(/****************************************************************/)2772 1026 A
2430 V
(12312)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
2520 V
(12313)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
2610 V
(12314)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
2700 V
(12315)210 648 A
(/****************************************************************/)2772 1026 A
2790 V
(12316)210 648 A
2880 V
(12317)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
2970 V
(12318)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
3060 V
(12319)210 648 A
3150 V
(12320)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(12321)210 648 A
1026(/*)S
(Wtabsize\(win,ts\))672 1152 A
(sets)168 1866 A
(the)126 2076 A
(tabsize)294 2244 A
2580(of)S
(window)252 2706 A
('win')210 3000 A
3252(to)S
('ts',)210 3378 A
3714(*/)S
3330 V
(12322)210 648 A
1026(/*)S
(And)126 1152 A
(returns)294 1320 A
(the)126 1656 A
(original)336 1824 A
(value.)252 2202 A
3714(*/)S
3420 V
(12323)210 648 A
(/****************************************************************/)2772 1026 A
3510 V
(12324)210 648 A
3600 V
(12325)210 648 A
(int)126 1026 A
(wtabsize\(win,)546 1194 A
(ts\))126 1782 A
3690 V
(12326)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
3780 V
(12327)210 648 A
(int)126 1026 A
(ts;)126 1194 A
3870 V
(12328)210 648 A
1026({)S
3960 V
(12329)210 648 A
(int)126 1110 A
(origval;)336 1278 A
4050 V
(12330)210 648 A
4140 V
(12331)210 648 A
(origval)294 1110 A
1446(=)S
(win->_tabsize;)588 1530 A
4230 V
(12332)210 648 A
(win->_tabsize)546 1110 A
1698(=)S
(ts;)126 1782 A
4320 V
(12333)210 648 A
(return\(origval\);)672 1110 A
4410 V
(12334)210 648 A
1026(})S
2370(/*)S
(wtabsize)336 2496 A
2874(*/)S
4500 V
(12335)210 648 A
4590 V
(12336)210 648 A
(/****************************************************************/)2772 1026 A
4680 V
(12337)210 648 A
1026(/*)S
(Tabsize\(ts\))462 1152 A
(sets)168 1656 A
(the)126 1866 A
(tabsize)294 2034 A
2370(of)S
(stdscr)252 2496 A
2790(to)S
('ts',)210 2916 A
(and)126 3168 A
(returns)294 3336 A
3714(*/)S
4770 V
(12338)210 648 A
1026(/*)S
(The)126 1152 A
(original)336 1320 A
(value.)252 1698 A
3714(*/)S
4860 V
(12339)210 648 A
(/****************************************************************/)2772 1026 A
4950 V
(12340)210 648 A
5040 V
(12341)210 648 A
(int)126 1026 A
(tabsize\(ts\))462 1194 A
5130 V
(12342)210 648 A
(int)126 1026 A
(ts;)126 1194 A
5220 V
(12343)210 648 A
1026({)S
5310 V
(12344)210 648 A
(int)126 1110 A
(origval;)336 1278 A
5400 V
(12345)210 648 A
5490 V
(12346)210 648 A
(origval)294 1110 A
1446(=)S
(stdscr->_tabsize;)714 1530 A
5580 V
(12347)210 648 A
(stdscr->_tabsize)672 1110 A
1824(=)S
(ts;)126 1908 A
5670 V
(12348)210 648 A
(return\(origval\);)672 1110 A
5760 V
(12349)210 648 A
1026(})S
2370(/*)S
(tabsize)294 2496 A
2832(*/)S
8418 V
EP
%%Page: 100 100
BP
/slant 0 def
/height 0 def
630 V
12 B
(100)180 648 A
11 R
1866(File:)S
(src/lib/curses/termmisc.c)1110 2099 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/termmisc.c)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(12400)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(12401)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(12402)210 648 A
1620 V
(12403)210 648 A
1026(/*)S
(Static)252 1152 A
(variables)378 1446 A
1866(or)S
(saving)252 1992 A
(terminal)336 2286 A
(modes)210 2664 A
2916(*/)S
1710 V
(12404)210 648 A
1800 V
(12405)210 648 A
(int)126 1026 A
(fixterm\(\))378 1194 A
1890 V
(12406)210 648 A
1026({)S
1980 V
(12407)210 648 A
(return\(OK\);)462 1110 A
2070 V
(12408)210 648 A
1026(})S
2370(/*)S
(fixterm)294 2496 A
2832(*/)S
2160 V
(12409)210 648 A
2250 V
(12410)210 648 A
(int)126 1026 A
(resetterm\(\))462 1194 A
2340 V
(12411)210 648 A
1026({)S
2430 V
(12412)210 648 A
(return\(OK\);)462 1110 A
2520 V
(12413)210 648 A
1026(})S
2700 V
(12415)210 648 A
(int)126 1026 A
(saveoldterm\(\))546 1194 A
2790 V
(12416)210 648 A
1026({)S
2880 V
(12417)210 648 A
(return\(OK\);)462 1110 A
2970 V
(12418)210 648 A
1026(})S
2370(/*)S
(saveoldterm)462 2496 A
3000(*/)S
3060 V
(12419)210 648 A
3150 V
(12420)210 648 A
(int)126 1026 A
(saveterm\(\))420 1194 A
3240 V
(12421)210 648 A
1026({)S
3330 V
(12422)210 648 A
(return\(OK\);)462 1110 A
3420 V
(12423)210 648 A
1026(})S
2370(/*)S
(saveterm)336 2496 A
2874(*/)S
3510 V
(12424)210 648 A
3600 V
(12425)210 648 A
(int)126 1026 A
(baudrate\(\))420 1194 A
3690 V
(12426)210 648 A
1026({)S
3780 V
(12427)210 648 A
(return\(19200\);)588 1110 A
3870 V
(12428)210 648 A
1026(})S
2370(/*)S
(baudrate)336 2496 A
2874(*/)S
3960 V
(12429)210 648 A
4050 V
(12430)210 648 A
(/****************************************************************/)2772 1026 A
4140 V
(12431)210 648 A
1026(/*)S
(Erasechar\(\),)504 1152 A
(killchar\(\))420 1698 A
(returns)294 2160 A
(std)126 2496 A
(MSDOS)210 2664 A
(erase)210 2916 A
(chars.)252 3168 A
3714(*/)S
4230 V
(12432)210 648 A
(/****************************************************************/)2772 1026 A
4320 V
(12433)210 648 A
4410 V
(12434)210 648 A
(int)126 1026 A
(erasechar\(\))462 1194 A
4500 V
(12435)210 648 A
1026({)S
4590 V
(12436)210 648 A
(return\(_DCCHAR\);)672 1110 A
2370(/*)S
(character)378 2496 A
(delete)252 2916 A
(char)168 3210 A
3420(*/)S
4680 V
(12437)210 648 A
1026(})S
2370(/*)S
(erasechar)378 2496 A
2916(*/)S
4770 V
(12438)210 648 A
4860 V
(12439)210 648 A
(int)126 1026 A
(killchar\(\))420 1194 A
4950 V
(12440)210 648 A
1026({)S
5040 V
(12441)210 648 A
(return\(_DLCHAR\);)672 1110 A
2370(/*)S
(line)168 2496 A
(delete)252 2706 A
(char)168 3000 A
3210(*/)S
5130 V
(12442)210 648 A
1026(})S
2370(/*)S
(killchar)336 2496 A
2874(*/)S
5220 V
(12443)210 648 A
5310 V
(12444)210 648 A
(/****************************************************************/)2772 1026 A
5400 V
(12445)210 648 A
1026(/*)S
(Savetty\(\))378 1152 A
(and)126 1572 A
(resetty\(\))378 1740 A
(saves)210 2160 A
(and)126 2412 A
(restores)336 2580 A
(the)126 2958 A
(terminal)336 3126 A
(I/O)126 3504 A
3714(*/)S
5490 V
(12446)210 648 A
1026(/*)S
(Settings.)378 1152 A
3714(*/)S
5580 V
(12447)210 648 A
(/****************************************************************/)2772 1026 A
5670 V
(12448)210 648 A
5760 V
(12449)210 648 A
(int)126 1026 A
(savetty\(\))378 1194 A
5850 V
(12450)210 648 A
1026({)S
5940 V
(12451)210 648 A
(return\(OK\);)462 1110 A
6030 V
(12452)210 648 A
1026(})S
2370(/*)S
(savetty)294 2496 A
2832(*/)S
6120 V
(12453)210 648 A
6210 V
(12454)210 648 A
(/****************************************************************/)2772 1026 A
8418 V
EP
%%Page: 101 101
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1866(File:)S
(src/lib/curses/termmisc.c)1110 2099 A
12 B
(101)180 4248 A
900 V
7 LST
(12455)210 648 A
1026(/*)S
(Setupterm\(\))462 1152 A
(sets)168 1656 A
1866(up)S
(the)126 1992 A
(terminal.)378 2160 A
2580(On)S
2706(a)S
(PC,)126 2790 A
2958(it)S
3084(is)S
(always)252 3210 A
(suc-)168 3504 A
3714(*/)S
990 V
(12456)210 648 A
1026(/*)S
(Cessful,)336 1152 A
(and)126 1530 A
(returns)294 1698 A
2034(1.)S
3714(*/)S
1080 V
(12457)210 648 A
(/****************************************************************/)2772 1026 A
1170 V
(12458)210 648 A
1260 V
(12459)210 648 A
(int)126 1026 A
(setupterm\(\))462 1194 A
1350 V
(12460)210 648 A
1026({)S
1440 V
(12461)210 648 A
(return\(1\);)420 1110 A
1530 V
(12462)210 648 A
1026(})S
2370(/*)S
(setupterm)378 2496 A
2916(*/)S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/curses/unctrl.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(12500)210 648 A
(/****************************************************************/)2772 1026 A
2340 V
(12501)210 648 A
1026(/*)S
(Unctrl\(\))336 1152 A
(routines)336 1530 A
1908(of)S
(the)126 2034 A
(PCcurses)336 2202 A
(package)294 2580 A
3714(*/)S
2430 V
(12502)210 648 A
1026(/*)S
3714(*/)S
2520 V
(12503)210 648 A
(/****************************************************************/)2772 1026 A
2610 V
(12504)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
2700 V
(12505)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
2790 V
(12506)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
2880 V
(12507)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
2970 V
(12508)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
3060 V
(12509)210 648 A
(/****************************************************************/)2772 1026 A
3150 V
(12510)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
3240 V
(12511)210 648 A
(/****************************************************************/)2772 1026 A
3330 V
(12512)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
3420 V
(12513)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
3510 V
(12514)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
3600 V
(12515)210 648 A
(/****************************************************************/)2772 1026 A
3690 V
(12516)210 648 A
3780 V
(12517)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
3870 V
(12518)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
3960 V
(12519)210 648 A
4050 V
(12520)210 648 A
(static)252 1026 A
(char)168 1320 A
(strbuf[3])378 1530 A
1950(=)S
({0,)126 2034 A
2202(0,)S
(0};)126 2328 A
4140 V
(12521)210 648 A
4230 V
(12522)210 648 A
(/****************************************************************/)2772 1026 A
4320 V
(12523)210 648 A
1026(/*)S
(Unctrl\(\))336 1152 A
(returns)294 1530 A
1866(a)S
(char)168 1950 A
(pointer)294 2160 A
2496(to)S
2622(a)S
(string)252 2706 A
(corresponding)546 3000 A
3588(to)S
3714(*/)S
4410 V
(12524)210 648 A
1026(/*)S
(Argument)336 1152 A
(character)378 1530 A
('c'.)168 1950 A
3714(*/)S
4500 V
(12525)210 648 A
(/****************************************************************/)2772 1026 A
4590 V
(12526)210 648 A
4680 V
(12527)210 648 A
(char)168 1026 A
(*unctrl\(c\))420 1236 A
4770 V
(12528)210 648 A
(char)168 1026 A
1236(c;)S
4860 V
(12529)210 648 A
1026({)S
4950 V
(12530)210 648 A
(int)126 1110 A
1278(ic)S
1404(=)S
1488(c;)S
5040 V
(12531)210 648 A
1110(ic)S
1236(&=)S
(0xff;)210 1362 A
5130 V
(12532)210 648 A
5220 V
(12533)210 648 A
1110(if)S
(\(\(ic)168 1236 A
1446(>=)S
1572(')S
1656('\))S
1782(&&)S
(\(ic)126 1908 A
2076(!=)S
(0x7f\)\))252 2202 A
2496({)S
2706(/*)S
(normal)252 2832 A
(characters)420 3126 A
3588(*/)S
5310 V
(12534)210 648 A
(strbuf[0])378 1362 A
1782(=)S
(ic;)126 1866 A
5400 V
(12535)210 648 A
(strbuf[1])378 1362 A
1782(=)S
('\\0';)210 1866 A
5490 V
(12536)210 648 A
(return\(strbuf\);)630 1362 A
5580 V
(12537)210 648 A
1110(})S
2370(/*)S
2496(if)S
2622(*/)S
5670 V
(12538)210 648 A
(strbuf[0])378 1110 A
1530(=)S
('\303';)168 1614 A
2370(/*)S
('\303')126 2496 A
(prefix)252 2664 A
2958(*/)S
5760 V
(12539)210 648 A
1110(if)S
1236(\(c)S
1362(==)S
(0x7f\))210 1488 A
2370(/*)S
(DEL)126 2496 A
2664(*/)S
5850 V
(12540)210 648 A
(strbuf[1])378 1362 A
1782(=)S
('?';)168 1866 A
5940 V
(12541)210 648 A
(else)168 1110 A
2370(/*)S
(other)210 2496 A
(control)294 2748 A
3084(*/)S
6030 V
(12542)210 648 A
(strbuf[1])378 1362 A
1782(=)S
1866(ic)S
1992(+)S
('@';)168 2076 A
6120 V
(12543)210 648 A
(return\(strbuf\);)630 1110 A
6210 V
(12544)210 648 A
1026(})S
2370(/*)S
(unctrl)252 2496 A
2790(*/)S
8418 V
EP
%%Page: 102 102
BP
/slant 0 def
/height 0 def
630 V
12 B
(102)180 648 A
11 R
1925(File:)S
(src/lib/curses/update.c)992 2158 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/update.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(12600)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(12601)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(12602)210 648 A
(#include)336 1026 A
(<termcap.h>)462 1404 A
1620 V
(12603)210 648 A
1710 V
(12604)210 648 A
(static)252 1026 A
(WINDOW)252 1320 A
(*twin;)252 1614 A
2370(/*)S
(used)168 2496 A
2706(by)S
(many)168 2832 A
(routines)336 3042 A
3420(*/)S
1800 V
(12605)210 648 A
1890 V
(12606)210 648 A
(/****************************************************************/)2772 1026 A
1980 V
(12607)210 648 A
1026(/*)S
(Gotoxy\(\))336 1152 A
(moves)210 1530 A
(the)126 1782 A
(physical)336 1950 A
(cursor)252 2328 A
2622(to)S
(the)126 2748 A
(desired)294 2916 A
(address)294 3252 A
3588(on)S
3714(*/)S
2070 V
(12608)210 648 A
1026(/*)S
(The)126 1152 A
(screen.)294 1320 A
1656(We)S
(don't)210 1782 A
(optimize)336 2034 A
(here)168 2412 A
2622(-)S
2706(on)S
2832(a)S
(PC,)126 2916 A
3084(it)S
(takes)210 3210 A
(more)168 3462 A
3714(*/)S
2160 V
(12609)210 648 A
1026(/*)S
(Time)168 1152 A
1362(to)S
(optimize)336 1488 A
(than)168 1866 A
2076(to)S
2202(do)S
(things)252 2328 A
(directly.)378 2622 A
3714(*/)S
2250 V
(12610)210 648 A
(/****************************************************************/)2772 1026 A
2340 V
(12611)210 648 A
2430 V
(12612)210 648 A
(_PROTOTYPE\(static)714 1026 A
(void)168 1782 A
(gotoxy,)294 1992 A
(\(int)168 2328 A
(row,)168 2538 A
(int)126 2748 A
(col)126 2916 A
(\)\);)126 3084 A
2520 V
(12613)210 648 A
(_PROTOTYPE\(static)714 1026 A
(void)168 1782 A
(newattr,)336 1992 A
(\(int)168 2370 A
2580(ch)S
(\)\);)126 2706 A
2610 V
(12614)210 648 A
(_PROTOTYPE\(static)714 1026 A
(void)168 1782 A
(Putchar,)336 1992 A
(\(int)168 2370 A
2580(ch)S
(\)\);)126 2706 A
2700 V
(12615)210 648 A
(_PROTOTYPE\(static)714 1026 A
(void)168 1782 A
(clrupdate,)420 1992 A
(\(WINDOW)294 2454 A
(*scr)168 2790 A
(\)\);)126 3000 A
2790 V
(12616)210 648 A
(_PROTOTYPE\(static)714 1026 A
(void)168 1782 A
(transformline,)588 1992 A
(\(int)168 2622 A
(lineno)252 2832 A
(\)\);)126 3126 A
2880 V
(12617)210 648 A
2970 V
(12618)210 648 A
(static)252 1026 A
(void)168 1320 A
(gotoxy\(row,)462 1530 A
(col\))168 2034 A
3060 V
(12619)210 648 A
(int)126 1026 A
(row,)168 1194 A
(col;)168 1404 A
3150 V
(12620)210 648 A
1026({)S
3240 V
(12621)210 648 A
(poscur\(row,)462 1110 A
(col\);)210 1614 A
3330 V
(12622)210 648 A
(_cursvar.cursrow)672 1110 A
1824(=)S
(row;)168 1908 A
3420 V
(12623)210 648 A
(_cursvar.curscol)672 1110 A
1824(=)S
(col;)168 1908 A
3510 V
(12624)210 648 A
1026(})S
3690 V
(12626)210 648 A
1026(/*)S
(Update)252 1152 A
(attributes)420 1446 A
1908(*/)S
3780 V
(12627)210 648 A
(static)252 1026 A
(void)168 1320 A
(newattr\(ch\))462 1530 A
3870 V
(12628)210 648 A
(int)126 1026 A
(ch;)126 1194 A
3960 V
(12629)210 648 A
1026({)S
4050 V
(12630)210 648 A
(extern)252 1110 A
(char)168 1404 A
(*me,)168 1614 A
(*as,)168 1824 A
(*ae,)168 2034 A
(*mb,)168 2244 A
(*md,)168 2454 A
(*mr,)168 2664 A
(*so,)168 2874 A
(*us;)168 3084 A
4140 V
(12631)210 648 A
(static)252 1110 A
(int)126 1404 A
(lastattr)336 1572 A
1950(=)S
2034(0;)S
4230 V
(12632)210 648 A
4320 V
(12633)210 648 A
1110(if)S
(\(lastattr)378 1236 A
1656(!=)S
(\(ch)126 1782 A
1950(&=)S
(ATR_MSK\)\))378 2076 A
2496({)S
4410 V
(12634)210 648 A
(lastattr)336 1362 A
1740(=)S
(ch;)126 1824 A
4500 V
(12635)210 648 A
4590 V
(12636)210 648 A
(tputs\(me,)378 1362 A
1782(1,)S
(outc\);)252 1908 A
4680 V
(12637)210 648 A
1362(if)S
(\(ae\))168 1488 A
(tputs\(ae,)378 1698 A
2118(1,)S
(outc\);)252 2244 A
4770 V
(12638)210 648 A
4860 V
(12639)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(&)S
(A_ALTCHARSET\))546 1740 A
4950 V
(12640)210 648 A
1698(if)S
(\(as\))168 1824 A
(tputs\(as,)378 2034 A
2454(1,)S
(outc\);)252 2580 A
5040 V
(12641)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(&)S
(A_BLINK\))336 1740 A
(tputs\(mb,)378 2118 A
2538(1,)S
(outc\);)252 2664 A
5130 V
(12642)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(&)S
(A_BOLD\))294 1740 A
(tputs\(md,)378 2076 A
2496(1,)S
(outc\);)252 2622 A
5220 V
(12643)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(&)S
(A_REVERSE\))420 1740 A
(tputs\(mr,)378 2202 A
2622(1,)S
(outc\);)252 2748 A
5310 V
(12644)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(&)S
(A_STANDOUT\))462 1740 A
(tputs\(so,)378 2244 A
2664(1,)S
(outc\);)252 2790 A
5400 V
(12645)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(&)S
(A_UNDERLINE\))504 1740 A
(tputs\(us,)378 2286 A
2706(1,)S
(outc\);)252 2832 A
5490 V
(12646)210 648 A
1110(})S
5580 V
(12647)210 648 A
1026(})S
5760 V
(12649)210 648 A
1026(/*)S
(Putchar\(\))378 1152 A
(writes)252 1572 A
1866(a)S
(character,)420 1950 A
(with)168 2412 A
(attributes,)462 2622 A
3126(to)S
(the)126 3252 A
(physical)336 3420 A
5850 V
(12650)210 648 A
(screen,)294 1152 A
(but)126 1488 A
(avoids)252 1656 A
(writing)294 1950 A
2286(to)S
(the)126 2412 A
(lower)210 2580 A
(right)210 2832 A
(screen)252 3084 A
(position.)378 3378 A
5940 V
(12651)210 648 A
(Should)252 1152 A
1446(it)S
(care)168 1572 A
(about)210 1782 A
(am?)126 2034 A
6030 V
(12652)210 648 A
1026(*/)S
6120 V
(12653)210 648 A
6210 V
(12654)210 648 A
1026(/*)S
(Output)252 1152 A
(char)168 1446 A
(with)168 1656 A
(attribute)378 1866 A
2286(*/)S
8418 V
EP
%%Page: 103 103
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1925(File:)S
(src/lib/curses/update.c)992 2158 A
12 B
(103)180 4248 A
900 V
7 LST
(12655)210 648 A
(static)252 1026 A
(void)168 1320 A
(Putchar\(ch\))462 1530 A
990 V
(12656)210 648 A
(int)126 1026 A
(ch;)126 1194 A
1080 V
(12657)210 648 A
1026({)S
1170 V
(12658)210 648 A
1110(if)S
(\(\(_cursvar.cursrow)756 1236 A
2034(<)S
(LINES\))252 2118 A
2412(||)S
(\(_cursvar.curscol)714 2538 A
3294(<)S
(COLS\)\))252 3378 A
3672({)S
1260 V
(12659)210 648 A
(newattr\(ch\);)504 1362 A
1350 V
(12660)210 648 A
(putchar\(ch\);)504 1362 A
1440 V
(12661)210 648 A
1110(})S
1530 V
(12662)210 648 A
1026(})S
1710 V
(12664)210 648 A
(/****************************************************************/)2772 1026 A
1800 V
(12665)210 648 A
1026(/*)S
(Clrupdate\(scr\))588 1152 A
(updates)294 1782 A
(the)126 2118 A
(screen)252 2286 A
2580(by)S
(clearing)336 2706 A
3084(it)S
(and)126 3210 A
(then)168 3378 A
3714(*/)S
1890 V
(12666)210 648 A
1026(/*)S
(Redraw)252 1152 A
1446(it)S
1572(in)S
(it's)168 1698 A
(entirety.)378 1908 A
3714(*/)S
1980 V
(12667)210 648 A
(/****************************************************************/)2772 1026 A
2070 V
(12668)210 648 A
2160 V
(12669)210 648 A
(static)252 1026 A
(void)168 1320 A
(clrupdate\(scr\))588 1530 A
2250 V
(12670)210 648 A
(WINDOW)252 1026 A
(*scr;)210 1320 A
2340 V
(12671)210 648 A
1026({)S
2430 V
(12672)210 648 A
(register)336 1110 A
(int)126 1488 A
(*src;)210 1656 A
2520 V
(12673)210 648 A
(register)336 1110 A
(int)126 1488 A
(*dst;)210 1656 A
2610 V
(12674)210 648 A
(register)336 1110 A
(int)126 1488 A
1656(i;)S
2700 V
(12675)210 648 A
(register)336 1110 A
(int)126 1488 A
1656(j;)S
2790 V
(12676)210 648 A
(WINDOW)252 1110 A
(*w;)126 1404 A
2880 V
(12677)210 648 A
2970 V
(12678)210 648 A
1110(w)S
1194(=)S
(curscr;)294 1278 A
3060 V
(12679)210 648 A
3150 V
(12680)210 648 A
1110(if)S
(\(scr)168 1236 A
1446(!=)S
1572(w\))S
1698({)S
2370(/*)S
(copy)168 2496 A
(scr)126 2706 A
2874(to)S
(curscr)252 3000 A
3294(*/)S
3240 V
(12681)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<)S
(LINES;)252 2034 A
(i++\))168 2328 A
2538({)S
3330 V
(12682)210 648 A
(src)126 1698 A
1866(=)S
(scr->_line[i];)588 1950 A
3420 V
(12683)210 648 A
(dst)126 1698 A
1866(=)S
(w->_line[i];)504 1950 A
3510 V
(12684)210 648 A
(for)126 1698 A
1866(\(j)S
1992(=)S
2076(0;)S
2202(j)S
2286(<)S
(COLS;)210 2370 A
(j++\))168 2622 A
(*dst++)252 2832 A
3126(=)S
(*src++;)294 3210 A
3600 V
(12685)210 648 A
1362(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
3690 V
(12686)210 648 A
1110(})S
2370(/*)S
2496(if)S
2622(*/)S
3780 V
(12687)210 648 A
(newattr\(scr->_attrs\);)882 1110 A
3870 V
(12688)210 648 A
(clrscr\(\);)378 1110 A
3960 V
(12689)210 648 A
(scr->_clear)462 1110 A
1614(=)S
(FALSE;)252 1698 A
4050 V
(12690)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(LINES;)252 1782 A
(i++\))168 2076 A
2286({)S
2370(/*)S
(update)252 2496 A
(physical)336 2790 A
(screen)252 3168 A
3462(*/)S
4140 V
(12691)210 648 A
(src)126 1362 A
1530(=)S
(w->_line[i];)504 1614 A
4230 V
(12692)210 648 A
1362(j)S
1446(=)S
1530(0;)S
4320 V
(12693)210 648 A
(while)210 1362 A
1614(\(j)S
1740(<)S
(COLS\))210 1824 A
2076({)S
4410 V
(12694)210 648 A
1698(if)S
(\(*src)210 1824 A
2076(!=)S
2202(\(')S
2328(')S
2412(|)S
(ATR_NRM\)\))378 2496 A
2916({)S
4500 V
(12695)210 648 A
(gotoxy\(i,)378 2034 A
(j\);)126 2454 A
4590 V
(12696)210 648 A
(while)210 2034 A
2286(\(j)S
2412(<)S
(COLS)168 2496 A
2706(&&)S
(\(*src)210 2832 A
3084(!=)S
3210(\(')S
3336(')S
3420(|)S
(ATR_NRM\)\)\))420 3504 A
3966({)S
4680 V
(12697)210 648 A
(Putchar\(*src++\);)672 2370 A
4770 V
(12698)210 648 A
(j++;)168 2370 A
4860 V
(12699)210 648 A
2034(})S
4950 V
(12700)210 648 A
1698(})S
(else)168 1782 A
1992({)S
5040 V
(12701)210 648 A
(src++;)252 2034 A
5130 V
(12702)210 648 A
(j++;)168 2034 A
5220 V
(12703)210 648 A
1698(})S
5310 V
(12704)210 648 A
1362(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
5400 V
(12705)210 648 A
1110(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
5490 V
(12706)210 648 A
(fflush\(stdout\);)630 1110 A
5580 V
(12707)210 648 A
1026(})S
2370(/*)S
(clrupdate)378 2496 A
2916(*/)S
5670 V
(12708)210 648 A
5760 V
(12709)210 648 A
(/****************************************************************/)2772 1026 A
5850 V
(12710)210 648 A
1026(/*)S
(Transformline\(\))630 1152 A
(updates)294 1824 A
(the)126 2160 A
(given)210 2328 A
(physical)336 2580 A
(line)168 2958 A
3168(to)S
(look)168 3294 A
3714(*/)S
5940 V
(12711)210 648 A
1026(/*)S
(Like)168 1152 A
(the)126 1362 A
(corresponding)546 1530 A
(line)168 2118 A
2328(in)S
(_cursvar.tmpwin.)672 2454 A
3714(*/)S
6030 V
(12712)210 648 A
(/****************************************************************/)2772 1026 A
6120 V
(12713)210 648 A
6210 V
(12714)210 648 A
(static)252 1026 A
(void)168 1320 A
(transformline\(lineno\))882 1530 A
8418 V
EP
%%Page: 104 104
BP
/slant 0 def
/height 0 def
630 V
12 B
(104)180 648 A
11 R
1925(File:)S
(src/lib/curses/update.c)992 2158 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(12715)210 648 A
(register)336 1026 A
(int)126 1404 A
(lineno;)294 1572 A
990 V
(12716)210 648 A
1026({)S
1080 V
(12717)210 648 A
(register)336 1110 A
(int)126 1488 A
(*dstp;)252 1656 A
1170 V
(12718)210 648 A
(register)336 1110 A
(int)126 1488 A
(*srcp;)252 1656 A
1260 V
(12719)210 648 A
(register)336 1110 A
(int)126 1488 A
(dstc;)210 1656 A
1350 V
(12720)210 648 A
(register)336 1110 A
(int)126 1488 A
(srcc;)210 1656 A
1440 V
(12721)210 648 A
(int)126 1110 A
1278(x;)S
1530 V
(12722)210 648 A
(int)126 1110 A
(endx;)210 1278 A
1620 V
(12723)210 648 A
1710 V
(12724)210 648 A
1110(x)S
1194(=)S
(twin->_minchng[lineno];)966 1278 A
1800 V
(12725)210 648 A
(endx)168 1110 A
1320(=)S
(twin->_maxchng[lineno];)966 1404 A
1890 V
(12726)210 648 A
(dstp)168 1110 A
1320(=)S
(curscr->_line[lineno])882 1404 A
2328(+)S
2412(x;)S
1980 V
(12727)210 648 A
(srcp)168 1110 A
1320(=)S
(twin->_line[lineno])798 1404 A
2244(+)S
2328(x;)S
2070 V
(12728)210 648 A
2160 V
(12729)210 648 A
(while)210 1110 A
1362(\(x)S
1488(<=)S
(endx\))210 1614 A
1866({)S
2250 V
(12730)210 648 A
1362(if)S
(\(\(*dstp)294 1488 A
1824(!=)S
(*srcp\))252 1950 A
2244(||)S
(\(dstc)210 2370 A
2622(!=)S
(srcc\)\))252 2748 A
3042({)S
2340 V
(12731)210 648 A
(gotoxy\(lineno,)588 1698 A
(x\);)126 2328 A
2430 V
(12732)210 648 A
(while)210 1698 A
1950(\(x)S
2076(<=)S
(endx)168 2202 A
2412(&&)S
(\(\(*dstp)294 2538 A
2874(!=)S
(*srcp\))252 3000 A
3294(||)S
(\(dstc)210 3420 A
3672(!=)S
(srcc\)\)\))294 3798 A
4134({)S
2520 V
(12733)210 648 A
(Putchar\(*srcp\);)630 2034 A
2610 V
(12734)210 648 A
(*dstp++)294 2034 A
2370(=)S
(*srcp++;)336 2454 A
2700 V
(12735)210 648 A
(x++;)168 2034 A
2790 V
(12736)210 648 A
1698(})S
2880 V
(12737)210 648 A
1362(})S
(else)168 1446 A
1656({)S
2970 V
(12738)210 648 A
(*dstp++)294 1698 A
2034(=)S
(*srcp++;)336 2118 A
3060 V
(12739)210 648 A
(x++;)168 1698 A
3150 V
(12740)210 648 A
1362(})S
3240 V
(12741)210 648 A
1110(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
3330 V
(12742)210 648 A
(twin->_minchng[lineno])924 1110 A
2076(=)S
(_NO_CHANGE;)462 2160 A
3420 V
(12743)210 648 A
(twin->_maxchng[lineno])924 1110 A
2076(=)S
(_NO_CHANGE;)462 2160 A
3510 V
(12744)210 648 A
1026(})S
2370(/*)S
(transformline)546 2496 A
3084(*/)S
3600 V
(12745)210 648 A
3690 V
(12746)210 648 A
(/****************************************************************/)2772 1026 A
3780 V
(12747)210 648 A
1026(/*)S
(Doupdate\(\))420 1152 A
(updates)294 1614 A
(the)126 1950 A
(physical)336 2118 A
(screen)252 2496 A
2790(to)S
(look)168 2916 A
(like)168 3126 A
(_curs-)252 3336 A
3714(*/)S
3870 V
(12748)210 648 A
1026(/*)S
(Var.tmpwin)420 1152 A
1614(if)S
(curscr)252 1740 A
2034(is)S
(not)126 2160 A
('Clear-marked'.)630 2328 A
(Otherwise)378 3000 A
3420(it)S
3714(*/)S
3960 V
(12749)210 648 A
1026(/*)S
(Updates)294 1152 A
(the)126 1488 A
(screen)252 1656 A
1950(to)S
(look)168 2076 A
(like)168 2286 A
(curscr.)294 2496 A
3714(*/)S
4050 V
(12750)210 648 A
(/****************************************************************/)2772 1026 A
4140 V
(12751)210 648 A
4230 V
(12752)210 648 A
(void)168 1026 A
(doupdate\(\))420 1236 A
4320 V
(12753)210 648 A
1026({)S
4410 V
(12754)210 648 A
(int)126 1110 A
1278(i;)S
4500 V
(12755)210 648 A
4590 V
(12756)210 648 A
(twin)168 1110 A
1320(=)S
(_cursvar.tmpwin;)672 1404 A
4680 V
(12757)210 648 A
1110(if)S
(\(curscr->_clear\))672 1236 A
4770 V
(12758)210 648 A
(clrupdate\(curscr\);)756 1362 A
4860 V
(12759)210 648 A
(else)168 1110 A
1320({)S
4950 V
(12760)210 648 A
1362(if)S
(\(twin->_clear\))588 1488 A
5040 V
(12761)210 648 A
(clrupdate\(twin\);)672 1698 A
5130 V
(12762)210 648 A
(else)168 1362 A
1572({)S
5220 V
(12763)210 648 A
(for)126 1698 A
1866(\(i)S
1992(=)S
2076(0;)S
2202(i)S
2286(<)S
(LINES;)252 2370 A
(i++\))168 2664 A
5310 V
(12764)210 648 A
2034(if)S
(\(twin->_minchng[i])756 2160 A
2958(!=)S
(_NO_CHANGE\))462 3084 A
5400 V
(12765)210 648 A
(transformline\(i\);)714 2370 A
5490 V
(12766)210 648 A
1362(})S
5580 V
(12767)210 648 A
1110(})S
5670 V
(12768)210 648 A
(curscr->_curx)546 1110 A
1698(=)S
(twin->_curx;)504 1782 A
5760 V
(12769)210 648 A
(curscr->_cury)546 1110 A
1698(=)S
(twin->_cury;)504 1782 A
5850 V
(12770)210 648 A
(gotoxy\(curscr->_cury,)882 1110 A
(curscr->_curx\);)630 2034 A
5940 V
(12771)210 648 A
(fflush\(stdout\);)630 1110 A
6030 V
(12772)210 648 A
1026(})S
2370(/*)S
(doupdate)336 2496 A
2874(*/)S
8418 V
EP
%%Page: 105 105
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1901(File:)S
(src/lib/curses/waddch.c)1041 2134 A
12 B
(105)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/waddch.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(12800)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(12801)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(12802)210 648 A
1620 V
(12803)210 648 A
(/****************************************************************/)2772 1026 A
1710 V
(12804)210 648 A
1026(/*)S
(Newline\(\))378 1152 A
(does)168 1572 A
(line)168 1782 A
(advance)294 1992 A
(and)126 2328 A
(returns)294 2496 A
(the)126 2832 A
(new)126 3000 A
(cursor)252 3168 A
(line.)210 3462 A
3714(*/)S
1800 V
(12805)210 648 A
1026(/*)S
1152(If)S
(error,)252 1278 A
(return)252 1572 A
(-1.)126 1866 A
3714(*/)S
1890 V
(12806)210 648 A
(/****************************************************************/)2772 1026 A
1980 V
(12807)210 648 A
2070 V
(12808)210 648 A
(_PROTOTYPE\()462 1026 A
(static)252 1530 A
(short)210 1824 A
(newline,)336 2076 A
(\(WINDOW)294 2454 A
(*win,)210 2790 A
(int)126 3042 A
(lin\)\);)252 3210 A
2160 V
(12809)210 648 A
2250 V
(12810)210 648 A
(static)252 1026 A
(short)210 1320 A
(newline\(win,)504 1572 A
(lin\))168 2118 A
2340 V
(12811)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2430 V
(12812)210 648 A
(int)126 1026 A
(lin;)168 1194 A
2520 V
(12813)210 648 A
1026({)S
2610 V
(12814)210 648 A
1110(if)S
(\(++lin)252 1236 A
1530(>)S
(win->_regbottom\))672 1614 A
2328({)S
2700 V
(12815)210 648 A
(lin--;)252 1362 A
2790 V
(12816)210 648 A
1362(if)S
(\(win->_scroll\))588 1488 A
2880 V
(12817)210 648 A
(scroll\(win\);)504 1698 A
2970 V
(12818)210 648 A
(else)168 1362 A
3060 V
(12819)210 648 A
(return\(-1\);)462 1698 A
3150 V
(12820)210 648 A
1110(})S
2370(/*)S
2496(if)S
2622(*/)S
3240 V
(12821)210 648 A
(return\(lin\);)504 1110 A
3330 V
(12822)210 648 A
1026(})S
2370(/*)S
(newline)294 2496 A
2832(*/)S
3420 V
(12823)210 648 A
3510 V
(12824)210 648 A
(/****************************************************************/)2772 1026 A
3600 V
(12825)210 648 A
1026(/*)S
(Waddch\(\))336 1152 A
(inserts)294 1530 A
(character)378 1866 A
('c')126 2286 A
2454(at)S
(the)126 2580 A
(current)294 2748 A
(cursor)252 3084 A
(posi-)210 3378 A
3714(*/)S
3690 V
(12826)210 648 A
1026(/*)S
(Tion)168 1152 A
1362(in)S
(window)252 1488 A
('win',)252 1782 A
(and)126 2076 A
(takes)210 2244 A
(any)126 2496 A
(actions)294 2664 A
3000(as)S
(dictated)336 3126 A
3504(by)S
3714(*/)S
3780 V
(12827)210 648 A
1026(/*)S
(The)126 1152 A
(character.)420 1320 A
3714(*/)S
3870 V
(12828)210 648 A
(/****************************************************************/)2772 1026 A
3960 V
(12829)210 648 A
4050 V
(12830)210 648 A
(int)126 1026 A
(waddch\(win,)462 1194 A
1698(c\))S
4140 V
(12831)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
4230 V
(12832)210 648 A
(int)126 1026 A
1194(c;)S
4320 V
(12833)210 648 A
1026({)S
4410 V
(12834)210 648 A
(int)126 1110 A
1278(x)S
1362(=)S
(win->_curx;)462 1446 A
4500 V
(12835)210 648 A
(int)126 1110 A
1278(y)S
1362(=)S
(win->_cury;)462 1446 A
4590 V
(12836)210 648 A
(int)126 1110 A
(newx;)210 1278 A
4680 V
(12837)210 648 A
(int)126 1110 A
1278(ch)S
1404(=)S
1488(c;)S
4770 V
(12838)210 648 A
(int)126 1110 A
1278(ts)S
1404(=)S
(win->_tabsize;)588 1488 A
4860 V
(12839)210 648 A
4950 V
(12840)210 648 A
1110(ch)S
1236(&=)S
(\(A_ALTCHARSET)546 1362 A
1950(|)S
(0xff\);)252 2034 A
5040 V
(12841)210 648 A
1110(if)S
1236(\(y)S
1362(>)S
(win->_maxy)420 1446 A
1908(||)S
2034(x)S
2118(>)S
(win->_maxx)420 2202 A
2664(||)S
2790(y)S
2874(<)S
2958(0)S
3042(||)S
3168(x)S
3252(<)S
3336(0\))S
(return\(ERR\);)504 3462 A
5130 V
(12842)210 648 A
(switch)252 1110 A
(\(ch\))168 1404 A
1614({)S
5220 V
(12843)210 648 A
(case)168 1278 A
('\\t':)210 1488 A
5310 V
(12844)210 648 A
(for)126 1362 A
(\(newx)210 1530 A
1782(=)S
(\(\(x)126 1866 A
2034(/)S
(ts\))126 2118 A
2286(+)S
2370(1\))S
2496(*)S
(ts;)126 2580 A
2748(x)S
2832(<)S
(newx;)210 2916 A
(x++\))168 3168 A
3378({)S
5400 V
(12845)210 648 A
1698(if)S
(\(waddch\(win,)504 1824 A
2370(')S
2454('\))S
2580(==)S
(ERR\))168 2706 A
(return\(ERR\);)504 2916 A
5490 V
(12846)210 648 A
1698(if)S
(\(win->_curx)462 1824 A
2328(==)S
2454(0\))S
2706(/*)S
2832(if)S
(tab)126 2958 A
3126(to)S
(next)168 3252 A
(line)168 3462 A
3672(*/)S
5580 V
(12847)210 648 A
(return\(OK\);)462 2034 A
2706(/*)S
(exit)168 2832 A
(the)126 3042 A
(loop)168 3210 A
3420(*/)S
5670 V
(12848)210 648 A
1362(})S
5760 V
(12849)210 648 A
(return\(OK\);)462 1362 A
5850 V
(12850)210 648 A
5940 V
(12851)210 648 A
(case)168 1278 A
('\\n':)210 1488 A
6030 V
(12852)210 648 A
1362(if)S
(\(NONL\))252 1488 A
1782(x)S
1866(=)S
1950(0;)S
6120 V
(12853)210 648 A
1362(if)S
(\(\(y)126 1488 A
1656(=)S
(newline\(win,)504 1740 A
(y\)\))126 2286 A
2454(<)S
2538(0\))S
(return)252 2664 A
(\(ERR\);)252 2958 A
6210 V
(12854)210 648 A
(break;)252 1362 A
8418 V
EP
%%Page: 106 106
BP
/slant 0 def
/height 0 def
630 V
12 B
(106)180 648 A
11 R
1901(File:)S
(src/lib/curses/waddch.c)1041 2134 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(12855)210 648 A
990 V
(12856)210 648 A
(case)168 1278 A
('\\r':)210 1488 A
2034(x)S
2118(=)S
2202(0;)S
(break;)252 2370 A
1080 V
(12857)210 648 A
1170 V
(12858)210 648 A
(case)168 1278 A
('\\b':)210 1488 A
1260 V
(12859)210 648 A
1362(if)S
(\(--x)168 1488 A
1698(<)S
1782(0\))S
2370(/*)S
2496(no)S
(back)168 2622 A
(over)168 2832 A
(left)168 3042 A
(margin)252 3252 A
3546(*/)S
1350 V
(12860)210 648 A
1698(x)S
1782(=)S
1866(0;)S
1440 V
(12861)210 648 A
(break;)252 1362 A
1530 V
(12862)210 648 A
1620 V
(12863)210 648 A
(case)168 1278 A
(0x7f:)210 1488 A
1710 V
(12864)210 648 A
1362({)S
1800 V
(12865)210 648 A
1698(if)S
(\(waddch\(win,)504 1824 A
('\303'\))168 2370 A
2580(==)S
(ERR\))168 2706 A
(return\(ERR\);)504 2916 A
1890 V
(12866)210 648 A
(return\(waddch\(win,)756 1698 A
('?'\)\);)252 2496 A
1980 V
(12867)210 648 A
1362(})S
2070 V
(12868)210 648 A
2160 V
(12869)210 648 A
(default:)336 1278 A
2250 V
(12870)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(<)S
1740(')S
1824('\))S
1950({)S
2370(/*)S
(handle)252 2496 A
(control)294 2790 A
(chars)210 3126 A
3378(*/)S
2340 V
(12871)210 648 A
1698(if)S
(\(waddch\(win,)504 1824 A
('\303'\))168 2370 A
2580(==)S
(ERR\))168 2706 A
(return\(ERR\);)504 2916 A
2430 V
(12872)210 648 A
(return\(waddch\(win,)756 1698 A
2496(c)S
2580(+)S
('@'\)\);)252 2664 A
2520 V
(12873)210 648 A
1362(})S
2610 V
(12874)210 648 A
1362(ch)S
1488(|=)S
(\(win->_attrs)504 1614 A
2160(&)S
(ATR_MSK\);)378 2244 A
2700 V
(12875)210 648 A
1362(if)S
(\(win->_line[y][x])714 1488 A
2244(!=)S
(ch\))126 2370 A
2538({)S
2706(/*)S
(only)168 2832 A
3042(if)S
(data)168 3168 A
(change)252 3378 A
3672(*/)S
2790 V
(12876)210 648 A
1698(if)S
(\(win->_minchng[y])714 1824 A
2580(==)S
(_NO_CHANGE\))462 2706 A
2880 V
(12877)210 648 A
(win->_minchng[y])672 2034 A
2748(=)S
(win->_maxchng[y])672 2832 A
3546(=)S
3630(x;)S
2970 V
(12878)210 648 A
(else)168 1698 A
1908(if)S
2034(\(x)S
2160(<)S
(win->_minchng[y]\))714 2244 A
3060 V
(12879)210 648 A
(win->_minchng[y])672 2034 A
2748(=)S
2832(x;)S
3150 V
(12880)210 648 A
(else)168 1698 A
1908(if)S
2034(\(x)S
2160(>)S
(win->_maxchng[y]\))714 2244 A
3240 V
(12881)210 648 A
(win->_maxchng[y])672 2034 A
2748(=)S
2832(x;)S
3330 V
(12882)210 648 A
1362(})S
2370(/*)S
2496(if)S
2622(*/)S
3420 V
(12883)210 648 A
(win->_line[y][x++])756 1362 A
2160(=)S
(ch;)126 2244 A
3510 V
(12884)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(win->_maxx\))462 1698 A
2202({)S
2370(/*)S
(wrap)168 2496 A
(around)252 2706 A
(test)168 3000 A
3210(*/)S
3600 V
(12885)210 648 A
1698(x)S
1782(=)S
1866(0;)S
3690 V
(12886)210 648 A
1698(if)S
(\(\(y)126 1824 A
1992(=)S
(newline\(win,)504 2076 A
(y\)\))126 2622 A
2790(<)S
2874(0\))S
(return\(ERR\);)504 3000 A
3780 V
(12887)210 648 A
1362(})S
3870 V
(12888)210 648 A
(break;)252 1362 A
3960 V
(12889)210 648 A
4050 V
(12890)210 648 A
1110(})S
2370(/*)S
(switch)252 2496 A
2790(*/)S
4140 V
(12891)210 648 A
(win->_curx)420 1110 A
1572(=)S
1656(x;)S
4230 V
(12892)210 648 A
(win->_cury)420 1110 A
1572(=)S
1656(y;)S
4320 V
(12893)210 648 A
(return\(OK\);)462 1110 A
4410 V
(12894)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/curses/waddstr.c)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(12900)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
5490 V
(12901)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
5580 V
(12902)210 648 A
5670 V
(12903)210 648 A
(/****************************************************************/)2772 1026 A
5760 V
(12904)210 648 A
1026(/*)S
(Waddstr\(\))378 1152 A
(inserts)294 1572 A
(string)252 1908 A
('str')210 2202 A
2454(at)S
(the)126 2580 A
(current)294 2748 A
(cursor)252 3084 A
(posi-)210 3378 A
3714(*/)S
5850 V
(12905)210 648 A
1026(/*)S
(Tion)168 1152 A
1362(in)S
(window)252 1488 A
('win',)252 1782 A
(and)126 2076 A
(takes)210 2244 A
(any)126 2496 A
(actions)294 2664 A
3000(as)S
(dictated)336 3126 A
3504(by)S
3714(*/)S
5940 V
(12906)210 648 A
1026(/*)S
(The)126 1152 A
(characters.)462 1320 A
3714(*/)S
6030 V
(12907)210 648 A
(/****************************************************************/)2772 1026 A
6120 V
(12908)210 648 A
6210 V
(12909)210 648 A
(int)126 1026 A
(waddstr\(win,)504 1194 A
(str\))168 1740 A
8418 V
EP
%%Page: 107 107
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1898(File:)S
(src/lib/curses/waddstr.c)1047 2131 A
12 B
(107)180 4248 A
900 V
7 LST
(12910)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
990 V
(12911)210 648 A
(char)168 1026 A
(*str;)210 1236 A
1080 V
(12912)210 648 A
1026({)S
1170 V
(12913)210 648 A
(while)210 1110 A
(\(*str\))252 1362 A
1656({)S
1260 V
(12914)210 648 A
1362(if)S
(\(waddch\(win,)504 1488 A
(*str++\))294 2034 A
2370(==)S
(ERR\))168 2496 A
(return\(ERR\);)504 2706 A
1350 V
(12915)210 648 A
1110(})S
1440 V
(12916)210 648 A
(return\(OK\);)462 1110 A
1530 V
(12917)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/curses/wbox.c)882 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(13000)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
2340 V
(13001)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
2430 V
(13002)210 648 A
2520 V
(13003)210 648 A
(/****************************************************************/)2772 1026 A
2610 V
(13004)210 648 A
1026(/*)S
(Wbox\(win,ymin,xmin,ymax,xmax,v,h\))1386 1152 A
(draws)210 2580 A
2832(a)S
(box)126 2916 A
3084(in)S
(window)252 3210 A
3714(*/)S
2700 V
(13005)210 648 A
1026(/*)S
('win',)252 1152 A
(enclosing)378 1446 A
(the)126 1866 A
(area)168 2034 A
(xmin-xmax)378 2244 A
(and)126 2664 A
(ymin-xmax.)420 2832 A
3294(If)S
3714(*/)S
2790 V
(13006)210 648 A
1026(/*)S
(Xmax)168 1152 A
(and/or)252 1362 A
(ymax)168 1656 A
1866(is)S
1992(0,)S
(the)126 2118 A
(window)252 2286 A
(max)126 2580 A
(value)210 2748 A
3000(is)S
(used.)210 3126 A
('v')126 3378 A
(and)126 3546 A
3714(*/)S
2880 V
(13007)210 648 A
1026(/*)S
('h')126 1152 A
(are)126 1320 A
(the)126 1488 A
(vertical)336 1656 A
(and)126 2034 A
(horizontal)420 2202 A
(characters)420 2664 A
3126(to)S
(use.)168 3252 A
3462(If)S
3714(*/)S
2970 V
(13008)210 648 A
1026(/*)S
('v')126 1152 A
(and)126 1320 A
('h')126 1488 A
(are)126 1656 A
1824(0,)S
(wbox)168 1950 A
(will)168 2160 A
(use)126 2370 A
(the)126 2538 A
(alternate)378 2706 A
(character)378 3126 A
(set)126 3546 A
3714(*/)S
3060 V
(13009)210 648 A
1026(/*)S
1152(In)S
1278(a)S
(pretty)252 1362 A
(way.)168 1656 A
3714(*/)S
3150 V
(13010)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(13011)210 648 A
3330 V
(13012)210 648 A
(int)126 1026 A
(wbox\(win,)378 1194 A
(ymin,)210 1614 A
(xmin,)210 1866 A
(ymax,)210 2118 A
(xmax,)210 2370 A
2622(v,)S
2748(h\))S
3420 V
(13013)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
3510 V
(13014)210 648 A
(int)126 1026 A
(ymin,)210 1194 A
(xmin,)210 1446 A
(ymax,)210 1698 A
(xmax;)210 1950 A
3600 V
(13015)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
1572(v;)S
3690 V
(13016)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
1572(h;)S
3780 V
(13017)210 648 A
1026({)S
3870 V
(13018)210 648 A
(unsigned)336 1110 A
(int)126 1488 A
(vc,)126 1656 A
(hc,)126 1824 A
(ulc,)168 1992 A
(urc,)168 2202 A
(llc,)168 2412 A
(lrc;)168 2622 A
3042(/*)S
(corner)252 3168 A
(chars)210 3462 A
3714(*/)S
3960 V
(13019)210 648 A
(int)126 1110 A
1278(i;)S
4050 V
(13020)210 648 A
4140 V
(13021)210 648 A
1110(if)S
(\(ymax)210 1236 A
1488(==)S
1614(0\))S
(ymax)168 1740 A
1950(=)S
(win->_maxy;)462 2034 A
4230 V
(13022)210 648 A
1110(if)S
(\(xmax)210 1236 A
1488(==)S
1614(0\))S
(xmax)168 1740 A
1950(=)S
(win->_maxx;)462 2034 A
4320 V
(13023)210 648 A
4410 V
(13024)210 648 A
1110(if)S
(\(ymin)210 1236 A
1488(>=)S
(win->_maxy)420 1614 A
2076(||)S
(ymax)168 2202 A
2412(>)S
(win->_maxy)420 2496 A
2958(||)S
4500 V
(13025)210 648 A
(xmin)168 1278 A
1488(>=)S
(win->_maxx)420 1614 A
2076(||)S
(xmax)168 2202 A
2412(>)S
(win->_maxx)420 2496 A
2958(||)S
4590 V
(13026)210 648 A
(ymin)168 1278 A
1488(>=)S
(ymax)168 1614 A
1824(||)S
(xmin)168 1950 A
2160(>=)S
(xmax\))210 2286 A
4680 V
(13027)210 648 A
(return\(ERR\);)504 1362 A
4770 V
(13028)210 648 A
4860 V
(13029)210 648 A
1110(vc)S
1236(=)S
1320(v;)S
4950 V
(13030)210 648 A
1110(hc)S
1236(=)S
1320(h;)S
5040 V
(13031)210 648 A
(ulc)126 1110 A
1278(=)S
(urc)126 1362 A
1530(=)S
(llc)126 1614 A
1782(=)S
(lrc)126 1866 A
2034(=)S
(vc;)126 2118 A
2370(/*)S
(default)294 2496 A
(same)168 2832 A
3042(as)S
(vertical)336 3168 A
3546(*/)S
5130 V
(13032)210 648 A
5220 V
(13033)210 648 A
1110(if)S
1236(\(v)S
1362(==)S
1488(0)S
1572(&&)S
1698(h)S
1782(==)S
1908(0\))S
2034({)S
5310 V
(13034)210 648 A
(ulc)126 1362 A
1530(=)S
(ACS_ULCORNER;)546 1614 A
5400 V
(13035)210 648 A
(urc)126 1362 A
1530(=)S
(ACS_URCORNER;)546 1614 A
5490 V
(13036)210 648 A
(llc)126 1362 A
1530(=)S
(ACS_LLCORNER;)546 1614 A
5580 V
(13037)210 648 A
(lrc)126 1362 A
1530(=)S
(ACS_LRCORNER;)546 1614 A
5670 V
(13038)210 648 A
1362(hc)S
1488(=)S
(ACS_HLINE;)420 1572 A
5760 V
(13039)210 648 A
1362(vc)S
1488(=)S
(ACS_VLINE;)420 1572 A
5850 V
(13040)210 648 A
1110(})S
5940 V
(13041)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
(xmin)168 1488 A
1698(+)S
1782(1;)S
1908(i)S
1992(<=)S
(xmax)168 2118 A
2328(-)S
2412(1;)S
(i++\))168 2538 A
2748({)S
6030 V
(13042)210 648 A
(win->_line[ymin][i])798 1362 A
2202(=)S
2286(hc)S
2412(|)S
(win->_attrs;)504 2496 A
6120 V
(13043)210 648 A
(win->_line[ymax][i])798 1362 A
2202(=)S
2286(hc)S
2412(|)S
(win->_attrs;)504 2496 A
6210 V
(13044)210 648 A
1110(})S
8418 V
EP
%%Page: 108 108
BP
/slant 0 def
/height 0 def
630 V
12 B
(108)180 648 A
11 R
1951(File:)S
(src/lib/curses/wbox.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(13045)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
(ymin)168 1488 A
1698(+)S
1782(1;)S
1908(i)S
1992(<=)S
(ymax)168 2118 A
2328(-)S
2412(1;)S
(i++\))168 2538 A
2748({)S
990 V
(13046)210 648 A
(win->_line[i][xmin])798 1362 A
2202(=)S
2286(vc)S
2412(|)S
(win->_attrs;)504 2496 A
1080 V
(13047)210 648 A
(win->_line[i][xmax])798 1362 A
2202(=)S
2286(vc)S
2412(|)S
(win->_attrs;)504 2496 A
1170 V
(13048)210 648 A
1110(})S
1260 V
(13049)210 648 A
(win->_line[ymin][xmin])924 1110 A
2076(=)S
(ulc)126 2160 A
2328(|)S
(win->_attrs;)504 2412 A
1350 V
(13050)210 648 A
(win->_line[ymin][xmax])924 1110 A
2076(=)S
(urc)126 2160 A
2328(|)S
(win->_attrs;)504 2412 A
1440 V
(13051)210 648 A
(win->_line[ymax][xmin])924 1110 A
2076(=)S
(llc)126 2160 A
2328(|)S
(win->_attrs;)504 2412 A
1530 V
(13052)210 648 A
(win->_line[ymax][xmax])924 1110 A
2076(=)S
(lrc)126 2160 A
2328(|)S
(win->_attrs;)504 2412 A
1620 V
(13053)210 648 A
1710 V
(13054)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
(ymin;)210 1488 A
1740(i)S
1824(<=)S
(ymax;)210 1950 A
(i++\))168 2202 A
2412({)S
1800 V
(13055)210 648 A
1362(if)S
(\(win->_minchng[i])714 1488 A
2244(==)S
(_NO_CHANGE\))462 2370 A
2874({)S
1890 V
(13056)210 648 A
(win->_minchng[i])672 1698 A
2412(=)S
(xmin;)210 2496 A
1980 V
(13057)210 648 A
(win->_maxchng[i])672 1698 A
2412(=)S
(xmax;)210 2496 A
2070 V
(13058)210 648 A
1362(})S
(else)168 1446 A
1656({)S
2160 V
(13059)210 648 A
(win->_minchng[i])672 1698 A
2412(=)S
(min\(win->_minchng[i],)882 2496 A
(xmin\);)252 3420 A
2250 V
(13060)210 648 A
(win->_maxchng[i])672 1698 A
2412(=)S
(max\(win->_maxchng[i],)882 2496 A
(xmax\);)252 3420 A
2340 V
(13061)210 648 A
1362(})S
2430 V
(13062)210 648 A
1110(})S
2520 V
(13063)210 648 A
(return\(OK\);)462 1110 A
2610 V
(13064)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/curses/wclear.c)966 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(13100)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
3690 V
(13101)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
3780 V
(13102)210 648 A
3870 V
(13103)210 648 A
(/****************************************************************/)2772 1026 A
3960 V
(13104)210 648 A
1026(/*)S
(Wclear\(\))336 1152 A
(fills)210 1530 A
(all)126 1782 A
(lines)210 1950 A
2202(of)S
(window)252 2328 A
('win')210 2622 A
(with)168 2874 A
(blanks,)294 3084 A
(and)126 3420 A
3714(*/)S
4050 V
(13105)210 648 A
1026(/*)S
(Marks)210 1152 A
(the)126 1404 A
(window)252 1572 A
1866(to)S
1992(be)S
(cleared)294 2118 A
2454(at)S
(next)168 2580 A
(refresh)294 2790 A
(operation.)420 3126 A
3714(*/)S
4140 V
(13106)210 648 A
(/****************************************************************/)2772 1026 A
4230 V
(13107)210 648 A
4320 V
(13108)210 648 A
(void)168 1026 A
(wclear\(win\))462 1236 A
4410 V
(13109)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
4500 V
(13110)210 648 A
1026({)S
4590 V
(13111)210 648 A
(werase\(win\);)504 1110 A
4680 V
(13112)210 648 A
(win->_clear)462 1110 A
1614(=)S
(TRUE;)210 1698 A
4770 V
(13113)210 648 A
1026(})S
2370(/*)S
(wclear)252 2496 A
2790(*/)S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/curses/wclrtobot.c)1092 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(13200)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
5490 V
(13201)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
5580 V
(13202)210 648 A
5670 V
(13203)210 648 A
(/****************************************************************/)2772 1026 A
5760 V
(13204)210 648 A
1026(/*)S
(Wclrtobot\(\))462 1152 A
(fills)210 1656 A
(the)126 1908 A
(right)210 2076 A
(half)168 2328 A
2538(of)S
(the)126 2664 A
(cursor)252 2832 A
(line)168 3126 A
3336(of)S
3714(*/)S
5850 V
(13205)210 648 A
1026(/*)S
(Window)252 1152 A
('win',)252 1446 A
(and)126 1740 A
(all)126 1908 A
(lines)210 2076 A
(below)210 2328 A
2580(it)S
(with)168 2706 A
(blanks.)294 2916 A
3714(*/)S
5940 V
(13206)210 648 A
(/****************************************************************/)2772 1026 A
6030 V
(13207)210 648 A
6120 V
(13208)210 648 A
(int)126 1026 A
(wclrtobot\(win\))588 1194 A
6210 V
(13209)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
8418 V
EP
%%Page: 109 109
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1861(File:)S
(src/lib/curses/wclrtobot.c)1121 2094 A
12 B
(109)180 4248 A
900 V
7 LST
(13210)210 648 A
1026({)S
990 V
(13211)210 648 A
(int)126 1110 A
1278(y,)S
(minx,)210 1404 A
(startx,)294 1656 A
(*ptr,)210 1992 A
(*end,)210 2244 A
(*maxx,)252 2496 A
(blank;)252 2790 A
1080 V
(13212)210 648 A
1170 V
(13213)210 648 A
(blank)210 1110 A
1362(=)S
1446(')S
1530(')S
1614(|)S
(\(win->_attrs)504 1698 A
2244(&)S
(ATR_MSK\);)378 2328 A
1260 V
(13214)210 648 A
(startx)252 1110 A
1404(=)S
(win->_curx;)462 1488 A
1350 V
(13215)210 648 A
(for)126 1110 A
1278(\(y)S
1404(=)S
(win->_cury;)462 1488 A
1992(y)S
2076(<=)S
(win->_regbottom;)672 2202 A
(y++\))168 2916 A
3126({)S
1440 V
(13216)210 648 A
(minx)168 1362 A
1572(=)S
(_NO_CHANGE;)462 1656 A
1530 V
(13217)210 648 A
(end)126 1362 A
1530(=)S
(&win->_line[y][win->_maxx];)1134 1614 A
1620 V
(13218)210 648 A
(for)126 1362 A
(\(ptr)168 1530 A
1740(=)S
(&win->_line[y][startx];)966 1824 A
(ptr)126 2832 A
3000(<=)S
(end;)168 3126 A
(ptr++\))252 3336 A
3630({)S
1710 V
(13219)210 648 A
1698(if)S
(\(*ptr)210 1824 A
2076(!=)S
(blank\))252 2202 A
2496({)S
1800 V
(13220)210 648 A
(maxx)168 2034 A
2244(=)S
(ptr;)168 2328 A
1890 V
(13221)210 648 A
2034(if)S
(\(minx)210 2160 A
2412(==)S
(_NO_CHANGE\))462 2538 A
(minx)168 3042 A
3252(=)S
(ptr)126 3336 A
3504(-)S
(win->_line[y];)588 3588 A
1980 V
(13222)210 648 A
(*ptr)168 2034 A
2244(=)S
(blank;)252 2328 A
2070 V
(13223)210 648 A
1698(})S
2370(/*)S
2496(if)S
2622(*/)S
2160 V
(13224)210 648 A
1362(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
2250 V
(13225)210 648 A
1362(if)S
(\(minx)210 1488 A
1740(!=)S
(_NO_CHANGE\))462 1866 A
2370({)S
2340 V
(13226)210 648 A
1698(if)S
(\(\(win->_minchng[y])756 1824 A
2622(>)S
(minx\))210 2706 A
2958(||)S
(\(win->_minchng[y])714 3084 A
3840(==)S
(_NO_CHANGE\)\))504 3966 A
2430 V
(13227)210 648 A
(win->_minchng[y])672 2034 A
2748(=)S
(minx;)210 2832 A
2520 V
(13228)210 648 A
1698(if)S
(\(win->_maxchng[y])714 1824 A
2580(<)S
(maxx)168 2664 A
2874(-)S
(win->_line[y]\))588 2958 A
2610 V
(13229)210 648 A
(win->_maxchng[y])672 2034 A
2748(=)S
(maxx)168 2832 A
3042(-)S
(win->_line[y];)588 3126 A
2700 V
(13230)210 648 A
1362(})S
2370(/*)S
2496(if)S
2622(*/)S
2790 V
(13231)210 648 A
(startx)252 1362 A
1656(=)S
1740(0;)S
2880 V
(13232)210 648 A
1110(})S
2970 V
(13233)210 648 A
(return\(OK\);)462 1110 A
3060 V
(13234)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/curses/wclrtoeol.c)1092 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(13300)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4140 V
(13301)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4230 V
(13302)210 648 A
4320 V
(13303)210 648 A
(/****************************************************************/)2772 1026 A
4410 V
(13304)210 648 A
1026(/*)S
(Wclrtoeol\(\))462 1152 A
(fills)210 1656 A
(the)126 1908 A
(half)168 2076 A
2286(of)S
(the)126 2412 A
(cursor)252 2580 A
(line)168 2874 A
3084(to)S
(the)126 3210 A
(right)210 3378 A
3714(*/)S
4500 V
(13305)210 648 A
1026(/*)S
1152(Of)S
(the)126 1278 A
(cursor)252 1446 A
1740(in)S
(window)252 1866 A
('win')210 2160 A
(with)168 2412 A
(blanks.)294 2622 A
3714(*/)S
4590 V
(13306)210 648 A
(/****************************************************************/)2772 1026 A
4680 V
(13307)210 648 A
4770 V
(13308)210 648 A
(int)126 1026 A
(wclrtoeol\(win\))588 1194 A
4860 V
(13309)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
4950 V
(13310)210 648 A
1026({)S
5040 V
(13311)210 648 A
(int)126 1110 A
(*maxx,)252 1278 A
(*ptr,)210 1572 A
(*end,)210 1824 A
2076(y,)S
2202(x,)S
(minx,)210 2328 A
(blank;)252 2580 A
5130 V
(13312)210 648 A
5220 V
(13313)210 648 A
1110(y)S
1194(=)S
(win->_cury;)462 1278 A
5310 V
(13314)210 648 A
1110(x)S
1194(=)S
(win->_curx;)462 1278 A
5400 V
(13315)210 648 A
(blank)210 1110 A
1362(=)S
1446(')S
1530(')S
1614(|)S
(\(win->_attrs)504 1698 A
2244(&)S
(ATR_MSK\);)378 2328 A
5490 V
(13316)210 648 A
5580 V
(13317)210 648 A
(end)126 1110 A
1278(=)S
(&win->_line[y][win->_maxx];)1134 1362 A
5670 V
(13318)210 648 A
(minx)168 1110 A
1320(=)S
(_NO_CHANGE;)462 1404 A
5760 V
(13319)210 648 A
(maxx)168 1110 A
1320(=)S
(&win->_line[y][x];)756 1404 A
5850 V
(13320)210 648 A
(for)126 1110 A
(\(ptr)168 1278 A
1488(=)S
(maxx;)210 1572 A
(ptr)126 1824 A
1992(<=)S
(end;)168 2118 A
(ptr++\))252 2328 A
2622({)S
5940 V
(13321)210 648 A
1362(if)S
(\(*ptr)210 1488 A
1740(!=)S
(blank\))252 1866 A
2160({)S
6030 V
(13322)210 648 A
(maxx)168 1698 A
1908(=)S
(ptr;)168 1992 A
6120 V
(13323)210 648 A
1698(if)S
(\(minx)210 1824 A
2076(==)S
(_NO_CHANGE\))462 2202 A
(minx)168 2706 A
2916(=)S
(ptr)126 3000 A
3168(-)S
(win->_line[y];)588 3252 A
6210 V
(13324)210 648 A
(*ptr)168 1698 A
1908(=)S
(blank;)252 1992 A
8418 V
EP
%%Page: 110 110
BP
/slant 0 def
/height 0 def
630 V
12 B
(110)180 648 A
11 R
1863(File:)S
(src/lib/curses/wclrtoeol.c)1116 2096 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(13325)210 648 A
1362(})S
2370(/*)S
2496(if)S
2622(*/)S
990 V
(13326)210 648 A
1110(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
1080 V
(13327)210 648 A
1170 V
(13328)210 648 A
1110(if)S
(\(minx)210 1236 A
1488(!=)S
(_NO_CHANGE\))462 1614 A
2118({)S
1260 V
(13329)210 648 A
1362(if)S
(\(win->_minchng[y])714 1488 A
2244(>)S
(minx)168 2328 A
2538(||)S
(win->_minchng[y])672 2664 A
3378(==)S
(_NO_CHANGE\))462 3504 A
1350 V
(13330)210 648 A
(win->_minchng[y])672 1698 A
2412(=)S
(minx;)210 2496 A
1440 V
(13331)210 648 A
1362(if)S
(\(win->_maxchng[y])714 1488 A
2244(<)S
(maxx)168 2328 A
2538(-)S
(win->_line[y]\))588 2622 A
1530 V
(13332)210 648 A
(win->_maxchng[y])672 1698 A
2412(=)S
(maxx)168 2496 A
2706(-)S
(win->_line[y];)588 2790 A
1620 V
(13333)210 648 A
1110(})S
1710 V
(13334)210 648 A
(return\(OK\);)462 1110 A
1800 V
(13335)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/curses/wdelch.c)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(13400)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
2790 V
(13401)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
2880 V
(13402)210 648 A
2970 V
(13403)210 648 A
1026(/*)S
(Wdelch\(\))336 1152 A
(deletes)294 1530 A
(the)126 1866 A
(character)378 2034 A
2454(at)S
(the)126 2580 A
(window)252 2748 A
(cursor,)294 3042 A
(and)126 3378 A
(the)126 3546 A
3060 V
(13404)210 648 A
(characters)420 1152 A
1614(to)S
(the)126 1740 A
(right)210 1908 A
2160(of)S
2286(it)S
(are)126 2412 A
(shifted)294 2580 A
(left,)210 2916 A
(inserting)378 3168 A
3588(a)S
3150 V
(13405)210 648 A
(space)210 1152 A
1404(at)S
(the)126 1530 A
(last)168 1698 A
(position)336 1908 A
2286(of)S
(the)126 2412 A
(line.)210 2580 A
3240 V
(13406)210 648 A
1026(*/)S
3330 V
(13407)210 648 A
3420 V
(13408)210 648 A
(int)126 1026 A
(wdelch\(win\))462 1194 A
3510 V
(13409)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
3600 V
(13410)210 648 A
1026({)S
3690 V
(13411)210 648 A
(int)126 1110 A
(*temp1;)294 1278 A
3780 V
(13412)210 648 A
(int)126 1110 A
(*temp2;)294 1278 A
3870 V
(13413)210 648 A
(int)126 1110 A
(*end;)210 1278 A
3960 V
(13414)210 648 A
(int)126 1110 A
1278(y)S
1362(=)S
(win->_cury;)462 1446 A
4050 V
(13415)210 648 A
(int)126 1110 A
1278(x)S
1362(=)S
(win->_curx;)462 1446 A
4140 V
(13416)210 648 A
(int)126 1110 A
(maxx)168 1278 A
1488(=)S
(win->_maxx;)462 1572 A
4230 V
(13417)210 648 A
4320 V
(13418)210 648 A
(end)126 1110 A
1278(=)S
(&win->_line[y][maxx];)882 1362 A
4410 V
(13419)210 648 A
(temp1)210 1110 A
1362(=)S
(&win->_line[y][x];)756 1446 A
4500 V
(13420)210 648 A
(temp2)210 1110 A
1362(=)S
(temp1)210 1446 A
1698(+)S
1782(1;)S
4590 V
(13421)210 648 A
(while)210 1110 A
(\(temp1)252 1362 A
1656(<)S
(end\))168 1740 A
(*temp1++)336 1950 A
2328(=)S
(*temp2++;)378 2412 A
4680 V
(13422)210 648 A
(*temp1)252 1110 A
1404(=)S
1488(')S
1572(')S
1656(|)S
(\(win->_attrs)504 1740 A
2286(&)S
(ATR_MSK\);)378 2370 A
4770 V
(13423)210 648 A
(win->_maxchng[y])672 1110 A
1824(=)S
(maxx;)210 1908 A
4860 V
(13424)210 648 A
1110(if)S
(\(win->_minchng[y])714 1236 A
1992(==)S
(_NO_CHANGE)420 2118 A
2580(||)S
(win->_minchng[y])672 2706 A
3420(>)S
3504(x\))S
4950 V
(13425)210 648 A
(win->_minchng[y])672 1362 A
2076(=)S
2160(x;)S
5040 V
(13426)210 648 A
(return\(OK\);)462 1110 A
5130 V
(13427)210 648 A
1026(})S
8418 V
EP
%%Page: 111 111
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1857(File:)S
(src/lib/curses/wdeleteln.c)1129 2090 A
12 B
(111)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/wdeleteln.c)1092 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(13500)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(13501)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(13502)210 648 A
1620 V
(13503)210 648 A
(/****************************************************************/)2772 1026 A
1710 V
(13504)210 648 A
1026(/*)S
(Wdeleteln\(\))462 1152 A
(deletes)294 1656 A
(the)126 1992 A
(line)168 2160 A
2370(at)S
(the)126 2496 A
(window)252 2664 A
(cursor,)294 2958 A
(and)126 3294 A
(the)126 3462 A
3714(*/)S
1800 V
(13505)210 648 A
1026(/*)S
(Lines)210 1152 A
(below)210 1404 A
1656(it)S
(are)126 1782 A
(shifted)294 1950 A
(up,)126 2286 A
(inserting)378 2454 A
2874(a)S
(blank)210 2958 A
(line)168 3210 A
3420(at)S
3714(*/)S
1890 V
(13506)210 648 A
1026(/*)S
(The)126 1152 A
(bottom)252 1320 A
1614(of)S
(the)126 1740 A
(window.)294 1908 A
3714(*/)S
1980 V
(13507)210 648 A
(/****************************************************************/)2772 1026 A
2070 V
(13508)210 648 A
2160 V
(13509)210 648 A
(int)126 1026 A
(wdeleteln\(win\))588 1194 A
2250 V
(13510)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2340 V
(13511)210 648 A
1026({)S
2430 V
(13512)210 648 A
(int)126 1110 A
(*end,)210 1278 A
(*temp,)252 1530 A
1824(y,)S
(blank;)252 1950 A
2520 V
(13513)210 648 A
2610 V
(13514)210 648 A
(blank)210 1110 A
1362(=)S
1446(')S
1530(')S
1614(|)S
(\(win->_attrs)504 1698 A
2244(&)S
(ATR_MSK\);)378 2328 A
2700 V
(13515)210 648 A
2790 V
(13516)210 648 A
(temp)168 1110 A
1320(=)S
(win->_line[win->_cury];)966 1404 A
2880 V
(13517)210 648 A
(for)126 1110 A
1278(\(y)S
1404(=)S
(win->_cury;)462 1488 A
1992(y)S
2076(<)S
(win->_regbottom;)672 2160 A
(y++\))168 2874 A
3084({)S
2970 V
(13518)210 648 A
(win->_line[y])546 1362 A
1950(=)S
(win->_line[y)504 2034 A
2580(+)S
(1];)126 2664 A
3060 V
(13519)210 648 A
(win->_minchng[y])672 1362 A
2076(=)S
2160(0;)S
3150 V
(13520)210 648 A
(win->_maxchng[y])672 1362 A
2076(=)S
(win->_maxx;)462 2160 A
3240 V
(13521)210 648 A
1110(})S
3330 V
(13522)210 648 A
(win->_minchng[y])672 1110 A
1824(=)S
1908(0;)S
3420 V
(13523)210 648 A
(win->_maxchng[y])672 1110 A
1824(=)S
(win->_maxx;)462 1908 A
3510 V
(13524)210 648 A
(win->_line[win->_regbottom])1134 1110 A
2286(=)S
(temp;)210 2370 A
3600 V
(13525)210 648 A
(for)126 1110 A
(\(end)168 1278 A
1488(=)S
(&\(temp[win->_maxx]\);)840 1572 A
(temp)168 2454 A
2664(<=)S
(end;\))210 2790 A
(*temp++)294 3042 A
3378(=)S
(blank;)252 3462 A
3690 V
(13526)210 648 A
(return\(OK\);)462 1110 A
3780 V
(13527)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/curses/werase.c)966 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(13600)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4590 V
(13601)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4680 V
(13602)210 648 A
4770 V
(13603)210 648 A
(/****************************************************************/)2772 1026 A
4860 V
(13604)210 648 A
1026(/*)S
(Werase\(\))336 1152 A
(fills)210 1530 A
(all)126 1782 A
(lines)210 1950 A
2202(of)S
(window)252 2328 A
('win')210 2622 A
(with)168 2874 A
(blanks)252 3084 A
(and)126 3378 A
(po-)126 3546 A
3714(*/)S
4950 V
(13605)210 648 A
1026(/*)S
(Sitions)294 1152 A
(the)126 1488 A
(cursor)252 1656 A
1950(at)S
(home)168 2076 A
2286(in)S
(the)126 2412 A
(scroll)252 2580 A
(region.)294 2874 A
3714(*/)S
5040 V
(13606)210 648 A
(/****************************************************************/)2772 1026 A
5130 V
(13607)210 648 A
5220 V
(13608)210 648 A
(void)168 1026 A
(werase\(win\))462 1236 A
5310 V
(13609)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
5400 V
(13610)210 648 A
1026({)S
5490 V
(13611)210 648 A
(int)126 1110 A
(*end,)210 1278 A
(*start,)294 1530 A
1866(y,)S
(blank;)252 1992 A
5580 V
(13612)210 648 A
5670 V
(13613)210 648 A
(blank)210 1110 A
1362(=)S
1446(')S
1530(')S
1614(|)S
(\(win->_attrs)504 1698 A
2244(&)S
(ATR_MSK\);)378 2328 A
5760 V
(13614)210 648 A
5850 V
(13615)210 648 A
(for)126 1110 A
1278(\(y)S
1404(=)S
(win->_regtop;)546 1488 A
2076(y)S
2160(<=)S
(win->_regbottom;)672 2286 A
(y++\))168 3000 A
3210({)S
3378(/*)S
(clear)210 3504 A
(all)126 3756 A
(lines)210 3924 A
4176(*/)S
5940 V
(13616)210 648 A
(start)210 1362 A
1614(=)S
(win->_line[y];)588 1698 A
6030 V
(13617)210 648 A
(end)126 1362 A
1530(=)S
(&start[win->_maxx];)798 1614 A
6120 V
(13618)210 648 A
(while)210 1362 A
(\(start)252 1614 A
1908(<=)S
(end\))168 2034 A
2370(/*)S
(clear)210 2496 A
(all)126 2748 A
(line)168 2916 A
3126(*/)S
6210 V
(13619)210 648 A
(*start++)336 1698 A
2076(=)S
(blank;)252 2160 A
8418 V
EP
%%Page: 112 112
BP
/slant 0 def
/height 0 def
630 V
12 B
(112)180 648 A
11 R
1918(File:)S
(src/lib/curses/werase.c)1006 2151 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(13620)210 648 A
(win->_minchng[y])672 1362 A
2076(=)S
2160(0;)S
990 V
(13621)210 648 A
(win->_maxchng[y])672 1362 A
2076(=)S
(win->_maxx;)462 2160 A
1080 V
(13622)210 648 A
1110(})S
1170 V
(13623)210 648 A
(win->_cury)420 1110 A
1572(=)S
(win->_regtop;)546 1656 A
2370(/*)S
(cursor)252 2496 A
(home)168 2790 A
3000(*/)S
1260 V
(13624)210 648 A
(win->_curx)420 1110 A
1572(=)S
1656(0;)S
1350 V
(13625)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/curses/wgetch.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(13700)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
2340 V
(13701)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
2430 V
(13702)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
2520 V
(13703)210 648 A
2610 V
(13704)210 648 A
(int)126 1026 A
(wgetch\(win\))462 1194 A
2700 V
(13705)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2790 V
(13706)210 648 A
1026({)S
2880 V
(13707)210 648 A
(bool)168 1110 A
(weset)210 1320 A
1572(=)S
(FALSE;)252 1656 A
2970 V
(13708)210 648 A
(char)168 1110 A
(inp;)168 1320 A
3060 V
(13709)210 648 A
3150 V
(13710)210 648 A
1110(if)S
(\(!win->_scroll)588 1236 A
1866(&&)S
(\(win->_flags)504 1992 A
2538(&)S
(_FULLWIN\))378 2622 A
3240 V
(13711)210 648 A
1278(&&)S
(win->_curx)420 1404 A
1866(==)S
(win->_maxx)420 1992 A
2454(-)S
2538(1)S
2622(&&)S
(win->_cury)420 2748 A
3210(==)S
(win->_maxy)420 3336 A
3798(-)S
3882(1\))S
3330 V
(13712)210 648 A
(return)252 1362 A
(ERR;)168 1656 A
3420 V
(13713)210 648 A
1110(if)S
(\(_cursvar.echoit)672 1236 A
1950(&&)S
(!_cursvar.rawmode\))756 2076 A
2874({)S
3510 V
(13714)210 648 A
(cbreak\(\);)378 1362 A
3600 V
(13715)210 648 A
(weset++;)336 1362 A
3690 V
(13716)210 648 A
1110(})S
3780 V
(13717)210 648 A
(inp)126 1110 A
1278(=)S
(getchar\(\);)420 1362 A
3870 V
(13718)210 648 A
1110(if)S
(\(_cursvar.echoit\))714 1236 A
1992({)S
3960 V
(13719)210 648 A
(mvwaddch\(curscr,)672 1362 A
(win->_cury)420 2076 A
2538(+)S
(win->_begy,)462 2622 A
4050 V
(13720)210 648 A
(win->_curx)420 1740 A
2202(+)S
(win->_begx,)462 2286 A
(inp\);)210 2790 A
4140 V
(13721)210 648 A
(waddch\(win,)462 1362 A
(inp\);)210 1866 A
4230 V
(13722)210 648 A
1110(})S
4320 V
(13723)210 648 A
1110(if)S
(\(weset\))294 1236 A
(nocbreak\(\);)462 1572 A
4410 V
(13724)210 648 A
(return)252 1110 A
(inp;)168 1404 A
4500 V
(13725)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/curses/wgetstr.c)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(13800)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
5490 V
(13801)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
5580 V
(13802)210 648 A
5670 V
(13803)210 648 A
(/****************************************************************/)2772 1026 A
5760 V
(13804)210 648 A
1026(/*)S
(Wgetstr\(win,str\))672 1152 A
(reads)210 1866 A
2118(in)S
2244(a)S
(string)252 2328 A
(\(terminated)462 2622 A
3126(by)S
3252(\\n)S
3378(or)S
(\\r\))126 3504 A
3714(*/)S
5850 V
(13805)210 648 A
1026(/*)S
1152(To)S
(the)126 1278 A
(buffer)252 1446 A
(pointed)294 1740 A
2076(to)S
2202(by)S
('str',)252 2328 A
(and)126 2622 A
(displays)336 2790 A
(the)126 3168 A
(input)210 3336 A
3714(*/)S
5940 V
(13806)210 648 A
1026(/*)S
1152(In)S
(window)252 1278 A
('win'.)252 1572 A
(The)126 1866 A
(user's)252 2034 A
(erase)210 2328 A
(and)126 2580 A
(kill)168 2748 A
(characters)420 2958 A
(are)126 3420 A
3714(*/)S
6030 V
(13807)210 648 A
1026(/*)S
(Active.)294 1152 A
3714(*/)S
6120 V
(13808)210 648 A
(/****************************************************************/)2772 1026 A
6210 V
(13809)210 648 A
8418 V
EP
%%Page: 113 113
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1910(File:)S
(src/lib/curses/wgetstr.c)1023 2143 A
12 B
(113)180 4248 A
900 V
7 LST
(13810)210 648 A
(int)126 1026 A
(wgetstr\(win,)504 1194 A
(str\))168 1740 A
990 V
(13811)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
1080 V
(13812)210 648 A
(char)168 1026 A
(*str;)210 1236 A
1170 V
(13813)210 648 A
1026({)S
1260 V
(13814)210 648 A
(while)210 1110 A
(\(\(*str)252 1362 A
1656(=)S
(wgetch\(win\)\))504 1740 A
2286(!=)S
(ERR)126 2412 A
2580(&&)S
(*str)168 2706 A
2916(!=)S
('\\n'\))210 3042 A
(str++;)252 3294 A
1350 V
(13815)210 648 A
1110(if)S
(\(*str)210 1236 A
1488(==)S
(ERR\))168 1614 A
1824({)S
1440 V
(13816)210 648 A
(*str)168 1362 A
1572(=)S
('\\0';)210 1656 A
1530 V
(13817)210 648 A
(return)252 1362 A
(ERR;)168 1656 A
1620 V
(13818)210 648 A
1110(})S
1710 V
(13819)210 648 A
(*str)168 1110 A
1320(=)S
('\\0';)210 1404 A
1800 V
(13820)210 648 A
(return)252 1110 A
(OK;)126 1404 A
1890 V
(13821)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/curses/windel.c)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(13900)210 648 A
(/****************************************************************/)2772 1026 A
2790 V
(13901)210 648 A
1026(/*)S
(Delwin\(\))336 1152 A
(routine)294 1530 A
1866(of)S
(the)126 1992 A
(PCcurses)336 2160 A
(package.)336 2538 A
3714(*/)S
2880 V
(13902)210 648 A
1026(/*)S
3714(*/)S
2970 V
(13903)210 648 A
(/****************************************************************/)2772 1026 A
3060 V
(13904)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
3150 V
(13905)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
3240 V
(13906)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
3330 V
(13907)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
3420 V
(13908)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
3510 V
(13909)210 648 A
(/****************************************************************/)2772 1026 A
3600 V
(13910)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
3690 V
(13911)210 648 A
(/****************************************************************/)2772 1026 A
3780 V
(13912)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
3870 V
(13913)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
3960 V
(13914)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
4050 V
(13915)210 648 A
(/****************************************************************/)2772 1026 A
4140 V
(13916)210 648 A
4230 V
(13917)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4320 V
(13918)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4410 V
(13919)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4500 V
(13920)210 648 A
4590 V
(13921)210 648 A
(/****************************************************************/)2772 1026 A
4680 V
(13922)210 648 A
1026(/*)S
(Delwin\(\))336 1152 A
(deallocates)462 1530 A
(all)126 2034 A
(data)168 2202 A
(allocated)378 2412 A
2832(by)S
('win'.)252 2958 A
3252(If)S
('win')210 3378 A
3714(*/)S
4770 V
(13923)210 648 A
1026(/*)S
1152(Is)S
1278(a)S
(subwindow,)420 1362 A
1824(it)S
(uses)168 1950 A
(the)126 2160 A
(original)336 2328 A
(window's)336 2706 A
(lines)210 3084 A
(for)126 3336 A
(sto-)168 3504 A
3714(*/)S
4860 V
(13924)210 648 A
1026(/*)S
(Rage,)210 1152 A
(and)126 1404 A
(thus)168 1572 A
(the)126 1782 A
(line)168 1950 A
(arrays)252 2160 A
(are)126 2454 A
(not)126 2622 A
(deallocated.)504 2790 A
3714(*/)S
4950 V
(13925)210 648 A
(/****************************************************************/)2772 1026 A
5040 V
(13926)210 648 A
5130 V
(13927)210 648 A
(void)168 1026 A
(delwin\(win\))462 1236 A
5220 V
(13928)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
5310 V
(13929)210 648 A
1026({)S
5400 V
(13930)210 648 A
(int)126 1110 A
1278(i;)S
5490 V
(13931)210 648 A
5580 V
(13932)210 648 A
1110(if)S
(\(!\(win->_flags)588 1236 A
1866(&)S
(_SUBWIN\)\))378 1950 A
2370({)S
2706(/*)S
(subwindow)378 2832 A
(uses)168 3252 A
('parent's')420 3462 A
(lines)210 3924 A
4176(*/)S
5670 V
(13933)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<=)S
(win->_maxy)420 2076 A
2538(&&)S
(win->_line[i];)588 2664 A
(i++\))168 3294 A
5760 V
(13934)210 648 A
(free\(win->_line[i]\);)840 1698 A
5850 V
(13935)210 648 A
1110(})S
5940 V
(13936)210 648 A
(free\(win->_minchng\);)840 1110 A
6030 V
(13937)210 648 A
(free\(win->_maxchng\);)840 1110 A
6120 V
(13938)210 648 A
(free\(win->_line\);)714 1110 A
6210 V
(13939)210 648 A
(free\(win\);)420 1110 A
8418 V
EP
%%Page: 114 114
BP
/slant 0 def
/height 0 def
630 V
12 B
(114)180 648 A
11 R
1922(File:)S
(src/lib/curses/windel.c)998 2155 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(13940)210 648 A
1026(})S
2370(/*)S
(delwin)252 2496 A
2790(*/)S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/curses/winmove.c)1008 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(14000)210 648 A
(/****************************************************************/)2772 1026 A
1890 V
(14001)210 648 A
1026(/*)S
(Mvwin\(\))294 1152 A
(routine)294 1488 A
1824(of)S
(the)126 1950 A
(PCcurses)336 2118 A
(package)294 2496 A
3714(*/)S
1980 V
(14002)210 648 A
1026(/*)S
3714(*/)S
2070 V
(14003)210 648 A
(/****************************************************************/)2772 1026 A
2160 V
(14004)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
2250 V
(14005)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
2340 V
(14006)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
2430 V
(14007)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
2520 V
(14008)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
2610 V
(14009)210 648 A
(/****************************************************************/)2772 1026 A
2700 V
(14010)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
2790 V
(14011)210 648 A
(/****************************************************************/)2772 1026 A
2880 V
(14012)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
2970 V
(14013)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
3060 V
(14014)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
3150 V
(14015)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(14016)210 648 A
3330 V
(14017)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
3420 V
(14018)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
3510 V
(14019)210 648 A
3600 V
(14020)210 648 A
(/****************************************************************/)2772 1026 A
3690 V
(14021)210 648 A
1026(/*)S
(Mvwin\(\))294 1152 A
(moves)210 1488 A
(window)252 1740 A
('win')210 2034 A
2286(to)S
(position)336 2412 A
(\(begx,)252 2790 A
(begy\))210 3084 A
3336(on)S
(the)126 3462 A
3714(*/)S
3780 V
(14022)210 648 A
1026(/*)S
(Screen.)294 1152 A
3714(*/)S
3870 V
(14023)210 648 A
(/****************************************************************/)2772 1026 A
3960 V
(14024)210 648 A
4050 V
(14025)210 648 A
(int)126 1026 A
(mvwin\(win,)420 1194 A
(begy,)210 1656 A
(begx\))210 1908 A
4140 V
(14026)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
4230 V
(14027)210 648 A
(int)126 1026 A
(begy,)210 1194 A
(begx;)210 1446 A
4320 V
(14028)210 648 A
1026({)S
4410 V
(14029)210 648 A
1110(if)S
(\(\(begy)252 1236 A
1530(+)S
(win->_maxy\))462 1614 A
2118(>)S
(\(LINES)252 2202 A
2496(-)S
2580(1\))S
2706(||)S
(\(begx)210 2832 A
3084(+)S
(win->_maxx\))462 3168 A
3672(>)S
(\(COLS)210 3756 A
4008(-)S
(1\)\))126 4092 A
4500 V
(14030)210 648 A
(return\(ERR\);)504 1362 A
4590 V
(14031)210 648 A
(win->_begy)420 1110 A
1572(=)S
(begy;)210 1656 A
4680 V
(14032)210 648 A
(win->_begx)420 1110 A
1572(=)S
(begx;)210 1656 A
4770 V
(14033)210 648 A
(touchwin\(win\);)588 1110 A
4860 V
(14034)210 648 A
(return\(OK\);)462 1110 A
4950 V
(14035)210 648 A
1026(})S
2370(/*)S
(mvwin)210 2496 A
2748(*/)S
8418 V
EP
%%Page: 115 115
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1916(File:)S
(src/lib/curses/winsch.c)1010 2149 A
12 B
(115)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/curses/winsch.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(14100)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1440 V
(14101)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1530 V
(14102)210 648 A
1620 V
(14103)210 648 A
1026(/*)S
(Winsch\(\))336 1152 A
(inserts)294 1530 A
(character)378 1866 A
('c')126 2286 A
2454(at)S
(the)126 2580 A
(cursor)252 2748 A
(position)336 3042 A
3420(in)S
1710 V
(14104)210 648 A
(window)252 1152 A
('win'.)252 1446 A
(The)126 1740 A
(cursor)252 1908 A
2202(is)S
(advanced.)378 2328 A
1800 V
(14105)210 648 A
1026(*/)S
1890 V
(14106)210 648 A
1980 V
(14107)210 648 A
(int)126 1026 A
(winsch\(win,)462 1194 A
1698(c\))S
2070 V
(14108)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2160 V
(14109)210 648 A
(char)168 1026 A
1236(c;)S
2250 V
(14110)210 648 A
1026({)S
2340 V
(14111)210 648 A
(int)126 1110 A
(*temp1;)294 1278 A
2430 V
(14112)210 648 A
(int)126 1110 A
(*temp2;)294 1278 A
2520 V
(14113)210 648 A
(int)126 1110 A
(*end;)210 1278 A
2610 V
(14114)210 648 A
(int)126 1110 A
1278(x)S
1362(=)S
(win->_curx;)462 1446 A
2700 V
(14115)210 648 A
(int)126 1110 A
1278(y)S
1362(=)S
(win->_cury;)462 1446 A
2790 V
(14116)210 648 A
(int)126 1110 A
(maxx)168 1278 A
1488(=)S
(win->_maxx;)462 1572 A
2880 V
(14117)210 648 A
2970 V
(14118)210 648 A
1110(if)S
(\(\(c)126 1236 A
1404(<)S
1488(')S
1572('\))S
1698(&&)S
1824(\(c)S
1950(==)S
('\\n')168 2076 A
2286(||)S
2412(c)S
2496(==)S
('\\r')168 2622 A
2832(||)S
2958(c)S
3042(==)S
('\\t')168 3168 A
3378(||)S
3504(c)S
3588(==)S
('\\b'\)\))252 3714 A
3060 V
(14119)210 648 A
(return\(waddch\(win,)756 1362 A
(c\)\);)168 2160 A
3150 V
(14120)210 648 A
(end)126 1110 A
1278(=)S
(&win->_line[y][x];)756 1362 A
3240 V
(14121)210 648 A
(temp1)210 1110 A
1362(=)S
(&win->_line[y][maxx];)882 1446 A
3330 V
(14122)210 648 A
(temp2)210 1110 A
1362(=)S
(temp1)210 1446 A
1698(-)S
1782(1;)S
3420 V
(14123)210 648 A
1110(if)S
1236(\(c)S
1362(<)S
1446(')S
1530('\))S
2370(/*)S
2496(if)S
(CTRL-char)378 2622 A
(make)168 3042 A
(space)210 3252 A
(for)126 3504 A
3672(2)S
3756(*/)S
3510 V
(14124)210 648 A
(temp2--;)336 1362 A
3600 V
(14125)210 648 A
(while)210 1110 A
(\(temp1)252 1362 A
1656(>)S
(end\))168 1740 A
(*temp1--)336 1950 A
2328(=)S
(*temp2--;)378 2412 A
3690 V
(14126)210 648 A
(win->_maxchng[y])672 1110 A
1824(=)S
(maxx;)210 1908 A
3780 V
(14127)210 648 A
1110(if)S
(\(\(win->_minchng[y])756 1236 A
2034(==)S
(_NO_CHANGE\))462 2160 A
2664(||)S
(\(win->_minchng[y])714 2790 A
3546(>)S
(x\)\))126 3630 A
3870 V
(14128)210 648 A
(win->_minchng[y])672 1362 A
2076(=)S
2160(x;)S
3960 V
(14129)210 648 A
(return\(waddch\(win,)756 1110 A
(c\)\);)168 1908 A
2370(/*)S
(fixes)210 2496 A
(CTRL-chars)420 2748 A
(too)126 3210 A
3378(*/)S
4050 V
(14130)210 648 A
1026(})S
2370(/*)S
(winsch)252 2496 A
2790(*/)S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/curses/winscrol.c)1050 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(14200)210 648 A
(/****************************************************************/)2772 1026 A
5040 V
(14201)210 648 A
1026(/*)S
(Scroll\(\))336 1152 A
(routine)294 1530 A
1866(of)S
(the)126 1992 A
(PCcurses)336 2160 A
(package)294 2538 A
3714(*/)S
5130 V
(14202)210 648 A
1026(/*)S
3714(*/)S
5220 V
(14203)210 648 A
(/****************************************************************/)2772 1026 A
5310 V
(14204)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
5400 V
(14205)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
5490 V
(14206)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
5580 V
(14207)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
5670 V
(14208)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
5760 V
(14209)210 648 A
(/****************************************************************/)2772 1026 A
5850 V
(14210)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
5940 V
(14211)210 648 A
(/****************************************************************/)2772 1026 A
6030 V
(14212)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
6120 V
(14213)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
6210 V
(14214)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
8418 V
EP
%%Page: 116 116
BP
/slant 0 def
/height 0 def
630 V
12 B
(116)180 648 A
11 R
1882(File:)S
(src/lib/curses/winscrol.c)1078 2115 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(14215)210 648 A
(/****************************************************************/)2772 1026 A
990 V
(14216)210 648 A
1080 V
(14217)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
1170 V
(14218)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
1260 V
(14219)210 648 A
1350 V
(14220)210 648 A
(/****************************************************************/)2772 1026 A
1440 V
(14221)210 648 A
1026(/*)S
(Scroll\(\))336 1152 A
(scrolls)294 1530 A
(the)126 1866 A
(scrolling)378 2034 A
(region)252 2454 A
2748(of)S
('win',)252 2874 A
(but)126 3168 A
(only)168 3336 A
3546(if)S
3714(*/)S
1530 V
(14222)210 648 A
1026(/*)S
(Scrolling)378 1152 A
1572(is)S
(allowed)294 1698 A
(and)126 2034 A
2202(if)S
(the)126 2328 A
(cursor)252 2496 A
2790(is)S
(inside)252 2916 A
(the)126 3210 A
(scrol-)252 3378 A
3714(*/)S
1620 V
(14223)210 648 A
1026(/*)S
(Ling)168 1152 A
(region.)294 1362 A
3714(*/)S
1710 V
(14224)210 648 A
(/****************************************************************/)2772 1026 A
1800 V
(14225)210 648 A
1890 V
(14226)210 648 A
(void)168 1026 A
(scroll\(win\))462 1236 A
1980 V
(14227)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
2070 V
(14228)210 648 A
1026({)S
2160 V
(14229)210 648 A
(int)126 1110 A
1278(i;)S
2250 V
(14230)210 648 A
(int)126 1110 A
(*ptr;)210 1278 A
2340 V
(14231)210 648 A
(int)126 1110 A
(*temp;)252 1278 A
2430 V
(14232)210 648 A
(static)252 1110 A
(int)126 1404 A
(blank;)252 1572 A
2520 V
(14233)210 648 A
2610 V
(14234)210 648 A
(blank)210 1110 A
1362(=)S
1446(')S
1530(')S
1614(|)S
(\(win->_attrs)504 1698 A
2244(&)S
(ATR_MSK\);)378 2328 A
2700 V
(14235)210 648 A
1110(if)S
(\(\(!win->_scroll\))672 1236 A
2370(/*)S
(check)210 2496 A
2748(if)S
(window)252 2874 A
(scrolls)294 3168 A
3504(*/)S
2790 V
(14236)210 648 A
(||\(win->_cury)546 1278 A
1866(<)S
(win->_regtop\))546 1950 A
2706(/*)S
(and)126 2832 A
(cursor)252 3000 A
3294(in)S
(region)252 3420 A
3714(*/)S
2880 V
(14237)210 648 A
(||\(win->_cury)546 1278 A
1866(>)S
(win->_regbottom\))672 1950 A
2970 V
(14238)210 648 A
1362(\))S
3060 V
(14239)210 648 A
(return;)294 1362 A
3150 V
(14240)210 648 A
3240 V
(14241)210 648 A
(temp)168 1110 A
1320(=)S
(win->_line[win->_regtop];)1050 1404 A
3330 V
(14242)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
(win->_regtop;)546 1488 A
2076(i)S
2160(<)S
(win->_regbottom;)672 2244 A
(i++\))168 2958 A
3168({)S
3420 V
(14243)210 648 A
(win->_line[i])546 1362 A
1950(=)S
(win->_line[i)504 2034 A
2580(+)S
(1];)126 2664 A
3042(/*)S
(re-arrange)420 3168 A
(line)168 3630 A
(pointers)336 3840 A
4218(*/)S
3510 V
(14244)210 648 A
(win->_minchng[i])672 1362 A
2076(=)S
2160(0;)S
3600 V
(14245)210 648 A
(win->_maxchng[i])672 1362 A
2076(=)S
(win->_maxx;)462 2160 A
3690 V
(14246)210 648 A
1110(})S
3780 V
(14247)210 648 A
(for)126 1110 A
(\(ptr)168 1278 A
1488(=)S
(temp;)210 1572 A
(ptr)126 1824 A
1992(-)S
(temp)168 2076 A
2286(<=)S
(win->_maxx;)462 2412 A
(ptr++\))252 2916 A
3870 V
(14248)210 648 A
(*ptr)168 1362 A
1572(=)S
(blank;)252 1656 A
2370(/*)S
(make)168 2496 A
2706(a)S
(blank)210 2790 A
(line)168 3042 A
3252(*/)S
3960 V
(14249)210 648 A
(win->_line[win->_regbottom])1134 1110 A
2286(=)S
(temp;)210 2370 A
4050 V
(14250)210 648 A
1110(if)S
(\(win->_cury)462 1236 A
1740(>)S
(win->_regtop\)/*)630 1824 A
2496(if)S
(not)126 2622 A
2790(on)S
(top)126 2916 A
(line)168 3084 A
3294(*/)S
4140 V
(14251)210 648 A
(win->_cury--;)546 1362 A
2370(/*)S
(cursor)252 2496 A
(scrolls)294 2790 A
(too)126 3126 A
3294(*/)S
4230 V
(14252)210 648 A
(win->_minchng[win->_regbottom])1260 1110 A
2412(=)S
2496(0;)S
4320 V
(14253)210 648 A
(win->_maxchng[win->_regbottom])1260 1110 A
2412(=)S
(win->_maxx;)462 2496 A
4410 V
(14254)210 648 A
1026(})S
2370(/*)S
(scroll)252 2496 A
2790(*/)S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/curses/winsertln.c)1092 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(14300)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
5490 V
(14301)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
5580 V
(14302)210 648 A
5670 V
(14303)210 648 A
(/****************************************************************/)2772 1026 A
5760 V
(14304)210 648 A
1026(/*)S
(Winsertln\(\))462 1152 A
(inserts)294 1656 A
1992(a)S
(blank)210 2076 A
(line)168 2328 A
(instead)294 2538 A
2874(of)S
(the)126 3000 A
(cursor)252 3168 A
(line)168 3462 A
3714(*/)S
5850 V
(14305)210 648 A
1026(/*)S
1152(In)S
(window)252 1278 A
('win')210 1572 A
(and)126 1824 A
(pushes)252 1992 A
(other)210 2286 A
(lines)210 2538 A
(down.)210 2790 A
3714(*/)S
5940 V
(14306)210 648 A
(/****************************************************************/)2772 1026 A
6030 V
(14307)210 648 A
6120 V
(14308)210 648 A
(int)126 1026 A
(winsertln\(win\))588 1194 A
6210 V
(14309)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
8418 V
EP
%%Page: 117 117
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1867(File:)S
(src/lib/curses/winsertln.c)1109 2100 A
12 B
(117)180 4248 A
900 V
7 LST
(14310)210 648 A
1026({)S
990 V
(14311)210 648 A
(int)126 1110 A
(*temp,)252 1278 A
(*end,)210 1572 A
1824(y,)S
(blank;)252 1950 A
1080 V
(14312)210 648 A
1170 V
(14313)210 648 A
(blank)210 1110 A
1362(=)S
1446(')S
1530(')S
1614(|)S
(\(win->_attrs)504 1698 A
2244(&)S
(ATR_MSK\);)378 2328 A
1260 V
(14314)210 648 A
(temp)168 1110 A
1320(=)S
(win->_line[win->_regbottom];)1176 1404 A
1350 V
(14315)210 648 A
(for)126 1110 A
1278(\(y)S
1404(=)S
(win->_regbottom;)672 1488 A
2202(y)S
2286(>)S
(win->_cury;)462 2370 A
(y--\))168 2874 A
3084({)S
1440 V
(14316)210 648 A
(win->_line[y])546 1362 A
1950(=)S
(win->_line[y)504 2034 A
2580(-)S
(1];)126 2664 A
1530 V
(14317)210 648 A
(win->_minchng[y])672 1362 A
2076(=)S
2160(0;)S
1620 V
(14318)210 648 A
(win->_maxchng[y])672 1362 A
2076(=)S
(win->_maxx;)462 2160 A
1710 V
(14319)210 648 A
1110(})S
1800 V
(14320)210 648 A
(win->_line[win->_cury])924 1110 A
2076(=)S
(temp;)210 2160 A
1890 V
(14321)210 648 A
(for)126 1110 A
(\(end)168 1278 A
1488(=)S
(&temp[win->_maxx];)756 1572 A
(temp)168 2370 A
2580(<=)S
(end;)168 2706 A
(temp++\))294 2916 A
(*temp)210 3252 A
3504(=)S
(blank;)252 3588 A
1980 V
(14322)210 648 A
(win->_minchng[win->_cury])1050 1110 A
2202(=)S
2286(0;)S
2070 V
(14323)210 648 A
(win->_maxchng[win->_cury])1050 1110 A
2202(=)S
(win->_maxx;)462 2286 A
2160 V
(14324)210 648 A
(return\(OK\);)462 1110 A
2250 V
(14325)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/curses/wintouch.c)1050 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(14400)210 648 A
(/****************************************************************/)2772 1026 A
3240 V
(14401)210 648 A
1026(/*)S
(Touchwin\(\))420 1152 A
(routine)294 1614 A
1950(of)S
(the)126 2076 A
(PCcurses)336 2244 A
(package)294 2622 A
3714(*/)S
3330 V
(14402)210 648 A
1026(/*)S
3714(*/)S
3420 V
(14403)210 648 A
(/****************************************************************/)2772 1026 A
3510 V
(14404)210 648 A
1026(/*)S
(This)168 1152 A
(version)294 1362 A
1698(of)S
(curses)252 1824 A
2118(is)S
(based)210 2244 A
2496(on)S
(ncurses,)336 2622 A
3000(a)S
(curses)252 3084 A
(version)294 3378 A
3714(*/)S
3600 V
(14405)210 648 A
1026(/*)S
(Originally)420 1152 A
(written)294 1614 A
1950(by)S
(Pavel)210 2076 A
(Curtis)252 2328 A
2622(at)S
(Cornell)294 2748 A
(University.)462 3084 A
3714(*/)S
3690 V
(14406)210 648 A
1026(/*)S
1152(I)S
(have)168 1236 A
(made)168 1446 A
(substantial)462 1656 A
(changes)294 2160 A
2496(to)S
(make)168 2622 A
2832(it)S
(run)126 2958 A
3126(on)S
(IBM)126 3252 A
(PC's,)210 3420 A
3714(*/)S
3780 V
(14407)210 648 A
1026(/*)S
(And)126 1152 A
(therefore)378 1320 A
(consider)336 1740 A
(myself)252 2118 A
(free)168 2412 A
2622(to)S
(make)168 2748 A
2958(it)S
(public)252 3084 A
(domain.)294 3378 A
3714(*/)S
3870 V
(14408)210 648 A
1026(/*)S
(Bjorn)210 1698 A
(Larsson)294 1950 A
(\(...mcvax!enea!infovax!bl\))1092 2286 A
3714(*/)S
3960 V
(14409)210 648 A
(/****************************************************************/)2772 1026 A
4050 V
(14410)210 648 A
1026(/*)S
(1.0:)168 1152 A
(Release:)336 1362 A
(870515)252 3378 A
3714(*/)S
4140 V
(14411)210 648 A
(/****************************************************************/)2772 1026 A
4230 V
(14412)210 648 A
1026(/*)S
(Modified)336 1152 A
1530(to)S
(run)126 1656 A
(under)210 1824 A
(the)126 2076 A
(MINIX)210 2244 A
(operating)378 2496 A
(system)252 2916 A
3210(by)S
(Don)126 3336 A
(Cope)168 3504 A
3714(*/)S
4320 V
(14413)210 648 A
1026(/*)S
(These)210 1152 A
(changes)294 1404 A
(are)126 1740 A
(also)168 1908 A
(released)336 2118 A
(into)168 2496 A
(the)126 2706 A
(public)252 2874 A
(domain.)294 3168 A
3714(*/)S
4410 V
(14414)210 648 A
1026(/*)S
(900906)252 3378 A
3714(*/)S
4500 V
(14415)210 648 A
(/****************************************************************/)2772 1026 A
4590 V
(14416)210 648 A
4680 V
(14417)210 648 A
(#include)336 1026 A
(<curses.h>)420 1404 A
4770 V
(14418)210 648 A
(#include)336 1026 A
("curspriv.h")504 1404 A
4860 V
(14419)210 648 A
4950 V
(14420)210 648 A
(/****************************************************************/)2772 1026 A
5040 V
(14421)210 648 A
1026(/*)S
(Touchwin\(\))420 1152 A
(marks)210 1614 A
(all)126 1866 A
(lines)210 2034 A
2286(of)S
(window)252 2412 A
('win')210 2706 A
2958(as)S
(changed,)336 3084 A
(from)168 3462 A
3714(*/)S
5130 V
(14422)210 648 A
1026(/*)S
(The)126 1152 A
(first)210 1320 A
1572(to)S
(the)126 1698 A
(last)168 1866 A
(character)378 2076 A
2496(on)S
(the)126 2622 A
(line.)210 2790 A
3714(*/)S
5220 V
(14423)210 648 A
(/****************************************************************/)2772 1026 A
5310 V
(14424)210 648 A
5400 V
(14425)210 648 A
(void)168 1026 A
(touchwin\(win\))546 1236 A
5490 V
(14426)210 648 A
(WINDOW)252 1026 A
(*win;)210 1320 A
5580 V
(14427)210 648 A
1026({)S
5670 V
(14428)210 648 A
(int)126 1110 A
1278(y;)S
5760 V
(14429)210 648 A
(int)126 1110 A
(maxy;)210 1278 A
5850 V
(14430)210 648 A
(int)126 1110 A
(maxx;)210 1278 A
5940 V
(14431)210 648 A
6030 V
(14432)210 648 A
(maxy)168 1110 A
1320(=)S
(win->_maxy;)462 1404 A
6120 V
(14433)210 648 A
(maxx)168 1110 A
1320(=)S
(win->_maxx;)462 1404 A
6210 V
(14434)210 648 A
8418 V
EP
%%Page: 118 118
BP
/slant 0 def
/height 0 def
630 V
12 B
(118)180 648 A
11 R
1867(File:)S
(src/lib/curses/wintouch.c)1108 2100 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(14435)210 648 A
(for)126 1110 A
1278(\(y)S
1404(=)S
1488(0;)S
1614(y)S
1698(<=)S
(maxy;)210 1824 A
(y++\))168 2076 A
2286({)S
990 V
(14436)210 648 A
(win->_minchng[y])672 1362 A
2076(=)S
2160(0;)S
1080 V
(14437)210 648 A
(win->_maxchng[y])672 1362 A
2076(=)S
(maxx;)210 2160 A
1170 V
(14438)210 648 A
1110(})S
2370(/*)S
(for)126 2496 A
2664(*/)S
1260 V
(14439)210 648 A
1026(})S
2370(/*)S
(touchwin)336 2496 A
2874(*/)S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/editline/editline.h)1134 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(14500)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.3)126 1656 A
1824($)S
2340 V
(14501)210 648 A
1026(**)S
2430 V
(14502)210 648 A
1026(**)S
(Internal)336 1194 A
(header)252 1572 A
(file)168 1866 A
(for)126 2076 A
(editline)336 2244 A
(library.)336 2622 A
2520 V
(14503)210 648 A
1026(*/)S
2610 V
(14504)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
2700 V
(14505)210 648 A
(#if)126 1026 A
(defined\(HAVE_STDLIB\))840 1362 A
2790 V
(14506)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
2880 V
(14507)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2970 V
(14508)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(HAVE_STDLIB\))840 1488 A
2370(*/)S
3060 V
(14509)210 648 A
(#if)126 1026 A
(defined\(SYS_UNIX\))714 1362 A
3150 V
(14510)210 648 A
(#include)336 1026 A
("unix.h")336 1404 A
3240 V
(14511)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(SYS_UNIX\))714 1488 A
2244(*/)S
3330 V
(14512)210 648 A
(#if)126 1026 A
(defined\(SYS_OS9\))672 1362 A
3420 V
(14513)210 648 A
(#include)336 1026 A
("os9.h")294 1404 A
3510 V
(14514)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(SYS_OS9\))672 1488 A
2202(*/)S
3600 V
(14515)210 648 A
3690 V
(14516)210 648 A
(#if)126 1026 A
(!defined\(SIZE_T\))672 1362 A
3780 V
(14517)210 648 A
(#define)294 1026 A
(SIZE_T)252 1362 A
(unsigned)336 1698 A
(int)126 2076 A
3870 V
(14518)210 648 A
(#endif)252 1026 A
1362(/*)S
(!defined\(SIZE_T\))672 1488 A
2202(*/)S
3960 V
(14519)210 648 A
4050 V
(14520)210 648 A
(typedef)294 1026 A
(unsigned)336 1362 A
(char)168 1740 A
(CHAR;)210 2034 A
4140 V
(14521)210 648 A
4230 V
(14522)210 648 A
(#if)126 1026 A
(defined\(HIDE\))546 1362 A
4320 V
(14523)210 648 A
(#define)294 1026 A
(STATIC)252 1362 A
(static)252 1698 A
4410 V
(14524)210 648 A
(#else)210 1026 A
4500 V
(14525)210 648 A
(#define)294 1026 A
(STATIC)252 1362 A
1698(/*)S
(NULL)168 1824 A
2034(*/)S
4590 V
(14526)210 648 A
(#endif)252 1026 A
1362(/*)S
(!defined\(HIDE\))588 1488 A
2118(*/)S
4680 V
(14527)210 648 A
4770 V
(14528)210 648 A
(#if)126 1026 A
(!defined\(CONST\))630 1362 A
4860 V
(14529)210 648 A
(#if)126 1026 A
(defined\(__STDC__\))714 1362 A
4950 V
(14530)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
(const)210 1698 A
5040 V
(14531)210 648 A
(#else)210 1026 A
5130 V
(14532)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
5220 V
(14533)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(__STDC__\))714 1488 A
2244(*/)S
5310 V
(14534)210 648 A
(#endif)252 1026 A
1362(/*)S
(!defined\(CONST\))630 1488 A
2160(*/)S
5400 V
(14535)210 648 A
5490 V
(14536)210 648 A
5580 V
(14537)210 648 A
(#define)294 1026 A
(MEM_INC)294 1362 A
2034(64)S
5670 V
(14538)210 648 A
(#define)294 1026 A
(SCREEN_INC)420 1362 A
(256)126 2034 A
5760 V
(14539)210 648 A
5850 V
(14540)210 648 A
(#define)294 1026 A
(DISPOSE\(p\))420 1362 A
(free\(\(char)420 2034 A
(*\)\(p\)\))252 2496 A
5940 V
(14541)210 648 A
(#define)294 1026 A
(NEW\(T,)252 1362 A
1656(c\))S
2034(\\)S
6030 V
(14542)210 648 A
(\(\(T)126 1362 A
(*\)malloc\(\(unsigned)756 1530 A
(int\)\(sizeof)462 2328 A
(\(T\))126 2832 A
3000(*)S
(\(c\)\)\)\))252 3084 A
6120 V
(14543)210 648 A
(#define)294 1026 A
(RENEW\(p,)336 1362 A
1740(T,)S
1866(c\))S
2034(\\)S
6210 V
(14544)210 648 A
1362(\(p)S
1488(=)S
1572(\(T)S
(*\)realloc\(\(char)630 1698 A
(*\)\(p\),)252 2370 A
(\(unsigned)378 2664 A
(int\)\(sizeof)462 3084 A
(\(T\))126 3588 A
3756(*)S
(\(c\)\)\)\))252 3840 A
8418 V
EP
%%Page: 119 119
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1876(File:)S
(src/lib/editline/editline.h)1091 2109 A
12 B
(119)180 4248 A
900 V
7 LST
(14545)210 648 A
(#define)294 1026 A
(COPYFROMTO\(new,)630 1362 A
2034(p,)S
(len\))168 2160 A
2370(\\)S
990 V
(14546)210 648 A
(\(void\)memcpy\(\(char)756 1362 A
(*\)\(new\),)336 2160 A
(\(char)210 2538 A
(*\)\(p\),)252 2790 A
(\(int\)\(len\)\))462 3084 A
1080 V
(14547)210 648 A
1170 V
(14548)210 648 A
1260 V
(14549)210 648 A
1026(/*)S
1350 V
(14550)210 648 A
1026(**)S
(Variables)378 1194 A
(and)126 1614 A
(routines)336 1782 A
(internal)336 2160 A
2538(to)S
(this)168 2664 A
(package.)336 2874 A
1440 V
(14551)210 648 A
1026(*/)S
1530 V
(14552)210 648 A
(extern)252 1026 A
(int)126 1320 A
(rl_eof;)294 1698 A
1620 V
(14553)210 648 A
(extern)252 1026 A
(int)126 1320 A
(rl_erase;)378 1698 A
1710 V
(14554)210 648 A
(extern)252 1026 A
(int)126 1320 A
(rl_intr;)336 1698 A
1800 V
(14555)210 648 A
(extern)252 1026 A
(int)126 1320 A
(rl_kill;)336 1698 A
1890 V
(14556)210 648 A
(extern)252 1026 A
(int)126 1320 A
(rl_quit;)336 1698 A
1980 V
(14557)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*rl_complete\(\);)630 1698 A
2070 V
(14558)210 648 A
(extern)252 1026 A
(int)126 1320 A
(rl_list_possib\(\);)714 1698 A
2160 V
(14559)210 648 A
(extern)252 1026 A
(void)168 1320 A
(rl_ttyset\(\);)504 1698 A
2250 V
(14560)210 648 A
(extern)252 1026 A
(void)168 1320 A
(rl_add_slash\(\);)630 1698 A
2340 V
(14561)210 648 A
2430 V
(14562)210 648 A
(#if)126 1026 A
(!defined\(HAVE_STDLIB\))882 1362 A
2520 V
(14563)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*getenv\(\);)420 1698 A
2610 V
(14564)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*malloc\(\);)420 1698 A
2700 V
(14565)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*realloc\(\);)462 1698 A
2790 V
(14566)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*memcpy\(\);)420 1698 A
2880 V
(14567)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*strcat\(\);)420 1698 A
2970 V
(14568)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*strchr\(\);)420 1698 A
3060 V
(14569)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*strrchr\(\);)462 1698 A
3150 V
(14570)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*strcpy\(\);)420 1698 A
3240 V
(14571)210 648 A
(extern)252 1026 A
(int)126 1320 A
(strcmp\(\);)378 1698 A
3330 V
(14572)210 648 A
(extern)252 1026 A
(int)126 1320 A
(strlen\(\);)378 1698 A
3420 V
(14573)210 648 A
(extern)252 1026 A
(int)126 1320 A
(strncmp\(\);)420 1698 A
3510 V
(14574)210 648 A
(#endif)252 1026 A
1362(/*)S
(!defined\(HAVE_STDLIB\))882 1488 A
2412(*/)S
3600 V
(14575)210 648 A
3690 V
(14576)210 648 A
(#if)126 1026 A
(defined\(NEED_STRDUP\))840 1362 A
3780 V
(14577)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*strdup\(\);)420 1698 A
3870 V
(14578)210 648 A
(#endif)252 1026 A
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/editline/os9.h)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(14600)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.1)126 1656 A
1824($)S
4590 V
(14601)210 648 A
1026(**)S
4680 V
(14602)210 648 A
1026(**)S
(Editline)336 1194 A
(system)252 1572 A
(header)252 1866 A
(file)168 2160 A
(for)126 2370 A
(OS-9)168 2538 A
(\(on)126 2748 A
(68k\).)210 2916 A
4770 V
(14603)210 648 A
1026(*/)S
4860 V
(14604)210 648 A
4950 V
(14605)210 648 A
(#define)294 1026 A
(CRLF)168 1362 A
("\\r\\l")252 2034 A
5040 V
(14606)210 648 A
(#define)294 1026 A
(FORWARD)294 1362 A
(extern)252 2034 A
5130 V
(14607)210 648 A
5220 V
(14608)210 648 A
(#include)336 1026 A
(<dir.h>)294 1404 A
5310 V
(14609)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(direct)252 1656 A
(DIRENTRY;)378 2034 A
8418 V
EP
%%Page: 120 120
BP
/slant 0 def
/height 0 def
630 V
12 B
(120)180 648 A
11 R
1945(File:)S
(src/lib/editline/unix.h)953 2178 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/editline/unix.h)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(14700)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.1)126 1656 A
1824($)S
1440 V
(14701)210 648 A
1026(**)S
1530 V
(14702)210 648 A
1026(**)S
(Editline)336 1194 A
(system)252 1572 A
(header)252 1866 A
(file)168 2160 A
(for)126 2370 A
(Unix.)210 2538 A
1620 V
(14703)210 648 A
1026(*/)S
1710 V
(14704)210 648 A
1800 V
(14705)210 648 A
(#define)294 1026 A
(CRLF)168 1362 A
("\\r\\n")252 2034 A
1890 V
(14706)210 648 A
(#define)294 1026 A
(FORWARD)294 1362 A
(STATIC)252 2034 A
1980 V
(14707)210 648 A
2070 V
(14708)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2160 V
(14709)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
2250 V
(14710)210 648 A
2340 V
(14711)210 648 A
(#if)126 1026 A
(defined\(USE_DIRENT\))798 1362 A
2430 V
(14712)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
2520 V
(14713)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(dirent)252 1656 A
(DIRENTRY;)378 2034 A
2610 V
(14714)210 648 A
(#else)210 1026 A
2700 V
(14715)210 648 A
(#include)336 1026 A
(<sys/dir.h>)462 1404 A
2790 V
(14716)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(direct)252 1656 A
(DIRENTRY;)378 2034 A
2880 V
(14717)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(USE_DIRENT\))798 1488 A
2328(*/)S
2970 V
(14718)210 648 A
3060 V
(14719)210 648 A
(#if)126 1026 A
(!defined\(S_ISDIR\))714 1362 A
3150 V
(14720)210 648 A
(#define)294 1026 A
(S_ISDIR\(m\))420 1362 A
(\(\(\(m\))210 2370 A
2622(&)S
(S_IFMT\))294 2706 A
3042(==)S
(S_IFDIR\))336 3168 A
3240 V
(14721)210 648 A
(#endif)252 1026 A
1362(/*)S
(!defined\(S_ISDIR\))714 1488 A
2244(*/)S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/editline/complete.c)1134 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(14800)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.4)126 1656 A
1824($)S
4140 V
(14801)210 648 A
1026(**)S
4230 V
(14802)210 648 A
1026(**)S
(History)294 1194 A
(and)126 1530 A
(file)168 1698 A
(completion)420 1908 A
(functions)378 2370 A
(for)126 2790 A
(editline)336 2958 A
(library.)336 3336 A
4320 V
(14803)210 648 A
1026(*/)S
4410 V
(14804)210 648 A
(#include)336 1026 A
("editline.h")504 1404 A
4500 V
(14805)210 648 A
4590 V
(14806)210 648 A
4680 V
(14807)210 648 A
(#if)126 1026 A
(defined\(NEED_STRDUP\))840 1362 A
4770 V
(14808)210 648 A
1026(/*)S
4860 V
(14809)210 648 A
1026(**)S
(Return)252 1194 A
1488(an)S
(allocated)378 1614 A
(copy)168 2034 A
2244(of)S
2370(a)S
(string.)294 2454 A
4950 V
(14810)210 648 A
1026(*/)S
5040 V
(14811)210 648 A
(char)168 1026 A
1236(*)S
5130 V
(14812)210 648 A
(strdup\(p\))378 1026 A
5220 V
(14813)210 648 A
(char)168 1194 A
(*p;)126 1698 A
5310 V
(14814)210 648 A
1026({)S
5400 V
(14815)210 648 A
(char)168 1194 A
(*new;)210 1698 A
5490 V
(14816)210 648 A
5580 V
(14817)210 648 A
1194(if)S
(\(\(new)210 1320 A
1572(=)S
(NEW\(char,)378 1656 A
(strlen\(p\))378 2076 A
2496(+)S
(1\)\))126 2580 A
2748(!=)S
(NULL\))210 2874 A
5670 V
(14818)210 648 A
(\(void\)strcpy\(new,)714 1362 A
(p\);)126 2118 A
5760 V
(14819)210 648 A
(return)252 1194 A
(new;)168 1488 A
5850 V
(14820)210 648 A
1026(})S
5940 V
(14821)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(NEED_STRDUP\))840 1488 A
2370(*/)S
6030 V
(14822)210 648 A
6120 V
(14823)210 648 A
1026(/*)S
6210 V
(14824)210 648 A
1026(**)S
(strcmp-like)462 1194 A
(sorting)294 1698 A
(predicate)378 2034 A
(for)126 2454 A
(qsort.)252 2622 A
8418 V
EP
%%Page: 121 121
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1841(File:)S
(src/lib/editline/complete.c)1160 2074 A
12 B
(121)180 4248 A
900 V
7 LST
(14825)210 648 A
1026(*/)S
990 V
(14826)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
1080 V
(14827)210 648 A
(compare\(p1,)462 1026 A
(p2\))126 1530 A
1170 V
(14828)210 648 A
(CONST)210 1194 A
(void)168 1446 A
(*p1;)168 1698 A
1260 V
(14829)210 648 A
(CONST)210 1194 A
(void)168 1446 A
(*p2;)168 1698 A
1350 V
(14830)210 648 A
1026({)S
1440 V
(14831)210 648 A
(CONST)210 1194 A
(char)168 1446 A
(**v1;)210 1698 A
1530 V
(14832)210 648 A
(CONST)210 1194 A
(char)168 1446 A
(**v2;)210 1698 A
1620 V
(14833)210 648 A
1710 V
(14834)210 648 A
1194(v1)S
1320(=)S
(\(CONST)252 1404 A
(char)168 1698 A
(**\)p1;)252 1908 A
1800 V
(14835)210 648 A
1194(v2)S
1320(=)S
(\(CONST)252 1404 A
(char)168 1698 A
(**\)p2;)252 1908 A
1890 V
(14836)210 648 A
(return)252 1194 A
(strcmp\(*v1,)462 1488 A
(*v2\);)210 1992 A
1980 V
(14837)210 648 A
1026(})S
2160 V
(14839)210 648 A
1026(/*)S
2250 V
(14840)210 648 A
1026(**)S
(Fill)168 1194 A
1404(in)S
(*avp)168 1530 A
(with)168 1740 A
1950(an)S
(array)210 2076 A
2328(of)S
(names)210 2454 A
(that)168 2706 A
(match)210 2916 A
(file,)210 3168 A
3420(up)S
3546(to)S
(its)126 3672 A
(length.)294 3840 A
2340 V
(14841)210 648 A
1026(**)S
(Ignore)252 1194 A
1488(.)S
(and)126 1572 A
1740(..)S
1866(.)S
2430 V
(14842)210 648 A
1026(*/)S
2520 V
(14843)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
2610 V
(14844)210 648 A
(FindMatches\(dir,)672 1026 A
(file,)210 1740 A
(avp\))168 1992 A
2700 V
(14845)210 648 A
(char)168 1194 A
(*dir;)210 1698 A
2790 V
(14846)210 648 A
(char)168 1194 A
(*file;)252 1698 A
2880 V
(14847)210 648 A
(char)168 1194 A
(***avp;)294 1698 A
2970 V
(14848)210 648 A
1026({)S
3060 V
(14849)210 648 A
(char)168 1194 A
(**av;)210 1698 A
3150 V
(14850)210 648 A
(char)168 1194 A
(**new;)252 1698 A
3240 V
(14851)210 648 A
(char)168 1194 A
(*p;)126 1698 A
3330 V
(14852)210 648 A
(DIR)126 1194 A
(*dp;)168 1698 A
3420 V
(14853)210 648 A
(DIRENTRY)336 1194 A
(*ep;)168 1698 A
3510 V
(14854)210 648 A
(SIZE_T)252 1194 A
(ac;)126 1698 A
3600 V
(14855)210 648 A
(SIZE_T)252 1194 A
(len;)168 1698 A
3690 V
(14856)210 648 A
(SIZE_T)252 1194 A
(choices;)336 1698 A
3780 V
(14857)210 648 A
(SIZE_T)252 1194 A
(total;)252 1698 A
3870 V
(14858)210 648 A
3960 V
(14859)210 648 A
1194(if)S
(\(\(dp)168 1320 A
1530(=)S
(opendir\(dir\)\))546 1614 A
2202(==)S
(NULL\))210 2328 A
4050 V
(14860)210 648 A
(return)252 1362 A
1656(0;)S
4140 V
(14861)210 648 A
4230 V
(14862)210 648 A
1194(av)S
1320(=)S
(NULL;)210 1404 A
4320 V
(14863)210 648 A
1194(ac)S
1320(=)S
1404(0;)S
4410 V
(14864)210 648 A
(len)126 1194 A
1362(=)S
(strlen\(file\);)546 1446 A
4500 V
(14865)210 648 A
(choices)294 1194 A
1530(=)S
1614(0;)S
4590 V
(14866)210 648 A
(total)210 1194 A
1446(=)S
1530(0;)S
4680 V
(14867)210 648 A
(while)210 1194 A
(\(\(ep)168 1446 A
1656(=)S
(readdir\(dp\)\))504 1740 A
2286(!=)S
(NULL\))210 2412 A
2664({)S
4770 V
(14868)210 648 A
1362(p)S
1446(=)S
(ep->d_name;)462 1530 A
4860 V
(14869)210 648 A
1362(if)S
(\(p[0])210 1488 A
1740(==)S
('.')126 1866 A
2034(&&)S
(\(p[1])210 2160 A
2412(==)S
('\\0')168 2538 A
2748(||)S
(\(p[1])210 2874 A
3126(==)S
('.')126 3252 A
3420(&&)S
(p[2])168 3546 A
3756(==)S
('\\0'\)\)\))294 3882 A
4950 V
(14870)210 648 A
(continue;)378 1530 A
5040 V
(14871)210 648 A
1362(if)S
(\(len)168 1488 A
1698(&&)S
(strncmp\(p,)420 1824 A
(file,)210 2286 A
(len\))168 2538 A
2748(!=)S
2874(0\))S
5130 V
(14872)210 648 A
(continue;)378 1530 A
5220 V
(14873)210 648 A
5310 V
(14874)210 648 A
(choices++;)420 1362 A
5400 V
(14875)210 648 A
1362(if)S
(\(\(total)294 1488 A
1824(+=)S
(strlen\(p\)\))420 1950 A
2412(>)S
(1024\))210 2496 A
2748({)S
5490 V
(14876)210 648 A
1530(/*)S
(This)168 1656 A
1866(is)S
1992(a)S
(bit)126 2076 A
(too)126 2244 A
(much.)210 2412 A
2664(*/)S
5580 V
(14877)210 648 A
(while)210 1530 A
(\(ac)126 1782 A
1950(>)S
2034(0\))S
(DISPOSE\(av[--ac]\);)756 2160 A
5670 V
(14878)210 648 A
(continue;)378 1530 A
5760 V
(14879)210 648 A
1362(})S
5850 V
(14880)210 648 A
5940 V
(14881)210 648 A
1362(if)S
(\(\(ac)168 1488 A
1698(%)S
(MEM_INC\))336 1782 A
2160(==)S
2286(0\))S
2412({)S
6030 V
(14882)210 648 A
1530(if)S
(\(\(new)210 1656 A
1908(=)S
(NEW\(char*,)420 1992 A
2454(ac)S
2580(+)S
(MEM_INC\)\))378 2664 A
3084(==)S
(NULL\))210 3210 A
3462({)S
6120 V
(14883)210 648 A
(total)210 1698 A
1950(=)S
2034(0;)S
6210 V
(14884)210 648 A
(break;)252 1698 A
8418 V
EP
%%Page: 122 122
BP
/slant 0 def
/height 0 def
630 V
12 B
(122)180 648 A
11 R
1841(File:)S
(src/lib/editline/complete.c)1160 2074 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(14885)210 648 A
1530(})S
990 V
(14886)210 648 A
1530(if)S
(\(ac\))168 1656 A
1866({)S
1080 V
(14887)210 648 A
(COPYFROMTO\(new,)630 1698 A
(av,)126 2370 A
2538(ac)S
2664(*)S
(sizeof)252 2748 A
(\(char)210 3042 A
(**\)\);)210 3294 A
1170 V
(14888)210 648 A
(DISPOSE\(av\);)504 1698 A
1260 V
(14889)210 648 A
1530(})S
1350 V
(14890)210 648 A
(*avp)168 1530 A
1740(=)S
1824(av)S
1950(=)S
(new;)168 2034 A
1440 V
(14891)210 648 A
1362(})S
1530 V
(14892)210 648 A
1620 V
(14893)210 648 A
1362(if)S
(\(\(av[ac])336 1488 A
1866(=)S
(strdup\(p\)\))420 1950 A
2412(==)S
(NULL\))210 2538 A
2790({)S
1710 V
(14894)210 648 A
1530(if)S
(\(ac)126 1656 A
1824(==)S
1950(0\))S
1800 V
(14895)210 648 A
(DISPOSE\(av\);)504 1698 A
1890 V
(14896)210 648 A
(total)210 1530 A
1782(=)S
1866(0;)S
1980 V
(14897)210 648 A
(break;)252 1530 A
2070 V
(14898)210 648 A
1362(})S
2160 V
(14899)210 648 A
(ac++;)210 1362 A
2250 V
(14900)210 648 A
1194(})S
2340 V
(14901)210 648 A
2430 V
(14902)210 648 A
1194(/*)S
(Clean)210 1320 A
1572(up)S
(and)126 1698 A
(return.)294 1866 A
2202(*/)S
2520 V
(14903)210 648 A
(\(void\)closedir\(dp\);)798 1194 A
2610 V
(14904)210 648 A
1194(if)S
(\(total)252 1320 A
1614(>)S
(1024\))210 1698 A
1950({)S
2700 V
(14905)210 648 A
(char)168 1362 A
(many[sizeof\(total\))756 1572 A
2370(*)S
(3];)126 2454 A
2790 V
(14906)210 648 A
1362(p)S
1446(=)S
(many)168 1530 A
1740(+)S
(sizeof\(many\);)546 1824 A
2880 V
(14907)210 648 A
(*--p)168 1362 A
1572(=)S
('\\0';)210 1656 A
2970 V
(14908)210 648 A
(while)210 1362 A
(\(choices)336 1614 A
1992(>)S
2076(0\))S
2202({)S
3060 V
(14909)210 648 A
(*--p)168 1488 A
1698(=)S
('0')126 1782 A
1950(+)S
(choices)294 2034 A
2370(%)S
(10;)126 2454 A
3150 V
(14910)210 648 A
(choices)294 1488 A
1824(/=)S
(10;)126 1950 A
3240 V
(14911)210 648 A
1362(})S
3330 V
(14912)210 648 A
(while)210 1362 A
1614(\(p)S
1740(>)S
(many)168 1824 A
2034(+)S
(sizeof\(many\))504 2118 A
2664(-)S
2748(8\))S
(*--p)168 2874 A
3084(=)S
3168(')S
3252(';)S
3420 V
(14913)210 648 A
1362(if)S
(\(\(p)126 1488 A
1656(=)S
(strdup\(p\)\))420 1740 A
2202(!=)S
(NULL\))210 2328 A
(av[ac++])336 2580 A
2958(=)S
3042(p;)S
3510 V
(14914)210 648 A
1362(if)S
(\(\(p)126 1488 A
1656(=)S
(strdup\("choices"\)\))756 1740 A
2538(!=)S
(NULL\))210 2664 A
(av[ac++])336 2916 A
3294(=)S
3378(p;)S
3600 V
(14915)210 648 A
1194(})S
(else)168 1278 A
1488({)S
3690 V
(14916)210 648 A
1362(if)S
(\(ac\))168 1488 A
3780 V
(14917)210 648 A
(qsort\(av,)378 1530 A
(ac,)126 1950 A
(sizeof)252 2118 A
(\(char)210 2412 A
(**\),)168 2664 A
(compare\);)378 2874 A
3870 V
(14918)210 648 A
1194(})S
3960 V
(14919)210 648 A
(return)252 1194 A
(ac;)126 1488 A
4050 V
(14920)210 648 A
1026(})S
4230 V
(14922)210 648 A
1026(/*)S
4320 V
(14923)210 648 A
1026(**)S
(Split)210 1194 A
1446(a)S
(pathname)336 1530 A
(into)168 1908 A
(allocated)378 2118 A
(directory)378 2538 A
(and)126 2958 A
(trailing)336 3126 A
(filename)336 3504 A
(parts.)252 3882 A
4410 V
(14924)210 648 A
1026(*/)S
4500 V
(14925)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
4590 V
(14926)210 648 A
(SplitPath\(path,)630 1026 A
(dirpart,)336 1698 A
(filepart\))378 2076 A
4680 V
(14927)210 648 A
(char)168 1194 A
(*path;)252 1698 A
4770 V
(14928)210 648 A
(char)168 1194 A
(**dirpart;)420 1698 A
4860 V
(14929)210 648 A
(char)168 1194 A
(**filepart;)462 1698 A
4950 V
(14930)210 648 A
1026({)S
5040 V
(14931)210 648 A
(static)252 1194 A
(char)168 1488 A
(DOT[])210 1698 A
1950(=)S
(".";)168 2034 A
5130 V
(14932)210 648 A
(char)168 1194 A
(*dpart;)294 1698 A
5220 V
(14933)210 648 A
(char)168 1194 A
(*fpart;)294 1698 A
5310 V
(14934)210 648 A
5400 V
(14935)210 648 A
1194(if)S
(\(\(fpart)294 1320 A
1656(=)S
(strrchr\(path,)546 1740 A
('/'\)\))210 2328 A
2580(==)S
(NULL\))210 2706 A
2958({)S
5490 V
(14936)210 648 A
1362(if)S
(\(\(dpart)294 1488 A
1824(=)S
(strdup\(DOT\)\))504 1908 A
2454(==)S
(NULL\))210 2580 A
5580 V
(14937)210 648 A
(return)252 1530 A
(-1;)126 1824 A
5670 V
(14938)210 648 A
1362(if)S
(\(\(fpart)294 1488 A
1824(=)S
(strdup\(path\)\))546 1908 A
2496(==)S
(NULL\))210 2622 A
2874({)S
5760 V
(14939)210 648 A
(DISPOSE\(dpart\);)630 1530 A
5850 V
(14940)210 648 A
(return)252 1530 A
(-1;)126 1824 A
5940 V
(14941)210 648 A
1362(})S
6030 V
(14942)210 648 A
1194(})S
6120 V
(14943)210 648 A
(else)168 1194 A
1404({)S
6210 V
(14944)210 648 A
1362(if)S
(\(\(dpart)294 1488 A
1824(=)S
(strdup\(path\)\))546 1908 A
2496(==)S
(NULL\))210 2622 A
8418 V
EP
%%Page: 123 123
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1841(File:)S
(src/lib/editline/complete.c)1160 2074 A
12 B
(123)180 4248 A
900 V
7 LST
(14945)210 648 A
(return)252 1530 A
(-1;)126 1824 A
990 V
(14946)210 648 A
(dpart[fpart)462 1362 A
1866(-)S
(path)168 1950 A
2160(+)S
2244(1])S
2370(=)S
('\\0';)210 2454 A
1080 V
(14947)210 648 A
1362(if)S
(\(\(fpart)294 1488 A
1824(=)S
(strdup\(++fpart\)\))672 1908 A
2622(==)S
(NULL\))210 2748 A
3000({)S
1170 V
(14948)210 648 A
(DISPOSE\(dpart\);)630 1530 A
1260 V
(14949)210 648 A
(return)252 1530 A
(-1;)126 1824 A
1350 V
(14950)210 648 A
1362(})S
1440 V
(14951)210 648 A
1194(})S
1530 V
(14952)210 648 A
(*dirpart)336 1194 A
1572(=)S
(dpart;)252 1656 A
1620 V
(14953)210 648 A
(*filepart)378 1194 A
1614(=)S
(fpart;)252 1698 A
1710 V
(14954)210 648 A
(return)252 1194 A
1488(0;)S
1800 V
(14955)210 648 A
1026(})S
1980 V
(14957)210 648 A
1026(/*)S
2070 V
(14958)210 648 A
1026(**)S
(Attempt)294 1194 A
1530(to)S
(complete)336 1656 A
(the)126 2034 A
(pathname,)378 2202 A
(returning)378 2622 A
3042(an)S
(allocated)378 3168 A
(copy.)210 3588 A
2160 V
(14959)210 648 A
1026(**)S
(Fill)168 1194 A
1404(in)S
(*unique)294 1530 A
1866(if)S
1992(we)S
(completed)378 2118 A
(it,)126 2538 A
2706(or)S
(set)126 2832 A
3000(it)S
3126(to)S
3252(0)S
3336(if)S
(ambiguous.)420 3462 A
2250 V
(14960)210 648 A
1026(*/)S
2340 V
(14961)210 648 A
(char)168 1026 A
1236(*)S
2430 V
(14962)210 648 A
(rl_complete\(pathname,)882 1026 A
(unique\))294 1950 A
2520 V
(14963)210 648 A
(char)168 1194 A
(*pathname;)420 1698 A
2610 V
(14964)210 648 A
(int)126 1194 A
(*unique;)336 1698 A
2700 V
(14965)210 648 A
1026({)S
2790 V
(14966)210 648 A
(char)168 1194 A
(**av;)210 1698 A
2880 V
(14967)210 648 A
(char)168 1194 A
(*dir;)210 1698 A
2970 V
(14968)210 648 A
(char)168 1194 A
(*file;)252 1698 A
3060 V
(14969)210 648 A
(char)168 1194 A
(*new;)210 1698 A
3150 V
(14970)210 648 A
(char)168 1194 A
(*p;)126 1698 A
3240 V
(14971)210 648 A
(SIZE_T)252 1194 A
(ac;)126 1698 A
3330 V
(14972)210 648 A
(SIZE_T)252 1194 A
(end;)168 1698 A
3420 V
(14973)210 648 A
(SIZE_T)252 1194 A
1698(i;)S
3510 V
(14974)210 648 A
(SIZE_T)252 1194 A
1698(j;)S
3600 V
(14975)210 648 A
(SIZE_T)252 1194 A
(len;)168 1698 A
3690 V
(14976)210 648 A
3780 V
(14977)210 648 A
1194(if)S
(\(SplitPath\(pathname,)840 1320 A
(&dir,)210 2202 A
(&file\))252 2454 A
2748(<)S
2832(0\))S
3870 V
(14978)210 648 A
(return)252 1362 A
(NULL;)210 1656 A
3960 V
(14979)210 648 A
1194(if)S
(\(\(ac)168 1320 A
1530(=)S
(FindMatches\(dir,)672 1614 A
(file,)210 2328 A
(&av\)\))210 2580 A
2832(==)S
2958(0\))S
3084({)S
4050 V
(14980)210 648 A
(DISPOSE\(dir\);)546 1362 A
4140 V
(14981)210 648 A
(DISPOSE\(file\);)588 1362 A
4230 V
(14982)210 648 A
(return)252 1362 A
(NULL;)210 1656 A
4320 V
(14983)210 648 A
1194(})S
4410 V
(14984)210 648 A
4500 V
(14985)210 648 A
1194(p)S
1278(=)S
(NULL;)210 1362 A
4590 V
(14986)210 648 A
(len)126 1194 A
1362(=)S
(strlen\(file\);)546 1446 A
4680 V
(14987)210 648 A
1194(if)S
(\(ac)126 1320 A
1488(==)S
1614(1\))S
1740({)S
4770 V
(14988)210 648 A
1362(/*)S
(Exactly)294 1488 A
(one)126 1824 A
(match)210 1992 A
2244(--)S
(finish)252 2370 A
2664(it)S
(off.)168 2790 A
3000(*/)S
4860 V
(14989)210 648 A
(*unique)294 1362 A
1698(=)S
1782(1;)S
4950 V
(14990)210 648 A
1362(j)S
1446(=)S
(strlen\(av[0]\))546 1530 A
2118(-)S
(len)126 2202 A
2370(+)S
2454(2;)S
5040 V
(14991)210 648 A
1362(if)S
(\(\(p)126 1488 A
1656(=)S
(NEW\(char,)378 1740 A
2160(j)S
2244(+)S
(1\)\))126 2328 A
2496(!=)S
(NULL\))210 2622 A
2874({)S
5130 V
(14992)210 648 A
(COPYFROMTO\(p,)546 1530 A
(av[0])210 2118 A
2370(+)S
(len,)168 2454 A
(j\);)126 2664 A
5220 V
(14993)210 648 A
1530(if)S
(\(\(new)210 1656 A
1908(=)S
(NEW\(char,)378 1992 A
(strlen\(dir\))462 2412 A
2916(+)S
(strlen\(av[0]\))546 3000 A
3588(+)S
(2\)\))126 3672 A
3840(!=)S
(NULL\))210 3966 A
4218({)S
5310 V
(14994)210 648 A
(\(void\)strcpy\(new,)714 1698 A
(dir\);)210 2454 A
5400 V
(14995)210 648 A
(\(void\)strcat\(new,)714 1698 A
("/"\);)210 2454 A
5490 V
(14996)210 648 A
(\(void\)strcat\(new,)714 1698 A
(av[0]\);)294 2454 A
5580 V
(14997)210 648 A
(rl_add_slash\(new,)714 1698 A
(p\);)126 2454 A
5670 V
(14998)210 648 A
(DISPOSE\(new\);)546 1698 A
5760 V
(14999)210 648 A
1530(})S
5850 V
(15000)210 648 A
1362(})S
5940 V
(15001)210 648 A
1194(})S
6030 V
(15002)210 648 A
(else)168 1194 A
1404({)S
6120 V
(15003)210 648 A
(*unique)294 1362 A
1698(=)S
1782(0;)S
6210 V
(15004)210 648 A
1362(if)S
(\(len\))210 1488 A
1740({)S
8418 V
EP
%%Page: 124 124
BP
/slant 0 def
/height 0 def
630 V
12 B
(124)180 648 A
11 R
1841(File:)S
(src/lib/editline/complete.c)1160 2074 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(15005)210 648 A
1530(/*)S
(Find)168 1656 A
(largest)294 1866 A
(matching)336 2202 A
(substring.)420 2580 A
3042(*/)S
990 V
(15006)210 648 A
(for)126 1530 A
1698(\(i)S
1824(=)S
(len,)168 1908 A
(end)126 2118 A
2286(=)S
(strlen\(av[0]\);)588 2370 A
3000(i)S
3084(<)S
(end;)168 3168 A
(i++\))168 3378 A
1080 V
(15007)210 648 A
(for)126 1698 A
1866(\(j)S
1992(=)S
2076(1;)S
2202(j)S
2286(<)S
(ac;)126 2370 A
(j++\))168 2538 A
1170 V
(15008)210 648 A
1866(if)S
(\(av[0][i])378 1992 A
2412(!=)S
(av[j][i]\))378 2538 A
1260 V
(15009)210 648 A
(goto)168 2034 A
(breakout;)378 2244 A
1350 V
(15010)210 648 A
(breakout:)378 1110 A
1440 V
(15011)210 648 A
1530(if)S
1656(\(i)S
1782(>)S
(len\))168 1866 A
2076({)S
1530 V
(15012)210 648 A
1698(j)S
1782(=)S
1866(i)S
1950(-)S
(len)126 2034 A
2202(+)S
2286(1;)S
1620 V
(15013)210 648 A
1698(if)S
(\(\(p)126 1824 A
1992(=)S
(NEW\(char,)378 2076 A
(j\)\))126 2496 A
2664(!=)S
(NULL\))210 2790 A
3042({)S
1710 V
(15014)210 648 A
(COPYFROMTO\(p,)546 1866 A
(av[0])210 2454 A
2706(+)S
(len,)168 2790 A
(j\);)126 3000 A
1800 V
(15015)210 648 A
(p[j)126 1866 A
2034(-)S
2118(1])S
2244(=)S
('\\0';)210 2328 A
1890 V
(15016)210 648 A
1698(})S
1980 V
(15017)210 648 A
1530(})S
2070 V
(15018)210 648 A
1362(})S
2160 V
(15019)210 648 A
1194(})S
2250 V
(15020)210 648 A
2340 V
(15021)210 648 A
1194(/*)S
(Clean)210 1320 A
1572(up)S
(and)126 1698 A
(return.)294 1866 A
2202(*/)S
2430 V
(15022)210 648 A
(DISPOSE\(dir\);)546 1194 A
2520 V
(15023)210 648 A
(DISPOSE\(file\);)588 1194 A
2610 V
(15024)210 648 A
(for)126 1194 A
1362(\(i)S
1488(=)S
1572(0;)S
1698(i)S
1782(<)S
(ac;)126 1866 A
(i++\))168 2034 A
2700 V
(15025)210 648 A
(DISPOSE\(av[i]\);)630 1362 A
2790 V
(15026)210 648 A
(DISPOSE\(av\);)504 1194 A
2880 V
(15027)210 648 A
(return)252 1194 A
1488(p;)S
2970 V
(15028)210 648 A
1026(})S
3150 V
(15030)210 648 A
1026(/*)S
3240 V
(15031)210 648 A
1026(**)S
(Return)252 1194 A
(all)126 1488 A
(possible)336 1656 A
(completions.)504 2034 A
3330 V
(15032)210 648 A
1026(*/)S
3420 V
(15033)210 648 A
(int)126 1026 A
3510 V
(15034)210 648 A
(rl_list_possib\(pathname,)1008 1026 A
(avp\))168 2076 A
3600 V
(15035)210 648 A
(char)168 1194 A
(*pathname;)420 1698 A
3690 V
(15036)210 648 A
(char)168 1194 A
(***avp;)294 1698 A
3780 V
(15037)210 648 A
1026({)S
3870 V
(15038)210 648 A
(char)168 1194 A
(*dir;)210 1698 A
3960 V
(15039)210 648 A
(char)168 1194 A
(*file;)252 1698 A
4050 V
(15040)210 648 A
(int)126 1194 A
(ac;)126 1698 A
4140 V
(15041)210 648 A
4230 V
(15042)210 648 A
1194(if)S
(\(SplitPath\(pathname,)840 1320 A
(&dir,)210 2202 A
(&file\))252 2454 A
2748(<)S
2832(0\))S
4320 V
(15043)210 648 A
(return)252 1362 A
1656(0;)S
4410 V
(15044)210 648 A
1194(ac)S
1320(=)S
(FindMatches\(dir,)672 1404 A
(file,)210 2118 A
(avp\);)210 2370 A
4500 V
(15045)210 648 A
(DISPOSE\(dir\);)546 1194 A
4590 V
(15046)210 648 A
(DISPOSE\(file\);)588 1194 A
4680 V
(15047)210 648 A
(return)252 1194 A
(ac;)126 1488 A
4770 V
(15048)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/editline/editline.c)1134 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(15100)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.7)126 1656 A
1824($)S
5490 V
(15101)210 648 A
1026(**)S
5580 V
(15102)210 648 A
1026(**)S
(Main)168 1194 A
(editing)294 1404 A
(routines)336 1740 A
(for)126 2118 A
(editline)336 2286 A
(library.)336 2664 A
5670 V
(15103)210 648 A
1026(*/)S
5760 V
(15104)210 648 A
(#include)336 1026 A
("editline.h")504 1404 A
5850 V
(15105)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
5940 V
(15106)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
6030 V
(15107)210 648 A
6120 V
(15108)210 648 A
1026(/*)S
6210 V
(15109)210 648 A
1026(**)S
(Manifest)336 1194 A
(constants.)420 1572 A
8418 V
EP
%%Page: 125 125
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(125)180 4248 A
900 V
7 LST
(15110)210 648 A
1026(*/)S
990 V
(15111)210 648 A
(#define)294 1026 A
(SCREEN_WIDTH)504 1362 A
2034(80)S
1080 V
(15112)210 648 A
(#define)294 1026 A
(SCREEN_ROWS)462 1362 A
2034(24)S
1170 V
(15113)210 648 A
(#define)294 1026 A
(NO_ARG)252 1362 A
(\(-1\))168 2034 A
1260 V
(15114)210 648 A
(#define)294 1026 A
(DEL)126 1362 A
(127)126 2034 A
1350 V
(15115)210 648 A
(#define)294 1026 A
(CTL\(x\))252 1362 A
(\(\(x\))168 2034 A
2244(&)S
(0x1F\))210 2328 A
1440 V
(15116)210 648 A
(#define)294 1026 A
(ISCTL\(x\))336 1362 A
(\(\(x\))168 2034 A
2244(&&)S
(\(x\))126 2370 A
2538(<)S
2622(')S
2706('\))S
1530 V
(15117)210 648 A
(#define)294 1026 A
(UNCTL\(x\))336 1362 A
(\(\(x\))168 2034 A
2244(+)S
(64\))126 2328 A
1620 V
(15118)210 648 A
(#define)294 1026 A
(META\(x\))294 1362 A
(\(\(x\))168 2034 A
2244(|)S
(0x80\))210 2328 A
1710 V
(15119)210 648 A
(#define)294 1026 A
(ISMETA\(x\))378 1362 A
(\(\(x\))168 2034 A
2244(&)S
(0x80\))210 2328 A
1800 V
(15120)210 648 A
(#define)294 1026 A
(UNMETA\(x\))378 1362 A
(\(\(x\))168 2034 A
2244(&)S
(0x7F\))210 2328 A
1890 V
(15121)210 648 A
(#if)126 1026 A
(!defined\(HIST_SIZE\))798 1362 A
1980 V
(15122)210 648 A
(#define)294 1026 A
(HIST_SIZE)378 1362 A
2034(20)S
2070 V
(15123)210 648 A
(#endif)252 1026 A
1362(/*)S
(!defined\(HIST_SIZE\))798 1488 A
2328(*/)S
2160 V
(15124)210 648 A
2250 V
(15125)210 648 A
1026(/*)S
2340 V
(15126)210 648 A
1026(**)S
(Command)294 1194 A
(status)252 1530 A
(codes.)252 1824 A
2430 V
(15127)210 648 A
1026(*/)S
2520 V
(15128)210 648 A
(typedef)294 1026 A
(enum)168 1362 A
(_STATUS)294 1572 A
1908({)S
2610 V
(15129)210 648 A
(CSdone,)294 1194 A
(CSeof,)252 1530 A
(CSmove,)294 1824 A
(CSdispatch,)462 2160 A
(CSstay,)294 2664 A
(CSsignal)336 3000 A
2700 V
(15130)210 648 A
1026(})S
(STATUS;)294 1110 A
2790 V
(15131)210 648 A
2880 V
(15132)210 648 A
1026(/*)S
2970 V
(15133)210 648 A
1026(**)S
(The)126 1194 A
(type)168 1362 A
1572(of)S
(case-changing)546 1698 A
2286(to)S
(perform.)336 2412 A
3060 V
(15134)210 648 A
1026(*/)S
3150 V
(15135)210 648 A
(typedef)294 1026 A
(enum)168 1362 A
(_CASE)210 1572 A
1824({)S
3240 V
(15136)210 648 A
(TOupper,)336 1194 A
(TOlower)294 1572 A
3330 V
(15137)210 648 A
1026(})S
(CASE;)210 1110 A
3420 V
(15138)210 648 A
3510 V
(15139)210 648 A
1026(/*)S
3600 V
(15140)210 648 A
1026(**)S
(Key)126 1194 A
1362(to)S
(command)294 1488 A
(mapping.)336 1824 A
3690 V
(15141)210 648 A
1026(*/)S
3780 V
(15142)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(_KEYMAP)294 1656 A
1992({)S
3870 V
(15143)210 648 A
(CHAR)168 1194 A
(Key;)168 1698 A
3960 V
(15144)210 648 A
(STATUS)252 1194 A
(\(*Function\)\(\);)588 1698 A
4050 V
(15145)210 648 A
1026(})S
(KEYMAP;)294 1110 A
4140 V
(15146)210 648 A
4230 V
(15147)210 648 A
1026(/*)S
4320 V
(15148)210 648 A
1026(**)S
(Command)294 1194 A
(history)294 1530 A
(structure.)420 1866 A
4410 V
(15149)210 648 A
1026(*/)S
4500 V
(15150)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(_HISTORY)336 1656 A
2034({)S
4590 V
(15151)210 648 A
(int)126 1194 A
(Size;)210 1698 A
4680 V
(15152)210 648 A
(int)126 1194 A
(Pos;)168 1698 A
4770 V
(15153)210 648 A
(CHAR)168 1194 A
(*Lines[HIST_SIZE];)756 1698 A
4860 V
(15154)210 648 A
1026(})S
(HISTORY;)336 1110 A
4950 V
(15155)210 648 A
5040 V
(15156)210 648 A
1026(/*)S
5130 V
(15157)210 648 A
1026(**)S
(Globals.)336 1194 A
5220 V
(15158)210 648 A
1026(*/)S
5310 V
(15159)210 648 A
(int)126 1026 A
(rl_eof;)294 1698 A
5400 V
(15160)210 648 A
(int)126 1026 A
(rl_erase;)378 1698 A
5490 V
(15161)210 648 A
(int)126 1026 A
(rl_intr;)336 1698 A
5580 V
(15162)210 648 A
(int)126 1026 A
(rl_kill;)336 1698 A
5670 V
(15163)210 648 A
(int)126 1026 A
(rl_quit;)336 1698 A
5760 V
(15164)210 648 A
5850 V
(15165)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
(NIL[])210 2034 A
2286(=)S
("";)126 2370 A
5940 V
(15166)210 648 A
(STATIC)252 1026 A
(CONST)210 1320 A
(CHAR)168 1572 A
(*Input)252 2034 A
2328(=)S
(NIL;)168 2412 A
6030 V
(15167)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
(*Line;)252 2034 A
6120 V
(15168)210 648 A
(STATIC)252 1026 A
(CONST)210 1320 A
(char)168 1572 A
(*Prompt;)336 2034 A
6210 V
(15169)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
(*Yanked;)336 2034 A
8418 V
EP
%%Page: 126 126
BP
/slant 0 def
/height 0 def
630 V
12 B
(126)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(15170)210 648 A
(STATIC)252 1026 A
(char)168 1320 A
(*Screen;)336 2034 A
990 V
(15171)210 648 A
(STATIC)252 1026 A
(char)168 1320 A
(NEWLINE[]=)420 2034 A
(CRLF;)210 2496 A
1080 V
(15172)210 648 A
(STATIC)252 1026 A
(HISTORY)294 1320 A
2034(H;)S
1170 V
(15173)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(Repeat;)294 2034 A
1260 V
(15174)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(End;)168 2034 A
1350 V
(15175)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(Mark;)210 2034 A
1440 V
(15176)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(OldPoint;)378 2034 A
1530 V
(15177)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(Point;)252 2034 A
1620 V
(15178)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(PushBack;)378 2034 A
1710 V
(15179)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(Pushed;)294 2034 A
1800 V
(15180)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(Signal;)294 2034 A
1890 V
(15181)210 648 A
(FORWARD)294 1026 A
(KEYMAP)252 1362 A
(Map[33];)336 2034 A
1980 V
(15182)210 648 A
(FORWARD)294 1026 A
(KEYMAP)252 1362 A
(MetaMap[17];)504 2034 A
2070 V
(15183)210 648 A
(STATIC)252 1026 A
(SIZE_T)252 1320 A
(Length;)294 2034 A
2160 V
(15184)210 648 A
(STATIC)252 1026 A
(SIZE_T)252 1320 A
(ScreenCount;)504 2034 A
2250 V
(15185)210 648 A
(STATIC)252 1026 A
(SIZE_T)252 1320 A
(ScreenSize;)462 2034 A
2340 V
(15186)210 648 A
(STATIC)252 1026 A
(char)168 1320 A
(*backspace;)462 2034 A
2430 V
(15187)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(TTYwidth;)378 2034 A
2520 V
(15188)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
(TTYrows;)336 2034 A
2610 V
(15189)210 648 A
2700 V
(15190)210 648 A
1026(/*)S
(Display)294 1152 A
(print)210 1488 A
(8-bit)210 1740 A
(chars)210 1992 A
2244(as)S
(M-x')168 2370 A
2580(or)S
2706(as)S
(the)126 2832 A
(actual)252 3000 A
(8-bit)210 3294 A
(char?)210 3546 A
3798(*/)S
2790 V
(15191)210 648 A
(int)126 1026 A
(rl_meta_chars)546 1698 A
2286(=)S
2370(0;)S
2880 V
(15192)210 648 A
2970 V
(15193)210 648 A
1026(/*)S
3060 V
(15194)210 648 A
1026(**)S
(Declarations.)546 1194 A
3150 V
(15195)210 648 A
1026(*/)S
3240 V
(15196)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
(*editinput\(\);)546 1698 A
3330 V
(15197)210 648 A
(extern)252 1026 A
(int)126 1320 A
(read\(\);)294 1698 A
3420 V
(15198)210 648 A
(extern)252 1026 A
(int)126 1320 A
(write\(\);)336 1698 A
3510 V
(15199)210 648 A
(#if)126 1026 A
(defined\(USE_TERMCAP\))840 1362 A
3600 V
(15200)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*getenv\(\);)420 1698 A
3690 V
(15201)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*tgetstr\(\);)462 1698 A
3780 V
(15202)210 648 A
(extern)252 1026 A
(int)126 1320 A
(tgetent\(\);)420 1698 A
3870 V
(15203)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(USE_TERMCAP\))840 1488 A
2370(*/)S
3960 V
(15204)210 648 A
4050 V
(15205)210 648 A
1026(/*)S
4140 V
(15206)210 648 A
1026(**)S
(TTY)126 1194 A
(input/output)504 1362 A
(functions.)420 1908 A
4230 V
(15207)210 648 A
1026(*/)S
4320 V
(15208)210 648 A
4410 V
(15209)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
4500 V
(15210)210 648 A
(TTYflush\(\))420 1026 A
4590 V
(15211)210 648 A
1026({)S
4680 V
(15212)210 648 A
1194(if)S
(\(ScreenCount\))546 1320 A
1908({)S
4770 V
(15213)210 648 A
(\(void\)write\(1,)588 1362 A
(Screen,)294 1992 A
(ScreenCount\);)546 2328 A
4860 V
(15214)210 648 A
(ScreenCount)462 1362 A
1866(=)S
1950(0;)S
4950 V
(15215)210 648 A
1194(})S
5040 V
(15216)210 648 A
1026(})S
5220 V
(15218)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
5310 V
(15219)210 648 A
(TTYput\(c\))378 1026 A
5400 V
(15220)210 648 A
(CHAR)168 1194 A
1698(c;)S
5490 V
(15221)210 648 A
1026({)S
5580 V
(15222)210 648 A
(Screen[ScreenCount])798 1194 A
2034(=)S
2118(c;)S
5670 V
(15223)210 648 A
1194(if)S
(\(++ScreenCount)588 1320 A
1950(>=)S
(ScreenSize)420 2076 A
2538(-)S
2622(1\))S
2748({)S
5760 V
(15224)210 648 A
(ScreenSize)420 1362 A
1824(+=)S
(SCREEN_INC;)462 1950 A
5850 V
(15225)210 648 A
(RENEW\(Screen,)546 1362 A
(char,)210 1950 A
(ScreenSize\);)504 2202 A
5940 V
(15226)210 648 A
1194(})S
6030 V
(15227)210 648 A
1026(})S
6210 V
(15229)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
8418 V
EP
%%Page: 127 127
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(127)180 4248 A
900 V
7 LST
(15230)210 648 A
(TTYputs\(p\))420 1026 A
990 V
(15231)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
1080 V
(15232)210 648 A
1026({)S
1170 V
(15233)210 648 A
(while)210 1194 A
(\(*p\))168 1446 A
1260 V
(15234)210 648 A
(TTYput\(*p++\);)546 1362 A
1350 V
(15235)210 648 A
1026(})S
1530 V
(15237)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
1620 V
(15238)210 648 A
(TTYshow\(c\))420 1026 A
1710 V
(15239)210 648 A
(CHAR)168 1194 A
1698(c;)S
1800 V
(15240)210 648 A
1026({)S
1890 V
(15241)210 648 A
1194(if)S
1320(\(c)S
1446(==)S
(DEL\))168 1572 A
1782({)S
1980 V
(15242)210 648 A
(TTYput\('\303'\);)504 1362 A
2070 V
(15243)210 648 A
(TTYput\('?'\);)504 1362 A
2160 V
(15244)210 648 A
1194(})S
2250 V
(15245)210 648 A
(else)168 1194 A
1404(if)S
(\(ISCTL\(c\)\))420 1530 A
1992({)S
2340 V
(15246)210 648 A
(TTYput\('\303'\);)504 1362 A
2430 V
(15247)210 648 A
(TTYput\(UNCTL\(c\)\);)714 1362 A
2520 V
(15248)210 648 A
1194(})S
2610 V
(15249)210 648 A
(else)168 1194 A
1404(if)S
(\(rl_meta_chars)588 1530 A
2160(&&)S
(ISMETA\(c\)\))420 2286 A
2748({)S
2700 V
(15250)210 648 A
(TTYput\('M'\);)504 1362 A
2790 V
(15251)210 648 A
(TTYput\('-'\);)504 1362 A
2880 V
(15252)210 648 A
(TTYput\(UNMETA\(c\)\);)756 1362 A
2970 V
(15253)210 648 A
1194(})S
3060 V
(15254)210 648 A
(else)168 1194 A
3150 V
(15255)210 648 A
(TTYput\(c\);)420 1362 A
3240 V
(15256)210 648 A
1026(})S
3420 V
(15258)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
3510 V
(15259)210 648 A
(TTYstring\(p\))504 1026 A
3600 V
(15260)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
3690 V
(15261)210 648 A
1026({)S
3780 V
(15262)210 648 A
(while)210 1194 A
(\(*p\))168 1446 A
3870 V
(15263)210 648 A
(TTYshow\(*p++\);)588 1362 A
3960 V
(15264)210 648 A
1026(})S
4140 V
(15266)210 648 A
(STATIC)252 1026 A
(unsigned)336 1320 A
(int)126 1698 A
4230 V
(15267)210 648 A
(TTYget\(\))336 1026 A
4320 V
(15268)210 648 A
1026({)S
4410 V
(15269)210 648 A
(CHAR)168 1194 A
1698(c;)S
4500 V
(15270)210 648 A
4590 V
(15271)210 648 A
(TTYflush\(\);)462 1194 A
4680 V
(15272)210 648 A
1194(if)S
(\(Pushed\))336 1320 A
1698({)S
4770 V
(15273)210 648 A
(Pushed)252 1362 A
1656(=)S
1740(0;)S
4860 V
(15274)210 648 A
(return)252 1362 A
(PushBack;)378 1656 A
4950 V
(15275)210 648 A
1194(})S
5040 V
(15276)210 648 A
1194(if)S
(\(*Input\))336 1320 A
5130 V
(15277)210 648 A
(return)252 1362 A
(*Input++;)378 1656 A
5220 V
(15278)210 648 A
(return)252 1194 A
(read\(0,)294 1488 A
(&c,)126 1824 A
(\(SIZE_T\)1\))420 1992 A
2454(==)S
2580(1)S
2664(?)S
2748(c)S
2832(:)S
(EOF;)168 2916 A
5310 V
(15279)210 648 A
1026(})S
5490 V
(15281)210 648 A
(#define)294 1026 A
(TTYback\(\))378 1362 A
(\(backspace)420 2034 A
2496(?)S
(TTYputs\(\(CHAR)546 2580 A
(*\)backspace\))504 3168 A
3714(:)S
(TTYput\('\\b'\)\))546 3798 A
5580 V
(15282)210 648 A
5670 V
(15283)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
5760 V
(15284)210 648 A
(TTYbackn\(n\))462 1026 A
5850 V
(15285)210 648 A
(int)126 1194 A
1698(n;)S
5940 V
(15286)210 648 A
1026({)S
6030 V
(15287)210 648 A
(while)210 1194 A
(\(--n)168 1446 A
1656(>=)S
1782(0\))S
6120 V
(15288)210 648 A
(TTYback\(\);)420 1362 A
6210 V
(15289)210 648 A
1026(})S
8418 V
EP
%%Page: 128 128
BP
/slant 0 def
/height 0 def
630 V
12 B
(128)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(15291)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
1080 V
(15292)210 648 A
(TTYinfo\(\))378 1026 A
1170 V
(15293)210 648 A
1026({)S
1260 V
(15294)210 648 A
(static)252 1194 A
(int)126 1488 A
(init;)210 2034 A
1350 V
(15295)210 648 A
(#if)126 1026 A
(defined\(USE_TERMCAP\))840 1362 A
1440 V
(15296)210 648 A
(char)168 1194 A
(*term;)252 2034 A
1530 V
(15297)210 648 A
(char)168 1194 A
(buff[2048];)462 2034 A
1620 V
(15298)210 648 A
(char)168 1194 A
(*bp;)168 2034 A
1710 V
(15299)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(USE_TERMCAP\))840 1488 A
2370(*/)S
1800 V
(15300)210 648 A
(#if)126 1026 A
(defined\(TIOCGWINSZ\))798 1362 A
1890 V
(15301)210 648 A
(struct)252 1194 A
(winsize)294 1488 A
2034(W;)S
1980 V
(15302)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(TIOCGWINSZ\))798 1488 A
2328(*/)S
2070 V
(15303)210 648 A
2160 V
(15304)210 648 A
1194(if)S
(\(init\))252 1320 A
1614({)S
2250 V
(15305)210 648 A
(#if)126 1026 A
(defined\(TIOCGWINSZ\))798 1362 A
2340 V
(15306)210 648 A
1362(/*)S
(Perhaps)294 1488 A
1824(we)S
(got)126 1950 A
(resized.)336 2118 A
2496(*/)S
2430 V
(15307)210 648 A
1362(if)S
(\(ioctl\(0,)378 1488 A
(TIOCGWINSZ,)462 1908 A
(&W\))126 2412 A
2580(>=)S
2706(0)S
2520 V
(15308)210 648 A
1404(&&)S
(W.ws_col)336 1530 A
1908(>)S
1992(0)S
2076(&&)S
(W.ws_row)336 2202 A
2580(>)S
2664(0\))S
2790({)S
2610 V
(15309)210 648 A
(TTYwidth)336 1530 A
1908(=)S
(\(int\)W.ws_col;)588 1992 A
2700 V
(15310)210 648 A
(TTYrows)294 1530 A
1866(=)S
(\(int\)W.ws_row;)588 1950 A
2790 V
(15311)210 648 A
1362(})S
2880 V
(15312)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(TIOCGWINSZ\))798 1488 A
2328(*/)S
2970 V
(15313)210 648 A
(return;)294 1362 A
3060 V
(15314)210 648 A
1194(})S
3150 V
(15315)210 648 A
(init++;)294 1194 A
3240 V
(15316)210 648 A
3330 V
(15317)210 648 A
(TTYwidth)336 1194 A
1572(=)S
(TTYrows)294 1656 A
1992(=)S
2076(0;)S
3420 V
(15318)210 648 A
(#if)126 1026 A
(defined\(USE_TERMCAP\))840 1362 A
3510 V
(15319)210 648 A
1194(bp)S
1320(=)S
(&buff[0];)378 1404 A
3600 V
(15320)210 648 A
1194(if)S
(\(\(term)252 1320 A
1614(=)S
(getenv\("TERM"\)\))630 1698 A
2370(==)S
(NULL\))210 2496 A
3690 V
(15321)210 648 A
(term)168 1362 A
1572(=)S
("dumb";)294 1656 A
3780 V
(15322)210 648 A
1194(if)S
(\(tgetent\(buff,)588 1320 A
(term\))210 1950 A
2202(<)S
2286(0\))S
2412({)S
3870 V
(15323)210 648 A
(TTYwidth)336 1320 A
1698(=)S
(SCREEN_WIDTH;)546 1782 A
3960 V
(15324)210 648 A
(TTYrows)294 1320 A
1656(=)S
(SCREEN_ROWS;)504 1740 A
4050 V
(15325)210 648 A
(return;)294 1320 A
4140 V
(15326)210 648 A
1194(})S
4230 V
(15327)210 648 A
1194(if)S
(\(\(backspace)462 1320 A
1824(=)S
(tgetstr\("le",)546 1908 A
(&bp\)\))210 2496 A
2748(!=)S
(NULL\))210 2874 A
4320 V
(15328)210 648 A
(backspace)378 1362 A
1782(=)S
(strdup\(backspace\);)756 1866 A
4410 V
(15329)210 648 A
(TTYwidth)336 1194 A
1572(=)S
(tgetnum\("co"\);)588 1656 A
4500 V
(15330)210 648 A
(TTYrows)294 1194 A
1530(=)S
(tgetnum\("li"\);)588 1614 A
4590 V
(15331)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(USE_TERMCAP\))840 1488 A
2370(*/)S
4680 V
(15332)210 648 A
4770 V
(15333)210 648 A
(#if)126 1026 A
(defined\(TIOCGWINSZ\))798 1362 A
4860 V
(15334)210 648 A
1194(if)S
(\(ioctl\(0,)378 1320 A
(TIOCGWINSZ,)462 1740 A
(&W\))126 2244 A
2412(>=)S
2538(0\))S
2664({)S
4950 V
(15335)210 648 A
(TTYwidth)336 1362 A
1740(=)S
(\(int\)W.ws_col;)588 1824 A
5040 V
(15336)210 648 A
(TTYrows)294 1362 A
1698(=)S
(\(int\)W.ws_row;)588 1782 A
5130 V
(15337)210 648 A
1194(})S
5220 V
(15338)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(TIOCGWINSZ\))798 1488 A
2328(*/)S
5310 V
(15339)210 648 A
5400 V
(15340)210 648 A
1194(if)S
(\(TTYwidth)378 1320 A
1740(<=)S
1866(0)S
1950(||)S
(TTYrows)294 2076 A
2412(<=)S
2538(0\))S
2664({)S
5490 V
(15341)210 648 A
(TTYwidth)336 1362 A
1740(=)S
(SCREEN_WIDTH;)546 1824 A
5580 V
(15342)210 648 A
(TTYrows)294 1362 A
1698(=)S
(SCREEN_ROWS;)504 1782 A
5670 V
(15343)210 648 A
1194(})S
5760 V
(15344)210 648 A
1026(})S
5850 V
(15345)210 648 A
5940 V
(15346)210 648 A
6030 V
(15347)210 648 A
1026(/*)S
6120 V
(15348)210 648 A
1026(**)S
(Print)210 1194 A
1446(an)S
(array)210 1572 A
1824(of)S
(words)210 1950 A
2202(in)S
(columns.)336 2328 A
6210 V
(15349)210 648 A
1026(*/)S
8418 V
EP
%%Page: 129 129
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(129)180 4248 A
900 V
7 LST
(15350)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
990 V
(15351)210 648 A
(columns\(ac,)462 1026 A
(av\))126 1530 A
1080 V
(15352)210 648 A
(int)126 1194 A
(ac;)126 1698 A
1170 V
(15353)210 648 A
(CHAR)168 1194 A
(**av;)210 1698 A
1260 V
(15354)210 648 A
1026({)S
1350 V
(15355)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
1440 V
(15356)210 648 A
(int)126 1194 A
1698(i;)S
1530 V
(15357)210 648 A
(int)126 1194 A
1698(j;)S
1620 V
(15358)210 648 A
(int)126 1194 A
1698(k;)S
1710 V
(15359)210 648 A
(int)126 1194 A
(len;)168 1698 A
1800 V
(15360)210 648 A
(int)126 1194 A
(skip;)210 1698 A
1890 V
(15361)210 648 A
(int)126 1194 A
(longest;)336 1698 A
1980 V
(15362)210 648 A
(int)126 1194 A
(cols;)210 1698 A
2070 V
(15363)210 648 A
2160 V
(15364)210 648 A
1194(/*)S
(Find)168 1320 A
(longest)294 1530 A
(name,)210 1866 A
(determine)378 2118 A
(column)252 2538 A
(count)210 2832 A
(from)168 3084 A
(that.)210 3294 A
3546(*/)S
2250 V
(15365)210 648 A
(for)126 1194 A
(\(longest)336 1362 A
1740(=)S
1824(0,)S
1950(i)S
2034(=)S
2118(0;)S
2244(i)S
2328(<)S
(ac;)126 2412 A
(i++\))168 2580 A
2340 V
(15366)210 648 A
1362(if)S
(\(\(j)126 1488 A
1656(=)S
(strlen\(\(char)504 1740 A
(*\)av[i]\)\))378 2286 A
2706(>)S
(longest\))336 2790 A
2430 V
(15367)210 648 A
(longest)294 1530 A
1866(=)S
1950(j;)S
2520 V
(15368)210 648 A
(cols)168 1194 A
1404(=)S
(TTYwidth)336 1488 A
1866(/)S
(\(longest)336 1950 A
2328(+)S
(3\);)126 2412 A
2610 V
(15369)210 648 A
2700 V
(15370)210 648 A
(TTYputs\(\(CHAR)546 1194 A
(*\)NEWLINE\);)462 1782 A
2790 V
(15371)210 648 A
(for)126 1194 A
(\(skip)210 1362 A
1614(=)S
1698(ac)S
1824(/)S
(cols)168 1908 A
2118(+)S
2202(1,)S
2328(i)S
2412(=)S
2496(0;)S
2622(i)S
2706(<)S
(skip;)210 2790 A
(i++\))168 3042 A
3252({)S
2880 V
(15372)210 648 A
(for)126 1362 A
1530(\(j)S
1656(=)S
1740(i;)S
1866(j)S
1950(<)S
(ac;)126 2034 A
2202(j)S
2286(+=)S
(skip\))210 2412 A
2664({)S
2970 V
(15373)210 648 A
(for)126 1530 A
1698(\(p)S
1824(=)S
(av[j],)252 1908 A
(len)126 2202 A
2370(=)S
(strlen\(\(char)504 2454 A
(*\)p\),)210 3000 A
3252(k)S
3336(=)S
(len;)168 3420 A
(--k)126 3630 A
3798(>=)S
3924(0;)S
(p++\))168 4050 A
3060 V
(15374)210 648 A
(TTYput\(*p\);)462 1698 A
3150 V
(15375)210 648 A
1530(if)S
1656(\(j)S
1782(+)S
(skip)168 1866 A
2076(<)S
(ac\))126 2160 A
3240 V
(15376)210 648 A
(while)210 1698 A
(\(++len)252 1950 A
2244(<)S
(longest)294 2328 A
2664(+)S
2748(3\))S
3330 V
(15377)210 648 A
(TTYput\(')336 1866 A
('\);)126 2244 A
3420 V
(15378)210 648 A
1362(})S
3510 V
(15379)210 648 A
(TTYputs\(\(CHAR)546 1362 A
(*\)NEWLINE\);)462 1950 A
3600 V
(15380)210 648 A
1194(})S
3690 V
(15381)210 648 A
1026(})S
3870 V
(15383)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
3960 V
(15384)210 648 A
(reposition\(\))504 1026 A
4050 V
(15385)210 648 A
1026({)S
4140 V
(15386)210 648 A
(int)126 1194 A
1698(i;)S
4230 V
(15387)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
4320 V
(15388)210 648 A
4410 V
(15389)210 648 A
(TTYput\('\\r'\);)546 1194 A
4500 V
(15390)210 648 A
(TTYputs\(\(CONST)588 1194 A
(CHAR)168 1824 A
(*\)Prompt\);)420 2034 A
4590 V
(15391)210 648 A
(for)126 1194 A
1362(\(i)S
1488(=)S
(Point,)252 1572 A
1866(p)S
1950(=)S
(Line;)210 2034 A
(--i)126 2286 A
2454(>=)S
2580(0;)S
(p++\))168 2706 A
4680 V
(15392)210 648 A
(TTYshow\(*p\);)504 1362 A
4770 V
(15393)210 648 A
1026(})S
4950 V
(15395)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
5040 V
(15396)210 648 A
(left\(Change\))504 1026 A
5130 V
(15397)210 648 A
(STATUS)252 1194 A
(Change;)294 1698 A
5220 V
(15398)210 648 A
1026({)S
5310 V
(15399)210 648 A
(TTYback\(\);)420 1194 A
5400 V
(15400)210 648 A
1194(if)S
(\(Point\))294 1320 A
1656({)S
5490 V
(15401)210 648 A
1362(if)S
(\(ISCTL\(Line[Point)714 1488 A
2244(-)S
(1]\)\))168 2328 A
5580 V
(15402)210 648 A
(TTYback\(\);)420 1530 A
5670 V
(15403)210 648 A
(else)168 1362 A
1572(if)S
(\(rl_meta_chars)588 1698 A
2328(&&)S
(ISMETA\(Line[Point)714 2454 A
3210(-)S
(1]\)\))168 3294 A
3504({)S
5760 V
(15404)210 648 A
(TTYback\(\);)420 1530 A
5850 V
(15405)210 648 A
(TTYback\(\);)420 1530 A
5940 V
(15406)210 648 A
1362(})S
6030 V
(15407)210 648 A
1194(})S
6120 V
(15408)210 648 A
1194(if)S
(\(Change)294 1320 A
1656(==)S
(CSmove\))294 1782 A
6210 V
(15409)210 648 A
(Point--;)336 1362 A
8418 V
EP
%%Page: 130 130
BP
/slant 0 def
/height 0 def
630 V
12 B
(130)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(15410)210 648 A
1026(})S
1080 V
(15412)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
1170 V
(15413)210 648 A
(right\(Change\))546 1026 A
1260 V
(15414)210 648 A
(STATUS)252 1194 A
(Change;)294 1698 A
1350 V
(15415)210 648 A
1026({)S
1440 V
(15416)210 648 A
(TTYshow\(Line[Point]\);)882 1194 A
1530 V
(15417)210 648 A
1194(if)S
(\(Change)294 1320 A
1656(==)S
(CSmove\))294 1782 A
1620 V
(15418)210 648 A
(Point++;)336 1362 A
1710 V
(15419)210 648 A
1026(})S
1890 V
(15421)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1980 V
(15422)210 648 A
(ring_bell\(\))462 1026 A
2070 V
(15423)210 648 A
1026({)S
2160 V
(15424)210 648 A
(TTYput\('\\07'\);)588 1194 A
2250 V
(15425)210 648 A
(TTYflush\(\);)462 1194 A
2340 V
(15426)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
2430 V
(15427)210 648 A
1026(})S
2610 V
(15429)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2700 V
(15430)210 648 A
(do_macro\(c\))462 1026 A
2790 V
(15431)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
2880 V
(15432)210 648 A
1026({)S
2970 V
(15433)210 648 A
(CHAR)168 1194 A
(name[4];)336 2034 A
3060 V
(15434)210 648 A
3150 V
(15435)210 648 A
(name[0])294 1194 A
1530(=)S
('_';)168 1614 A
3240 V
(15436)210 648 A
(name[1])294 1194 A
1530(=)S
1614(c;)S
3330 V
(15437)210 648 A
(name[2])294 1194 A
1530(=)S
('_';)168 1614 A
3420 V
(15438)210 648 A
(name[3])294 1194 A
1530(=)S
('\\0';)210 1614 A
3510 V
(15439)210 648 A
3600 V
(15440)210 648 A
1194(if)S
(\(\(Input)294 1320 A
1656(=)S
(\(CHAR)210 1740 A
(*\)getenv\(\(char)588 1992 A
(*\)name\)\))336 2622 A
3000(==)S
(NULL\))210 3126 A
3378({)S
3690 V
(15441)210 648 A
(Input)210 1362 A
1614(=)S
(NIL;)168 1698 A
3780 V
(15442)210 648 A
(return)252 1362 A
(ring_bell\(\);)504 1656 A
3870 V
(15443)210 648 A
1194(})S
3960 V
(15444)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
4050 V
(15445)210 648 A
1026(})S
4230 V
(15447)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
4320 V
(15448)210 648 A
(do_forward\(move\))672 1026 A
4410 V
(15449)210 648 A
(STATUS)252 1194 A
(move;)210 1698 A
4500 V
(15450)210 648 A
1026({)S
4590 V
(15451)210 648 A
(int)126 1194 A
1698(i;)S
4680 V
(15452)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
4770 V
(15453)210 648 A
4860 V
(15454)210 648 A
1194(i)S
1278(=)S
1362(0;)S
4950 V
(15455)210 648 A
1194(do)S
1320({)S
5040 V
(15456)210 648 A
1362(p)S
1446(=)S
(&Line[Point];)546 1530 A
5130 V
(15457)210 648 A
(for)126 1362 A
1530(\()S
1614(;)S
(Point)210 1698 A
1950(<)S
(End)126 2034 A
2202(&&)S
(\(*p)126 2328 A
2496(==)S
2622(')S
2706(')S
2790(||)S
(!isalnum\(*p\)\);)588 2916 A
(Point++,)336 3546 A
(p++\))168 3924 A
5220 V
(15458)210 648 A
1530(if)S
(\(move)210 1656 A
1908(==)S
(CSmove\))294 2034 A
5310 V
(15459)210 648 A
(right\(CSstay\);)588 1698 A
5400 V
(15460)210 648 A
5490 V
(15461)210 648 A
(for)126 1362 A
1530(\(;)S
(Point)210 1656 A
1908(<)S
(End)126 1992 A
2160(&&)S
(isalnum\(*p\);)504 2286 A
(Point++,)336 2832 A
(p++\))168 3210 A
5580 V
(15462)210 648 A
1530(if)S
(\(move)210 1656 A
1908(==)S
(CSmove\))294 2034 A
5670 V
(15463)210 648 A
(right\(CSstay\);)588 1698 A
5760 V
(15464)210 648 A
5850 V
(15465)210 648 A
1362(if)S
(\(Point)252 1488 A
1782(==)S
(End\))168 1908 A
5940 V
(15466)210 648 A
(break;)252 1530 A
6030 V
(15467)210 648 A
1194(})S
(while)210 1278 A
(\(++i)168 1530 A
1740(<)S
(Repeat\);)336 1824 A
6120 V
(15468)210 648 A
6210 V
(15469)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
8418 V
EP
%%Page: 131 131
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(131)180 4248 A
900 V
7 LST
(15470)210 648 A
1026(})S
1080 V
(15472)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1170 V
(15473)210 648 A
(do_case\(type\))546 1026 A
1260 V
(15474)210 648 A
(CASE)168 1194 A
(type;)210 1698 A
1350 V
(15475)210 648 A
1026({)S
1440 V
(15476)210 648 A
(int)126 1194 A
1698(i;)S
1530 V
(15477)210 648 A
(int)126 1194 A
(end;)168 1698 A
1620 V
(15478)210 648 A
(int)126 1194 A
(count;)252 1698 A
1710 V
(15479)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
1800 V
(15480)210 648 A
1890 V
(15481)210 648 A
(\(void\)do_forward\(CSstay\);)1050 1194 A
1980 V
(15482)210 648 A
1194(if)S
(\(OldPoint)378 1320 A
1740(!=)S
(Point\))252 1866 A
2160({)S
2070 V
(15483)210 648 A
1362(if)S
(\(\(count)294 1488 A
1824(=)S
(Point)210 1908 A
2160(-)S
(OldPoint\))378 2244 A
2664(<)S
2748(0\))S
2160 V
(15484)210 648 A
(count)210 1530 A
1782(=)S
(-count;)294 1866 A
2250 V
(15485)210 648 A
(Point)210 1362 A
1614(=)S
(OldPoint;)378 1698 A
2340 V
(15486)210 648 A
1362(if)S
(\(\(end)210 1488 A
1740(=)S
(Point)210 1824 A
2076(+)S
(count\))252 2160 A
2454(>)S
(End\))168 2538 A
2430 V
(15487)210 648 A
(end)126 1530 A
1698(=)S
(End;)168 1782 A
2520 V
(15488)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
(Point,)252 1740 A
2034(p)S
2118(=)S
(&Line[i];)378 2202 A
2622(i)S
2706(<)S
(end;)168 2790 A
(i++,)168 3000 A
(p++\))168 3210 A
3420({)S
2610 V
(15489)210 648 A
1530(if)S
(\(type)210 1656 A
1908(==)S
(TOupper\))336 2034 A
2412({)S
2700 V
(15490)210 648 A
1698(if)S
(\(islower\(*p\)\))546 1824 A
2790 V
(15491)210 648 A
1866(*p)S
1992(=)S
(toupper\(*p\);)504 2076 A
2880 V
(15492)210 648 A
1530(})S
2970 V
(15493)210 648 A
(else)168 1530 A
1740(if)S
(\(isupper\(*p\)\))546 1866 A
3060 V
(15494)210 648 A
1698(*p)S
1824(=)S
(tolower\(*p\);)504 1908 A
3150 V
(15495)210 648 A
(right\(CSmove\);)588 1530 A
3240 V
(15496)210 648 A
1362(})S
3330 V
(15497)210 648 A
1194(})S
3420 V
(15498)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
3510 V
(15499)210 648 A
1026(})S
3690 V
(15501)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3780 V
(15502)210 648 A
(case_down_word\(\))672 1026 A
3870 V
(15503)210 648 A
1026({)S
3960 V
(15504)210 648 A
(return)252 1194 A
(do_case\(TOlower\);)714 1488 A
4050 V
(15505)210 648 A
1026(})S
4230 V
(15507)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
4320 V
(15508)210 648 A
(case_up_word\(\))588 1026 A
4410 V
(15509)210 648 A
1026({)S
4500 V
(15510)210 648 A
(return)252 1194 A
(do_case\(TOupper\);)714 1488 A
4590 V
(15511)210 648 A
1026(})S
4770 V
(15513)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
4860 V
(15514)210 648 A
(ceol\(\))252 1026 A
4950 V
(15515)210 648 A
1026({)S
5040 V
(15516)210 648 A
(int)126 1194 A
(extras;)294 1698 A
5130 V
(15517)210 648 A
(int)126 1194 A
1698(i;)S
5220 V
(15518)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
5310 V
(15519)210 648 A
5400 V
(15520)210 648 A
(for)126 1194 A
(\(extras)294 1362 A
1698(=)S
1782(0,)S
1908(i)S
1992(=)S
(Point,)252 2076 A
2370(p)S
2454(=)S
(&Line[i];)378 2538 A
2958(i)S
3042(<=)S
(End;)168 3168 A
(i++,)168 3378 A
(p++\))168 3588 A
3798({)S
5490 V
(15521)210 648 A
(TTYput\(')336 1362 A
('\);)126 1740 A
5580 V
(15522)210 648 A
1362(if)S
(\(ISCTL\(*p\)\))462 1488 A
1992({)S
5670 V
(15523)210 648 A
(TTYput\(')336 1530 A
('\);)126 1908 A
5760 V
(15524)210 648 A
(extras++;)378 1530 A
5850 V
(15525)210 648 A
1362(})S
5940 V
(15526)210 648 A
(else)168 1362 A
1572(if)S
(\(rl_meta_chars)588 1698 A
2328(&&)S
(ISMETA\(*p\)\))462 2454 A
2958({)S
6030 V
(15527)210 648 A
(TTYput\(')336 1530 A
('\);)126 1908 A
6120 V
(15528)210 648 A
(TTYput\(')336 1530 A
('\);)126 1908 A
6210 V
(15529)210 648 A
(extras)252 1530 A
1824(+=)S
1950(2;)S
8418 V
EP
%%Page: 132 132
BP
/slant 0 def
/height 0 def
630 V
12 B
(132)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(15530)210 648 A
1362(})S
990 V
(15531)210 648 A
1194(})S
1080 V
(15532)210 648 A
1170 V
(15533)210 648 A
(for)126 1194 A
1362(\(i)S
1488(+=)S
(extras;)294 1614 A
1950(i)S
2034(>)S
(Point;)252 2118 A
(i--\))168 2412 A
1260 V
(15534)210 648 A
(TTYback\(\);)420 1362 A
1350 V
(15535)210 648 A
1026(})S
1530 V
(15537)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
1620 V
(15538)210 648 A
(clear_line\(\))504 1026 A
1710 V
(15539)210 648 A
1026({)S
1800 V
(15540)210 648 A
(Point)210 1194 A
1446(=)S
(-strlen\(Prompt\);)672 1530 A
1890 V
(15541)210 648 A
(TTYput\('\\r'\);)546 1194 A
1980 V
(15542)210 648 A
(ceol\(\);)294 1194 A
2070 V
(15543)210 648 A
(Point)210 1194 A
1446(=)S
1530(0;)S
2160 V
(15544)210 648 A
(End)126 1194 A
1362(=)S
1446(0;)S
2250 V
(15545)210 648 A
(Line[0])294 1194 A
1530(=)S
('\\0';)210 1614 A
2340 V
(15546)210 648 A
1026(})S
2520 V
(15548)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2610 V
(15549)210 648 A
(insert_string\(p\))672 1026 A
2700 V
(15550)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
2790 V
(15551)210 648 A
1026({)S
2880 V
(15552)210 648 A
(SIZE_T)252 1194 A
(len;)168 1698 A
2970 V
(15553)210 648 A
(int)126 1194 A
1698(i;)S
3060 V
(15554)210 648 A
(CHAR)168 1194 A
(*new;)210 1698 A
3150 V
(15555)210 648 A
(CHAR)168 1194 A
(*q;)126 1698 A
3240 V
(15556)210 648 A
3330 V
(15557)210 648 A
(len)126 1194 A
1362(=)S
(strlen\(\(char)504 1446 A
(*\)p\);)210 1992 A
3420 V
(15558)210 648 A
1194(if)S
(\(End)168 1320 A
1530(+)S
(len)126 1614 A
1782(>=)S
(Length\))294 1908 A
2244({)S
3510 V
(15559)210 648 A
1362(if)S
(\(\(new)210 1488 A
1740(=)S
(NEW\(CHAR,)378 1824 A
(Length)252 2244 A
2538(+)S
(len)126 2622 A
2790(+)S
(MEM_INC\)\))378 2874 A
3294(==)S
(NULL\))210 3420 A
3600 V
(15560)210 648 A
(return)252 1530 A
(CSstay;)294 1824 A
3690 V
(15561)210 648 A
1362(if)S
(\(Length\))336 1488 A
1866({)S
3780 V
(15562)210 648 A
(COPYFROMTO\(new,)630 1530 A
(Line,)210 2202 A
(Length\);)336 2454 A
3870 V
(15563)210 648 A
(DISPOSE\(Line\);)588 1530 A
3960 V
(15564)210 648 A
1362(})S
4050 V
(15565)210 648 A
(Line)168 1362 A
1572(=)S
(new;)168 1656 A
4140 V
(15566)210 648 A
(Length)252 1362 A
1656(+=)S
(len)126 1782 A
1950(+)S
(MEM_INC;)336 2034 A
4230 V
(15567)210 648 A
1194(})S
4320 V
(15568)210 648 A
4410 V
(15569)210 648 A
(for)126 1194 A
1362(\(q)S
1488(=)S
(&Line[Point],)546 1572 A
2160(i)S
2244(=)S
(End)126 2328 A
2496(-)S
(Point;)252 2580 A
(--i)126 2874 A
3042(>=)S
3168(0;)S
3294(\))S
4500 V
(15570)210 648 A
(q[len)210 1362 A
1614(+)S
1698(i])S
1824(=)S
(q[i];)210 1908 A
4590 V
(15571)210 648 A
(COPYFROMTO\(&Line[Point],)1008 1194 A
2244(p,)S
(len\);)210 2370 A
4680 V
(15572)210 648 A
(End)126 1194 A
1362(+=)S
(len;)168 1488 A
4770 V
(15573)210 648 A
(Line[End])378 1194 A
1614(=)S
('\\0';)210 1698 A
4860 V
(15574)210 648 A
(TTYstring\(&Line[Point]\);)1008 1194 A
4950 V
(15575)210 648 A
(Point)210 1194 A
1446(+=)S
(len;)168 1572 A
5040 V
(15576)210 648 A
5130 V
(15577)210 648 A
(return)252 1194 A
(Point)210 1488 A
1740(==)S
(End)126 1866 A
2034(?)S
(CSstay)252 2118 A
2412(:)S
(CSmove;)294 2496 A
5220 V
(15578)210 648 A
1026(})S
5400 V
(15580)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5490 V
(15581)210 648 A
(redisplay\(\))462 1026 A
5580 V
(15582)210 648 A
1026({)S
5670 V
(15583)210 648 A
(TTYputs\(\(CONST)588 1194 A
(CHAR)168 1824 A
(*\)NEWLINE\);)462 2034 A
5760 V
(15584)210 648 A
(TTYputs\(\(CONST)588 1194 A
(CHAR)168 1824 A
(*\)Prompt\);)420 2034 A
5850 V
(15585)210 648 A
(TTYstring\(Line\);)672 1194 A
5940 V
(15586)210 648 A
(return)252 1194 A
(CSmove;)294 1488 A
6030 V
(15587)210 648 A
1026(})S
6210 V
(15589)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
8418 V
EP
%%Page: 133 133
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(133)180 4248 A
900 V
7 LST
(15590)210 648 A
(toggle_meta_mode\(\))756 1026 A
990 V
(15591)210 648 A
1026({)S
1080 V
(15592)210 648 A
(rl_meta_chars)546 1194 A
1782(=)S
1866(!)S
(rl_meta_chars;)588 1950 A
1170 V
(15593)210 648 A
(return)252 1194 A
(redisplay\(\);)504 1488 A
1260 V
(15594)210 648 A
1026(})S
1350 V
(15595)210 648 A
1440 V
(15596)210 648 A
1530 V
(15597)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
1530(*)S
1620 V
(15598)210 648 A
(next_hist\(\))462 1026 A
1710 V
(15599)210 648 A
1026({)S
1800 V
(15600)210 648 A
(return)252 1194 A
(H.Pos)210 1488 A
1740(>=)S
(H.Size)252 1866 A
2160(-)S
2244(1)S
2328(?)S
(NULL)168 2412 A
2622(:)S
(H.Lines[++H.Pos];)714 2706 A
1890 V
(15601)210 648 A
1026(})S
2070 V
(15603)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
1530(*)S
2160 V
(15604)210 648 A
(prev_hist\(\))462 1026 A
2250 V
(15605)210 648 A
1026({)S
2340 V
(15606)210 648 A
(return)252 1194 A
(H.Pos)210 1488 A
1740(==)S
1866(0)S
1950(?)S
(NULL)168 2034 A
2244(:)S
(H.Lines[--H.Pos];)714 2328 A
2430 V
(15607)210 648 A
1026(})S
2610 V
(15609)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2700 V
(15610)210 648 A
(do_insert_hist\(p\))714 1026 A
2790 V
(15611)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
2880 V
(15612)210 648 A
1026({)S
2970 V
(15613)210 648 A
1194(if)S
1320(\(p)S
1446(==)S
(NULL\))210 1572 A
3060 V
(15614)210 648 A
(return)252 1362 A
(ring_bell\(\);)504 1656 A
3150 V
(15615)210 648 A
(Point)210 1194 A
1446(=)S
1530(0;)S
3240 V
(15616)210 648 A
(reposition\(\);)546 1194 A
3330 V
(15617)210 648 A
(ceol\(\);)294 1194 A
3420 V
(15618)210 648 A
(End)126 1194 A
1362(=)S
1446(0;)S
3510 V
(15619)210 648 A
(return)252 1194 A
(insert_string\(p\);)714 1488 A
3600 V
(15620)210 648 A
1026(})S
3780 V
(15622)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3870 V
(15623)210 648 A
(do_hist\(move\))546 1026 A
3960 V
(15624)210 648 A
(CHAR)168 1194 A
(*\(*move\)\(\);)462 1698 A
4050 V
(15625)210 648 A
1026({)S
4140 V
(15626)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
4230 V
(15627)210 648 A
(int)126 1194 A
1698(i;)S
4320 V
(15628)210 648 A
4410 V
(15629)210 648 A
1194(i)S
1278(=)S
1362(0;)S
4500 V
(15630)210 648 A
1194(do)S
1320({)S
4590 V
(15631)210 648 A
1362(if)S
(\(\(p)126 1488 A
1656(=)S
(\(*move\)\(\)\))420 1740 A
2202(==)S
(NULL\))210 2328 A
4680 V
(15632)210 648 A
(return)252 1530 A
(ring_bell\(\);)504 1824 A
4770 V
(15633)210 648 A
1194(})S
(while)210 1278 A
(\(++i)168 1530 A
1740(<)S
(Repeat\);)336 1824 A
4860 V
(15634)210 648 A
(return)252 1194 A
(do_insert_hist\(p\);)756 1488 A
4950 V
(15635)210 648 A
1026(})S
5130 V
(15637)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5220 V
(15638)210 648 A
(h_next\(\))336 1026 A
5310 V
(15639)210 648 A
1026({)S
5400 V
(15640)210 648 A
(return)252 1194 A
(do_hist\(next_hist\);)798 1488 A
5490 V
(15641)210 648 A
1026(})S
5670 V
(15643)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5760 V
(15644)210 648 A
(h_prev\(\))336 1026 A
5850 V
(15645)210 648 A
1026({)S
5940 V
(15646)210 648 A
(return)252 1194 A
(do_hist\(prev_hist\);)798 1488 A
6030 V
(15647)210 648 A
1026(})S
6210 V
(15649)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
8418 V
EP
%%Page: 134 134
BP
/slant 0 def
/height 0 def
630 V
12 B
(134)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(15650)210 648 A
(h_first\(\))378 1026 A
990 V
(15651)210 648 A
1026({)S
1080 V
(15652)210 648 A
(return)252 1194 A
(do_insert_hist\(H.Lines[H.Pos)1176 1488 A
2706(=)S
(0]\);)168 2790 A
1170 V
(15653)210 648 A
1026(})S
1350 V
(15655)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1440 V
(15656)210 648 A
(h_last\(\))336 1026 A
1530 V
(15657)210 648 A
1026({)S
1620 V
(15658)210 648 A
(return)252 1194 A
(do_insert_hist\(H.Lines[H.Pos)1176 1488 A
2706(=)S
(H.Size)252 2790 A
3084(-)S
(1]\);)168 3168 A
1710 V
(15659)210 648 A
1026(})S
1890 V
(15661)210 648 A
1026(/*)S
1980 V
(15662)210 648 A
1026(**)S
(Return)252 1194 A
(zero)168 1488 A
1698(if)S
(pat)126 1824 A
(appears)294 1992 A
2328(as)S
2454(a)S
(substring)378 2538 A
2958(in)S
(text.)210 3084 A
2070 V
(15663)210 648 A
1026(*/)S
2160 V
(15664)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
2250 V
(15665)210 648 A
(substrcmp\(text,)630 1026 A
(pat,)168 1698 A
(len\))168 1908 A
2340 V
(15666)210 648 A
(char)168 1194 A
(*text;)252 1698 A
2430 V
(15667)210 648 A
(char)168 1194 A
(*pat;)210 1698 A
2520 V
(15668)210 648 A
(int)126 1194 A
(len;)168 1698 A
2610 V
(15669)210 648 A
1026({)S
2700 V
(15670)210 648 A
(char)168 1194 A
1698(c;)S
2790 V
(15671)210 648 A
2880 V
(15672)210 648 A
1194(if)S
(\(\(c)126 1320 A
1488(=)S
(*pat\))210 1572 A
1824(==)S
('\\0'\))210 1950 A
2970 V
(15673)210 648 A
(return)252 1362 A
(*text)210 1656 A
1908(==)S
('\\0';)210 2034 A
3060 V
(15674)210 648 A
(for)126 1194 A
1362(\()S
1446(;)S
(*text;)252 1530 A
(text++\))294 1824 A
3150 V
(15675)210 648 A
1362(if)S
(\(*text)252 1488 A
1782(==)S
1908(c)S
1992(&&)S
(strncmp\(text,)546 2118 A
(pat,)168 2706 A
(len\))168 2916 A
3126(==)S
3252(0\))S
3240 V
(15676)210 648 A
(return)252 1530 A
1824(0;)S
3330 V
(15677)210 648 A
(return)252 1194 A
1488(1;)S
3420 V
(15678)210 648 A
1026(})S
3600 V
(15680)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
1530(*)S
3690 V
(15681)210 648 A
(search_hist\(search,)798 1026 A
(move\))210 1866 A
3780 V
(15682)210 648 A
(CHAR)168 1194 A
(*search;)336 1698 A
3870 V
(15683)210 648 A
(CHAR)168 1194 A
(*\(*move\)\(\);)462 1698 A
3960 V
(15684)210 648 A
1026({)S
4050 V
(15685)210 648 A
(static)252 1194 A
(CHAR)168 1488 A
(*old_search;)504 1698 A
4140 V
(15686)210 648 A
(int)126 1194 A
(len;)168 1698 A
4230 V
(15687)210 648 A
(int)126 1194 A
(pos;)168 1698 A
4320 V
(15688)210 648 A
(int)126 1194 A
(\(*match\)\(\);)462 1698 A
4410 V
(15689)210 648 A
(char)168 1194 A
(*pat;)210 1698 A
4500 V
(15690)210 648 A
4590 V
(15691)210 648 A
1194(/*)S
(Save)168 1320 A
1530(or)S
(get)126 1656 A
(remembered)420 1824 A
(search)252 2286 A
(pattern.)336 2580 A
2958(*/)S
4680 V
(15692)210 648 A
1194(if)S
(\(search)294 1320 A
1656(&&)S
(*search\))336 1782 A
2160({)S
4770 V
(15693)210 648 A
1362(if)S
(\(old_search\))504 1488 A
4860 V
(15694)210 648 A
(DISPOSE\(old_search\);)840 1530 A
4950 V
(15695)210 648 A
(old_search)420 1362 A
1824(=)S
(\(CHAR)210 1908 A
(*\)strdup\(\(char)588 2160 A
(*\)search\);)420 2790 A
5040 V
(15696)210 648 A
1194(})S
5130 V
(15697)210 648 A
(else)168 1194 A
1404({)S
5220 V
(15698)210 648 A
1362(if)S
(\(old_search)462 1488 A
1992(==)S
(NULL)168 2118 A
2328(||)S
(*old_search)462 2454 A
2958(==)S
('\\0'\))210 3084 A
5310 V
(15699)210 648 A
(return)252 1530 A
(NULL;)210 1824 A
5400 V
(15700)210 648 A
(search)252 1362 A
1656(=)S
(old_search;)462 1740 A
5490 V
(15701)210 648 A
1194(})S
5580 V
(15702)210 648 A
5670 V
(15703)210 648 A
1194(/*)S
(Set)126 1320 A
1488(up)S
(pattern-finder.)630 1614 A
2286(*/)S
5760 V
(15704)210 648 A
1194(if)S
(\(*search)336 1320 A
1698(==)S
('\303'\))168 1824 A
2034({)S
5850 V
(15705)210 648 A
(match)210 1362 A
1614(=)S
(strncmp;)336 1698 A
5940 V
(15706)210 648 A
(pat)126 1362 A
1530(=)S
(\(char)210 1614 A
(*\)\(search)378 1866 A
2286(+)S
(1\);)126 2370 A
6030 V
(15707)210 648 A
1194(})S
6120 V
(15708)210 648 A
(else)168 1194 A
1404({)S
6210 V
(15709)210 648 A
(match)210 1362 A
1614(=)S
(substrcmp;)420 1698 A
8418 V
EP
%%Page: 135 135
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(135)180 4248 A
900 V
7 LST
(15710)210 648 A
(pat)126 1362 A
1530(=)S
(\(char)210 1614 A
(*\)search;)378 1866 A
990 V
(15711)210 648 A
1194(})S
1080 V
(15712)210 648 A
(len)126 1194 A
1362(=)S
(strlen\(pat\);)504 1446 A
1170 V
(15713)210 648 A
1260 V
(15714)210 648 A
(for)126 1194 A
(\(pos)168 1362 A
1572(=)S
(H.Pos;)252 1656 A
(\(*move\)\(\))378 1950 A
2370(!=)S
(NULL;)210 2496 A
2748(\))S
1350 V
(15715)210 648 A
1362(if)S
(\(\(*match\)\(\(char)630 1488 A
(*\)H.Lines[H.Pos],)714 2160 A
(pat,)168 2916 A
(len\))168 3126 A
3336(==)S
3462(0\))S
1440 V
(15716)210 648 A
(return)252 1530 A
(H.Lines[H.Pos];)630 1824 A
1530 V
(15717)210 648 A
(H.Pos)210 1194 A
1446(=)S
(pos;)168 1530 A
1620 V
(15718)210 648 A
(return)252 1194 A
(NULL;)210 1488 A
1710 V
(15719)210 648 A
1026(})S
1890 V
(15721)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1980 V
(15722)210 648 A
(h_search\(\))420 1026 A
2070 V
(15723)210 648 A
1026({)S
2160 V
(15724)210 648 A
(static)252 1194 A
(int)126 1488 A
(Searching;)420 1698 A
2250 V
(15725)210 648 A
(CONST)210 1194 A
(char)168 1446 A
(*old_prompt;)504 1698 A
2340 V
(15726)210 648 A
(CHAR)168 1194 A
(*\(*move\)\(\);)462 1698 A
2430 V
(15727)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
2520 V
(15728)210 648 A
2610 V
(15729)210 648 A
1194(if)S
(\(Searching\))462 1320 A
2700 V
(15730)210 648 A
(return)252 1362 A
(ring_bell\(\);)504 1656 A
2790 V
(15731)210 648 A
(Searching)378 1194 A
1614(=)S
1698(1;)S
2880 V
(15732)210 648 A
2970 V
(15733)210 648 A
(clear_line\(\);)546 1194 A
3060 V
(15734)210 648 A
(old_prompt)420 1194 A
1656(=)S
(Prompt;)294 1740 A
3150 V
(15735)210 648 A
(Prompt)252 1194 A
1488(=)S
("Search:)336 1572 A
1950(";)S
3240 V
(15736)210 648 A
(TTYputs\(\(CONST)588 1194 A
(CHAR)168 1824 A
(*\)Prompt\);)420 2034 A
3330 V
(15737)210 648 A
(move)168 1194 A
1404(=)S
(Repeat)252 1488 A
1782(==)S
(NO_ARG)252 1908 A
2202(?)S
(prev_hist)378 2286 A
2706(:)S
(next_hist;)420 2790 A
3420 V
(15738)210 648 A
1194(p)S
1278(=)S
(editinput\(\);)504 1362 A
3510 V
(15739)210 648 A
(Prompt)252 1194 A
1488(=)S
(old_prompt;)462 1572 A
3600 V
(15740)210 648 A
(Searching)378 1194 A
1614(=)S
1698(0;)S
3690 V
(15741)210 648 A
(TTYputs\(\(CONST)588 1194 A
(CHAR)168 1824 A
(*\)Prompt\);)420 2034 A
3780 V
(15742)210 648 A
1194(if)S
1320(\(p)S
1446(==)S
(NULL)168 1572 A
1782(&&)S
(Signal)252 1908 A
2202(>)S
2286(0\))S
2412({)S
3870 V
(15743)210 648 A
(Signal)252 1362 A
1656(=)S
1740(0;)S
3960 V
(15744)210 648 A
(clear_line\(\);)546 1362 A
4050 V
(15745)210 648 A
(return)252 1362 A
(redisplay\(\);)504 1656 A
4140 V
(15746)210 648 A
1194(})S
4230 V
(15747)210 648 A
1194(p)S
1278(=)S
(search_hist\(p,)588 1362 A
(move\);)252 1992 A
4320 V
(15748)210 648 A
(clear_line\(\);)546 1194 A
4410 V
(15749)210 648 A
1194(if)S
1320(\(p)S
1446(==)S
(NULL\))210 1572 A
1824({)S
4500 V
(15750)210 648 A
(\(void\)ring_bell\(\);)756 1362 A
4590 V
(15751)210 648 A
(return)252 1362 A
(redisplay\(\);)504 1656 A
4680 V
(15752)210 648 A
1194(})S
4770 V
(15753)210 648 A
(return)252 1194 A
(do_insert_hist\(p\);)756 1488 A
4860 V
(15754)210 648 A
1026(})S
5040 V
(15756)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5130 V
(15757)210 648 A
(fd_char\(\))378 1026 A
5220 V
(15758)210 648 A
1026({)S
5310 V
(15759)210 648 A
(int)126 1194 A
1698(i;)S
5400 V
(15760)210 648 A
5490 V
(15761)210 648 A
1194(i)S
1278(=)S
1362(0;)S
5580 V
(15762)210 648 A
1194(do)S
1320({)S
5670 V
(15763)210 648 A
1362(if)S
(\(Point)252 1488 A
1782(>=)S
(End\))168 1908 A
5760 V
(15764)210 648 A
(break;)252 1530 A
5850 V
(15765)210 648 A
(right\(CSmove\);)588 1362 A
5940 V
(15766)210 648 A
1194(})S
(while)210 1278 A
(\(++i)168 1530 A
1740(<)S
(Repeat\);)336 1824 A
6030 V
(15767)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
6120 V
(15768)210 648 A
1026(})S
8418 V
EP
%%Page: 136 136
BP
/slant 0 def
/height 0 def
630 V
12 B
(136)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(15770)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
990 V
(15771)210 648 A
(save_yank\(begin,)672 1026 A
1740(i\))S
1080 V
(15772)210 648 A
(int)126 1194 A
(begin;)252 1698 A
1170 V
(15773)210 648 A
(int)126 1194 A
1698(i;)S
1260 V
(15774)210 648 A
1026({)S
1350 V
(15775)210 648 A
1194(if)S
(\(Yanked\))336 1320 A
1698({)S
1440 V
(15776)210 648 A
(DISPOSE\(Yanked\);)672 1362 A
1530 V
(15777)210 648 A
(Yanked)252 1362 A
1656(=)S
(NULL;)210 1740 A
1620 V
(15778)210 648 A
1194(})S
1710 V
(15779)210 648 A
1800 V
(15780)210 648 A
1194(if)S
1320(\(i)S
1446(<)S
1530(1\))S
1890 V
(15781)210 648 A
(return;)294 1362 A
1980 V
(15782)210 648 A
2070 V
(15783)210 648 A
1194(if)S
(\(\(Yanked)336 1320 A
1698(=)S
(NEW\(CHAR,)378 1782 A
(\(SIZE_T\)i)378 2202 A
2622(+)S
(1\)\))126 2706 A
2874(!=)S
(NULL\))210 3000 A
3252({)S
2160 V
(15784)210 648 A
(COPYFROMTO\(Yanked,)756 1362 A
(&Line[begin],)546 2160 A
(i\);)126 2748 A
2250 V
(15785)210 648 A
(Yanked[i])378 1362 A
1782(=)S
('\\0';)210 1866 A
2340 V
(15786)210 648 A
1194(})S
2430 V
(15787)210 648 A
1026(})S
2610 V
(15789)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2700 V
(15790)210 648 A
(delete_string\(count\))840 1026 A
2790 V
(15791)210 648 A
(int)126 1194 A
(count;)252 1698 A
2880 V
(15792)210 648 A
1026({)S
2970 V
(15793)210 648 A
(int)126 1194 A
1698(i;)S
3060 V
(15794)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
3150 V
(15795)210 648 A
3240 V
(15796)210 648 A
1194(if)S
(\(count)252 1320 A
1614(<=)S
1740(0)S
1824(||)S
(End)126 1950 A
2118(==)S
(Point\))252 2244 A
3330 V
(15797)210 648 A
(return)252 1362 A
(ring_bell\(\);)504 1656 A
3420 V
(15798)210 648 A
3510 V
(15799)210 648 A
1194(if)S
(\(count)252 1320 A
1614(==)S
1740(1)S
1824(&&)S
(Point)210 1950 A
2202(==)S
(End)126 2328 A
2496(-)S
2580(1\))S
2706({)S
3600 V
(15800)210 648 A
1362(/*)S
(Optimize)336 1488 A
(common)252 1866 A
(case)168 2160 A
2370(of)S
(delete)252 2496 A
2790(at)S
(end)126 2916 A
3084(of)S
(line.)210 3210 A
3462(*/)S
3690 V
(15801)210 648 A
(End--;)252 1362 A
3780 V
(15802)210 648 A
1362(p)S
1446(=)S
(&Line[Point];)546 1530 A
3870 V
(15803)210 648 A
1362(i)S
1446(=)S
1530(1;)S
3960 V
(15804)210 648 A
(TTYput\(')336 1362 A
('\);)126 1740 A
4050 V
(15805)210 648 A
1362(if)S
(\(ISCTL\(*p\)\))462 1488 A
1992({)S
4140 V
(15806)210 648 A
1530(i)S
1614(=)S
1698(2;)S
4230 V
(15807)210 648 A
(TTYput\(')336 1530 A
('\);)126 1908 A
4320 V
(15808)210 648 A
1362(})S
4410 V
(15809)210 648 A
(else)168 1362 A
1572(if)S
(\(rl_meta_chars)588 1698 A
2328(&&)S
(ISMETA\(*p\)\))462 2454 A
2958({)S
4500 V
(15810)210 648 A
1530(i)S
1614(=)S
1698(3;)S
4590 V
(15811)210 648 A
(TTYput\(')336 1530 A
('\);)126 1908 A
4680 V
(15812)210 648 A
(TTYput\(')336 1530 A
('\);)126 1908 A
4770 V
(15813)210 648 A
1362(})S
4860 V
(15814)210 648 A
(TTYbackn\(i\);)504 1362 A
4950 V
(15815)210 648 A
1362(*p)S
1488(=)S
('\\0';)210 1572 A
5040 V
(15816)210 648 A
(return)252 1362 A
(CSmove;)294 1656 A
5130 V
(15817)210 648 A
1194(})S
5220 V
(15818)210 648 A
1194(if)S
(\(Point)252 1320 A
1614(+)S
(count)210 1698 A
1950(>)S
(End)126 2034 A
2202(&&)S
(\(count)252 2328 A
2622(=)S
(End)126 2706 A
2874(-)S
(Point\))252 2958 A
3252(<=)S
3378(0\))S
5310 V
(15819)210 648 A
(return)252 1362 A
(CSstay;)294 1656 A
5400 V
(15820)210 648 A
5490 V
(15821)210 648 A
1194(if)S
(\(count)252 1320 A
1614(>)S
1698(1\))S
5580 V
(15822)210 648 A
(save_yank\(Point,)672 1362 A
(count\);)294 2076 A
5670 V
(15823)210 648 A
5760 V
(15824)210 648 A
(for)126 1194 A
1362(\(p)S
1488(=)S
(&Line[Point],)546 1572 A
2160(i)S
2244(=)S
(End)126 2328 A
2496(-)S
(\(Point)252 2580 A
2874(+)S
(count\))252 2958 A
3252(+)S
3336(1;)S
(--i)126 3462 A
3630(>=)S
3756(0;)S
(p++\))168 3882 A
5850 V
(15825)210 648 A
(p[0])168 1362 A
1572(=)S
(p[count];)378 1656 A
5940 V
(15826)210 648 A
(ceol\(\);)294 1194 A
6030 V
(15827)210 648 A
(End)126 1194 A
1362(-=)S
(count;)252 1488 A
6120 V
(15828)210 648 A
(TTYstring\(&Line[Point]\);)1008 1194 A
6210 V
(15829)210 648 A
(return)252 1194 A
(CSmove;)294 1488 A
8418 V
EP
%%Page: 137 137
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(137)180 4248 A
900 V
7 LST
(15830)210 648 A
1026(})S
1080 V
(15832)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1170 V
(15833)210 648 A
(bk_char\(\))378 1026 A
1260 V
(15834)210 648 A
1026({)S
1350 V
(15835)210 648 A
(int)126 1194 A
1698(i;)S
1440 V
(15836)210 648 A
1530 V
(15837)210 648 A
1194(i)S
1278(=)S
1362(0;)S
1620 V
(15838)210 648 A
1194(do)S
1320({)S
1710 V
(15839)210 648 A
1362(if)S
(\(Point)252 1488 A
1782(==)S
1908(0\))S
1800 V
(15840)210 648 A
(break;)252 1530 A
1890 V
(15841)210 648 A
(left\(CSmove\);)546 1362 A
1980 V
(15842)210 648 A
1194(})S
(while)210 1278 A
(\(++i)168 1530 A
1740(<)S
(Repeat\);)336 1824 A
2070 V
(15843)210 648 A
2160 V
(15844)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
2250 V
(15845)210 648 A
1026(})S
2430 V
(15847)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2520 V
(15848)210 648 A
(bk_del_char\(\))546 1026 A
2610 V
(15849)210 648 A
1026({)S
2700 V
(15850)210 648 A
(int)126 1194 A
1698(i;)S
2790 V
(15851)210 648 A
2880 V
(15852)210 648 A
1194(i)S
1278(=)S
1362(0;)S
2970 V
(15853)210 648 A
1194(do)S
1320({)S
3060 V
(15854)210 648 A
1362(if)S
(\(Point)252 1488 A
1782(==)S
1908(0\))S
3150 V
(15855)210 648 A
(break;)252 1530 A
3240 V
(15856)210 648 A
(left\(CSmove\);)546 1362 A
3330 V
(15857)210 648 A
1194(})S
(while)210 1278 A
(\(++i)168 1530 A
1740(<)S
(Repeat\);)336 1824 A
3420 V
(15858)210 648 A
3510 V
(15859)210 648 A
(return)252 1194 A
(delete_string\(i\);)714 1488 A
3600 V
(15860)210 648 A
1026(})S
3780 V
(15862)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3870 V
(15863)210 648 A
(kill_line\(\))462 1026 A
3960 V
(15864)210 648 A
1026({)S
4050 V
(15865)210 648 A
(int)126 1194 A
1698(i;)S
4140 V
(15866)210 648 A
4230 V
(15867)210 648 A
1194(if)S
(\(Repeat)294 1320 A
1656(!=)S
(NO_ARG\))294 1782 A
2118({)S
4320 V
(15868)210 648 A
1362(if)S
(\(Repeat)294 1488 A
1824(<)S
(Point\))252 1908 A
2202({)S
4410 V
(15869)210 648 A
1530(i)S
1614(=)S
(Point;)252 1698 A
4500 V
(15870)210 648 A
(Point)210 1530 A
1782(=)S
(Repeat;)294 1866 A
4590 V
(15871)210 648 A
(reposition\(\);)546 1530 A
4680 V
(15872)210 648 A
(\(void\)delete_string\(i)882 1530 A
2454(-)S
(Point\);)294 2538 A
4770 V
(15873)210 648 A
1362(})S
4860 V
(15874)210 648 A
(else)168 1362 A
1572(if)S
(\(Repeat)294 1698 A
2034(>)S
(Point\))252 2118 A
2412({)S
4950 V
(15875)210 648 A
(right\(CSmove\);)588 1530 A
5040 V
(15876)210 648 A
(\(void\)delete_string\(Repeat)1092 1530 A
2664(-)S
(Point)210 2748 A
3000(-)S
(1\);)126 3084 A
5130 V
(15877)210 648 A
1362(})S
5220 V
(15878)210 648 A
(return)252 1362 A
(CSmove;)294 1656 A
5310 V
(15879)210 648 A
1194(})S
5400 V
(15880)210 648 A
5490 V
(15881)210 648 A
(save_yank\(Point,)672 1194 A
(End)126 1908 A
2076(-)S
(Point\);)294 2160 A
5580 V
(15882)210 648 A
(Line[Point])462 1194 A
1698(=)S
('\\0';)210 1782 A
5670 V
(15883)210 648 A
(ceol\(\);)294 1194 A
5760 V
(15884)210 648 A
(End)126 1194 A
1362(=)S
(Point;)252 1446 A
5850 V
(15885)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
5940 V
(15886)210 648 A
1026(})S
6120 V
(15888)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
6210 V
(15889)210 648 A
(insert_char\(c\))588 1026 A
8418 V
EP
%%Page: 138 138
BP
/slant 0 def
/height 0 def
630 V
12 B
(138)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(15890)210 648 A
(int)126 1194 A
1698(c;)S
990 V
(15891)210 648 A
1026({)S
1080 V
(15892)210 648 A
(STATUS)252 1194 A
1698(s;)S
1170 V
(15893)210 648 A
(CHAR)168 1194 A
(buff[2];)336 1698 A
1260 V
(15894)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
1350 V
(15895)210 648 A
(CHAR)168 1194 A
(*q;)126 1698 A
1440 V
(15896)210 648 A
(int)126 1194 A
1698(i;)S
1530 V
(15897)210 648 A
1620 V
(15898)210 648 A
1194(if)S
(\(Repeat)294 1320 A
1656(==)S
(NO_ARG)252 1782 A
2076(||)S
(Repeat)252 2202 A
2496(<)S
2580(2\))S
2706({)S
1710 V
(15899)210 648 A
(buff[0])294 1362 A
1698(=)S
1782(c;)S
1800 V
(15900)210 648 A
(buff[1])294 1362 A
1698(=)S
('\\0';)210 1782 A
1890 V
(15901)210 648 A
(return)252 1362 A
(insert_string\(buff\);)840 1656 A
1980 V
(15902)210 648 A
1194(})S
2070 V
(15903)210 648 A
2160 V
(15904)210 648 A
1194(if)S
(\(\(p)126 1320 A
1488(=)S
(NEW\(CHAR,)378 1572 A
(Repeat)252 1992 A
2286(+)S
(1\)\))126 2370 A
2538(==)S
(NULL\))210 2664 A
2250 V
(15905)210 648 A
(return)252 1362 A
(CSstay;)294 1656 A
2340 V
(15906)210 648 A
(for)126 1194 A
1362(\(i)S
1488(=)S
(Repeat,)294 1572 A
1908(q)S
1992(=)S
2076(p;)S
(--i)126 2202 A
2370(>=)S
2496(0;)S
2622(\))S
2430 V
(15907)210 648 A
(*q++)168 1362 A
1572(=)S
1656(c;)S
2520 V
(15908)210 648 A
1194(*q)S
1320(=)S
('\\0';)210 1404 A
2610 V
(15909)210 648 A
(Repeat)252 1194 A
1488(=)S
1572(0;)S
2700 V
(15910)210 648 A
1194(s)S
1278(=)S
(insert_string\(p\);)714 1362 A
2790 V
(15911)210 648 A
(DISPOSE\(p\);)462 1194 A
2880 V
(15912)210 648 A
(return)252 1194 A
1488(s;)S
2970 V
(15913)210 648 A
1026(})S
3150 V
(15915)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3240 V
(15916)210 648 A
(meta\(\))252 1026 A
3330 V
(15917)210 648 A
1026({)S
3420 V
(15918)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
3510 V
(15919)210 648 A
(KEYMAP)252 1194 A
(*kp;)168 2034 A
3600 V
(15920)210 648 A
3690 V
(15921)210 648 A
1194(if)S
(\(\(c)126 1320 A
1488(=)S
(TTYget\(\)\))378 1572 A
1992(==)S
(EOF\))168 2118 A
3780 V
(15922)210 648 A
(return)252 1362 A
(CSeof;)252 1656 A
3870 V
(15923)210 648 A
(#if)126 1026 A
(defined\(ANSI_ARROWS\))840 1362 A
3960 V
(15924)210 648 A
1194(/*)S
(Also)168 1320 A
(include)294 1530 A
(VT-100)252 1866 A
(arrows.)294 2160 A
2496(*/)S
4050 V
(15925)210 648 A
1194(if)S
1320(\(c)S
1446(==)S
('[')126 1572 A
1740(||)S
1866(c)S
1950(==)S
('O'\))168 2076 A
4140 V
(15926)210 648 A
(switch)252 1362 A
1656(\(c)S
1782(=)S
(TTYget\(\)\))378 1866 A
2286({)S
4230 V
(15927)210 648 A
(default:)336 1362 A
(return)252 2034 A
(ring_bell\(\);)504 2328 A
4320 V
(15928)210 648 A
(case)168 1362 A
(EOF:)168 1572 A
(return)252 2034 A
(CSeof;)252 2328 A
4410 V
(15929)210 648 A
(case)168 1362 A
('A':)168 1572 A
(return)252 2034 A
(h_prev\(\);)378 2328 A
4500 V
(15930)210 648 A
(case)168 1362 A
('B':)168 1572 A
(return)252 2034 A
(h_next\(\);)378 2328 A
4590 V
(15931)210 648 A
(case)168 1362 A
('C':)168 1572 A
(return)252 2034 A
(fd_char\(\);)420 2328 A
4680 V
(15932)210 648 A
(case)168 1362 A
('D':)168 1572 A
(return)252 2034 A
(bk_char\(\);)420 2328 A
4770 V
(15933)210 648 A
1362(})S
4860 V
(15934)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(ANSI_ARROWS\))840 1488 A
2370(*/)S
4950 V
(15935)210 648 A
5040 V
(15936)210 648 A
1194(if)S
(\(isdigit\(c\)\))504 1320 A
1866({)S
5130 V
(15937)210 648 A
(for)126 1362 A
(\(Repeat)294 1530 A
1866(=)S
1950(c)S
2034(-)S
('0';)168 2118 A
2328(\(c)S
2454(=)S
(TTYget\(\)\))378 2538 A
2958(!=)S
(EOF)126 3084 A
3252(&&)S
(isdigit\(c\);)462 3378 A
3882(\))S
5220 V
(15938)210 648 A
(Repeat)252 1530 A
1824(=)S
(Repeat)252 1908 A
2202(*)S
2286(10)S
2412(+)S
2496(c)S
2580(-)S
('0';)168 2664 A
5310 V
(15939)210 648 A
(Pushed)252 1362 A
1656(=)S
1740(1;)S
5400 V
(15940)210 648 A
(PushBack)336 1362 A
1740(=)S
1824(c;)S
5490 V
(15941)210 648 A
(return)252 1362 A
(CSstay;)294 1656 A
5580 V
(15942)210 648 A
1194(})S
5670 V
(15943)210 648 A
5760 V
(15944)210 648 A
1194(if)S
(\(isupper\(c\)\))504 1320 A
5850 V
(15945)210 648 A
(return)252 1362 A
(do_macro\(c\);)504 1656 A
5940 V
(15946)210 648 A
(for)126 1194 A
(\(kp)126 1362 A
1530(=)S
(MetaMap;)336 1614 A
(kp->Function;)546 1992 A
(kp++\))210 2580 A
6030 V
(15947)210 648 A
1362(if)S
(\(kp->Key)336 1488 A
1866(==)S
1992(c\))S
6120 V
(15948)210 648 A
(return)252 1530 A
(\(*kp->Function\)\(\);)756 1824 A
6210 V
(15949)210 648 A
8418 V
EP
%%Page: 139 139
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(139)180 4248 A
900 V
7 LST
(15950)210 648 A
(return)252 1194 A
(ring_bell\(\);)504 1488 A
990 V
(15951)210 648 A
1026(})S
1170 V
(15953)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1260 V
(15954)210 648 A
(emacs\(c\))336 1026 A
1350 V
(15955)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
1440 V
(15956)210 648 A
1026({)S
1530 V
(15957)210 648 A
(STATUS)252 1194 A
2034(s;)S
1620 V
(15958)210 648 A
(KEYMAP)252 1194 A
(*kp;)168 2034 A
1710 V
(15959)210 648 A
1800 V
(15960)210 648 A
(OldPoint)336 1194 A
1572(=)S
(Point;)252 1656 A
1890 V
(15961)210 648 A
1194(if)S
(\(rl_meta_chars)588 1320 A
1950(&&)S
(ISMETA\(c\)\))420 2076 A
2538({)S
1980 V
(15962)210 648 A
(Pushed)252 1362 A
1656(=)S
1740(1;)S
2070 V
(15963)210 648 A
(PushBack)336 1362 A
1740(=)S
(UNMETA\(c\);)420 1824 A
2160 V
(15964)210 648 A
(return)252 1362 A
(meta\(\);)294 1656 A
2250 V
(15965)210 648 A
1194(})S
2340 V
(15966)210 648 A
(for)126 1194 A
(\(kp)126 1362 A
1530(=)S
(Map;)168 1614 A
(kp->Function;)546 1824 A
(kp++\))210 2412 A
2430 V
(15967)210 648 A
1362(if)S
(\(kp->Key)336 1488 A
1866(==)S
1992(c\))S
2520 V
(15968)210 648 A
(break;)252 1530 A
2610 V
(15969)210 648 A
1194(s)S
1278(=)S
(kp->Function)504 1362 A
1908(?)S
(\(*kp->Function\)\(\))714 1992 A
2748(:)S
(insert_char\(\(int\)c\);)840 2832 A
2700 V
(15970)210 648 A
1194(if)S
(\(!Pushed\))378 1320 A
2790 V
(15971)210 648 A
1362(/*)S
1488(No)S
(pushback)336 1614 A
(means)210 1992 A
2244(no)S
(repeat)252 2370 A
(count;)252 2664 A
(hacky,)252 2958 A
(but)126 3252 A
(true.)210 3420 A
3672(*/)S
2880 V
(15972)210 648 A
(Repeat)252 1362 A
1656(=)S
(NO_ARG;)294 1740 A
2970 V
(15973)210 648 A
(return)252 1194 A
1488(s;)S
3060 V
(15974)210 648 A
1026(})S
3240 V
(15976)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3330 V
(15977)210 648 A
(TTYspecial\(c\))546 1026 A
3420 V
(15978)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
3510 V
(15979)210 648 A
1026({)S
3600 V
(15980)210 648 A
1194(if)S
(\(ISMETA\(c\)\))462 1320 A
3690 V
(15981)210 648 A
(return)252 1362 A
(CSdispatch;)462 1656 A
3780 V
(15982)210 648 A
3870 V
(15983)210 648 A
1194(if)S
1320(\(c)S
1446(==)S
(rl_erase)336 1572 A
1950(||)S
2076(c)S
2160(==)S
(DEL\))168 2286 A
3960 V
(15984)210 648 A
(return)252 1362 A
(bk_del_char\(\);)588 1656 A
4050 V
(15985)210 648 A
1194(if)S
1320(\(c)S
1446(==)S
(rl_kill\))336 1572 A
1950({)S
4140 V
(15986)210 648 A
1362(if)S
(\(Point)252 1488 A
1782(!=)S
1908(0\))S
2034({)S
4230 V
(15987)210 648 A
(Point)210 1530 A
1782(=)S
1866(0;)S
4320 V
(15988)210 648 A
(reposition\(\);)546 1530 A
4410 V
(15989)210 648 A
1362(})S
4500 V
(15990)210 648 A
(Repeat)252 1362 A
1656(=)S
(NO_ARG;)294 1740 A
4590 V
(15991)210 648 A
(return)252 1362 A
(kill_line\(\);)504 1656 A
4680 V
(15992)210 648 A
1194(})S
4770 V
(15993)210 648 A
1194(if)S
1320(\(c)S
1446(==)S
(rl_eof)252 1572 A
1866(&&)S
(Point)210 1992 A
2244(==)S
2370(0)S
2454(&&)S
(End)126 2580 A
2748(==)S
2874(0\))S
4860 V
(15994)210 648 A
(return)252 1362 A
(CSeof;)252 1656 A
4950 V
(15995)210 648 A
1194(if)S
1320(\(c)S
1446(==)S
(rl_intr\))336 1572 A
1950({)S
5040 V
(15996)210 648 A
(Signal)252 1362 A
1656(=)S
(SIGINT;)294 1740 A
5130 V
(15997)210 648 A
(return)252 1362 A
(CSsignal;)378 1656 A
5220 V
(15998)210 648 A
1194(})S
5310 V
(15999)210 648 A
1194(if)S
1320(\(c)S
1446(==)S
(rl_quit\))336 1572 A
1950({)S
5400 V
(16000)210 648 A
(Signal)252 1362 A
1656(=)S
(SIGQUIT;)336 1740 A
5490 V
(16001)210 648 A
(return)252 1362 A
(CSeof;)252 1656 A
5580 V
(16002)210 648 A
1194(})S
5670 V
(16003)210 648 A
5760 V
(16004)210 648 A
(return)252 1194 A
(CSdispatch;)462 1488 A
5850 V
(16005)210 648 A
1026(})S
6030 V
(16007)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
1530(*)S
6120 V
(16008)210 648 A
(editinput\(\))462 1026 A
6210 V
(16009)210 648 A
1026({)S
8418 V
EP
%%Page: 140 140
BP
/slant 0 def
/height 0 def
630 V
12 B
(140)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(16010)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
990 V
(16011)210 648 A
1080 V
(16012)210 648 A
(Repeat)252 1194 A
1488(=)S
(NO_ARG;)294 1572 A
1170 V
(16013)210 648 A
(OldPoint)336 1194 A
1572(=)S
(Point)210 1656 A
1908(=)S
(Mark)168 1992 A
2202(=)S
(End)126 2286 A
2454(=)S
2538(0;)S
1260 V
(16014)210 648 A
(Line[0])294 1194 A
1530(=)S
('\\0';)210 1614 A
1350 V
(16015)210 648 A
1440 V
(16016)210 648 A
(Signal)252 1194 A
1488(=)S
(-1;)126 1572 A
1530 V
(16017)210 648 A
(while)210 1194 A
(\(\(c)126 1446 A
1614(=)S
(TTYget\(\)\))378 1698 A
2118(!=)S
(EOF\))168 2244 A
1620 V
(16018)210 648 A
(switch)252 1362 A
(\(TTYspecial\(c\)\))630 1656 A
2328({)S
1710 V
(16019)210 648 A
(case)168 1362 A
(CSdone:)294 1572 A
1800 V
(16020)210 648 A
(return)252 1530 A
(Line;)210 1824 A
1890 V
(16021)210 648 A
(case)168 1362 A
(CSeof:)252 1572 A
1980 V
(16022)210 648 A
(return)252 1530 A
(NULL;)210 1824 A
2070 V
(16023)210 648 A
(case)168 1362 A
(CSsignal:)378 1572 A
2160 V
(16024)210 648 A
(return)252 1530 A
(\(CHAR)210 1824 A
(*\)"";)210 2076 A
2250 V
(16025)210 648 A
(case)168 1362 A
(CSmove:)294 1572 A
2340 V
(16026)210 648 A
(reposition\(\);)546 1530 A
2430 V
(16027)210 648 A
(break;)252 1530 A
2520 V
(16028)210 648 A
(case)168 1362 A
(CSdispatch:)462 1572 A
2610 V
(16029)210 648 A
(switch)252 1530 A
(\(emacs\(c\)\))420 1824 A
2286({)S
2700 V
(16030)210 648 A
(case)168 1530 A
(CSdone:)294 1740 A
2790 V
(16031)210 648 A
(return)252 1698 A
(Line;)210 1992 A
2880 V
(16032)210 648 A
(case)168 1530 A
(CSeof:)252 1740 A
2970 V
(16033)210 648 A
(return)252 1698 A
(NULL;)210 1992 A
3060 V
(16034)210 648 A
(case)168 1530 A
(CSsignal:)378 1740 A
3150 V
(16035)210 648 A
(return)252 1698 A
(\(CHAR)210 1992 A
(*\)"";)210 2244 A
3240 V
(16036)210 648 A
(case)168 1530 A
(CSmove:)294 1740 A
3330 V
(16037)210 648 A
(reposition\(\);)546 1698 A
3420 V
(16038)210 648 A
(break;)252 1698 A
3510 V
(16039)210 648 A
(case)168 1530 A
(CSdispatch:)462 1740 A
3600 V
(16040)210 648 A
(case)168 1530 A
(CSstay:)294 1740 A
3690 V
(16041)210 648 A
(break;)252 1698 A
3780 V
(16042)210 648 A
1530(})S
3870 V
(16043)210 648 A
(break;)252 1530 A
3960 V
(16044)210 648 A
(case)168 1362 A
(CSstay:)294 1572 A
4050 V
(16045)210 648 A
(break;)252 1530 A
4140 V
(16046)210 648 A
1362(})S
4230 V
(16047)210 648 A
(return)252 1194 A
(NULL;)210 1488 A
4320 V
(16048)210 648 A
1026(})S
4500 V
(16050)210 648 A
(STATIC)252 1026 A
(void)168 1320 A
4590 V
(16051)210 648 A
(hist_add\(p\))462 1026 A
4680 V
(16052)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
4770 V
(16053)210 648 A
1026({)S
4860 V
(16054)210 648 A
(int)126 1194 A
1698(i;)S
4950 V
(16055)210 648 A
5040 V
(16056)210 648 A
1194(if)S
(\(\(p)126 1320 A
1488(=)S
(\(CHAR)210 1572 A
(*\)strdup\(\(char)588 1824 A
(*\)p\)\))210 2454 A
2706(==)S
(NULL\))210 2832 A
5130 V
(16057)210 648 A
(return;)294 1362 A
5220 V
(16058)210 648 A
1194(if)S
(\(H.Size)294 1320 A
1656(<)S
(HIST_SIZE\))420 1740 A
5310 V
(16059)210 648 A
(H.Lines[H.Size++])714 1362 A
2118(=)S
2202(p;)S
5400 V
(16060)210 648 A
(else)168 1194 A
1404({)S
5490 V
(16061)210 648 A
(DISPOSE\(H.Lines[0]\);)840 1362 A
5580 V
(16062)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<)S
(HIST_SIZE)378 2034 A
2454(-)S
2538(1;)S
(i++\))168 2664 A
5670 V
(16063)210 648 A
(H.Lines[i])420 1530 A
1992(=)S
(H.Lines[i)378 2076 A
2496(+)S
(1];)126 2580 A
5760 V
(16064)210 648 A
(H.Lines[i])420 1362 A
1824(=)S
1908(p;)S
5850 V
(16065)210 648 A
1194(})S
5940 V
(16066)210 648 A
(H.Pos)210 1194 A
1446(=)S
(H.Size)252 1530 A
1824(-)S
1908(1;)S
6030 V
(16067)210 648 A
1026(})S
6210 V
(16069)210 648 A
1026(/*)S
8418 V
EP
%%Page: 141 141
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(141)180 4248 A
900 V
7 LST
(16070)210 648 A
1026(**)S
(For)126 1194 A
(compatibility)546 1362 A
(with)168 1950 A
(FSF)126 2160 A
(readline.)378 2328 A
990 V
(16071)210 648 A
1026(*/)S
1080 V
(16072)210 648 A
1026(/*)S
(ARGSUSED0)378 1152 A
1572(*/)S
1170 V
(16073)210 648 A
(void)168 1026 A
1260 V
(16074)210 648 A
(rl_reset_terminal\(p\))840 1026 A
1350 V
(16075)210 648 A
(char)168 1194 A
(*p;)126 1698 A
1440 V
(16076)210 648 A
1026({)S
1530 V
(16077)210 648 A
1026(})S
1710 V
(16079)210 648 A
(void)168 1026 A
1800 V
(16080)210 648 A
(rl_initialize\(\))630 1026 A
1890 V
(16081)210 648 A
1026({)S
1980 V
(16082)210 648 A
1026(})S
2160 V
(16084)210 648 A
(char)168 1026 A
1236(*)S
2250 V
(16085)210 648 A
(readline\(prompt\))672 1026 A
2340 V
(16086)210 648 A
(CONST)210 1194 A
(char)168 1446 A
(*prompt;)336 1698 A
2430 V
(16087)210 648 A
1026({)S
2520 V
(16088)210 648 A
(CHAR)168 1194 A
(*line;)252 1698 A
2610 V
(16089)210 648 A
(int)126 1194 A
1698(s;)S
2700 V
(16090)210 648 A
2790 V
(16091)210 648 A
1194(if)S
(\(Line)210 1320 A
1572(==)S
(NULL\))210 1698 A
1950({)S
2880 V
(16092)210 648 A
(Length)252 1362 A
1656(=)S
(MEM_INC;)336 1740 A
2970 V
(16093)210 648 A
1362(if)S
(\(\(Line)252 1488 A
1782(=)S
(NEW\(CHAR,)378 1866 A
(Length\)\))336 2286 A
2664(==)S
(NULL\))210 2790 A
3060 V
(16094)210 648 A
(return)252 1530 A
(NULL;)210 1824 A
3150 V
(16095)210 648 A
1194(})S
3240 V
(16096)210 648 A
3330 V
(16097)210 648 A
(TTYinfo\(\);)420 1194 A
3420 V
(16098)210 648 A
(rl_ttyset\(0\);)546 1194 A
3510 V
(16099)210 648 A
(hist_add\(NIL\);)588 1194 A
3600 V
(16100)210 648 A
(ScreenSize)420 1194 A
1656(=)S
(SCREEN_INC;)462 1740 A
3690 V
(16101)210 648 A
(Screen)252 1194 A
1488(=)S
(NEW\(char,)378 1572 A
(ScreenSize\);)504 1992 A
3780 V
(16102)210 648 A
(Prompt)252 1194 A
1488(=)S
(prompt)252 1572 A
1866(?)S
(prompt)252 1950 A
2244(:)S
(\(char)210 2328 A
(*\)NIL;)252 2580 A
3870 V
(16103)210 648 A
(TTYputs\(\(CONST)588 1194 A
(CHAR)168 1824 A
(*\)Prompt\);)420 2034 A
3960 V
(16104)210 648 A
1194(if)S
(\(\(line)252 1320 A
1614(=)S
(editinput\(\)\))504 1698 A
2244(!=)S
(NULL\))210 2370 A
2622({)S
4050 V
(16105)210 648 A
(line)168 1362 A
1572(=)S
(\(CHAR)210 1656 A
(*\)strdup\(\(char)588 1908 A
(*\)line\);)336 2538 A
4140 V
(16106)210 648 A
(TTYputs\(\(CHAR)546 1362 A
(*\)NEWLINE\);)462 1950 A
4230 V
(16107)210 648 A
(TTYflush\(\);)462 1362 A
4320 V
(16108)210 648 A
1194(})S
4410 V
(16109)210 648 A
(rl_ttyset\(1\);)546 1194 A
4500 V
(16110)210 648 A
(DISPOSE\(Screen\);)672 1194 A
4590 V
(16111)210 648 A
(DISPOSE\(H.Lines[--H.Size]\);)1134 1194 A
4680 V
(16112)210 648 A
1194(if)S
(\(Signal)294 1320 A
1656(>)S
1740(0\))S
1866({)S
4770 V
(16113)210 648 A
1362(s)S
1446(=)S
(Signal;)294 1530 A
4860 V
(16114)210 648 A
(Signal)252 1362 A
1656(=)S
1740(0;)S
4950 V
(16115)210 648 A
(\(void\)kill\(getpid\(\),)840 1362 A
(s\);)126 2244 A
5040 V
(16116)210 648 A
1194(})S
5130 V
(16117)210 648 A
(return)252 1194 A
(\(char)210 1488 A
(*\)line;)294 1740 A
5220 V
(16118)210 648 A
1026(})S
5400 V
(16120)210 648 A
(void)168 1026 A
5490 V
(16121)210 648 A
(add_history\(p\))588 1026 A
5580 V
(16122)210 648 A
(char)168 1194 A
(*p;)126 1698 A
5670 V
(16123)210 648 A
1026({)S
5760 V
(16124)210 648 A
1194(if)S
1320(\(p)S
1446(==)S
(NULL)168 1572 A
1782(||)S
1908(*p)S
2034(==)S
('\\0'\))210 2160 A
5850 V
(16125)210 648 A
(return;)294 1362 A
5940 V
(16126)210 648 A
6030 V
(16127)210 648 A
(#if)126 1026 A
(defined\(UNIQUE_HISTORY\))966 1362 A
6120 V
(16128)210 648 A
1194(if)S
(\(H.Pos)252 1320 A
1614(&&)S
(strcmp\(p,)378 1740 A
(\(char)210 2160 A
2412(*\))S
(H.Lines[H.Pos)546 2538 A
3126(-)S
(1]\))126 3210 A
3378(==)S
3504(0\))S
6210 V
(16129)210 648 A
(return;)294 1362 A
8418 V
EP
%%Page: 142 142
BP
/slant 0 def
/height 0 def
630 V
12 B
(142)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(16130)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(UNIQUE_HISTORY\))966 1488 A
2496(*/)S
990 V
(16131)210 648 A
1194(if)S
(\(H.Size)294 1320 A
1656(&&)S
(strcmp\(p,)378 1782 A
(\(char)210 2202 A
2454(*\))S
(H.Lines[H.Size)588 2580 A
3210(-)S
(1]\))126 3294 A
3462(==)S
3588(0\))S
1080 V
(16132)210 648 A
(return;)294 1362 A
1170 V
(16133)210 648 A
(hist_add\(\(CHAR)588 1194 A
(*\)p\);)210 1824 A
1260 V
(16134)210 648 A
1026(})S
1350 V
(16135)210 648 A
1440 V
(16136)210 648 A
1530 V
(16137)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1620 V
(16138)210 648 A
(beg_line\(\))420 1026 A
1710 V
(16139)210 648 A
1026({)S
1800 V
(16140)210 648 A
1194(if)S
(\(Point\))294 1320 A
1656({)S
1890 V
(16141)210 648 A
(Point)210 1362 A
1614(=)S
1698(0;)S
1980 V
(16142)210 648 A
(return)252 1362 A
(CSmove;)294 1656 A
2070 V
(16143)210 648 A
1194(})S
2160 V
(16144)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
2250 V
(16145)210 648 A
1026(})S
2430 V
(16147)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2520 V
(16148)210 648 A
(del_char\(\))420 1026 A
2610 V
(16149)210 648 A
1026({)S
2700 V
(16150)210 648 A
(return)252 1194 A
(delete_string\(Repeat)840 1488 A
2370(==)S
(NO_ARG)252 2496 A
2790(?)S
2874(1)S
2958(:)S
(Repeat\);)336 3042 A
2790 V
(16151)210 648 A
1026(})S
2970 V
(16153)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3060 V
(16154)210 648 A
(end_line\(\))420 1026 A
3150 V
(16155)210 648 A
1026({)S
3240 V
(16156)210 648 A
1194(if)S
(\(Point)252 1320 A
1614(!=)S
(End\))168 1740 A
1950({)S
3330 V
(16157)210 648 A
(Point)210 1362 A
1614(=)S
(End;)168 1698 A
3420 V
(16158)210 648 A
(return)252 1362 A
(CSmove;)294 1656 A
3510 V
(16159)210 648 A
1194(})S
3600 V
(16160)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
3690 V
(16161)210 648 A
1026(})S
3870 V
(16163)210 648 A
1026(/*)S
3960 V
(16164)210 648 A
1026(**)S
(Move)168 1194 A
(back)168 1404 A
1614(to)S
(the)126 1740 A
(beginning)378 1908 A
2328(of)S
(the)126 2454 A
(current)294 2622 A
(word)168 2958 A
(and)126 3168 A
(return)252 3336 A
3630(an)S
4050 V
(16165)210 648 A
1026(**)S
(allocated)378 1194 A
(copy)168 1614 A
1824(of)S
(it.)126 1950 A
4140 V
(16166)210 648 A
1026(*/)S
4230 V
(16167)210 648 A
(STATIC)252 1026 A
(CHAR)168 1320 A
1530(*)S
4320 V
(16168)210 648 A
(find_word\(\))462 1026 A
4410 V
(16169)210 648 A
1026({)S
4500 V
(16170)210 648 A
(static)252 1194 A
(char)168 1488 A
(SEPS[])252 1698 A
1992(=)S
("#:;&|\303$=\302{}\(\)<>\\n\\t)840 2076 A
2958(";)S
4590 V
(16171)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
4680 V
(16172)210 648 A
(CHAR)168 1194 A
(*new;)210 1698 A
4770 V
(16173)210 648 A
(SIZE_T)252 1194 A
(len;)168 1698 A
4860 V
(16174)210 648 A
4950 V
(16175)210 648 A
(for)126 1194 A
1362(\(p)S
1488(=)S
(&Line[Point];)546 1572 A
2160(p)S
2244(>)S
(Line)168 2328 A
2538(&&)S
(strchr\(SEPS,)504 2664 A
(\(char\)p[-1]\))504 3210 A
3756(==)S
(NULL;)210 3882 A
(p--\))168 4134 A
5040 V
(16176)210 648 A
(continue;)378 1362 A
5130 V
(16177)210 648 A
(len)126 1194 A
1362(=)S
(Point)210 1446 A
1698(-)S
1782(\(p)S
1908(-)S
(Line\))210 1992 A
2244(+)S
2328(1;)S
5220 V
(16178)210 648 A
1194(if)S
(\(\(new)210 1320 A
1572(=)S
(NEW\(CHAR,)378 1656 A
(len\)\))210 2076 A
2328(==)S
(NULL\))210 2454 A
5310 V
(16179)210 648 A
(return)252 1362 A
(NULL;)210 1656 A
5400 V
(16180)210 648 A
(COPYFROMTO\(new,)630 1194 A
1866(p,)S
(len\);)210 1992 A
5490 V
(16181)210 648 A
(new[len)294 1194 A
1530(-)S
1614(1])S
1740(=)S
('\\0';)210 1824 A
5580 V
(16182)210 648 A
(return)252 1194 A
(new;)168 1488 A
5670 V
(16183)210 648 A
1026(})S
5850 V
(16185)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5940 V
(16186)210 648 A
(c_possible\(\))504 1026 A
6030 V
(16187)210 648 A
1026({)S
6120 V
(16188)210 648 A
(CHAR)168 1194 A
(**av;)210 1698 A
6210 V
(16189)210 648 A
(CHAR)168 1194 A
(*word;)252 1698 A
8418 V
EP
%%Page: 143 143
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(143)180 4248 A
900 V
7 LST
(16190)210 648 A
(int)126 1194 A
(ac;)126 1698 A
990 V
(16191)210 648 A
1080 V
(16192)210 648 A
(word)168 1194 A
1404(=)S
(find_word\(\);)504 1488 A
1170 V
(16193)210 648 A
1194(ac)S
1320(=)S
(rl_list_possib\(\(char)840 1404 A
(*\)word,)294 2286 A
(\(char)210 2622 A
(***\)&av\);)378 2874 A
1260 V
(16194)210 648 A
1194(if)S
(\(word\))252 1320 A
1350 V
(16195)210 648 A
(DISPOSE\(word\);)588 1362 A
1440 V
(16196)210 648 A
1194(if)S
(\(ac\))168 1320 A
1530({)S
1530 V
(16197)210 648 A
(columns\(ac,)462 1362 A
(av\);)168 1866 A
1620 V
(16198)210 648 A
(while)210 1362 A
(\(--ac)210 1614 A
1866(>=)S
1992(0\))S
1710 V
(16199)210 648 A
(DISPOSE\(av[ac]\);)672 1530 A
1800 V
(16200)210 648 A
(DISPOSE\(av\);)504 1362 A
1890 V
(16201)210 648 A
(return)252 1362 A
(CSmove;)294 1656 A
1980 V
(16202)210 648 A
1194(})S
2070 V
(16203)210 648 A
(return)252 1194 A
(ring_bell\(\);)504 1488 A
2160 V
(16204)210 648 A
1026(})S
2340 V
(16206)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2430 V
(16207)210 648 A
(c_complete\(\))504 1026 A
2520 V
(16208)210 648 A
1026({)S
2610 V
(16209)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
2700 V
(16210)210 648 A
(CHAR)168 1194 A
(*word;)252 1698 A
2790 V
(16211)210 648 A
(int)126 1194 A
(unique;)294 1698 A
2880 V
(16212)210 648 A
(STATUS)252 1194 A
1698(s;)S
2970 V
(16213)210 648 A
3060 V
(16214)210 648 A
(word)168 1194 A
1404(=)S
(find_word\(\);)504 1488 A
3150 V
(16215)210 648 A
1194(p)S
1278(=)S
(\(CHAR)210 1362 A
(*\)rl_complete\(\(char)798 1614 A
(*\)word,)294 2454 A
(&unique\);)378 2790 A
3240 V
(16216)210 648 A
1194(if)S
(\(word\))252 1320 A
3330 V
(16217)210 648 A
(DISPOSE\(word\);)588 1362 A
3420 V
(16218)210 648 A
1194(if)S
1320(\(p)S
1446(&&)S
(*p\))126 1572 A
1740({)S
3510 V
(16219)210 648 A
1362(s)S
1446(=)S
(insert_string\(p\);)714 1530 A
3600 V
(16220)210 648 A
(#if)126 1026 A
(ANNOYING_NOISE)588 1194 A
3690 V
(16221)210 648 A
1362(if)S
(\(!unique\))378 1488 A
3780 V
(16222)210 648 A
(\(void\)ring_bell\(\);)756 1530 A
3870 V
(16223)210 648 A
(#endif)252 1026 A
3960 V
(16224)210 648 A
(DISPOSE\(p\);)462 1362 A
4050 V
(16225)210 648 A
(return)252 1362 A
1656(s;)S
4140 V
(16226)210 648 A
1194(})S
4230 V
(16227)210 648 A
(return)252 1194 A
(c_possible\(\);)546 1488 A
4320 V
(16228)210 648 A
1026(})S
4500 V
(16230)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
4590 V
(16231)210 648 A
(accept_line\(\))546 1026 A
4680 V
(16232)210 648 A
1026({)S
4770 V
(16233)210 648 A
(Line[End])378 1194 A
1614(=)S
('\\0';)210 1698 A
4860 V
(16234)210 648 A
(return)252 1194 A
(CSdone;)294 1488 A
4950 V
(16235)210 648 A
1026(})S
5130 V
(16237)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5220 V
(16238)210 648 A
(transpose\(\))462 1026 A
5310 V
(16239)210 648 A
1026({)S
5400 V
(16240)210 648 A
(CHAR)168 1194 A
1698(c;)S
5490 V
(16241)210 648 A
5580 V
(16242)210 648 A
1194(if)S
(\(Point\))294 1320 A
1656({)S
5670 V
(16243)210 648 A
1362(if)S
(\(Point)252 1488 A
1782(==)S
(End\))168 1908 A
5760 V
(16244)210 648 A
(left\(CSmove\);)546 1530 A
5850 V
(16245)210 648 A
1362(c)S
1446(=)S
(Line[Point)420 1530 A
1992(-)S
(1];)126 2076 A
5940 V
(16246)210 648 A
(left\(CSstay\);)546 1362 A
6030 V
(16247)210 648 A
(Line[Point)420 1362 A
1824(-)S
1908(1])S
2034(=)S
(Line[Point];)504 2118 A
6120 V
(16248)210 648 A
(TTYshow\(Line[Point)756 1362 A
2160(-)S
(1]\);)168 2244 A
6210 V
(16249)210 648 A
(Line[Point++])546 1362 A
1950(=)S
2034(c;)S
8418 V
EP
%%Page: 144 144
BP
/slant 0 def
/height 0 def
630 V
12 B
(144)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(16250)210 648 A
(TTYshow\(c\);)462 1362 A
990 V
(16251)210 648 A
1194(})S
1080 V
(16252)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
1170 V
(16253)210 648 A
1026(})S
1350 V
(16255)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1440 V
(16256)210 648 A
(quote\(\))294 1026 A
1530 V
(16257)210 648 A
1026({)S
1620 V
(16258)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
1710 V
(16259)210 648 A
1800 V
(16260)210 648 A
(return)252 1194 A
1488(\(c)S
1614(=)S
(TTYget\(\)\))378 1698 A
2118(==)S
(EOF)126 2244 A
2412(?)S
(CSeof)210 2496 A
2748(:)S
(insert_char\(\(int\)c\);)840 2832 A
1890 V
(16261)210 648 A
1026(})S
2070 V
(16263)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2160 V
(16264)210 648 A
(wipe\(\))252 1026 A
2250 V
(16265)210 648 A
1026({)S
2340 V
(16266)210 648 A
(int)126 1194 A
1698(i;)S
2430 V
(16267)210 648 A
2520 V
(16268)210 648 A
1194(if)S
(\(Mark)210 1320 A
1572(>)S
(End\))168 1656 A
2610 V
(16269)210 648 A
(return)252 1362 A
(ring_bell\(\);)504 1656 A
2700 V
(16270)210 648 A
2790 V
(16271)210 648 A
1194(if)S
(\(Point)252 1320 A
1614(>)S
(Mark\))210 1698 A
1950({)S
2880 V
(16272)210 648 A
1362(i)S
1446(=)S
(Point;)252 1530 A
2970 V
(16273)210 648 A
(Point)210 1362 A
1614(=)S
(Mark;)210 1698 A
3060 V
(16274)210 648 A
(Mark)168 1362 A
1572(=)S
1656(i;)S
3150 V
(16275)210 648 A
(reposition\(\);)546 1362 A
3240 V
(16276)210 648 A
1194(})S
3330 V
(16277)210 648 A
3420 V
(16278)210 648 A
(return)252 1194 A
(delete_string\(Mark)756 1488 A
2286(-)S
(Point\);)294 2370 A
3510 V
(16279)210 648 A
1026(})S
3690 V
(16281)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3780 V
(16282)210 648 A
(mk_set\(\))336 1026 A
3870 V
(16283)210 648 A
1026({)S
3960 V
(16284)210 648 A
(Mark)168 1194 A
1404(=)S
(Point;)252 1488 A
4050 V
(16285)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
4140 V
(16286)210 648 A
1026(})S
4320 V
(16288)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
4410 V
(16289)210 648 A
(exchange\(\))420 1026 A
4500 V
(16290)210 648 A
1026({)S
4590 V
(16291)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
4680 V
(16292)210 648 A
4770 V
(16293)210 648 A
1194(if)S
(\(\(c)126 1320 A
1488(=)S
(TTYget\(\)\))378 1572 A
1992(!=)S
(CTL\('X'\)\))378 2118 A
4860 V
(16294)210 648 A
(return)252 1362 A
1656(c)S
1740(==)S
(EOF)126 1866 A
2034(?)S
(CSeof)210 2118 A
2370(:)S
(ring_bell\(\);)504 2454 A
4950 V
(16295)210 648 A
5040 V
(16296)210 648 A
1194(if)S
(\(\(c)126 1320 A
1488(=)S
(Mark\))210 1572 A
1824(<=)S
(End\))168 1950 A
2160({)S
5130 V
(16297)210 648 A
(Mark)168 1362 A
1572(=)S
(Point;)252 1656 A
5220 V
(16298)210 648 A
(Point)210 1362 A
1614(=)S
1698(c;)S
5310 V
(16299)210 648 A
(return)252 1362 A
(CSmove;)294 1656 A
5400 V
(16300)210 648 A
1194(})S
5490 V
(16301)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
5580 V
(16302)210 648 A
1026(})S
5760 V
(16304)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5850 V
(16305)210 648 A
(yank\(\))252 1026 A
5940 V
(16306)210 648 A
1026({)S
6030 V
(16307)210 648 A
1194(if)S
(\(Yanked)294 1320 A
1656(&&)S
(*Yanked\))336 1782 A
6120 V
(16308)210 648 A
(return)252 1362 A
(insert_string\(Yanked\);)924 1656 A
6210 V
(16309)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
8418 V
EP
%%Page: 145 145
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(145)180 4248 A
900 V
7 LST
(16310)210 648 A
1026(})S
1080 V
(16312)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1170 V
(16313)210 648 A
(copy_region\(\))546 1026 A
1260 V
(16314)210 648 A
1026({)S
1350 V
(16315)210 648 A
1194(if)S
(\(Mark)210 1320 A
1572(>)S
(End\))168 1656 A
1440 V
(16316)210 648 A
(return)252 1362 A
(ring_bell\(\);)504 1656 A
1530 V
(16317)210 648 A
1620 V
(16318)210 648 A
1194(if)S
(\(Point)252 1320 A
1614(>)S
(Mark\))210 1698 A
1710 V
(16319)210 648 A
(save_yank\(Mark,)630 1362 A
(Point)210 2034 A
2286(-)S
(Mark\);)252 2370 A
1800 V
(16320)210 648 A
(else)168 1194 A
1890 V
(16321)210 648 A
(save_yank\(Point,)672 1362 A
(Mark)168 2076 A
2286(-)S
(Point\);)294 2370 A
1980 V
(16322)210 648 A
2070 V
(16323)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
2160 V
(16324)210 648 A
1026(})S
2340 V
(16326)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2430 V
(16327)210 648 A
(move_to_char\(\))588 1026 A
2520 V
(16328)210 648 A
1026({)S
2610 V
(16329)210 648 A
(unsigned)336 1194 A
(int)126 1572 A
2034(c;)S
2700 V
(16330)210 648 A
(int)126 1194 A
2034(i;)S
2790 V
(16331)210 648 A
(CHAR)168 1194 A
(*p;)126 2034 A
2880 V
(16332)210 648 A
2970 V
(16333)210 648 A
1194(if)S
(\(\(c)126 1320 A
1488(=)S
(TTYget\(\)\))378 1572 A
1992(==)S
(EOF\))168 2118 A
3060 V
(16334)210 648 A
(return)252 1362 A
(CSeof;)252 1656 A
3150 V
(16335)210 648 A
(for)126 1194 A
1362(\(i)S
1488(=)S
(Point)210 1572 A
1824(+)S
1908(1,)S
2034(p)S
2118(=)S
(&Line[i];)378 2202 A
2622(i)S
2706(<)S
(End;)168 2790 A
(i++,)168 3000 A
(p++\))168 3210 A
3240 V
(16336)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
1782(c\))S
1908({)S
3330 V
(16337)210 648 A
(Point)210 1530 A
1782(=)S
1866(i;)S
3420 V
(16338)210 648 A
(return)252 1530 A
(CSmove;)294 1824 A
3510 V
(16339)210 648 A
1362(})S
3600 V
(16340)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
3690 V
(16341)210 648 A
1026(})S
3870 V
(16343)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
3960 V
(16344)210 648 A
(fd_word\(\))378 1026 A
4050 V
(16345)210 648 A
1026({)S
4140 V
(16346)210 648 A
(return)252 1194 A
(do_forward\(CSmove\);)798 1488 A
4230 V
(16347)210 648 A
1026(})S
4410 V
(16349)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
4500 V
(16350)210 648 A
(fd_kill_word\(\))588 1026 A
4590 V
(16351)210 648 A
1026({)S
4680 V
(16352)210 648 A
(int)126 1194 A
1698(i;)S
4770 V
(16353)210 648 A
4860 V
(16354)210 648 A
(\(void\)do_forward\(CSstay\);)1050 1194 A
4950 V
(16355)210 648 A
1194(if)S
(\(OldPoint)378 1320 A
1740(!=)S
(Point\))252 1866 A
2160({)S
5040 V
(16356)210 648 A
1362(i)S
1446(=)S
(Point)210 1530 A
1782(-)S
(OldPoint;)378 1866 A
5130 V
(16357)210 648 A
(Point)210 1362 A
1614(=)S
(OldPoint;)378 1698 A
5220 V
(16358)210 648 A
(return)252 1362 A
(delete_string\(i\);)714 1656 A
5310 V
(16359)210 648 A
1194(})S
5400 V
(16360)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
5490 V
(16361)210 648 A
1026(})S
5670 V
(16363)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
5760 V
(16364)210 648 A
(bk_word\(\))378 1026 A
5850 V
(16365)210 648 A
1026({)S
5940 V
(16366)210 648 A
(int)126 1194 A
1698(i;)S
6030 V
(16367)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
6120 V
(16368)210 648 A
6210 V
(16369)210 648 A
1194(i)S
1278(=)S
1362(0;)S
8418 V
EP
%%Page: 146 146
BP
/slant 0 def
/height 0 def
630 V
12 B
(146)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(16370)210 648 A
1194(do)S
1320({)S
990 V
(16371)210 648 A
(for)126 1362 A
1530(\(p)S
1656(=)S
(&Line[Point];)546 1740 A
2328(p)S
2412(>)S
(Line)168 2496 A
2706(&&)S
(!isalnum\(p[-1]\);)672 2832 A
(p--\))168 3546 A
1080 V
(16372)210 648 A
(left\(CSmove\);)546 1530 A
1170 V
(16373)210 648 A
1260 V
(16374)210 648 A
(for)126 1362 A
1530(\(;)S
1656(p)S
1740(>)S
(Line)168 1824 A
2034(&&)S
(p[-1])210 2160 A
2412(!=)S
2538(')S
2622(')S
2706(&&)S
(isalnum\(p[-1]\);)630 2832 A
(p--\))168 3504 A
1350 V
(16375)210 648 A
(left\(CSmove\);)546 1530 A
1440 V
(16376)210 648 A
1530 V
(16377)210 648 A
1362(if)S
(\(Point)252 1488 A
1782(==)S
1908(0\))S
1620 V
(16378)210 648 A
(break;)252 1530 A
1710 V
(16379)210 648 A
1194(})S
(while)210 1278 A
(\(++i)168 1530 A
1740(<)S
(Repeat\);)336 1824 A
1800 V
(16380)210 648 A
1890 V
(16381)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
1980 V
(16382)210 648 A
1026(})S
2160 V
(16384)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
2250 V
(16385)210 648 A
(bk_kill_word\(\))588 1026 A
2340 V
(16386)210 648 A
1026({)S
2430 V
(16387)210 648 A
(\(void\)bk_word\(\);)672 1194 A
2520 V
(16388)210 648 A
1194(if)S
(\(OldPoint)378 1320 A
1740(!=)S
(Point\))252 1866 A
2610 V
(16389)210 648 A
(return)252 1362 A
(delete_string\(OldPoint)924 1656 A
2622(-)S
(Point\);)294 2706 A
2700 V
(16390)210 648 A
(return)252 1194 A
(CSstay;)294 1488 A
2790 V
(16391)210 648 A
1026(})S
2970 V
(16393)210 648 A
(STATIC)252 1026 A
(int)126 1320 A
3060 V
(16394)210 648 A
(argify\(line,)504 1026 A
(avp\))168 1572 A
3150 V
(16395)210 648 A
(CHAR)168 1194 A
(*line;)252 1698 A
3240 V
(16396)210 648 A
(CHAR)168 1194 A
(***avp;)294 1698 A
3330 V
(16397)210 648 A
1026({)S
3420 V
(16398)210 648 A
(CHAR)168 1194 A
(*c;)126 1698 A
3510 V
(16399)210 648 A
(CHAR)168 1194 A
(**p;)168 1698 A
3600 V
(16400)210 648 A
(CHAR)168 1194 A
(**new;)252 1698 A
3690 V
(16401)210 648 A
(int)126 1194 A
(ac;)126 1698 A
3780 V
(16402)210 648 A
(int)126 1194 A
1698(i;)S
3870 V
(16403)210 648 A
3960 V
(16404)210 648 A
1194(i)S
1278(=)S
(MEM_INC;)336 1362 A
4050 V
(16405)210 648 A
1194(if)S
(\(\(*avp)252 1320 A
1614(=)S
1698(p)S
1782(=)S
(NEW\(CHAR*,)420 1866 A
(i\)\)==)210 2328 A
(NULL\))210 2580 A
4140 V
(16406)210 648 A
(return)252 1404 A
1698(0;)S
4230 V
(16407)210 648 A
4320 V
(16408)210 648 A
(for)126 1194 A
1362(\(c)S
1488(=)S
(line;)210 1572 A
(isspace\(*c\);)504 1824 A
(c++\))168 2370 A
4410 V
(16409)210 648 A
(continue;)378 1362 A
4500 V
(16410)210 648 A
1194(if)S
(\(*c)126 1320 A
1488(==)S
('\\n')168 1614 A
1824(||)S
1950(*c)S
2076(==)S
('\\0'\))210 2202 A
4590 V
(16411)210 648 A
(return)252 1362 A
1656(0;)S
4680 V
(16412)210 648 A
4770 V
(16413)210 648 A
(for)126 1194 A
(\(ac)126 1362 A
1530(=)S
1614(0,)S
(p[ac++])294 1740 A
2076(=)S
2160(c;)S
2286(*c)S
2412(&&)S
2538(*c)S
2664(!=)S
('\\n';)210 2790 A
3042(\))S
3126({)S
4860 V
(16414)210 648 A
1362(if)S
(\(isspace\(*c\)\))546 1488 A
2076({)S
4950 V
(16415)210 648 A
(*c++)168 1530 A
1740(=)S
('\\0';)210 1824 A
5040 V
(16416)210 648 A
1530(if)S
(\(*c)126 1656 A
1824(&&)S
1950(*c)S
2076(!=)S
('\\n'\))210 2202 A
2454({)S
5130 V
(16417)210 648 A
1698(if)S
(\(ac)126 1824 A
1992(+)S
2076(1)S
2160(==)S
2286(i\))S
2412({)S
5220 V
(16418)210 648 A
(new)126 1866 A
2034(=)S
(NEW\(CHAR*,)420 2118 A
2580(i)S
2664(+)S
(MEM_INC\);)378 2748 A
5310 V
(16419)210 648 A
1866(if)S
(\(new)168 1992 A
2202(==)S
(NULL\))210 2328 A
2580({)S
5400 V
(16420)210 648 A
(p[ac])210 2034 A
2286(=)S
(NULL;)210 2370 A
5490 V
(16421)210 648 A
(return)252 2034 A
(ac;)126 2328 A
5580 V
(16422)210 648 A
1866(})S
5670 V
(16423)210 648 A
(COPYFROMTO\(new,)630 1866 A
2538(p,)S
2664(i)S
2748(*)S
(sizeof)252 2832 A
(\(char)210 3126 A
(**\)\);)210 3378 A
5760 V
(16424)210 648 A
1866(i)S
1950(+=)S
(MEM_INC;)336 2076 A
5850 V
(16425)210 648 A
(DISPOSE\(p\);)462 1866 A
5940 V
(16426)210 648 A
(*avp)168 1866 A
2076(=)S
2160(p)S
2244(=)S
(new;)168 2328 A
6030 V
(16427)210 648 A
1698(})S
6120 V
(16428)210 648 A
(p[ac++])294 1698 A
2034(=)S
2118(c;)S
6210 V
(16429)210 648 A
1530(})S
8418 V
EP
%%Page: 147 147
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
12 B
(147)180 4248 A
900 V
7 LST
(16430)210 648 A
1362(})S
990 V
(16431)210 648 A
(else)168 1362 A
1080 V
(16432)210 648 A
(c++;)168 1530 A
1170 V
(16433)210 648 A
1194(})S
1260 V
(16434)210 648 A
1194(*c)S
1320(=)S
('\\0';)210 1404 A
1350 V
(16435)210 648 A
(p[ac])210 1194 A
1446(=)S
(NULL;)210 1530 A
1440 V
(16436)210 648 A
(return)252 1194 A
(ac;)126 1488 A
1530 V
(16437)210 648 A
1026(})S
1710 V
(16439)210 648 A
(STATIC)252 1026 A
(STATUS)252 1320 A
1800 V
(16440)210 648 A
(last_argument\(\))630 1026 A
1890 V
(16441)210 648 A
1026({)S
1980 V
(16442)210 648 A
(CHAR)168 1194 A
(**av;)210 1698 A
2070 V
(16443)210 648 A
(CHAR)168 1194 A
(*p;)126 1698 A
2160 V
(16444)210 648 A
(STATUS)252 1194 A
1698(s;)S
2250 V
(16445)210 648 A
(int)126 1194 A
(ac;)126 1698 A
2340 V
(16446)210 648 A
2430 V
(16447)210 648 A
1194(if)S
(\(H.Size)294 1320 A
1656(==)S
1782(1)S
1866(||)S
1992(\(p)S
2118(=)S
(H.Lines[H.Size)588 2202 A
2832(-)S
(2]\))126 2916 A
3084(==)S
(NULL\))210 3210 A
2520 V
(16448)210 648 A
(return)252 1362 A
(ring_bell\(\);)504 1656 A
2610 V
(16449)210 648 A
2700 V
(16450)210 648 A
1194(if)S
(\(\(p)126 1320 A
1488(=)S
(\(CHAR)210 1572 A
(*\)strdup\(\(char)588 1824 A
(*\)p\)\))210 2454 A
2706(==)S
(NULL\))210 2832 A
2790 V
(16451)210 648 A
(return)252 1362 A
(CSstay;)294 1656 A
2880 V
(16452)210 648 A
1194(ac)S
1320(=)S
(argify\(p,)378 1404 A
(&av\);)210 1824 A
2970 V
(16453)210 648 A
3060 V
(16454)210 648 A
1194(if)S
(\(Repeat)294 1320 A
1656(!=)S
(NO_ARG\))294 1782 A
3150 V
(16455)210 648 A
1362(s)S
1446(=)S
(Repeat)252 1530 A
1824(<)S
1908(ac)S
2034(?)S
(insert_string\(av[Repeat]\))1050 2118 A
3210(:)S
(ring_bell\(\);)504 3294 A
3240 V
(16456)210 648 A
(else)168 1194 A
3330 V
(16457)210 648 A
1362(s)S
1446(=)S
1530(ac)S
1656(?)S
(insert_string\(av[ac)798 1740 A
2580(-)S
(1]\))126 2664 A
2832(:)S
(CSstay;)294 2916 A
3420 V
(16458)210 648 A
3510 V
(16459)210 648 A
1194(if)S
(\(ac\))168 1320 A
3600 V
(16460)210 648 A
(DISPOSE\(av\);)504 1362 A
3690 V
(16461)210 648 A
(DISPOSE\(p\);)462 1194 A
3780 V
(16462)210 648 A
(return)252 1194 A
1488(s;)S
3870 V
(16463)210 648 A
1026(})S
4050 V
(16465)210 648 A
(STATIC)252 1026 A
(KEYMAP)252 1320 A
(Map[33])294 1698 A
2034(=)S
2118({)S
4140 V
(16466)210 648 A
1194({)S
(CTL\('@'\),)378 1362 A
(mk_set)252 2034 A
2706(},)S
4230 V
(16467)210 648 A
1194({)S
(CTL\('A'\),)378 1362 A
(beg_line)336 2034 A
2706(},)S
4320 V
(16468)210 648 A
1194({)S
(CTL\('B'\),)378 1362 A
(bk_char)294 2034 A
2706(},)S
4410 V
(16469)210 648 A
1194({)S
(CTL\('D'\),)378 1362 A
(del_char)336 2034 A
2706(},)S
4500 V
(16470)210 648 A
1194({)S
(CTL\('E'\),)378 1362 A
(end_line)336 2034 A
2706(},)S
4590 V
(16471)210 648 A
1194({)S
(CTL\('F'\),)378 1362 A
(fd_char)294 2034 A
2706(},)S
4680 V
(16472)210 648 A
1194({)S
(CTL\('G'\),)378 1362 A
(ring_bell)378 2034 A
2706(},)S
4770 V
(16473)210 648 A
1194({)S
(CTL\('H'\),)378 1362 A
(bk_del_char)462 2034 A
2706(},)S
4860 V
(16474)210 648 A
1194({)S
(CTL\('I'\),)378 1362 A
(c_complete)420 2034 A
2706(},)S
4950 V
(16475)210 648 A
1194({)S
(CTL\('J'\),)378 1362 A
(accept_line)462 2034 A
2706(},)S
5040 V
(16476)210 648 A
1194({)S
(CTL\('K'\),)378 1362 A
(kill_line)378 2034 A
2706(},)S
5130 V
(16477)210 648 A
1194({)S
(CTL\('L'\),)378 1362 A
(redisplay)378 2034 A
2706(},)S
5220 V
(16478)210 648 A
1194({)S
(CTL\('M'\),)378 1362 A
(accept_line)462 2034 A
2706(},)S
5310 V
(16479)210 648 A
1194({)S
(CTL\('N'\),)378 1362 A
(h_next)252 2034 A
2706(},)S
5400 V
(16480)210 648 A
1194({)S
(CTL\('O'\),)378 1362 A
(ring_bell)378 2034 A
2706(},)S
5490 V
(16481)210 648 A
1194({)S
(CTL\('P'\),)378 1362 A
(h_prev)252 2034 A
2706(},)S
5580 V
(16482)210 648 A
1194({)S
(CTL\('Q'\),)378 1362 A
(ring_bell)378 2034 A
2706(},)S
5670 V
(16483)210 648 A
1194({)S
(CTL\('R'\),)378 1362 A
(h_search)336 2034 A
2706(},)S
5760 V
(16484)210 648 A
1194({)S
(CTL\('S'\),)378 1362 A
(ring_bell)378 2034 A
2706(},)S
5850 V
(16485)210 648 A
1194({)S
(CTL\('T'\),)378 1362 A
(transpose)378 2034 A
2706(},)S
5940 V
(16486)210 648 A
1194({)S
(CTL\('U'\),)378 1362 A
(ring_bell)378 2034 A
2706(},)S
6030 V
(16487)210 648 A
1194({)S
(CTL\('V'\),)378 1362 A
(quote)210 2034 A
2706(},)S
6120 V
(16488)210 648 A
1194({)S
(CTL\('W'\),)378 1362 A
(bk_kill_word)504 2034 A
2706(},)S
6210 V
(16489)210 648 A
1194({)S
(CTL\('X'\),)378 1362 A
(exchange)336 2034 A
2706(},)S
8418 V
EP
%%Page: 148 148
BP
/slant 0 def
/height 0 def
630 V
12 B
(148)180 648 A
11 R
1878(File:)S
(src/lib/editline/editline.c)1086 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(16490)210 648 A
1194({)S
(CTL\('Y'\),)378 1362 A
(yank)168 2034 A
2706(},)S
990 V
(16491)210 648 A
1194({)S
(CTL\('Z'\),)378 1362 A
(end_line)336 2034 A
2706(},)S
1080 V
(16492)210 648 A
1194({)S
(CTL\('['\),)378 1362 A
(meta)168 2034 A
2706(},)S
1170 V
(16493)210 648 A
1194({)S
(CTL\(']'\),)378 1362 A
(move_to_char)504 2034 A
2706(},)S
1260 V
(16494)210 648 A
1194({)S
(CTL\('\303'\),)378 1362 A
(ring_bell)378 2034 A
2706(},)S
1350 V
(16495)210 648 A
1194({)S
(CTL\('_'\),)378 1362 A
(ring_bell)378 2034 A
2706(},)S
1440 V
(16496)210 648 A
1194({)S
1362(0,)S
(NULL)168 2034 A
2706(})S
1530 V
(16497)210 648 A
1026(};)S
1620 V
(16498)210 648 A
1710 V
(16499)210 648 A
(STATIC)252 1026 A
(KEYMAP)252 1320 A
(MetaMap[17]=)504 1698 A
2244({)S
1800 V
(16500)210 648 A
1194({)S
(CTL\('H'\),)378 1362 A
(wipe)168 2034 A
2706(},)S
1890 V
(16501)210 648 A
1194({)S
(DEL,)168 1362 A
(wipe)168 2034 A
2706(},)S
1980 V
(16502)210 648 A
1194({)S
1362(')S
1446(',)S
(mk_set)252 2034 A
2706(},)S
2070 V
(16503)210 648 A
1194({)S
('.',)168 1362 A
(last_argument)546 2034 A
2706(},)S
2160 V
(16504)210 648 A
1194({)S
('<',)168 1362 A
(h_first)294 2034 A
2706(},)S
2250 V
(16505)210 648 A
1194({)S
('>',)168 1362 A
(h_last)252 2034 A
2706(},)S
2340 V
(16506)210 648 A
1194({)S
('?',)168 1362 A
(c_possible)420 2034 A
2706(},)S
2430 V
(16507)210 648 A
1194({)S
('b',)168 1362 A
(bk_word)294 2034 A
2706(},)S
2520 V
(16508)210 648 A
1194({)S
('d',)168 1362 A
(fd_kill_word)504 2034 A
2706(},)S
2610 V
(16509)210 648 A
1194({)S
('f',)168 1362 A
(fd_word)294 2034 A
2706(},)S
2700 V
(16510)210 648 A
1194({)S
('l',)168 1362 A
(case_down_word)588 2034 A
2706(},)S
2790 V
(16511)210 648 A
1194({)S
('m',)168 1362 A
(toggle_meta_mode)672 2034 A
2748(},)S
2880 V
(16512)210 648 A
1194({)S
('u',)168 1362 A
(case_up_word)504 2034 A
2706(},)S
2970 V
(16513)210 648 A
1194({)S
('y',)168 1362 A
(yank)168 2034 A
2706(},)S
3060 V
(16514)210 648 A
1194({)S
('w',)168 1362 A
(copy_region)462 2034 A
2706(},)S
3150 V
(16515)210 648 A
1194({)S
1362(0,)S
(NULL)168 2034 A
2706(})S
3240 V
(16516)210 648 A
1026(};)S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/editline/sysos9.c)1050 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(16600)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.1)126 1656 A
1824($)S
4140 V
(16601)210 648 A
1026(**)S
4230 V
(16602)210 648 A
1026(**)S
(OS-9)168 1194 A
(system-dependant)672 1404 A
(routines)336 2118 A
(for)126 2496 A
(editline)336 2664 A
(library.)336 3042 A
4320 V
(16603)210 648 A
1026(*/)S
4410 V
(16604)210 648 A
(#include)336 1026 A
("editline.h")504 1404 A
4500 V
(16605)210 648 A
(#include)336 1026 A
(<sgstat.h>)420 1404 A
4590 V
(16606)210 648 A
(#include)336 1026 A
(<modes.h>)378 1404 A
4680 V
(16607)210 648 A
4770 V
(16608)210 648 A
4860 V
(16609)210 648 A
(void)168 1026 A
4950 V
(16610)210 648 A
(rl_ttyset\(Reset\))672 1026 A
5040 V
(16611)210 648 A
(int)126 1194 A
(Reset;)252 2034 A
5130 V
(16612)210 648 A
1026({)S
5220 V
(16613)210 648 A
(static)252 1194 A
(struct)252 1488 A
(sgbuf)210 1782 A
(old;)168 2034 A
5310 V
(16614)210 648 A
(struct)252 1194 A
(sgbuf)210 1488 A
(new;)168 2034 A
5400 V
(16615)210 648 A
5490 V
(16616)210 648 A
5580 V
(16617)210 648 A
1194(if)S
(\(Reset)252 1320 A
1614(==)S
1740(0\))S
1866({)S
5670 V
(16618)210 648 A
(_gs_opt\(0,)420 1362 A
(&old\);)252 1824 A
5760 V
(16619)210 648 A
(_gs_opt\(0,)420 1362 A
(&new\);)252 1824 A
5850 V
(16620)210 648 A
(new.sg_backsp)546 1362 A
1950(=)S
2034(0;)S
(new.sg_delete)546 2370 A
2958(=)S
3042(0;)S
(new.sg_echo)462 3378 A
3882(=)S
3966(0;)S
5940 V
(16621)210 648 A
(new.sg_alf)420 1362 A
1824(=)S
1908(0;)S
(new.sg_nulls)504 2370 A
2916(=)S
3000(0;)S
(new.sg_pause)504 3378 A
3924(=)S
4008(0;)S
6030 V
(16622)210 648 A
(new.sg_page)462 1362 A
1866(=)S
1950(0;)S
(new.sg_bspch)504 2370 A
2916(=)S
3000(0;)S
(new.sg_dlnch)504 3378 A
3924(=)S
4008(0;)S
6120 V
(16623)210 648 A
(new.sg_eorch)504 1362 A
1908(=)S
1992(0;)S
(new.sg_eofch)504 2370 A
2916(=)S
3000(0;)S
(new.sg_rlnch)504 3378 A
3924(=)S
4008(0;)S
6210 V
(16624)210 648 A
(new.sg_dulnch)546 1362 A
1950(=)S
2034(0;)S
(new.sg_psch)462 2370 A
2874(=)S
2958(0;)S
(new.sg_kbich)504 3378 A
3924(=)S
4008(0;)S
8418 V
EP
%%Page: 149 149
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1898(File:)S
(src/lib/editline/sysos9.c)1046 2131 A
12 B
(149)180 4248 A
900 V
7 LST
(16625)210 648 A
(new.sg_kbach)504 1362 A
1908(=)S
1992(0;)S
(new.sg_bsech)504 2370 A
2916(=)S
3000(0;)S
(new.sg_bellch)546 3378 A
3966(=)S
4050(0;)S
990 V
(16626)210 648 A
(new.sg_xon)420 1362 A
1824(=)S
1908(0;)S
(new.sg_xoff)462 2370 A
2874(=)S
2958(0;)S
(new.sg_tabcr)504 3378 A
3924(=)S
4008(0;)S
1080 V
(16627)210 648 A
(new.sg_tabsiz)546 1362 A
1950(=)S
2034(0;)S
1170 V
(16628)210 648 A
(_ss_opt\(0,)420 1362 A
(&new\);)252 1824 A
1260 V
(16629)210 648 A
(rl_erase)336 1362 A
1740(=)S
(old.sg_bspch;)546 1824 A
1350 V
(16630)210 648 A
(rl_kill)294 1362 A
1698(=)S
(old.sg_dlnch;)546 1782 A
1440 V
(16631)210 648 A
(rl_eof)252 1362 A
1656(=)S
(old.sg_eofch;)546 1740 A
1530 V
(16632)210 648 A
(rl_intr)294 1362 A
1698(=)S
(old.sg_kbich;)546 1782 A
1620 V
(16633)210 648 A
(rl_quit)294 1362 A
1698(=)S
(-1;)126 1782 A
1710 V
(16634)210 648 A
1194(})S
1800 V
(16635)210 648 A
(else)168 1194 A
1890 V
(16636)210 648 A
(_ss_opt\(0,)420 1362 A
(&old\);)252 1824 A
1980 V
(16637)210 648 A
1026(})S
2160 V
(16639)210 648 A
(void)168 1026 A
2250 V
(16640)210 648 A
(rl_add_slash\(path,)756 1026 A
1824(p\))S
2340 V
(16641)210 648 A
(char)168 1194 A
(*path;)252 1698 A
2430 V
(16642)210 648 A
(char)168 1194 A
(*p;)126 1698 A
2520 V
(16643)210 648 A
1026({)S
2610 V
(16644)210 648 A
(\(void\)strcat\(p,)630 1194 A
(access\(path,)504 1866 A
(S_IREAD)294 2412 A
2748(|)S
(S_IFDIR\))336 2832 A
3210(?)S
3294(")S
3378(")S
3462(:)S
("/"\);)210 3546 A
2700 V
(16645)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/editline/sysunix.c)1092 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(16700)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.2)126 1656 A
1824($)S
3690 V
(16701)210 648 A
1026(**)S
3780 V
(16702)210 648 A
1026(**)S
(Unix)168 1194 A
(system-dependant)672 1404 A
(routines)336 2118 A
(for)126 2496 A
(editline)336 2664 A
(library.)336 3042 A
3870 V
(16703)210 648 A
1026(*/)S
3960 V
(16704)210 648 A
(#include)336 1026 A
("editline.h")504 1404 A
4050 V
(16705)210 648 A
4140 V
(16706)210 648 A
(#if)126 1026 A
(defined\(HAVE_TCGETATTR\))966 1362 A
4230 V
(16707)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
4320 V
(16708)210 648 A
4410 V
(16709)210 648 A
(void)168 1026 A
4500 V
(16710)210 648 A
(rl_ttyset\(Reset\))672 1026 A
4590 V
(16711)210 648 A
(int)126 1194 A
(Reset;)252 2370 A
4680 V
(16712)210 648 A
1026({)S
4770 V
(16713)210 648 A
(static)252 1194 A
(struct)252 1488 A
(termios)294 1782 A
(old;)168 2370 A
4860 V
(16714)210 648 A
(struct)252 1194 A
(termios)294 1488 A
(new;)168 2370 A
4950 V
(16715)210 648 A
5040 V
(16716)210 648 A
1194(if)S
(\(Reset)252 1320 A
1614(==)S
1740(0\))S
1866({)S
5130 V
(16717)210 648 A
(\(void\)tcgetattr\(0,)756 1362 A
(&old\);)252 2160 A
5220 V
(16718)210 648 A
(rl_erase)336 1362 A
1740(=)S
(old.c_cc[VERASE];)714 1824 A
5310 V
(16719)210 648 A
(rl_kill)294 1362 A
1698(=)S
(old.c_cc[VKILL];)672 1782 A
5400 V
(16720)210 648 A
(rl_eof)252 1362 A
1656(=)S
(old.c_cc[VEOF];)630 1740 A
5490 V
(16721)210 648 A
(rl_intr)294 1362 A
1698(=)S
(old.c_cc[VINTR];)672 1782 A
5580 V
(16722)210 648 A
(rl_quit)294 1362 A
1698(=)S
(old.c_cc[VQUIT];)672 1782 A
5670 V
(16723)210 648 A
5760 V
(16724)210 648 A
(new)126 1362 A
1530(=)S
(old;)168 1614 A
5850 V
(16725)210 648 A
(new.c_lflag)462 1362 A
1866(&=)S
(\304\(ECHO)252 1992 A
2286(|)S
(ICANON)252 2370 A
2664(|)S
(ISIG)168 2748 A
2958(|)S
(IEXTEN\);)336 3042 A
5940 V
(16726)210 648 A
(new.c_cc[VMIN])588 1362 A
1992(=)S
2076(1;)S
6030 V
(16727)210 648 A
(new.c_cc[VTIME])630 1362 A
2034(=)S
2118(0;)S
6120 V
(16728)210 648 A
(\(void\)tcsetattr\(0,)756 1362 A
(TCSADRAIN,)420 2160 A
(&new\);)252 2622 A
6210 V
(16729)210 648 A
1194(})S
8418 V
EP
%%Page: 150 150
BP
/slant 0 def
/height 0 def
630 V
12 B
(150)180 648 A
11 R
1877(File:)S
(src/lib/editline/sysunix.c)1089 2110 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(16730)210 648 A
(else)168 1194 A
990 V
(16731)210 648 A
(\(void\)tcsetattr\(0,)756 1362 A
(TCSADRAIN,)420 2160 A
(&old\);)252 2622 A
1080 V
(16732)210 648 A
1026(})S
1260 V
(16734)210 648 A
(#else)210 1026 A
1350 V
(16735)210 648 A
(#if)126 1026 A
(defined\(HAVE_TERMIO\))840 1362 A
1440 V
(16736)210 648 A
(#include)336 1026 A
(<termio.h>)420 1404 A
1530 V
(16737)210 648 A
1620 V
(16738)210 648 A
(void)168 1026 A
1710 V
(16739)210 648 A
(rl_ttyset\(Reset\))672 1026 A
1800 V
(16740)210 648 A
(int)126 1194 A
(Reset;)252 2370 A
1890 V
(16741)210 648 A
1026({)S
1980 V
(16742)210 648 A
(static)252 1194 A
(struct)252 1488 A
(termio)252 1782 A
(old;)168 2370 A
2070 V
(16743)210 648 A
(struct)252 1194 A
(termio)252 1488 A
(new;)168 2370 A
2160 V
(16744)210 648 A
2250 V
(16745)210 648 A
1194(if)S
(\(Reset)252 1320 A
1614(==)S
1740(0\))S
1866({)S
2340 V
(16746)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TCGETA,)294 1992 A
(&old\);)252 2328 A
2430 V
(16747)210 648 A
(rl_erase)336 1362 A
1740(=)S
(old.c_cc[VERASE];)714 1824 A
2520 V
(16748)210 648 A
(rl_kill)294 1362 A
1698(=)S
(old.c_cc[VKILL];)672 1782 A
2610 V
(16749)210 648 A
(rl_eof)252 1362 A
1656(=)S
(old.c_cc[VEOF];)630 1740 A
2700 V
(16750)210 648 A
(rl_intr)294 1362 A
1698(=)S
(old.c_cc[VINTR];)672 1782 A
2790 V
(16751)210 648 A
(rl_quit)294 1362 A
1698(=)S
(old.c_cc[VQUIT];)672 1782 A
2880 V
(16752)210 648 A
2970 V
(16753)210 648 A
(new)126 1362 A
1530(=)S
(old;)168 1614 A
3060 V
(16754)210 648 A
(new.c_cc[VINTR])630 1362 A
2034(=)S
(-1;)126 2118 A
3150 V
(16755)210 648 A
(new.c_cc[VQUIT])630 1362 A
2034(=)S
(-1;)126 2118 A
3240 V
(16756)210 648 A
(new.c_lflag)462 1362 A
1866(&=)S
(\304\(ECHO)252 1992 A
2286(|)S
(ICANON\);)336 2370 A
3330 V
(16757)210 648 A
(new.c_cc[VMIN])588 1362 A
1992(=)S
2076(1;)S
3420 V
(16758)210 648 A
(new.c_cc[VTIME])630 1362 A
2034(=)S
2118(0;)S
3510 V
(16759)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TCSETAW,)336 1992 A
(&new\);)252 2370 A
3600 V
(16760)210 648 A
1194(})S
3690 V
(16761)210 648 A
(else)168 1194 A
3780 V
(16762)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TCSETAW,)336 1992 A
(&old\);)252 2370 A
3870 V
(16763)210 648 A
1026(})S
4050 V
(16765)210 648 A
(#else)210 1026 A
4140 V
(16766)210 648 A
(#include)336 1026 A
(<sgtty.h>)378 1404 A
4230 V
(16767)210 648 A
4320 V
(16768)210 648 A
(void)168 1026 A
4410 V
(16769)210 648 A
(rl_ttyset\(Reset\))672 1026 A
4500 V
(16770)210 648 A
(int)126 1194 A
(Reset;)252 2370 A
4590 V
(16771)210 648 A
1026({)S
4680 V
(16772)210 648 A
(static)252 1194 A
(struct)252 1488 A
(sgttyb)252 1782 A
(old_sgttyb;)462 2370 A
4770 V
(16773)210 648 A
(static)252 1194 A
(struct)252 1488 A
(tchars)252 1782 A
(old_tchars;)462 2370 A
4860 V
(16774)210 648 A
(struct)252 1194 A
(sgttyb)252 1488 A
(new_sgttyb;)462 2370 A
4950 V
(16775)210 648 A
(struct)252 1194 A
(tchars)252 1488 A
(new_tchars;)462 2370 A
5040 V
(16776)210 648 A
5130 V
(16777)210 648 A
1194(if)S
(\(Reset)252 1320 A
1614(==)S
1740(0\))S
1866({)S
5220 V
(16778)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TIOCGETP,)378 1992 A
(&old_sgttyb\);)546 2412 A
5310 V
(16779)210 648 A
(rl_erase)336 1362 A
1740(=)S
(old_sgttyb.sg_erase;)840 1824 A
5400 V
(16780)210 648 A
(rl_kill)294 1362 A
1698(=)S
(old_sgttyb.sg_kill;)798 1782 A
5490 V
(16781)210 648 A
5580 V
(16782)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TIOCGETC,)378 1992 A
(&old_tchars\);)546 2412 A
5670 V
(16783)210 648 A
(rl_eof)252 1362 A
1656(=)S
(old_tchars.t_eofc;)756 1740 A
5760 V
(16784)210 648 A
(rl_intr)294 1362 A
1698(=)S
(old_tchars.t_intrc;)798 1782 A
5850 V
(16785)210 648 A
(rl_quit)294 1362 A
1698(=)S
(old_tchars.t_quitc;)798 1782 A
5940 V
(16786)210 648 A
6030 V
(16787)210 648 A
(new_sgttyb)420 1362 A
1824(=)S
(old_sgttyb;)462 1908 A
6120 V
(16788)210 648 A
(new_sgttyb.sg_flags)798 1362 A
2202(&=)S
(\304ECHO;)252 2328 A
6210 V
(16789)210 648 A
(new_sgttyb.sg_flags)798 1362 A
2202(|=)S
(RAW;)168 2328 A
8418 V
EP
%%Page: 151 151
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1877(File:)S
(src/lib/editline/sysunix.c)1089 2110 A
12 B
(151)180 4248 A
900 V
7 LST
(16790)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TIOCSETP,)378 1992 A
(&new_sgttyb\);)546 2412 A
990 V
(16791)210 648 A
1080 V
(16792)210 648 A
(new_tchars)420 1362 A
1824(=)S
(old_tchars;)462 1908 A
1170 V
(16793)210 648 A
(new_tchars.t_intrc)756 1362 A
2160(=)S
(-1;)126 2244 A
1260 V
(16794)210 648 A
(new_tchars.t_quitc)756 1362 A
2160(=)S
(-1;)126 2244 A
1350 V
(16795)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TIOCSETC,)378 1992 A
(&new_tchars\);)546 2412 A
1440 V
(16796)210 648 A
1194(})S
1530 V
(16797)210 648 A
(else)168 1194 A
1404({)S
1620 V
(16798)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TIOCSETP,)378 1992 A
(&old_sgttyb\);)546 2412 A
1710 V
(16799)210 648 A
(\(void\)ioctl\(0,)588 1362 A
(TIOCSETC,)378 1992 A
(&old_tchars\);)546 2412 A
1800 V
(16800)210 648 A
1194(})S
1890 V
(16801)210 648 A
1026(})S
1980 V
(16802)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(HAVE_TERMIO\))840 1488 A
2370(*/)S
2070 V
(16803)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(HAVE_TCGETATTR\))966 1488 A
2496(*/)S
2160 V
(16804)210 648 A
2250 V
(16805)210 648 A
(void)168 1026 A
2340 V
(16806)210 648 A
(rl_add_slash\(path,)756 1026 A
1824(p\))S
2430 V
(16807)210 648 A
(char)168 1194 A
(*path;)252 1698 A
2520 V
(16808)210 648 A
(char)168 1194 A
(*p;)126 1698 A
2610 V
(16809)210 648 A
1026({)S
2700 V
(16810)210 648 A
(struct)252 1194 A
(stat)168 1488 A
(Sb;)126 1698 A
2790 V
(16811)210 648 A
2880 V
(16812)210 648 A
1194(if)S
(\(stat\(path,)462 1320 A
(&Sb\))168 1824 A
2034(>=)S
2160(0\))S
2970 V
(16813)210 648 A
(\(void\)strcat\(p,)630 1362 A
(S_ISDIR\(Sb.st_mode\))798 2034 A
2874(?)S
("/")126 2958 A
3126(:)S
3210(")S
("\);)126 3294 A
3060 V
(16814)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/editline/testit.c)1050 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(16900)210 648 A
1026(/*)S
($Revision:)420 1194 A
(1.3)126 1656 A
1824($)S
4140 V
(16901)210 648 A
1026(**)S
4230 V
(16902)210 648 A
1026(**)S
1194(A)S
("micro-shell")546 1278 A
1866(to)S
(test)168 1992 A
(editline)336 2202 A
(library.)336 2580 A
4320 V
(16903)210 648 A
1026(**)S
1194(If)S
(given)210 1320 A
(any)126 1572 A
(arguments,)420 1740 A
(commands)336 2202 A
(aren't)252 2580 A
(executed.)378 2874 A
4410 V
(16904)210 648 A
1026(*/)S
4500 V
(16905)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
4590 V
(16906)210 648 A
(#if)126 1026 A
(defined\(HAVE_STDLIB\))840 1362 A
4680 V
(16907)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4770 V
(16908)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(HAVE_STDLIB\))840 1488 A
2370(*/)S
4860 V
(16909)210 648 A
4950 V
(16910)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*readline\(\);)504 1698 A
5040 V
(16911)210 648 A
(extern)252 1026 A
(void)168 1320 A
(add_history\(\);)588 1698 A
5130 V
(16912)210 648 A
5220 V
(16913)210 648 A
(#if)126 1026 A
(!defined\(HAVE_STDLIB\))882 1362 A
5310 V
(16914)210 648 A
(extern)252 1026 A
(int)126 1320 A
(chdir\(\);)336 1698 A
5400 V
(16915)210 648 A
(extern)252 1026 A
(int)126 1320 A
(free\(\);)294 1698 A
5490 V
(16916)210 648 A
(extern)252 1026 A
(int)126 1320 A
(strncmp\(\);)420 1698 A
5580 V
(16917)210 648 A
(extern)252 1026 A
(int)126 1320 A
(system\(\);)378 1698 A
5670 V
(16918)210 648 A
(extern)252 1026 A
(void)168 1320 A
(exit\(\);)294 1698 A
5760 V
(16919)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*getenv\(\);)420 1698 A
5850 V
(16920)210 648 A
(#endif)252 1026 A
1362(/*)S
(!defined\(HAVE_STDLIB\))882 1488 A
2412(*/)S
5940 V
(16921)210 648 A
6030 V
(16922)210 648 A
6120 V
(16923)210 648 A
(#if)126 1026 A
(defined\(NEED_PERROR\))840 1362 A
6210 V
(16924)210 648 A
(void)168 1026 A
8418 V
EP
%%Page: 152 152
BP
/slant 0 def
/height 0 def
630 V
12 B
(152)180 648 A
11 R
1937(File:)S
(src/lib/editline/testit.c)969 2170 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(16925)210 648 A
(perror\(s\))378 1026 A
990 V
(16926)210 648 A
(char)168 1194 A
(*s;)126 1698 A
1080 V
(16927)210 648 A
1026({)S
1170 V
(16928)210 648 A
(extern)252 1194 A
(int)126 1488 A
(errno;)252 1698 A
1260 V
(16929)210 648 A
1350 V
(16930)210 648 A
(\(voidf\)printf\(stderr,)882 1194 A
("%s:)168 2118 A
(error)210 2328 A
(%d\\n",)252 2580 A
2874(s,)S
(errno\);)294 3000 A
1440 V
(16931)210 648 A
1026(})S
1530 V
(16932)210 648 A
(#endif)252 1026 A
1362(/*)S
(defined\(NEED_PERROR\))840 1488 A
2370(*/)S
1620 V
(16933)210 648 A
1710 V
(16934)210 648 A
1800 V
(16935)210 648 A
1026(/*)S
(ARGSUSED1)378 1152 A
1572(*/)S
1890 V
(16936)210 648 A
(int)126 1026 A
1980 V
(16937)210 648 A
(main\(ac,)336 1026 A
(av\))126 1404 A
2070 V
(16938)210 648 A
(int)126 1194 A
(ac;)126 1698 A
2160 V
(16939)210 648 A
(char)168 1194 A
(*av[];)252 1698 A
2250 V
(16940)210 648 A
1026({)S
2340 V
(16941)210 648 A
(char)168 1194 A
(*prompt;)336 1698 A
2430 V
(16942)210 648 A
(char)168 1194 A
(*p;)126 1698 A
2520 V
(16943)210 648 A
(int)126 1194 A
(doit;)210 1698 A
2610 V
(16944)210 648 A
2700 V
(16945)210 648 A
(doit)168 1194 A
1404(=)S
1488(ac)S
1614(==)S
1740(1;)S
2790 V
(16946)210 648 A
1194(if)S
(\(\(prompt)336 1320 A
1698(=)S
(getenv\("TESTPROMPT"\)\))882 1782 A
2706(==)S
(NULL\))210 2832 A
2880 V
(16947)210 648 A
(prompt)252 1362 A
1656(=)S
("testit>)336 1740 A
2160(";)S
2970 V
(16948)210 648 A
3060 V
(16949)210 648 A
(while)210 1194 A
(\(\(p)126 1446 A
1614(=)S
(readline\(prompt\)\))714 1698 A
2454(!=)S
(NULL\))210 2580 A
2832({)S
3150 V
(16950)210 648 A
(\(void\)printf\("\\t\\t\\t|%s|\\n",)1176 1362 A
(p\);)126 2580 A
3240 V
(16951)210 648 A
1362(if)S
(\(doit\))252 1488 A
3330 V
(16952)210 648 A
1530(if)S
(\(strncmp\(p,)462 1656 A
("cd)126 2160 A
2328(",)S
2454(3\))S
2580(==)S
2706(0\))S
2832({)S
3420 V
(16953)210 648 A
1698(if)S
(\(chdir\(&p[3]\))546 1824 A
2412(<)S
2496(0\))S
3510 V
(16954)210 648 A
(perror\(&p[3]\);)588 1866 A
3600 V
(16955)210 648 A
1530(})S
3690 V
(16956)210 648 A
(else)168 1530 A
1740(if)S
(\(system\(p\))420 1866 A
2328(!=)S
2454(0\))S
3780 V
(16957)210 648 A
(perror\(p\);)420 1698 A
3870 V
(16958)210 648 A
(add_history\(p\);)630 1362 A
3960 V
(16959)210 648 A
(free\(p\);)336 1362 A
4050 V
(16960)210 648 A
1194(})S
4140 V
(16961)210 648 A
(exit\(0\);)336 1194 A
4230 V
(16962)210 648 A
1194(/*)S
(NOTREACHED)420 1320 A
1782(*/)S
4320 V
(16963)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/end/edata.s)798 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(17000)210 648 A
1026(#)S
5040 V
(17001)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5130 V
(17002)210 648 A
(.sect)210 1026 A
(.rom)168 1278 A
5220 V
(17003)210 648 A
(.sect)210 1026 A
(.data)210 1278 A
5310 V
(17004)210 648 A
(.sect)210 1026 A
(.bss)168 1278 A
5400 V
(17005)210 648 A
(.define)294 1026 A
(_edata)252 1362 A
5490 V
(17006)210 648 A
(.sect)210 1026 A
(.data)210 1278 A
5580 V
(17007)210 648 A
(.align)252 1362 A
(_EM_WSIZE)378 1656 A
5670 V
(17008)210 648 A
(_edata:)294 1026 A
8418 V
EP
%%Page: 153 153
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1960(File:)S
(src/lib/end/em_end.s)922 2193 A
12 B
(153)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/end/em_end.s)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(17100)210 648 A
1026(#)S
1440 V
(17101)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1530 V
(17102)210 648 A
(.sect)210 1026 A
(.rom)168 1278 A
1620 V
(17103)210 648 A
(.sect)210 1026 A
(.data)210 1278 A
1710 V
(17104)210 648 A
(.sect)210 1026 A
(.bss)168 1278 A
1800 V
(17105)210 648 A
(.define)294 1026 A
(endtext,enddata,endbss,__end)1176 1362 A
1890 V
(17106)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1980 V
(17107)210 648 A
(.align)252 1362 A
(_EM_WSIZE)378 1656 A
2070 V
(17108)210 648 A
(.sect)210 1026 A
(.rom)168 1278 A
2160 V
(17109)210 648 A
(.align)252 1362 A
(_EM_WSIZE)378 1656 A
2250 V
(17110)210 648 A
(.sect)210 1026 A
(.data)210 1278 A
2340 V
(17111)210 648 A
(.align)252 1362 A
(_EM_WSIZE)378 1656 A
2430 V
(17112)210 648 A
(.sect)210 1026 A
(.bss)168 1278 A
2520 V
(17113)210 648 A
(.align)252 1362 A
(_EM_WSIZE)378 1656 A
2610 V
(17114)210 648 A
(.sect)210 1026 A
(.end)168 1278 A
1488(!)S
(only)168 1572 A
(for)126 1782 A
(declaration)462 1950 A
2454(of)S
(_end,)210 2580 A
(__end)210 2832 A
(and)126 3084 A
(endbss.)294 3252 A
2700 V
(17115)210 648 A
2790 V
(17116)210 648 A
(.sect)210 1362 A
(.text)210 1614 A
2880 V
(17117)210 648 A
(endtext:)336 1026 A
2970 V
(17118)210 648 A
(.sect)210 1362 A
(.rom)168 1614 A
3060 V
(17119)210 648 A
(endrom:)294 1026 A
3150 V
(17120)210 648 A
(.sect)210 1362 A
(.data)210 1614 A
3240 V
(17121)210 648 A
(enddata:)336 1026 A
3330 V
(17122)210 648 A
(.sect)210 1362 A
(.end)168 1614 A
3420 V
(17123)210 648 A
(__end:)252 1026 A
3510 V
(17124)210 648 A
(endbss:)294 1026 A
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/end/end.s)714 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(17200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4590 V
(17201)210 648 A
(.sect)210 1026 A
(.rom)168 1278 A
4680 V
(17202)210 648 A
(.sect)210 1026 A
(.data)210 1278 A
4770 V
(17203)210 648 A
(.sect)210 1026 A
(.bss)168 1278 A
4860 V
(17204)210 648 A
(.define)294 1026 A
(_end)168 1362 A
4950 V
(17205)210 648 A
(.sect)210 1026 A
(.end)168 1278 A
1488(!)S
(only)168 1572 A
(for)126 1782 A
(declaration)462 1950 A
2454(of)S
(_end,)210 2580 A
(__end)210 2832 A
(and)126 3084 A
(endbss.)294 3252 A
5040 V
(17206)210 648 A
(_end:)210 1026 A
8418 V
EP
%%Page: 154 154
BP
/slant 0 def
/height 0 def
630 V
12 B
(154)180 648 A
11 R
2027(File:)S
(src/lib/end/etext.s)788 2260 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/end/etext.s)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(17300)210 648 A
1026(#)S
1440 V
(17301)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1530 V
(17302)210 648 A
(.sect)210 1026 A
(.rom)168 1278 A
1620 V
(17303)210 648 A
(.sect)210 1026 A
(.data)210 1278 A
1710 V
(17304)210 648 A
(.sect)210 1026 A
(.bss)168 1278 A
1800 V
(17305)210 648 A
(.define)294 1026 A
(_etext)252 1362 A
1890 V
(17306)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1980 V
(17307)210 648 A
(.align)252 1362 A
(_EM_WSIZE)378 1656 A
2070 V
(17308)210 648 A
(.sect)210 1362 A
(.text)210 1614 A
2160 V
(17309)210 648 A
(_etext:)294 1026 A
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/float/FP_bias.h)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(17400)210 648 A
1026(/*)S
3240 V
(17401)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
3330 V
(17402)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
3420 V
(17403)210 648 A
1026(*/)S
3510 V
(17404)210 648 A
3600 V
(17405)210 648 A
1026(/*)S
($Header:)336 1152 A
(FP_bias.h,v)462 1530 A
(1.4)126 2034 A
(89/07/25)336 2202 A
(14:16:55)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
3690 V
(17406)210 648 A
3780 V
(17407)210 648 A
1026(/*)S
3870 V
(17408)210 648 A
(include)294 1362 A
(file)168 1698 A
(for)126 1908 A
(floating)336 2076 A
(point)210 2454 A
(package)294 2706 A
3960 V
(17409)210 648 A
1026(*/)S
4050 V
(17410)210 648 A
4140 V
(17411)210 648 A
1698(/*)S
(FLOAT)210 2034 A
(FORMAT)252 2286 A
(EXPONENT)336 2580 A
(BIAS)168 2958 A
3378(*/)S
4230 V
(17412)210 648 A
4320 V
(17413)210 648 A
(#define)294 1026 A
(SGL_BIAS)336 1362 A
(127)126 2076 A
2370(/*)S
(excess)252 2496 A
(128)126 2832 A
(notation)336 3000 A
(used)168 3378 A
3714(*/)S
4410 V
(17414)210 648 A
(#define)294 1026 A
(DBL_BIAS)336 1362 A
(1023)168 2034 A
2370(/*)S
(excess)252 2496 A
(1024)168 2790 A
(notation)336 3000 A
(used)168 3378 A
3714(*/)S
4500 V
(17415)210 648 A
(#define)294 1026 A
(EXT_BIAS)336 1362 A
2160(0)S
2370(/*)S
(2s-complement)546 2496 A
(notation)336 3084 A
(used)168 3462 A
3714(*/)S
4590 V
(17416)210 648 A
2370(/*)S
(this)168 2496 A
2706(is)S
(possible)336 2832 A
(because)294 3210 A
(the)126 3546 A
3714(*/)S
4680 V
(17417)210 648 A
2370(/*)S
(sign)168 2496 A
2706(is)S
2832(in)S
2958(a)S
(seperate)336 3042 A
(word)168 3420 A
3714(*/)S
4770 V
(17418)210 648 A
4860 V
(17419)210 648 A
1698(/*)S
(VARIOUS)294 2034 A
(MAX)126 2370 A
(AND)126 2538 A
(MIN)126 2706 A
(VALUES)252 2874 A
3378(*/)S
4950 V
(17420)210 648 A
1698(/*)S
2034(1\))S
(FOR)126 2160 A
(THE)126 2328 A
(DIFFERENT)378 2496 A
(FORMATS)294 2916 A
3378(*/)S
5040 V
(17421)210 648 A
5130 V
(17422)210 648 A
(#define)294 1026 A
(SGL_MAX)294 1362 A
(254)126 2160 A
2370(/*)S
(standard)336 2706 A
(definition)420 3084 A
3714(*/)S
5220 V
(17423)210 648 A
(#define)294 1026 A
(SGL_MIN)294 1362 A
2244(1)S
2370(/*)S
(standard)336 2706 A
(definition)420 3084 A
3714(*/)S
5310 V
(17424)210 648 A
(#define)294 1026 A
(DBL_MAX)294 1362 A
(2046)168 2118 A
2370(/*)S
(standard)336 2706 A
(definition)420 3084 A
3714(*/)S
5400 V
(17425)210 648 A
(#define)294 1026 A
(DBL_MIN)294 1362 A
2244(1)S
2370(/*)S
(standard)336 2706 A
(definition)420 3084 A
3714(*/)S
5490 V
(17426)210 648 A
(#define)294 1026 A
(EXT_MAX)294 1362 A
(16383)210 2076 A
2370(/*)S
(standard)336 2706 A
(minimum)294 3084 A
3714(*/)S
5580 V
(17427)210 648 A
(#define)294 1026 A
(EXT_MIN)294 1362 A
(-16382)252 2034 A
2370(/*)S
(standard)336 2706 A
(minimum)294 3084 A
3714(*/)S
8418 V
EP
%%Page: 155 155
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1920(File:)S
(src/lib/float/FP_shift.h)1003 2153 A
12 B
(155)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/FP_shift.h)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(17500)210 648 A
1026(/*)S
1440 V
(17501)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(17502)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(17503)210 648 A
1026(*/)S
1710 V
(17504)210 648 A
1800 V
(17505)210 648 A
1026(/*)S
($Header:)336 1152 A
(FP_shift.h,v)504 1530 A
(1.3)126 2076 A
(89/07/25)336 2244 A
(14:17:04)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
1890 V
(17506)210 648 A
1980 V
(17507)210 648 A
1026(/*)S
2070 V
(17508)210 648 A
(include)294 1362 A
(file)168 1698 A
(for)126 1908 A
(floating)336 2076 A
(point)210 2454 A
(package)294 2706 A
2160 V
(17509)210 648 A
1026(*/)S
2250 V
(17510)210 648 A
2340 V
(17511)210 648 A
1026(#)S
(define)252 1110 A
(CARRYBIT)336 1698 A
(0x80000000L)462 2370 A
2430 V
(17512)210 648 A
1026(#)S
(define)252 1110 A
(NORMBIT)294 1698 A
(0x80000000L)462 2370 A
2520 V
(17513)210 648 A
1026(#)S
(define)252 1110 A
(EXP_STORE)378 1698 A
2370(16)S
2610 V
(17514)210 648 A
2700 V
(17515)210 648 A
2790 V
(17516)210 648 A
2370(/*)S
(parameters)420 2496 A
(for)126 2958 A
(Single)252 3126 A
(Precision)378 3420 A
3840(*/)S
2880 V
(17517)210 648 A
(#define)294 1026 A
(SGL_EXPSHIFT)504 1362 A
2034(7)S
2970 V
(17518)210 648 A
(#define)294 1026 A
(SGL_M1LEFT)420 1362 A
2034(8)S
3060 V
(17519)210 648 A
(#define)294 1026 A
(SGL_ZERO)336 1362 A
(0xffffff80L)462 2034 A
3150 V
(17520)210 648 A
(#define)294 1026 A
(SGL_EXACT)378 1362 A
(0xff)168 2034 A
3240 V
(17521)210 648 A
(#define)294 1026 A
(SGL_RUNPACK)462 1362 A
(SGL_M1LEFT)420 2034 A
3330 V
(17522)210 648 A
3420 V
(17523)210 648 A
(#define)294 1026 A
(SGL_ROUNDUP)462 1362 A
(0x80)168 2034 A
3510 V
(17524)210 648 A
(#define)294 1026 A
(SGL_CARRYOUT)504 1362 A
(0x01000000L)462 2034 A
3600 V
(17525)210 648 A
(#define)294 1026 A
(SGL_MASK)336 1362 A
(0x007fffffL)462 2034 A
3690 V
(17526)210 648 A
3780 V
(17527)210 648 A
2370(/*)S
(parameters)420 2496 A
(for)126 2958 A
(Double)252 3126 A
(Precision)378 3420 A
3840(*/)S
3870 V
(17528)210 648 A
2370(/*)S
(used)168 2496 A
2706(in)S
(extend.c)336 2832 A
3210(*/)S
3960 V
(17529)210 648 A
4050 V
(17530)210 648 A
(#define)294 1026 A
(DBL_EXPSHIFT)504 1362 A
2034(4)S
4140 V
(17531)210 648 A
4230 V
(17532)210 648 A
(#define)294 1026 A
(DBL_M1LEFT)420 1362 A
2034(11)S
4320 V
(17533)210 648 A
4410 V
(17534)210 648 A
(#define)294 1026 A
(DBL_RPACK)378 1362 A
(\(32-DBL_M1LEFT\))630 2034 A
4500 V
(17535)210 648 A
(#define)294 1026 A
(DBL_LPACK)378 1362 A
(DBL_M1LEFT)420 2034 A
4590 V
(17536)210 648 A
4680 V
(17537)210 648 A
2370(/*)S
(used)168 2496 A
2706(in)S
(compact.c)378 2832 A
3252(*/)S
4770 V
(17538)210 648 A
4860 V
(17539)210 648 A
(#define)294 1026 A
(DBL_ZERO)336 1362 A
(0xfffffd00L)462 2034 A
4950 V
(17540)210 648 A
5040 V
(17541)210 648 A
(#define)294 1026 A
(DBL_EXACT)378 1362 A
(0x7ff)210 2034 A
5130 V
(17542)210 648 A
5220 V
(17543)210 648 A
(#define)294 1026 A
(DBL_RUNPACK)462 1362 A
(DBL_M1LEFT)420 2034 A
5310 V
(17544)210 648 A
(#define)294 1026 A
(DBL_LUNPACK)462 1362 A
(\(32-DBL_RUNPACK\))672 2034 A
5400 V
(17545)210 648 A
5490 V
(17546)210 648 A
(#define)294 1026 A
(DBL_ROUNDUP)462 1362 A
(0x400)210 2034 A
5580 V
(17547)210 648 A
(#define)294 1026 A
(DBL_CARRYOUT)504 1362 A
(0x00200000L)462 2034 A
5670 V
(17548)210 648 A
(#define)294 1026 A
(DBL_MASK)336 1362 A
(0x000fffffL)462 2034 A
8418 V
EP
%%Page: 156 156
BP
/slant 0 def
/height 0 def
630 V
12 B
(156)180 648 A
11 R
1932(File:)S
(src/lib/float/FP_trap.h)979 2165 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/FP_trap.h)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(17600)210 648 A
1026(/*)S
1440 V
(17601)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(17602)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(17603)210 648 A
1026(*/)S
1710 V
(17604)210 648 A
1800 V
(17605)210 648 A
1026(/*)S
($Header:)336 1152 A
(FP_trap.h,v)462 1530 A
(1.2)126 2034 A
(88/04/07)336 2202 A
(11:33:06)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
1890 V
(17606)210 648 A
1980 V
(17607)210 648 A
1026(/*)S
2070 V
(17608)210 648 A
(include)294 1362 A
(file)168 1698 A
(for)126 1908 A
(floating)336 2076 A
(point)210 2454 A
(package)294 2706 A
2160 V
(17609)210 648 A
1026(*/)S
2250 V
(17610)210 648 A
2340 V
(17611)210 648 A
2034(/*)S
2370(EM)S
(TRAPS)210 2496 A
3042(*/)S
2430 V
(17612)210 648 A
2520 V
(17613)210 648 A
(#define)294 1026 A
(EIOVFL)252 1362 A
1698(3)S
2034(/*)S
(Integer)294 2160 A
(Overflow)336 2538 A
3378(*/)S
2610 V
(17614)210 648 A
(#define)294 1026 A
(EFOVFL)252 1362 A
1698(4)S
2034(/*)S
(Floating)336 2160 A
(Overflow)336 2538 A
3378(*/)S
2700 V
(17615)210 648 A
(#define)294 1026 A
(EFUNFL)252 1362 A
1698(5)S
2034(/*)S
(Floating)336 2160 A
(Underflow)378 2538 A
3378(*/)S
2790 V
(17616)210 648 A
(#define)294 1026 A
(EIDIVZ)252 1362 A
1698(6)S
2034(/*)S
(Integer)294 2160 A
(Divide)252 2538 A
2832(by)S
2958(0)S
3378(*/)S
2880 V
(17617)210 648 A
(#define)294 1026 A
(EFDIVZ)252 1362 A
1698(7)S
2034(/*)S
(Floating)336 2160 A
(Divide)252 2538 A
2832(by)S
(0.0)126 2958 A
3378(*/)S
2970 V
(17618)210 648 A
(#define)294 1026 A
(EIUND)210 1362 A
1698(8)S
2034(/*)S
(Integer)294 2160 A
(Undefined)378 2538 A
(Number)252 2958 A
3378(*/)S
3060 V
(17619)210 648 A
(#define)294 1026 A
(EFUND)210 1362 A
1698(9)S
2034(/*)S
(Floating)336 2160 A
(Undefined)378 2538 A
(Number)252 2958 A
3378(*/)S
3150 V
(17620)210 648 A
(#define)294 1026 A
(ECONV)210 1362 A
1698(10)S
2034(/*)S
(Conversion)420 2160 A
(Error)210 2622 A
3378(*/)S
3240 V
(17621)210 648 A
1026(#)S
(define)252 1110 A
(trap\(x\))294 1404 A
(_fptrp\(x\))378 1740 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/float/FP_types.h)1008 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(17700)210 648 A
1026(/*)S
4140 V
(17701)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4230 V
(17702)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4320 V
(17703)210 648 A
1026(*/)S
4410 V
(17704)210 648 A
4500 V
(17705)210 648 A
1026(/*)S
($Header:)336 1152 A
(FP_types.h,v)504 1530 A
(1.4)126 2076 A
(93/01/05)336 2244 A
(12:03:05)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
4590 V
(17706)210 648 A
4680 V
(17707)210 648 A
(/********************************************************/)2436 1026 A
4770 V
(17708)210 648 A
1026(/*)S
4860 V
(17709)210 648 A
(Type)168 1362 A
(definitions)462 1572 A
(for)126 2076 A
2244(C)S
(Floating)336 2328 A
(Point)210 2706 A
(Package)294 2958 A
4950 V
(17710)210 648 A
(include)294 1362 A
(file)168 1698 A
(for)126 1908 A
(floating)336 2076 A
(point)210 2454 A
(package)294 2706 A
5040 V
(17711)210 648 A
1026(*/)S
5130 V
(17712)210 648 A
(/********************************************************/)2436 1026 A
5220 V
(17713)210 648 A
1026(/*)S
5310 V
(17714)210 648 A
(THESE)210 1362 A
(STRUCTURES)420 1614 A
(ARE)126 2076 A
(USED)168 2244 A
2454(TO)S
(ADDRESS)294 2580 A
(THE)126 2916 A
(INDIVIDUAL)420 3084 A
5400 V
(17715)210 648 A
(PARTS)210 1362 A
1614(OF)S
(THE)126 1740 A
(FLOATING)336 1908 A
(POINT)210 2286 A
(NUMBER)252 2538 A
(REPRESENTATIONS.)672 2832 A
5490 V
(17716)210 648 A
5580 V
(17717)210 648 A
(THREE)210 1362 A
(STRUCTURES)420 1614 A
(ARE)126 2076 A
(DEFINED:)336 2244 A
5670 V
(17718)210 648 A
(SINGLE:)294 1698 A
(single)252 2034 A
(precision)378 2328 A
(floating)336 2748 A
(format)252 3126 A
5760 V
(17719)210 648 A
(DOUBLE:)294 1698 A
(double)252 2034 A
(precision)378 2328 A
(floating)336 2748 A
(format)252 3126 A
5850 V
(17720)210 648 A
(EXTEND:)294 1698 A
(double)252 2034 A
(precision)378 2328 A
(extended)336 2748 A
(format)252 3126 A
5940 V
(17721)210 648 A
1026(*/)S
6030 V
(17722)210 648 A
(/********************************************************/)2436 1026 A
6120 V
(17723)210 648 A
6210 V
(17724)210 648 A
(#ifndef)294 1026 A
(__FPTYPES)378 1362 A
8418 V
EP
%%Page: 157 157
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1901(File:)S
(src/lib/float/FP_types.h)1040 2134 A
12 B
(157)180 4248 A
900 V
7 LST
(17725)210 648 A
(#define)294 1026 A
(__FPTYPES)378 1362 A
990 V
(17726)210 648 A
1080 V
(17727)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
1698({)S
1170 V
(17728)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(h_32;)210 2034 A
2370(/*)S
(higher)252 2496 A
2790(32)S
(bits)168 2916 A
3126(of)S
3252(64)S
3378(*/)S
1260 V
(17729)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(l_32;)210 2034 A
2370(/*)S
(lower)210 2496 A
2790(32)S
(bits)168 2916 A
3126(of)S
3252(64)S
3378(*/)S
1350 V
(17730)210 648 A
1026(})S
(B64;)168 1362 A
1440 V
(17731)210 648 A
1530 V
(17732)210 648 A
(typedef)294 1026 A
(unsigned)336 1362 A
(long)168 1740 A
(SINGLE;)294 2034 A
1620 V
(17733)210 648 A
1710 V
(17734)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
1698({)S
1800 V
(17735)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(d[2];)210 2034 A
1890 V
(17736)210 648 A
1026(})S
(DOUBLE;)294 1362 A
1980 V
(17737)210 648 A
2070 V
(17738)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
1698({)S
2034(/*)S
(expanded)336 2160 A
(float)210 2538 A
(format)252 2790 A
3378(*/)S
2160 V
(17739)210 648 A
(short)210 1362 A
(sign;)210 1698 A
2250 V
(17740)210 648 A
(short)210 1362 A
(exp;)168 1698 A
2340 V
(17741)210 648 A
(B64)126 1362 A
(mantissa;)378 1698 A
2430 V
(17742)210 648 A
(#define)294 1026 A
1362(m1)S
(mantissa.h_32)546 1488 A
2520 V
(17743)210 648 A
(#define)294 1026 A
1362(m2)S
(mantissa.l_32)546 1488 A
2610 V
(17744)210 648 A
1026(})S
(EXTEND;)294 1110 A
2700 V
(17745)210 648 A
2790 V
(17746)210 648 A
(struct)252 1026 A
(fef4_returns)504 1362 A
1908({)S
2880 V
(17747)210 648 A
(int)126 1362 A
1698(e;)S
2970 V
(17748)210 648 A
(SINGLE)252 1362 A
1698(f;)S
3060 V
(17749)210 648 A
1026(};)S
3150 V
(17750)210 648 A
3240 V
(17751)210 648 A
(struct)252 1026 A
(fef8_returns)504 1362 A
1908({)S
3330 V
(17752)210 648 A
(int)126 1362 A
1698(e;)S
3420 V
(17753)210 648 A
(DOUBLE)252 1362 A
1698(f;)S
3510 V
(17754)210 648 A
1026(};)S
3600 V
(17755)210 648 A
3690 V
(17756)210 648 A
(struct)252 1026 A
(fif4_returns)504 1320 A
1866({)S
3780 V
(17757)210 648 A
(SINGLE)252 1362 A
(ipart;)252 1656 A
3870 V
(17758)210 648 A
(SINGLE)252 1362 A
(fpart;)252 1656 A
3960 V
(17759)210 648 A
1026(};)S
4050 V
(17760)210 648 A
4140 V
(17761)210 648 A
(struct)252 1026 A
(fif8_returns)504 1320 A
1866({)S
4230 V
(17762)210 648 A
(DOUBLE)252 1362 A
(ipart;)252 1656 A
4320 V
(17763)210 648 A
(DOUBLE)252 1362 A
(fpart;)252 1656 A
4410 V
(17764)210 648 A
1026(};)S
4500 V
(17765)210 648 A
4590 V
(17766)210 648 A
(#if)126 1026 A
(__STDC__)336 1194 A
4680 V
(17767)210 648 A
(#define)294 1026 A
(_PROTOTYPE\(function,)840 1362 A
(params\))294 2244 A
(function)336 2706 A
(params)252 3084 A
4770 V
(17768)210 648 A
(#else)210 1026 A
4860 V
(17769)210 648 A
(#define)294 1026 A
(_PROTOTYPE\(function,)840 1362 A
(params\))294 2244 A
(function\(\))420 2706 A
4950 V
(17770)210 648 A
(#endif)252 1026 A
5040 V
(17771)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(add_ext,)336 1740 A
(\(EXTEND)294 2118 A
(*e1,)168 2454 A
(EXTEND)252 2664 A
(*e2\)\);)252 2958 A
5130 V
(17772)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(mul_ext,)336 1740 A
(\(EXTEND)294 2118 A
(*e1,)168 2454 A
(EXTEND)252 2664 A
(*e2\)\);)252 2958 A
5220 V
(17773)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(div_ext,)336 1740 A
(\(EXTEND)294 2118 A
(*e1,)168 2454 A
(EXTEND)252 2664 A
(*e2\)\);)252 2958 A
5310 V
(17774)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(sub_ext,)336 1740 A
(\(EXTEND)294 2118 A
(*e1,)168 2454 A
(EXTEND)252 2664 A
(*e2\)\);)252 2958 A
5400 V
(17775)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(sft_ext,)336 1740 A
(\(EXTEND)294 2118 A
(*e1,)168 2454 A
(EXTEND)252 2664 A
(*e2\)\);)252 2958 A
5490 V
(17776)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(nrm_ext,)336 1740 A
(\(EXTEND)294 2118 A
(*e1\)\);)252 2454 A
5580 V
(17777)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(zrf_ext,)336 1740 A
(\(EXTEND)294 2118 A
(*e1\)\);)252 2454 A
5670 V
(17778)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(extend,)294 1740 A
(\(unsigned)378 2076 A
(long)168 2496 A
(*from,)252 2706 A
(EXTEND)252 3000 A
(*to,)168 3294 A
(int)126 3504 A
(size\)\);)294 3672 A
5760 V
(17779)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(compact,)336 1740 A
(\(EXTEND)294 2118 A
(*from,)252 2454 A
(unsigned)336 2748 A
(long)168 3126 A
(*to,)168 3336 A
(int)126 3546 A
(size\)\);)294 3714 A
5850 V
(17780)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(_fptrp,)294 1740 A
(\(int\)\);)294 2076 A
5940 V
(17781)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(adf4,)210 1740 A
(\(SINGLE)294 1992 A
(s2,)126 2328 A
(SINGLE)252 2496 A
(s1\)\);)210 2790 A
6030 V
(17782)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(adf8,)210 1740 A
(\(DOUBLE)294 1992 A
(s2,)126 2328 A
(DOUBLE)252 2496 A
(s1\)\);)210 2790 A
6120 V
(17783)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(sbf4,)210 1740 A
(\(SINGLE)294 1992 A
(s2,)126 2328 A
(SINGLE)252 2496 A
(s1\)\);)210 2790 A
6210 V
(17784)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(sbf8,)210 1740 A
(\(DOUBLE)294 1992 A
(s2,)126 2328 A
(DOUBLE)252 2496 A
(s1\)\);)210 2790 A
8418 V
EP
%%Page: 158 158
BP
/slant 0 def
/height 0 def
630 V
12 B
(158)180 648 A
11 R
1901(File:)S
(src/lib/float/FP_types.h)1040 2134 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(17785)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(dvf4,)210 1740 A
(\(SINGLE)294 1992 A
(s2,)126 2328 A
(SINGLE)252 2496 A
(s1\)\);)210 2790 A
990 V
(17786)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(dvf8,)210 1740 A
(\(DOUBLE)294 1992 A
(s2,)126 2328 A
(DOUBLE)252 2496 A
(s1\)\);)210 2790 A
1080 V
(17787)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(mlf4,)210 1740 A
(\(SINGLE)294 1992 A
(s2,)126 2328 A
(SINGLE)252 2496 A
(s1\)\);)210 2790 A
1170 V
(17788)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(mlf8,)210 1740 A
(\(DOUBLE)294 1992 A
(s2,)126 2328 A
(DOUBLE)252 2496 A
(s1\)\);)210 2790 A
1260 V
(17789)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(ngf4,)210 1740 A
(\(SINGLE)294 1992 A
(f\)\);)168 2328 A
1350 V
(17790)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(ngf8,)210 1740 A
(\(DOUBLE)294 1992 A
(f\)\);)168 2328 A
1440 V
(17791)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(zrf4,)210 1740 A
(\(SINGLE)294 1992 A
(*l\)\);)210 2328 A
1530 V
(17792)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(zrf8,)210 1740 A
(\(DOUBLE)294 1992 A
(*z\)\);)210 2328 A
1620 V
(17793)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(cff4,)210 1740 A
(\(DOUBLE)294 1992 A
(src\)\);)252 2328 A
1710 V
(17794)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(cff8,)210 1740 A
(\(SINGLE)294 1992 A
(src\)\);)252 2328 A
1800 V
(17795)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(cif4,)210 1740 A
(\(int)168 1992 A
(ss,)126 2202 A
(long)168 2370 A
(src\)\);)252 2580 A
1890 V
(17796)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(cif8,)210 1740 A
(\(int)168 1992 A
(ss,)126 2202 A
(long)168 2370 A
(src\)\);)252 2580 A
1980 V
(17797)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(cuf4,)210 1740 A
(\(int)168 1992 A
(ss,)126 2202 A
(long)168 2370 A
(src\)\);)252 2580 A
2070 V
(17798)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(cuf8,)210 1740 A
(\(int)168 1992 A
(ss,)126 2202 A
(long)168 2370 A
(src\)\);)252 2580 A
2160 V
(17799)210 648 A
(_PROTOTYPE\()462 1026 A
(long)168 1530 A
(cfu,)168 1740 A
(\(int)168 1950 A
(ds,)126 2160 A
(int)126 2328 A
(ss,)126 2496 A
(DOUBLE)252 2664 A
(src\)\);)252 2958 A
2250 V
(17800)210 648 A
(_PROTOTYPE\()462 1026 A
(long)168 1530 A
(cfi,)168 1740 A
(\(int)168 1950 A
(ds,)126 2160 A
(int)126 2328 A
(ss,)126 2496 A
(DOUBLE)252 2664 A
(src\)\);)252 2958 A
2340 V
(17801)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(cmf4,)210 1698 A
(\(SINGLE)294 1950 A
(s2,)126 2286 A
(SINGLE)252 2454 A
(s1\)\);)210 2748 A
2430 V
(17802)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(cmf8,)210 1698 A
(\(DOUBLE)294 1950 A
(d1,)126 2286 A
(DOUBLE)252 2454 A
(d2\)\);)210 2748 A
2520 V
(17803)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(fef4,)210 1740 A
(\(struct)294 1992 A
(fef4_returns)504 2328 A
(*r,)126 2874 A
(SINGLE)252 3042 A
(s1\)\);)210 3336 A
2610 V
(17804)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(fef8,)210 1740 A
(\(struct)294 1992 A
(fef8_returns)504 2328 A
(*r,)126 2874 A
(DOUBLE)252 3042 A
(s1\)\);)210 3336 A
2700 V
(17805)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(fif4,)210 1740 A
(\(struct)294 1992 A
(fif4_returns)504 2328 A
(*p,)126 2874 A
(SINGLE)252 3042 A
3336(x,)S
(SINGLE)252 3462 A
(y\)\);)168 3756 A
2790 V
(17806)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(fif8,)210 1740 A
(\(struct)294 1992 A
(fif8_returns)504 2328 A
(*p,)126 2874 A
(DOUBLE)252 3042 A
3336(x,)S
(DOUBLE)252 3462 A
(y\)\);)168 3756 A
2880 V
(17807)210 648 A
2970 V
(17808)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(b64_sft,)336 1740 A
(\(B64)168 2118 A
2328(*,)S
(int\)\);)252 2454 A
3060 V
(17809)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(b64_lsft,)378 1740 A
(\(B64)168 2160 A
(*\)\);)168 2370 A
3150 V
(17810)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(b64_rsft,)378 1740 A
(\(B64)168 2160 A
(*\)\);)168 2370 A
3240 V
(17811)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(b64_add,)336 1698 A
(\(B64)168 2076 A
2286(*,)S
(B64)126 2412 A
(*\)\);)168 2580 A
3330 V
(17812)210 648 A
(#endif)252 1026 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/float/adder.h)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(17900)210 648 A
1026(/*)S
4140 V
(17901)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4230 V
(17902)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4320 V
(17903)210 648 A
1026(*/)S
4410 V
(17904)210 648 A
4500 V
(17905)210 648 A
1026(/*)S
($Header:)336 1152 A
(adder.h,v)378 1530 A
(1.2)126 1950 A
(92/02/20)336 2118 A
(18:20:25)336 2496 A
(philip)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
4590 V
(17906)210 648 A
4680 V
(17907)210 648 A
1026(/*)S
4770 V
(17908)210 648 A
1068(*)S
(include)294 1362 A
(file)168 1698 A
(for)126 1908 A
2076(32)S
2202(&)S
2286(64)S
(bit)126 2412 A
(addition)336 2580 A
4860 V
(17909)210 648 A
1068(*/)S
4950 V
(17910)210 648 A
5040 V
(17911)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(B64)126 1698 A
1866({)S
5130 V
(17912)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(h_32;)210 2034 A
2370(/*)S
(higher)252 2496 A
2790(32)S
(bits)168 2916 A
3126(of)S
3252(64)S
3378(*/)S
5220 V
(17913)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(l_32;)210 2034 A
2370(/*)S
(lower)210 2496 A
2790(32)S
(bits)168 2916 A
3126(of)S
3252(64)S
3378(*/)S
5310 V
(17914)210 648 A
1026(})S
(B64;)168 1362 A
8418 V
EP
%%Page: 159 159
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1868(File:)S
(src/lib/float/byte_order.h)1107 2101 A
12 B
(159)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/byte_order.h)1092 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(18000)210 648 A
(#define)294 1026 A
(CHAR_UNSIGNED)546 1362 A
2034(0)S
1440 V
(18001)210 648 A
(#define)294 1026 A
(MSB_AT_LOW_ADDRESS)756 1362 A
2370(0)S
1530 V
(18002)210 648 A
(#define)294 1026 A
(MSW_AT_LOW_ADDRESS)756 1362 A
2370(0)S
1620 V
(18003)210 648 A
(#define)294 1026 A
(FL_MSB_AT_LOW_ADDRESS)882 1362 A
2370(0)S
1710 V
(18004)210 648 A
(#define)294 1026 A
(FL_MSW_AT_LOW_ADDRESS)882 1362 A
2370(0)S
1800 V
(18005)210 648 A
(#define)294 1026 A
(FL_MSL_AT_LOW_ADDRESS)882 1362 A
2370(0)S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/float/get_put.h)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(18100)210 648 A
1026(/*)S
2790 V
(18101)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2880 V
(18102)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2970 V
(18103)210 648 A
1026(*/)S
3060 V
(18104)210 648 A
3150 V
(18105)210 648 A
1026(/*)S
($Header:)336 1152 A
(get_put.h,v)462 1530 A
(1.3)126 2034 A
(89/10/25)336 2202 A
(17:15:01)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
3240 V
(18106)210 648 A
3330 V
(18107)210 648 A
(#include)336 1026 A
(<byte_order.h>)588 1404 A
3420 V
(18108)210 648 A
3510 V
(18109)210 648 A
(#if)126 1026 A
(CHAR_UNSIGNED)546 1194 A
3600 V
(18110)210 648 A
(#define)294 1026 A
(Xchar\(ch\))378 1362 A
(\(ch\))168 2034 A
3690 V
(18111)210 648 A
(#else)210 1026 A
3780 V
(18112)210 648 A
(#define)294 1026 A
(Xchar\(ch\))378 1362 A
(\(\(ch\))210 2034 A
2286(&)S
(0377\))210 2370 A
3870 V
(18113)210 648 A
(#endif)252 1026 A
3960 V
(18114)210 648 A
4050 V
(18115)210 648 A
(#define)294 1026 A
(BYTES_REVERSED)588 1362 A
(\(MSB_AT_LOW_ADDRESS)798 1992 A
2832(!=)S
(FL_MSB_AT_LOW_ADDRESS\))924 2958 A
4140 V
(18116)210 648 A
(#define)294 1026 A
(WORDS_REVERSED)588 1362 A
(\(MSW_AT_LOW_ADDRESS)798 1992 A
2832(!=)S
(FL_MSW_AT_LOW_ADDRESS\))924 2958 A
4230 V
(18117)210 648 A
(#define)294 1026 A
(LONGS_REVERSED)588 1362 A
(\(FL_MSL_AT_LOW_ADDRESS\))966 1992 A
4320 V
(18118)210 648 A
4410 V
(18119)210 648 A
(#if)126 1026 A
(BYTES_REVERSED)588 1194 A
4500 V
(18120)210 648 A
(#define)294 1026 A
(uget2\(c\))336 1362 A
(\(Xchar\(\(c\)[1]\))588 2034 A
2664(|)S
(\(\(unsigned\))462 2748 A
(Xchar\(\(c\)[0]\))546 3252 A
3840(<<)S
(8\)\))126 3966 A
4590 V
(18121)210 648 A
(#define)294 1026 A
(Xput2\(i,)336 1362 A
1740(c\))S
(\(\(\(c\)[1])336 2034 A
2412(=)S
(\(i\)\),)210 2496 A
(\(\(c\)[0])294 2748 A
3084(=)S
(\(i\))126 3168 A
3336(>>)S
(8\)\))126 3462 A
4680 V
(18122)210 648 A
(#define)294 1026 A
(put2\(i,)294 1362 A
1698(c\))S
2034({)S
(register)336 2118 A
(int)126 2496 A
2664(j)S
2748(=)S
(\(i\);)168 2832 A
(Xput2\(j,)336 3042 A
(c\);)126 3420 A
3588(})S
4770 V
(18123)210 648 A
(#else)210 1026 A
4860 V
(18124)210 648 A
(#define)294 1026 A
(uget2\(c\))336 1362 A
2034(\(*)S
(\(\(unsigned)420 2160 A
(short)210 2622 A
2874(*\))S
(\(c\)\)\))210 3000 A
4950 V
(18125)210 648 A
(#define)294 1026 A
(Xput2\(i,)336 1362 A
1740(c\))S
2034(\(*)S
(\(\(short)294 2160 A
2496(*\))S
(\(c\)\))168 2622 A
2832(=)S
(\(i\)\))168 2916 A
5040 V
(18126)210 648 A
(#define)294 1026 A
(put2\(i,)294 1362 A
1698(c\))S
(Xput2\(i,)336 2034 A
2412(c\))S
5130 V
(18127)210 648 A
(#endif)252 1026 A
5220 V
(18128)210 648 A
5310 V
(18129)210 648 A
(#define)294 1026 A
(get2\(c\))294 1362 A
(\(\(short\))336 2034 A
(uget2\(c\)\))378 2412 A
5400 V
(18130)210 648 A
5490 V
(18131)210 648 A
(#if)126 1026 A
(WORDS_REVERSED)588 1194 A
1824(||)S
(BYTES_REVERSED)588 1950 A
5580 V
(18132)210 648 A
(#define)294 1026 A
(get4\(c\))294 1362 A
(\(uget2\(\(c\)+2\))546 2034 A
2622(|)S
(\(\(long\))294 2706 A
(uget2\(c\))336 3042 A
3420(<<)S
(16\)\))168 3546 A
5670 V
(18133)210 648 A
(#define)294 1026 A
(put4\(l,)294 1362 A
1698(c\))S
2034({)S
(register)336 2118 A
(long)168 2496 A
(x=\(l\);)252 2706 A
3000(\\)S
5760 V
(18134)210 648 A
(Xput2\(\(int\)x,\(c\)+2\);)840 2118 A
3000(\\)S
5850 V
(18135)210 648 A
(Xput2\(\(int\)\(x>>16\),\(c\)\);)1008 2118 A
3168(\\)S
5940 V
(18136)210 648 A
2034(})S
6030 V
(18137)210 648 A
(#else)210 1026 A
6120 V
(18138)210 648 A
(#define)294 1026 A
(get4\(c\))294 1362 A
2034(\(*)S
(\(\(long)252 2160 A
2454(*\))S
(\(c\)\)\))210 2580 A
6210 V
(18139)210 648 A
(#define)294 1026 A
(put4\(l,)294 1362 A
1698(c\))S
2034(\(*)S
(\(\(long)252 2160 A
2454(*\))S
(\(c\)\))168 2580 A
2790(=)S
(\(l\)\))168 2874 A
8418 V
EP
%%Page: 160 160
BP
/slant 0 def
/height 0 def
630 V
12 B
(160)180 648 A
11 R
1942(File:)S
(src/lib/float/get_put.h)959 2175 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(18140)210 648 A
(#endif)252 1026 A
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/float/add_ext.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(18200)210 648 A
1026(/*)S
1890 V
(18201)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1980 V
(18202)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2070 V
(18203)210 648 A
1026(*/)S
2160 V
(18204)210 648 A
2250 V
(18205)210 648 A
1026(/*)S
($Header:)336 1152 A
(add_ext.c,v)462 1530 A
(1.7)126 2034 A
(93/01/05)336 2202 A
(12:03:11)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
2340 V
(18206)210 648 A
2430 V
(18207)210 648 A
1026(/*)S
2520 V
(18208)210 648 A
(ADD)126 1362 A
(TWO)126 1530 A
(EXTENDED)336 1698 A
(FORMAT)252 2076 A
(NUMBERS)294 2370 A
2610 V
(18209)210 648 A
1026(*/)S
2700 V
(18210)210 648 A
2790 V
(18211)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2880 V
(18212)210 648 A
2970 V
(18213)210 648 A
(void)168 1026 A
3060 V
(18214)210 648 A
(add_ext\(e1,e2\))588 1026 A
3150 V
(18215)210 648 A
(register)336 1026 A
(EXTEND)252 1404 A
(*e1,*e2;)336 1698 A
3240 V
(18216)210 648 A
1026({)S
3330 V
(18217)210 648 A
1362(if)S
(\(\(e2->m1)336 1488 A
1866(|)S
(e2->m2\))294 1950 A
2286(==)S
(0L\))126 2412 A
2580({)S
3420 V
(18218)210 648 A
(return;)294 1698 A
3510 V
(18219)210 648 A
1362(})S
3600 V
(18220)210 648 A
1362(if)S
(\(\(e1->m1)336 1488 A
1866(|)S
(e1->m2\))294 1950 A
2286(==)S
(0L\))126 2412 A
2580({)S
3690 V
(18221)210 648 A
(*e1)126 1698 A
1866(=)S
(*e2;)168 1950 A
3780 V
(18222)210 648 A
(return;)294 1698 A
3870 V
(18223)210 648 A
1362(})S
3960 V
(18224)210 648 A
(sft_ext\(e1,)462 1362 A
(e2\);)168 1866 A
2370(/*)S
(adjust)252 2496 A
(mantissas)378 2790 A
3210(to)S
(equal)210 3336 A
(powers)252 3588 A
3882(*/)S
4050 V
(18225)210 648 A
1362(if)S
(\(e1->sign)378 1488 A
1908(!=)S
(e2->sign\))378 2034 A
2454({)S
4140 V
(18226)210 648 A
1698(/*)S
1824(e1)S
1950(+)S
2034(e2)S
2160(=)S
2244(e1)S
2370(-)S
(\(-e2\))210 2454 A
2706(*/)S
4230 V
(18227)210 648 A
1698(if)S
(\(e2->m1)294 1824 A
2160(>)S
(e1->m1)252 2244 A
2538(||)S
4320 V
(18228)210 648 A
(\(e2->m1)294 1866 A
2202(==)S
(e1->m1)252 2328 A
2622(&&)S
(e2->m2)252 2748 A
3042(>)S
(e1->m2\)\))336 3126 A
3504({)S
4410 V
(18229)210 648 A
2034(/*)S
(abs\(e2\))294 2370 A
2706(>)S
(abs\(e1\))294 2790 A
3126(*/)S
4500 V
(18230)210 648 A
(EXTEND)252 2034 A
2328(x;)S
4590 V
(18231)210 648 A
4680 V
(18232)210 648 A
2034(x)S
2118(=)S
(*e1;)168 2202 A
4770 V
(18233)210 648 A
(*e1)126 2034 A
2202(=)S
(*e2;)168 2286 A
4860 V
(18234)210 648 A
2034(if)S
(\(x.m2)210 2160 A
2412(>)S
(e1->m2\))294 2496 A
2832({)S
4950 V
(18235)210 648 A
(e1->m1)252 2370 A
2664(-=)S
2790(1;)S
3042(/*)S
(carry)210 3168 A
3420(in)S
3546(*/)S
5040 V
(18236)210 648 A
2034(})S
5130 V
(18237)210 648 A
(e1->m1)252 2034 A
2328(-=)S
(x.m1;)210 2454 A
5220 V
(18238)210 648 A
(e1->m2)252 2034 A
2328(-=)S
(x.m2;)210 2454 A
5310 V
(18239)210 648 A
1698(})S
5400 V
(18240)210 648 A
(else)168 1698 A
1908({)S
5490 V
(18241)210 648 A
2034(if)S
(\(e2->m2)294 2160 A
2496(>)S
(e1->m2\))294 2580 A
5580 V
(18242)210 648 A
(e1->m1)252 2370 A
2664(-=)S
2790(1;)S
3042(/*)S
(carry)210 3168 A
3420(in)S
3546(*/)S
5670 V
(18243)210 648 A
(e1->m1)252 2034 A
2328(-=)S
(e2->m1;)294 2454 A
5760 V
(18244)210 648 A
(e1->m2)252 2034 A
2328(-=)S
(e2->m2;)294 2454 A
5850 V
(18245)210 648 A
1698(})S
5940 V
(18246)210 648 A
1362(})S
6030 V
(18247)210 648 A
(else)168 1362 A
1572({)S
6120 V
(18248)210 648 A
1698(if)S
(\(b64_add\(&e1->mantissa,&e2->mantissa\)\))1596 1824 A
3462({)S
3714(/*)S
(addition)336 3840 A
(carry)210 4218 A
4470(*/)S
6210 V
(18249)210 648 A
(b64_rsft\(&e1->mantissa\);)1008 2034 A
3378(/*)S
(shift)210 3504 A
(mantissa)336 3756 A
(one)126 4134 A
(bit)126 4302 A
(RIGHT)210 4470 A
4722(*/)S
8418 V
EP
%%Page: 161 161
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1935(File:)S
(src/lib/float/add_ext.c)973 2168 A
12 B
(161)180 4248 A
900 V
7 LST
(18250)210 648 A
(e1->m1)252 2034 A
2328(|=)S
(0x80000000L;)504 2454 A
3042(/*)S
(set)126 3168 A
(max)126 3336 A
(bit)126 3504 A
3714(*/)S
990 V
(18251)210 648 A
(e1->exp++;)420 2034 A
3042(/*)S
(increase)336 3168 A
(the)126 3546 A
(exponent)336 3714 A
4092(*/)S
1080 V
(18252)210 648 A
1698(})S
1170 V
(18253)210 648 A
1362(})S
1260 V
(18254)210 648 A
(nrm_ext\(e1\);)504 1362 A
1350 V
(18255)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/float/adder.c)882 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(18300)210 648 A
1026(/*)S
2340 V
(18301)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2430 V
(18302)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2520 V
(18303)210 648 A
1026(*/)S
2610 V
(18304)210 648 A
2700 V
(18305)210 648 A
1026(/*)S
($Header:)336 1152 A
(adder.c,v)378 1530 A
(1.6)126 1950 A
(93/01/05)336 2118 A
(12:03:17)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
2790 V
(18306)210 648 A
2880 V
(18307)210 648 A
1026(/*)S
2970 V
(18308)210 648 A
1068(*)S
(these)210 1362 A
(are)126 1614 A
(the)126 1782 A
(routines)336 1950 A
(the)126 2328 A
(routines)336 2496 A
2874(to)S
3000(do)S
3126(32)S
(and)126 3252 A
(64-bit)252 3462 A
(addition)336 3756 A
3060 V
(18309)210 648 A
1068(*/)S
3150 V
(18310)210 648 A
3240 V
(18311)210 648 A
1026(#)S
(ifdef)210 1110 A
(EXT_DEBUG)378 1362 A
3330 V
(18312)210 648 A
1026(#)S
(include)294 1110 A
(<stdio.h>)378 1446 A
3420 V
(18313)210 648 A
1026(#)S
(endif)210 1110 A
3510 V
(18314)210 648 A
3600 V
(18315)210 648 A
1026(#)S
(include)294 1110 A
("FP_types.h")504 1446 A
3690 V
(18316)210 648 A
1026(#)S
(define)252 1110 A
(UNKNOWN)294 1698 A
2034(-1)S
3780 V
(18317)210 648 A
1026(#)S
(define)252 1110 A
(TRUE)168 1698 A
2076(1)S
3870 V
(18318)210 648 A
1026(#)S
(define)252 1110 A
(FALSE)210 1698 A
2076(0)S
3960 V
(18319)210 648 A
1026(#)S
(define)252 1110 A
(MAXBIT)252 1698 A
(0x80000000L)462 2034 A
4050 V
(18320)210 648 A
4140 V
(18321)210 648 A
1362(/*)S
4230 V
(18322)210 648 A
1404(*)S
(add)126 1698 A
1866(64)S
(bits)168 1992 A
4320 V
(18323)210 648 A
1404(*/)S
4410 V
(18324)210 648 A
(int)126 1026 A
4500 V
(18325)210 648 A
(b64_add\(e1,e2\))588 1026 A
4590 V
(18326)210 648 A
1698(/*)S
4680 V
(18327)210 648 A
1740(*)S
(pointers)336 1824 A
2202(to)S
2328(64)S
(bit)126 2454 A
('registers')462 2622 A
4770 V
(18328)210 648 A
1740(*/)S
4860 V
(18329)210 648 A
(register)336 1026 A
(B64)126 1698 A
(*e1,*e2;)336 2034 A
4950 V
(18330)210 648 A
1026({)S
5040 V
(18331)210 648 A
(register)336 1698 A
(int)126 2370 A
(overflow;)378 2706 A
5130 V
(18332)210 648 A
(int)126 2370 A
(carry;)252 2706 A
5220 V
(18333)210 648 A
5310 V
(18334)210 648 A
2034(/*)S
(add)126 2160 A
(higher)252 2328 A
(pair)168 2622 A
2832(of)S
2958(32)S
(bits)168 3084 A
3294(*/)S
5400 V
(18335)210 648 A
(overflow)336 1362 A
1740(=)S
(\(\(unsigned)420 1824 A
(long\))210 2286 A
(0xFFFFFFFF)420 2538 A
3000(-)S
(e1->h_32)336 3084 A
3462(<)S
(e2->h_32\);)420 3546 A
5490 V
(18336)210 648 A
(e1->h_32)336 1362 A
1740(+=)S
(e2->h_32;)378 1866 A
5580 V
(18337)210 648 A
5670 V
(18338)210 648 A
2034(/*)S
(add)126 2160 A
(lower)210 2328 A
(pair)168 2580 A
2790(of)S
2916(32)S
(bits)168 3042 A
3252(*/)S
5760 V
(18339)210 648 A
(carry)210 1362 A
1614(=)S
(\(\(unsigned)420 1698 A
(long\))210 2160 A
(0xFFFFFFFF)420 2412 A
2874(-)S
(e1->l_32)336 2958 A
3336(<)S
(e2->l_32\);)420 3420 A
5850 V
(18340)210 648 A
(e1->l_32)336 1362 A
1740(+=)S
(e2->l_32;)378 1866 A
5940 V
(18341)210 648 A
1026(#)S
(ifdef)210 1110 A
(EXT_DEBUG)378 1362 A
6030 V
(18342)210 648 A
(printf\("\\t\\t\\t\\t\\tb64_add:)1092 1362 A
(overflow)336 2496 A
(\(%d\);)210 2874 A
(internal)336 3126 A
(carry\(%d\)\\n",)546 3504 A
6120 V
(18343)210 648 A
(overflow,carry\);)672 2706 A
6210 V
(18344)210 648 A
(fflush\(stdout\);)630 1362 A
8418 V
EP
%%Page: 162 162
BP
/slant 0 def
/height 0 def
630 V
12 B
(162)180 648 A
11 R
1987(File:)S
(src/lib/float/adder.c)869 2220 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(18345)210 648 A
1026(#)S
(endif)210 1110 A
990 V
(18346)210 648 A
1362(if)S
(\(\(carry\))336 1488 A
1866(&&)S
(\(++e1->h_32)462 1992 A
2496(==)S
(0\)\))126 2622 A
1080 V
(18347)210 648 A
(return\(TRUE\);)546 1698 A
2706(/*)S
(had)126 2832 A
3000(a)S
3084(64)S
(bit)126 3210 A
(overflow)336 3378 A
3756(*/)S
1170 V
(18348)210 648 A
(return\(overflow\);)714 1362 A
2706(/*)S
(return)252 2832 A
(status)252 3126 A
(from)168 3420 A
(higher)252 3630 A
(add)126 3924 A
4092(*/)S
1260 V
(18349)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/float/adf4.c)840 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(18400)210 648 A
1026(/*)S
2340 V
(18401)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2430 V
(18402)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2520 V
(18403)210 648 A
1026(*/)S
2610 V
(18404)210 648 A
2700 V
(18405)210 648 A
1026(/*)S
($Header:)336 1152 A
(adf4.c,v)336 1530 A
(1.7)126 1908 A
(93/01/05)336 2076 A
(12:03:23)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2790 V
(18406)210 648 A
2880 V
(18407)210 648 A
1026(/*)S
2970 V
(18408)210 648 A
(ADD)126 1362 A
(TWO)126 1530 A
(FLOATS)252 1698 A
1992(-)S
(SINGLE)252 2076 A
(\(ADF)168 2370 A
2580(4\))S
3060 V
(18409)210 648 A
1026(*/)S
3150 V
(18410)210 648 A
3240 V
(18411)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
3330 V
(18412)210 648 A
3420 V
(18413)210 648 A
(void)168 1026 A
3510 V
(18414)210 648 A
(adf4\(s2,s1\))462 1026 A
3600 V
(18415)210 648 A
(SINGLE)252 1026 A
(s1,s2;)252 1362 A
3690 V
(18416)210 648 A
1026({)S
3780 V
(18417)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
3870 V
(18418)210 648 A
(int)126 1362 A
(swap)168 1698 A
1908(=)S
1992(0;)S
3960 V
(18419)210 648 A
4050 V
(18420)210 648 A
1362(if)S
(\(s1)126 1488 A
1656(==)S
(\(SINGLE\))336 1782 A
2160(0\))S
2286({)S
4140 V
(18421)210 648 A
1698(s1)S
1824(=)S
(s2;)126 1908 A
4230 V
(18422)210 648 A
(return;)294 1698 A
4320 V
(18423)210 648 A
1362(})S
4410 V
(18424)210 648 A
1362(if)S
(\(s2)126 1488 A
1656(==)S
(\(SINGLE\))336 1782 A
2160(0\))S
2286({)S
4500 V
(18425)210 648 A
(return;)294 1698 A
4590 V
(18426)210 648 A
1362(})S
4680 V
(18427)210 648 A
(extend\(&s1,&e1,sizeof\(SINGLE\)\);)1302 1362 A
4770 V
(18428)210 648 A
(extend\(&s2,&e2,sizeof\(SINGLE\)\);)1302 1362 A
4860 V
(18429)210 648 A
(add_ext\(&e1,&e2\);)714 1362 A
4950 V
(18430)210 648 A
(compact\(&e1,&s1,sizeof\(SINGLE\)\);)1344 1362 A
5040 V
(18431)210 648 A
1026(})S
8418 V
EP
%%Page: 163 163
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2012(File:)S
(src/lib/float/adf8.c)819 2245 A
12 B
(163)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/adf8.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(18500)210 648 A
1026(/*)S
1440 V
(18501)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(18502)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(18503)210 648 A
1026(*/)S
1710 V
(18504)210 648 A
1800 V
(18505)210 648 A
1026(/*)S
($Header:)336 1152 A
(adf8.c,v)336 1530 A
(1.7)126 1908 A
(93/01/05)336 2076 A
(12:03:29)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(18506)210 648 A
1980 V
(18507)210 648 A
1026(/*)S
2070 V
(18508)210 648 A
(ADD)126 1362 A
(TWO)126 1530 A
(FLOATS)252 1698 A
1992(-)S
(DOUBLE)252 2076 A
(\(ADF)168 2370 A
2580(8\))S
2160 V
(18509)210 648 A
1026(*/)S
2250 V
(18510)210 648 A
2340 V
(18511)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
2430 V
(18512)210 648 A
2520 V
(18513)210 648 A
(void)168 1026 A
2610 V
(18514)210 648 A
(adf8\(s2,s1\))462 1026 A
2700 V
(18515)210 648 A
(DOUBLE)252 1026 A
(s1,s2;)252 1362 A
2790 V
(18516)210 648 A
1026({)S
2880 V
(18517)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
2970 V
(18518)210 648 A
3060 V
(18519)210 648 A
1362(if)S
(\(s1.d[0])336 1488 A
1866(==)S
1992(0)S
2076(&&)S
(s1.d[1])294 2202 A
2538(==)S
2664(0\))S
2790({)S
3150 V
(18520)210 648 A
1698(s1)S
1824(=)S
(s2;)126 1908 A
3240 V
(18521)210 648 A
(return;)294 1698 A
3330 V
(18522)210 648 A
1362(})S
3420 V
(18523)210 648 A
1362(if)S
(\(s2.d[0])336 1488 A
1866(==)S
1992(0)S
2076(&&)S
(s2.d[1])294 2202 A
2538(==)S
2664(0\))S
2790({)S
3510 V
(18524)210 648 A
(return;)294 1698 A
3600 V
(18525)210 648 A
1362(})S
3690 V
(18526)210 648 A
3780 V
(18527)210 648 A
(extend\(&s1.d[0],&e1,sizeof\(DOUBLE\)\);)1512 1362 A
3870 V
(18528)210 648 A
(extend\(&s2.d[0],&e2,sizeof\(DOUBLE\)\);)1512 1362 A
3960 V
(18529)210 648 A
(add_ext\(&e1,&e2\);)714 1362 A
4050 V
(18530)210 648 A
(compact\(&e1,&s1.d[0],sizeof\(DOUBLE\)\);)1554 1362 A
4140 V
(18531)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/float/cff4.c)840 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(18600)210 648 A
1026(/*)S
5040 V
(18601)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
5130 V
(18602)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
5220 V
(18603)210 648 A
1026(*/)S
5310 V
(18604)210 648 A
5400 V
(18605)210 648 A
1026(/*)S
($Header:)336 1152 A
(cff4.c,v)336 1530 A
(1.5)126 1908 A
(93/01/05)336 2076 A
(12:03:36)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5490 V
(18606)210 648 A
5580 V
(18607)210 648 A
1026(/*)S
5670 V
(18608)210 648 A
(CONVERT)294 1698 A
(DOUBLE)252 2034 A
2328(TO)S
(SINGLE)252 2454 A
(\(CFF)168 2748 A
2958(8)S
3042(4\))S
5760 V
(18609)210 648 A
5850 V
(18610)210 648 A
(This)168 1362 A
(routine)294 1572 A
(works)210 1908 A
(quite)210 2160 A
(simply.)294 2412 A
2748(A)S
(floating)336 2832 A
(point)210 3210 A
5940 V
(18611)210 648 A
1362(of)S
(size)168 1488 A
1698(08)S
1824(is)S
(converted)378 1950 A
2370(to)S
(extended)336 2496 A
(format.)294 2874 A
6030 V
(18612)210 648 A
(This)168 1362 A
(extended)336 1572 A
(variable)336 1950 A
2328(is)S
(converted)378 2454 A
(back)168 2874 A
3084(to)S
6120 V
(18613)210 648 A
1362(a)S
(floating)336 1446 A
(point)210 1824 A
2076(of)S
(size)168 2202 A
(04.)126 2412 A
6210 V
(18614)210 648 A
8418 V
EP
%%Page: 164 164
BP
/slant 0 def
/height 0 def
630 V
12 B
(164)180 648 A
11 R
2021(File:)S
(src/lib/float/cff4.c)801 2254 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(18615)210 648 A
1026(*/)S
990 V
(18616)210 648 A
1080 V
(18617)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
1170 V
(18618)210 648 A
1260 V
(18619)210 648 A
(void)168 1026 A
1350 V
(18620)210 648 A
(cff4\(src\))378 1026 A
1440 V
(18621)210 648 A
(DOUBLE)252 1026 A
(src;)168 1362 A
1698(/*)S
(the)126 1824 A
(source)252 1992 A
(itself)252 2286 A
2580(-)S
(THIS)168 2706 A
(TIME)168 2916 A
(it's)168 3126 A
(DOUBLE)252 3336 A
3630(*/)S
1530 V
(18622)210 648 A
1026({)S
1620 V
(18623)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
1710 V
(18624)210 648 A
1800 V
(18625)210 648 A
(extend\(&src.d[0],&buf,sizeof\(DOUBLE\)\);)1596 1362 A
3042(/*)S
3168(no)S
(matter)252 3294 A
(what)168 3588 A
3798(*/)S
1890 V
(18626)210 648 A
(compact\(&buf,&\(src.d[1]\),sizeof\(SINGLE\)\);)1722 1362 A
1980 V
(18627)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/float/cff8.c)840 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(18700)210 648 A
1026(/*)S
2790 V
(18701)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2880 V
(18702)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2970 V
(18703)210 648 A
1026(*/)S
3060 V
(18704)210 648 A
3150 V
(18705)210 648 A
1026(/*)S
($Header:)336 1152 A
(cff8.c,v)336 1530 A
(1.5)126 1908 A
(93/01/05)336 2076 A
(12:03:41)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
3240 V
(18706)210 648 A
3330 V
(18707)210 648 A
1026(/*)S
3420 V
(18708)210 648 A
(CONVERT)294 1698 A
(SINGLE)252 2034 A
2328(TO)S
(DOUBLE)252 2454 A
(\(CFF)168 2748 A
2958(4)S
3042(8\))S
3510 V
(18709)210 648 A
3600 V
(18710)210 648 A
(This)168 1362 A
(routine)294 1572 A
(works)210 1908 A
(quite)210 2160 A
(simply.)294 2412 A
2748(A)S
(floating)336 2832 A
(point)210 3210 A
3690 V
(18711)210 648 A
1362(of)S
(size)168 1488 A
1698(04)S
1824(is)S
(converted)378 1950 A
2370(to)S
(extended)336 2496 A
(format.)294 2874 A
3780 V
(18712)210 648 A
(This)168 1362 A
(extended)336 1572 A
(variable)336 1950 A
2328(is)S
(converted)378 2454 A
(back)168 2874 A
3084(to)S
3870 V
(18713)210 648 A
1362(a)S
(floating)336 1446 A
(point)210 1824 A
2076(of)S
(size)168 2202 A
(08.)126 2412 A
3960 V
(18714)210 648 A
4050 V
(18715)210 648 A
1026(*/)S
4140 V
(18716)210 648 A
4230 V
(18717)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
4320 V
(18718)210 648 A
4410 V
(18719)210 648 A
(void)168 1026 A
4500 V
(18720)210 648 A
(cff8\(src\))378 1026 A
4590 V
(18721)210 648 A
(SINGLE)252 1026 A
(src;)168 1362 A
4680 V
(18722)210 648 A
1026({)S
4770 V
(18723)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
4860 V
(18724)210 648 A
4950 V
(18725)210 648 A
(extend\(&src,&buf,sizeof\(SINGLE\)\);)1386 1362 A
3042(/*)S
3168(no)S
(matter)252 3294 A
(what)168 3588 A
3798(*/)S
5040 V
(18726)210 648 A
(compact\(&buf,)546 1362 A
(&src,sizeof\(DOUBLE\)\);)882 1950 A
5130 V
(18727)210 648 A
1026(})S
8418 V
EP
%%Page: 165 165
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2051(File:)S
(src/lib/float/cfi.c)740 2284 A
12 B
(165)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/cfi.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(18800)210 648 A
1026(/*)S
1440 V
(18801)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(18802)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(18803)210 648 A
1026(*/)S
1710 V
(18804)210 648 A
1800 V
(18805)210 648 A
1026(/*)S
($Header:)336 1152 A
(cfi.c,v)294 1530 A
(1.5)126 1866 A
(93/01/05)336 2034 A
(12:03:48)336 2412 A
(ceriel)252 2790 A
(Exp)126 3084 A
3252($)S
3336(*/)S
1890 V
(18806)210 648 A
1980 V
(18807)210 648 A
1026(/*)S
2070 V
(18808)210 648 A
(CONVERT)294 1698 A
(FLOAT)210 2034 A
2286(TO)S
(SIGNED)252 2412 A
(\(CFI)168 2706 A
2916(m)S
3000(n\))S
2160 V
(18809)210 648 A
2250 V
(18810)210 648 A
(N.B.)168 1698 A
(The)126 1908 A
(caller)252 2076 A
(must)168 2370 A
(know)168 2580 A
(what)168 2790 A
3000(it)S
3126(is)S
(getting.)336 3252 A
2340 V
(18811)210 648 A
1908(A)S
(LONG)168 1992 A
2202(is)S
(always)252 2328 A
(returned.)378 2622 A
3042(If)S
3168(it)S
3294(is)S
3420(an)S
2430 V
(18812)210 648 A
(integer)294 1908 A
(the)126 2244 A
(high)168 2412 A
(byte)168 2622 A
2832(is)S
(cleared)294 2958 A
(first.)252 3294 A
2520 V
(18813)210 648 A
1026(*/)S
2610 V
(18814)210 648 A
2700 V
(18815)210 648 A
(#include)336 1026 A
("FP_trap.h")462 1404 A
2790 V
(18816)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2880 V
(18817)210 648 A
(#include)336 1026 A
("FP_shift.h")504 1404 A
2970 V
(18818)210 648 A
3060 V
(18819)210 648 A
(long)168 1026 A
3150 V
(18820)210 648 A
(cfi\(ds,ss,src\))588 1026 A
3240 V
(18821)210 648 A
(int)126 1026 A
(ds;)126 1362 A
1698(/*)S
(destination)462 1824 A
(size)168 2328 A
2538(\(2)S
2664(or)S
2790(4\))S
2916(*/)S
3330 V
(18822)210 648 A
(int)126 1026 A
(ss;)126 1362 A
1698(/*)S
(source)252 1824 A
(size)168 2118 A
2538(\(4)S
2664(or)S
2790(8\))S
2916(*/)S
3420 V
(18823)210 648 A
(DOUBLE)252 1026 A
(src;)168 1362 A
1698(/*)S
(assume)252 1824 A
(worst)210 2118 A
(case)168 2370 A
2580(*/)S
3510 V
(18824)210 648 A
1026({)S
3600 V
(18825)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
3690 V
(18826)210 648 A
(long)168 1362 A
(new;)168 1698 A
3780 V
(18827)210 648 A
(short)210 1362 A
(max_exp;)336 1698 A
3870 V
(18828)210 648 A
3960 V
(18829)210 648 A
(extend\(&src.d[0],&buf,ss\);)1092 1362 A
2706(/*)S
(get)126 2832 A
(extended)336 3000 A
(format)252 3378 A
3672(*/)S
4050 V
(18830)210 648 A
1362(if)S
(\(buf.exp)336 1488 A
1866(<)S
1950(0\))S
2076({)S
2370(/*)S
2496(no)S
(conversion)420 2622 A
(needed)252 3084 A
3378(*/)S
4140 V
(18831)210 648 A
(src.d[ss)336 1698 A
2076(==)S
2202(8])S
2328(=)S
(0L;)126 2412 A
4230 V
(18832)210 648 A
(return\(0L\);)462 1698 A
4320 V
(18833)210 648 A
1362(})S
4410 V
(18834)210 648 A
(max_exp)294 1362 A
1698(=)S
(\(ds)126 1782 A
1950(<<)S
2076(3\))S
2202(-)S
2286(2;)S
2706(/*)S
(signed)252 2832 A
(numbers)294 3126 A
3462(*/)S
4500 V
(18835)210 648 A
2370(/*)S
(have)168 2496 A
(more)168 2706 A
(limited)294 2916 A
(max_exp)294 3252 A
3588(*/)S
4590 V
(18836)210 648 A
1362(if)S
(\(buf.exp)336 1488 A
1866(>)S
(max_exp\))336 1950 A
2328({)S
4680 V
(18837)210 648 A
1698(if)S
(\(buf.exp)336 1824 A
2202(==)S
(max_exp+1)378 2328 A
2748(&&)S
(buf.sign)336 2874 A
3252(&&)S
(buf.m1)252 3378 A
3672(==)S
(NORMBIT)294 3798 A
4134(&&)S
4770 V
(18838)210 648 A
(buf.m2)252 1866 A
2160(==)S
(0L\))126 2286 A
2454({)S
4860 V
(18839)210 648 A
1698(})S
4950 V
(18840)210 648 A
(else)168 1698 A
1908({)S
5040 V
(18841)210 648 A
(trap\(EIOVFL\);)546 2034 A
2706(/*)S
(integer)294 2832 A
(overflow)336 3168 A
3714(*/)S
5130 V
(18842)210 648 A
(buf.exp)294 2034 A
2370(%=)S
(max_exp;)336 2496 A
2874(/*)S
(truncate)336 3000 A
3378(*/)S
5220 V
(18843)210 648 A
1698(})S
5310 V
(18844)210 648 A
1362(})S
5400 V
(18845)210 648 A
(new)126 1362 A
1530(=)S
(buf.m1)252 1614 A
1908(>>)S
(\(31-buf.exp\);)546 2034 A
5490 V
(18846)210 648 A
1362(if)S
(\(buf.sign\))420 1488 A
5580 V
(18847)210 648 A
(new)126 1698 A
1866(=)S
(-new;)210 1950 A
5670 V
(18848)210 648 A
(done:)210 1026 A
5760 V
(18849)210 648 A
(src.d[ss)336 1362 A
1740(==)S
1866(8])S
1992(=)S
(new;)168 2076 A
5850 V
(18850)210 648 A
(return\(new\);)504 1362 A
5940 V
(18851)210 648 A
1026(})S
8418 V
EP
%%Page: 166 166
BP
/slant 0 def
/height 0 def
630 V
12 B
(166)180 648 A
11 R
2039(File:)S
(src/lib/float/cfu.c)764 2272 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/cfu.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(18900)210 648 A
1026(/*)S
1440 V
(18901)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(18902)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(18903)210 648 A
1026(*/)S
1710 V
(18904)210 648 A
1800 V
(18905)210 648 A
1026(/*)S
($Header:)336 1152 A
(cfu.c,v)294 1530 A
(1.5)126 1866 A
(93/01/05)336 2034 A
(12:03:55)336 2412 A
(ceriel)252 2790 A
(Exp)126 3084 A
3252($)S
3336(*/)S
1890 V
(18906)210 648 A
1980 V
(18907)210 648 A
1026(/*)S
2070 V
(18908)210 648 A
(CONVERT)294 1698 A
(FLOAT)210 2034 A
2286(TO)S
(UNSIGNED)336 2412 A
(\(CFU)168 2790 A
3000(m)S
3084(n\))S
2160 V
(18909)210 648 A
2250 V
(18910)210 648 A
(N.B.)168 1698 A
(The)126 1908 A
(caller)252 2076 A
(must)168 2370 A
(know)168 2580 A
(what)168 2790 A
3000(it)S
3126(is)S
(getting.)336 3252 A
2340 V
(18911)210 648 A
1908(A)S
(LONG)168 1992 A
2202(is)S
(always)252 2328 A
(returned.)378 2622 A
3042(If)S
3168(it)S
3294(is)S
3420(an)S
2430 V
(18912)210 648 A
(integer)294 1908 A
(the)126 2244 A
(high)168 2412 A
(byte)168 2622 A
2832(is)S
(cleared)294 2958 A
(first.)252 3294 A
2520 V
(18913)210 648 A
1026(*/)S
2610 V
(18914)210 648 A
2700 V
(18915)210 648 A
(#include)336 1026 A
("FP_trap.h")462 1404 A
2790 V
(18916)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2880 V
(18917)210 648 A
2970 V
(18918)210 648 A
(long)168 1026 A
3060 V
(18919)210 648 A
(cfu\(ds,ss,src\))588 1026 A
3150 V
(18920)210 648 A
(int)126 1026 A
(ds;)126 1362 A
1698(/*)S
(destination)462 1824 A
(size)168 2328 A
2538(\(2)S
2664(or)S
2790(4\))S
2916(*/)S
3240 V
(18921)210 648 A
(int)126 1026 A
(ss;)126 1362 A
1698(/*)S
(source)252 1824 A
(size)168 2118 A
2538(\(4)S
2664(or)S
2790(8\))S
2916(*/)S
3330 V
(18922)210 648 A
(DOUBLE)252 1026 A
(src;)168 1362 A
1698(/*)S
(assume)252 1824 A
(worst)210 2118 A
(case)168 2370 A
2580(*/)S
3420 V
(18923)210 648 A
1026({)S
3510 V
(18924)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
3600 V
(18925)210 648 A
(long)168 1362 A
(new;)168 1698 A
3690 V
(18926)210 648 A
(short)210 1362 A
(newint,)294 1698 A
(max_exp;)336 2034 A
3780 V
(18927)210 648 A
3870 V
(18928)210 648 A
(extend\(&src.d[0],&buf,ss\);)1092 1362 A
2706(/*)S
(get)126 2832 A
(extended)336 3000 A
(format)252 3378 A
3714(*/)S
3960 V
(18929)210 648 A
1362(if)S
(\(buf.exp)336 1488 A
1866(<)S
1950(0\))S
2076({)S
2370(/*)S
2496(no)S
(conversion)420 2622 A
(needed)252 3084 A
3378(*/)S
4050 V
(18930)210 648 A
(src.d[ss)336 1698 A
2076(==)S
2202(8])S
2328(=)S
(0L;)126 2412 A
4140 V
(18931)210 648 A
(return\(0L\);)462 1698 A
4230 V
(18932)210 648 A
1362(})S
4320 V
(18933)210 648 A
(max_exp)294 1362 A
1698(=)S
(\(ds)126 1782 A
1950(<<)S
2076(3\))S
2202(-)S
2286(1;)S
4410 V
(18934)210 648 A
1362(if)S
(\(buf.exp)336 1488 A
1866(>)S
(max_exp\))336 1950 A
2328({)S
4500 V
(18935)210 648 A
(trap\(EIOVFL\);)546 1698 A
2370(/*)S
(integer)294 2496 A
(overflow)336 2832 A
3378(*/)S
4590 V
(18936)210 648 A
(buf.exp)294 1698 A
2034(%=)S
(max_exp;)336 2160 A
4680 V
(18937)210 648 A
1362(})S
4770 V
(18938)210 648 A
(new)126 1362 A
1530(=)S
(buf.m1)252 1614 A
1908(>>)S
(\(31-buf.exp\);)546 2034 A
4860 V
(18939)210 648 A
(done:)210 1026 A
4950 V
(18940)210 648 A
(src.d[ss)336 1362 A
1740(==)S
1866(8])S
1992(=)S
(new;)168 2076 A
5040 V
(18941)210 648 A
(return\(new\);)504 1362 A
5130 V
(18942)210 648 A
1026(})S
8418 V
EP
%%Page: 167 167
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2024(File:)S
(src/lib/float/cif4.c)795 2257 A
12 B
(167)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/cif4.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(19000)210 648 A
1026(/*)S
1440 V
(19001)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(19002)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(19003)210 648 A
1026(*/)S
1710 V
(19004)210 648 A
1800 V
(19005)210 648 A
1026(/*)S
($Header:)336 1152 A
(cif4.c,v)336 1530 A
(1.5)126 1908 A
(93/01/05)336 2076 A
(12:04:01)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(19006)210 648 A
1980 V
(19007)210 648 A
1026(/*)S
2070 V
(19008)210 648 A
(CONVERT)294 1362 A
(INTEGER)294 1698 A
2034(TO)S
(SINGLE)252 2160 A
(\(CIF)168 2454 A
2664(n)S
2748(4\))S
2160 V
(19009)210 648 A
2250 V
(19010)210 648 A
(THIS)168 1362 A
(ROUTINE)294 1572 A
(WORKS)210 1908 A
2160(BY)S
(FILLING)294 2286 A
2622(AN)S
(EXTENDED)336 2748 A
2340 V
(19011)210 648 A
(WITH)168 1362 A
(THE)126 1572 A
(INTEGER)294 1740 A
(VALUE)210 2076 A
2328(IN)S
(EXTENDED)336 2454 A
(FORMAT)252 2832 A
2430 V
(19012)210 648 A
(AND)126 1362 A
(USES)168 1530 A
(COMPACT\(\))378 1740 A
2160(TO)S
(PUT)126 2286 A
2454(IT)S
(INTO)168 2580 A
(THE)126 2790 A
(PROPER)252 2958 A
2520 V
(19013)210 648 A
(FLOATING)336 1362 A
(POINT)210 1740 A
(PRECISION.)420 1992 A
2610 V
(19014)210 648 A
1026(*/)S
2700 V
(19015)210 648 A
2790 V
(19016)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2880 V
(19017)210 648 A
2970 V
(19018)210 648 A
(void)168 1026 A
3060 V
(19019)210 648 A
(cif4\(ss,src\))504 1026 A
3150 V
(19020)210 648 A
(int)126 1026 A
(ss;)126 1362 A
1698(/*)S
(source)252 1824 A
(size)168 2118 A
2328(*/)S
3240 V
(19021)210 648 A
(long)168 1026 A
(src;)168 1362 A
1698(/*)S
(largest)294 1824 A
(possible)336 2160 A
(integer)294 2538 A
2874(to)S
(convert)294 3000 A
3336(*/)S
3330 V
(19022)210 648 A
1026({)S
3420 V
(19023)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
3510 V
(19024)210 648 A
(short)210 1362 A
(*ipt;)210 1698 A
3600 V
(19025)210 648 A
(long)168 1362 A
(i_src;)252 1698 A
3690 V
(19026)210 648 A
(SINGLE)252 1362 A
(*result;)336 1698 A
3780 V
(19027)210 648 A
3870 V
(19028)210 648 A
(zrf_ext\(&buf\);)588 1362 A
3960 V
(19029)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(==)S
(sizeof\(long\)\))546 1782 A
2370({)S
4050 V
(19030)210 648 A
(buf.exp)294 1698 A
2034(=)S
(31;)126 2118 A
4140 V
(19031)210 648 A
(i_src)210 1698 A
1950(=)S
(src;)168 2034 A
4230 V
(19032)210 648 A
(result)252 1698 A
1992(=)S
(\(SINGLE)294 2076 A
2412(*\))S
(&src;)210 2538 A
4320 V
(19033)210 648 A
1362(})S
4410 V
(19034)210 648 A
(else)168 1362 A
1698({)S
4500 V
(19035)210 648 A
(ipt)126 1698 A
1866(=)S
(\(short)252 1950 A
2244(*\))S
(&src;)210 2370 A
4590 V
(19036)210 648 A
(i_src)210 1698 A
1950(=)S
(\(long\))252 2034 A
(*ipt;)210 2328 A
4680 V
(19037)210 648 A
(buf.exp)294 1698 A
2034(=)S
(15;)126 2118 A
4770 V
(19038)210 648 A
(result)252 1698 A
1992(=)S
(\(SINGLE)294 2076 A
2412(*\))S
(&ss;)168 2538 A
4860 V
(19039)210 648 A
1362(})S
4950 V
(19040)210 648 A
1362(if)S
(\(i_src)252 1488 A
1782(==)S
1908(0\))S
2034({)S
5040 V
(19041)210 648 A
(*result)294 1698 A
2034(=)S
(\(SINGLE\))336 2118 A
(0L;)126 2496 A
5130 V
(19042)210 648 A
(return;)294 1698 A
5220 V
(19043)210 648 A
1362(})S
5310 V
(19044)210 648 A
2034(/*)S
(ESTABLISHED)462 2160 A
(THAT)168 2664 A
(src)126 2874 A
3042(!=)S
3168(0)S
3378(*/)S
5400 V
(19045)210 648 A
2034(/*)S
(adjust)252 2160 A
(exponent)336 2454 A
(field)210 2832 A
3378(*/)S
5490 V
(19046)210 648 A
(buf.sign)336 1362 A
1740(=)S
(\(i_src)252 1824 A
2118(<)S
2202(0\))S
2328(?)S
(0x8000)252 2412 A
2706(:)S
2790(0;)S
5580 V
(19047)210 648 A
2034(/*)S
(clear)210 2160 A
(sign)168 2412 A
(bit)126 2622 A
2790(of)S
(integer)294 2916 A
3378(*/)S
5670 V
(19048)210 648 A
2034(/*)S
(move)168 2160 A
2370(to)S
(mantissa)336 2496 A
(field)210 2874 A
3378(*/)S
5760 V
(19049)210 648 A
(buf.m1)252 1362 A
1656(=)S
(\(i_src)252 1740 A
2034(<)S
2118(0\))S
2244(?)S
(-i_src)252 2328 A
2622(:)S
(i_src;)252 2706 A
5850 V
(19050)210 648 A
2034(/*)S
(adjust)252 2160 A
(mantissa)336 2454 A
(field)210 2832 A
3378(*/)S
5940 V
(19051)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(!=)S
(sizeof\(long\)\))546 1782 A
6030 V
(19052)210 648 A
(buf.m1)252 1698 A
(<<=)126 1992 A
(16;)126 2160 A
6120 V
(19053)210 648 A
(nrm_ext\(&buf\);)588 1362 A
2370(/*)S
(adjust)252 2496 A
(mantissa)336 2790 A
(field)210 3168 A
3714(*/)S
6210 V
(19054)210 648 A
(compact\(&buf,)546 1362 A
(result,sizeof\(SINGLE\)\);)966 1950 A
3042(/*)S
(put)126 3168 A
3336(on)S
(stack)210 3462 A
3714(*/)S
8418 V
EP
%%Page: 168 168
BP
/slant 0 def
/height 0 def
630 V
12 B
(168)180 648 A
11 R
2024(File:)S
(src/lib/float/cif4.c)795 2257 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(19055)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/float/cif8.c)840 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(19100)210 648 A
1026(/*)S
1890 V
(19101)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1980 V
(19102)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2070 V
(19103)210 648 A
1026(*/)S
2160 V
(19104)210 648 A
2250 V
(19105)210 648 A
1026(/*)S
($Header:)336 1152 A
(cif8.c,v)336 1530 A
(1.5)126 1908 A
(93/01/05)336 2076 A
(12:04:07)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2340 V
(19106)210 648 A
2430 V
(19107)210 648 A
1026(/*)S
2520 V
(19108)210 648 A
(CONVERT)294 1362 A
(INTEGER)294 1698 A
2034(TO)S
(FLOAT)210 2160 A
(\(CIF)168 2412 A
2622(n)S
2706(8\))S
2610 V
(19109)210 648 A
2700 V
(19110)210 648 A
(THIS)168 1362 A
(ROUTINE)294 1572 A
(WORKS)210 1908 A
2160(BY)S
(FILLING)294 2286 A
2622(AN)S
(EXTENDED)336 2748 A
2790 V
(19111)210 648 A
(WITH)168 1362 A
(THE)126 1572 A
(INTEGER)294 1740 A
(VALUE)210 2076 A
2328(IN)S
(EXTENDED)336 2454 A
(FORMAT)252 2832 A
2880 V
(19112)210 648 A
(AND)126 1362 A
(USES)168 1530 A
(COMPACT\(\))378 1740 A
2160(TO)S
(PUT)126 2286 A
2454(IT)S
(INTO)168 2580 A
(THE)126 2790 A
(PROPER)252 2958 A
2970 V
(19113)210 648 A
(FLOATING)336 1362 A
(POINT)210 1740 A
(PRECISION.)420 1992 A
3060 V
(19114)210 648 A
1026(*/)S
3150 V
(19115)210 648 A
3240 V
(19116)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
3330 V
(19117)210 648 A
3420 V
(19118)210 648 A
(void)168 1026 A
3510 V
(19119)210 648 A
(cif8\(ss,src\))504 1026 A
3600 V
(19120)210 648 A
(int)126 1026 A
(ss;)126 1362 A
1698(/*)S
(source)252 1824 A
(size)168 2118 A
2328(*/)S
3690 V
(19121)210 648 A
(long)168 1026 A
(src;)168 1362 A
1698(/*)S
(largest)294 1824 A
(possible)336 2160 A
(integer)294 2538 A
2874(to)S
(convert)294 3000 A
3336(*/)S
3780 V
(19122)210 648 A
1026({)S
3870 V
(19123)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
3960 V
(19124)210 648 A
(DOUBLE)252 1362 A
(*result;)336 1698 A
2370(/*)S
(for)126 2496 A
(return)252 2664 A
(value)210 2958 A
3210(*/)S
4050 V
(19125)210 648 A
(short)210 1362 A
(*ipt;)210 1698 A
4140 V
(19126)210 648 A
(long)168 1362 A
(i_src;)252 1698 A
4230 V
(19127)210 648 A
4320 V
(19128)210 648 A
(result)252 1362 A
1656(=)S
(\(DOUBLE)294 1740 A
2076(*\))S
(\(\(void)252 2202 A
2496(*\))S
(&ss\);)210 2622 A
3042(/*)S
(always)252 3168 A
3462(*/)S
4410 V
(19129)210 648 A
(zrf_ext\(&buf\);)588 1362 A
4500 V
(19130)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(==)S
(sizeof\(long\)\))546 1782 A
2370({)S
4590 V
(19131)210 648 A
(buf.exp)294 1698 A
2034(=)S
(31;)126 2118 A
4680 V
(19132)210 648 A
(i_src)210 1698 A
1950(=)S
(src;)168 2034 A
4770 V
(19133)210 648 A
1362(})S
4860 V
(19134)210 648 A
(else)168 1362 A
1698({)S
4950 V
(19135)210 648 A
(ipt)126 1698 A
1866(=)S
(\(short)252 1950 A
2244(*\))S
(&src;)210 2370 A
5040 V
(19136)210 648 A
(i_src)210 1698 A
1950(=)S
(\(long\))252 2034 A
(*ipt;)210 2328 A
5130 V
(19137)210 648 A
(buf.exp)294 1698 A
2034(=)S
(15;)126 2118 A
5220 V
(19138)210 648 A
1362(})S
5310 V
(19139)210 648 A
1362(if)S
(\(i_src)252 1488 A
1782(==)S
1908(0\))S
2034({)S
5400 V
(19140)210 648 A
(zrf8\(result\);)546 1698 A
5490 V
(19141)210 648 A
(return;)294 1698 A
5580 V
(19142)210 648 A
1362(})S
5670 V
(19143)210 648 A
2034(/*)S
(ESTABLISHED)462 2160 A
(THAT)168 2664 A
(src)126 2874 A
3042(!=)S
3168(0)S
3378(*/)S
5760 V
(19144)210 648 A
2034(/*)S
(adjust)252 2160 A
(exponent)336 2454 A
(field)210 2832 A
3378(*/)S
5850 V
(19145)210 648 A
(buf.sign)336 1362 A
1740(=)S
(\(i_src)252 1824 A
2118(<)S
2202(0\))S
2328(?)S
(0x8000)252 2412 A
2706(:)S
2790(0;)S
5940 V
(19146)210 648 A
2034(/*)S
(clear)210 2160 A
(sign)168 2412 A
(bit)126 2622 A
2790(of)S
(integer)294 2916 A
3378(*/)S
6030 V
(19147)210 648 A
2034(/*)S
(move)168 2160 A
2370(to)S
(mantissa)336 2496 A
(field)210 2874 A
3378(*/)S
6120 V
(19148)210 648 A
(buf.m1)252 1362 A
1656(=)S
(\(i_src)252 1740 A
2034(<)S
2118(0\))S
2244(?)S
(-i_src)252 2328 A
2622(:)S
(i_src;)252 2706 A
6210 V
(19149)210 648 A
2034(/*)S
(adjust)252 2160 A
(mantissa)336 2454 A
(field)210 2832 A
3378(*/)S
8418 V
EP
%%Page: 169 169
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2024(File:)S
(src/lib/float/cif8.c)795 2257 A
12 B
(169)180 4248 A
900 V
7 LST
(19150)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(!=)S
(sizeof\(long\)\))546 1782 A
990 V
(19151)210 648 A
(buf.m1)252 1698 A
(<<=)126 1992 A
(16;)126 2160 A
1080 V
(19152)210 648 A
(nrm_ext\(&buf\);)588 1362 A
1170 V
(19153)210 648 A
(compact\(&buf,&result->d[0],8\);)1260 1362 A
1260 V
(19154)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/float/cmf4.c)840 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(19200)210 648 A
1026(/*)S
2340 V
(19201)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2430 V
(19202)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2520 V
(19203)210 648 A
1026(*/)S
2610 V
(19204)210 648 A
2700 V
(19205)210 648 A
1026(/*)S
($Header:)336 1152 A
(cmf4.c,v)336 1530 A
(1.6)126 1908 A
(93/01/05)336 2076 A
(12:04:14)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2790 V
(19206)210 648 A
2880 V
(19207)210 648 A
1026(/*)S
2970 V
(19208)210 648 A
(COMPARE)294 1362 A
(SINGLES)294 1698 A
(\(CMF)168 2034 A
2244(4\))S
3060 V
(19209)210 648 A
1026(*/)S
3150 V
(19210)210 648 A
3240 V
(19211)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
3330 V
(19212)210 648 A
(#include)336 1026 A
("get_put.h")462 1698 A
3420 V
(19213)210 648 A
3510 V
(19214)210 648 A
(int)126 1026 A
3600 V
(19215)210 648 A
(cmf4\(f1,f2\))462 1026 A
3690 V
(19216)210 648 A
(SINGLE)252 1026 A
(f1,f2;)252 1362 A
3780 V
(19217)210 648 A
1026({)S
3870 V
(19218)210 648 A
1698(/*)S
3960 V
(19219)210 648 A
1740(*)S
(return)252 1824 A
(\(\(f1)168 2118 A
2328(<)S
(f2\))126 2412 A
2580(?)S
2664(1)S
2748(:)S
(\(f1)126 2832 A
3000(-)S
(f2\)\))168 3084 A
4050 V
(19220)210 648 A
1740(*/)S
4140 V
(19221)210 648 A
(#define)294 1026 A
(SIGN\(x\))294 1362 A
(\(\(\(x\))210 1698 A
1950(<)S
2034(0\))S
2160(?)S
2244(-1)S
2370(:)S
2454(1\))S
4230 V
(19222)210 648 A
(int)126 1362 A
(sign1,sign2;)504 1698 A
4320 V
(19223)210 648 A
(long)168 1362 A
(l1,l2;)252 1698 A
4410 V
(19224)210 648 A
4500 V
(19225)210 648 A
1362(l1)S
1488(=)S
(get4\(\(char)420 1572 A
2034(*\))S
(&f1\);)210 2160 A
4590 V
(19226)210 648 A
1362(l2)S
1488(=)S
(get4\(\(char)420 1572 A
2034(*\))S
(&f2\);)210 2160 A
4680 V
(19227)210 648 A
4770 V
(19228)210 648 A
1362(if)S
(\(l1)126 1488 A
1656(==)S
(l2\))126 1782 A
(return)252 1950 A
2244(0;)S
4860 V
(19229)210 648 A
4950 V
(19230)210 648 A
(sign1)210 1362 A
1614(=)S
(SIGN\(l1\);)378 1698 A
5040 V
(19231)210 648 A
(sign2)210 1362 A
1614(=)S
(SIGN\(l2\);)378 1698 A
5130 V
(19232)210 648 A
1362(if)S
(\(sign1)252 1488 A
1782(!=)S
(sign2\))252 1908 A
2202({)S
5220 V
(19233)210 648 A
1698(if)S
(\(\(l1)168 1824 A
2034(&)S
(0x7fffffff\))462 2118 A
2622(==)S
2748(0)S
2832(&&)S
5310 V
(19234)210 648 A
(\(l2)126 1866 A
2034(&)S
(0x7fffffff\))462 2118 A
2622(==)S
2748(0\))S
(return)252 2874 A
3168(0;)S
5400 V
(19235)210 648 A
(return)252 1698 A
(\(\(sign1)294 1992 A
2328(>)S
2412(0\))S
2538(?)S
2622(-1)S
2748(:)S
(1\);)126 2832 A
5490 V
(19236)210 648 A
1362(})S
5580 V
(19237)210 648 A
5670 V
(19238)210 648 A
(return)252 1362 A
(\(sign1)252 1656 A
1950(*)S
(\(\(l1)168 2034 A
2244(<)S
(l2\))126 2328 A
2496(?)S
2580(1)S
2664(:)S
(-1\)\);)210 2748 A
5760 V
(19239)210 648 A
1026(})S
8418 V
EP
%%Page: 170 170
BP
/slant 0 def
/height 0 def
630 V
12 B
(170)180 648 A
11 R
1996(File:)S
(src/lib/float/cmf8.c)850 2229 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/cmf8.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(19300)210 648 A
1026(/*)S
1440 V
(19301)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(19302)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(19303)210 648 A
1026(*/)S
1710 V
(19304)210 648 A
1800 V
(19305)210 648 A
1026(/*)S
($Header:)336 1152 A
(cmf8.c,v)336 1530 A
(1.9)126 1908 A
(93/01/05)336 2076 A
(12:04:22)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(19306)210 648 A
1980 V
(19307)210 648 A
1026(/*)S
2070 V
(19308)210 648 A
(COMPARE)294 1362 A
(DOUBLES)294 1698 A
(\(CMF)168 2034 A
2244(8\))S
2160 V
(19309)210 648 A
1026(*/)S
2250 V
(19310)210 648 A
2340 V
(19311)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
2430 V
(19312)210 648 A
(#include)336 1026 A
("get_put.h")462 1698 A
2520 V
(19313)210 648 A
2610 V
(19314)210 648 A
(int)126 1026 A
2700 V
(19315)210 648 A
(cmf8\(d1,d2\))462 1026 A
2790 V
(19316)210 648 A
(DOUBLE)252 1026 A
(d1,d2;)252 1362 A
2880 V
(19317)210 648 A
1026({)S
2970 V
(19318)210 648 A
(#define)294 1026 A
(SIGN\(x\))294 1362 A
(\(\(\(x\))210 1698 A
1950(<)S
2034(0\))S
2160(?)S
2244(-1)S
2370(:)S
2454(1\))S
3060 V
(19319)210 648 A
1698(/*)S
3150 V
(19320)210 648 A
1740(*)S
(return)252 1824 A
(\(\(d1)168 2118 A
2328(<)S
(d2\))126 2412 A
2580(?)S
2664(1)S
2748(:)S
(\(d1)126 2832 A
3000(>)S
(d2\))126 3084 A
3252(?)S
3336(-1)S
3462(:)S
(0\)\))126 3546 A
3240 V
(19321)210 648 A
1740(*/)S
3330 V
(19322)210 648 A
(long)168 1362 A
(l1,l2;)252 1698 A
3420 V
(19323)210 648 A
(int)126 1362 A
(sign1,sign2;)504 1698 A
3510 V
(19324)210 648 A
(int)126 1362 A
(rv;)126 1698 A
3600 V
(19325)210 648 A
3690 V
(19326)210 648 A
(#if)126 1026 A
(FL_MSL_AT_LOW_ADDRESS)882 1194 A
3780 V
(19327)210 648 A
1362(l1)S
1488(=)S
(get4\(\(char)420 1572 A
(*\)&d1\);)294 2034 A
3870 V
(19328)210 648 A
1362(l2)S
1488(=)S
(get4\(\(char)420 1572 A
(*\)&d2\);)294 2034 A
3960 V
(19329)210 648 A
(#else)210 1026 A
4050 V
(19330)210 648 A
1362(l1)S
1488(=)S
(get4\(\(\(char)462 1572 A
(*\)&d1+4\)\);)420 2076 A
4140 V
(19331)210 648 A
1362(l2)S
1488(=)S
(get4\(\(\(char)462 1572 A
(*\)&d2+4\)\);)420 2076 A
4230 V
(19332)210 648 A
(#endif)252 1026 A
4320 V
(19333)210 648 A
(sign1)210 1362 A
1614(=)S
(SIGN\(l1\);)378 1698 A
4410 V
(19334)210 648 A
(sign2)210 1362 A
1614(=)S
(SIGN\(l2\);)378 1698 A
4500 V
(19335)210 648 A
1362(if)S
(\(sign1)252 1488 A
1782(!=)S
(sign2\))252 1908 A
2202({)S
4590 V
(19336)210 648 A
1698(l1)S
1824(&=)S
(0x7fffffff;)462 1950 A
4680 V
(19337)210 648 A
1698(l2)S
1824(&=)S
(0x7fffffff;)462 1950 A
4770 V
(19338)210 648 A
1698(if)S
(\(l1)126 1824 A
1992(!=)S
2118(0)S
2202(||)S
2328(l2)S
2454(!=)S
2580(0\))S
2706({)S
4860 V
(19339)210 648 A
(return)252 2034 A
(\(\(sign1)294 2328 A
2664(>)S
2748(0\))S
2874(?)S
2958(-1)S
3084(:)S
(1\);)126 3168 A
4950 V
(19340)210 648 A
1698(})S
5040 V
(19341)210 648 A
1362(})S
5130 V
(19342)210 648 A
1362(if)S
(\(l1)126 1488 A
1656(!=)S
(l2\))126 1782 A
2034({)S
2370(/*)S
2496(we)S
(can)126 2622 A
(decide)252 2790 A
(here)168 3084 A
3294(*/)S
5220 V
(19343)210 648 A
1698(rv)S
1824(=)S
1908(l1)S
2034(<)S
2118(l2)S
2244(?)S
2328(1)S
2412(:)S
(-1;)126 2496 A
5310 V
(19344)210 648 A
1362(})S
5400 V
(19345)210 648 A
(else)168 1362 A
1698({)S
2370(/*)S
(decide)252 2496 A
2790(in)S
(2nd)126 2916 A
(half)168 3084 A
3294(*/)S
5490 V
(19346)210 648 A
(unsigned)336 1698 A
(long)168 2076 A
(u1,)126 2286 A
(u2;)126 2454 A
5580 V
(19347)210 648 A
(#if)126 1026 A
(FL_MSL_AT_LOW_ADDRESS)882 1194 A
5670 V
(19348)210 648 A
1698(u1)S
1824(=)S
(get4\(\(\(char)462 1908 A
(*\)&d1)210 2412 A
2664(+)S
(4\)\);)168 2748 A
5760 V
(19349)210 648 A
1698(u2)S
1824(=)S
(get4\(\(\(char)462 1908 A
(*\)&d2)210 2412 A
2664(+)S
(4\)\);)168 2748 A
5850 V
(19350)210 648 A
(#else)210 1026 A
5940 V
(19351)210 648 A
1698(u1)S
1824(=)S
(get4\(\(char)420 1908 A
(*\)&d1\);)294 2370 A
6030 V
(19352)210 648 A
1698(u2)S
1824(=)S
(get4\(\(char)420 1908 A
(*\)&d2\);)294 2370 A
6120 V
(19353)210 648 A
(#endif)252 1026 A
6210 V
(19354)210 648 A
1698(if)S
(\(u1)126 1824 A
1992(==)S
(u2\))126 2118 A
8418 V
EP
%%Page: 171 171
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1996(File:)S
(src/lib/float/cmf8.c)850 2229 A
12 B
(171)180 4248 A
900 V
7 LST
(19355)210 648 A
(return\(0\);)420 2034 A
990 V
(19356)210 648 A
1698(if)S
(\(u1)126 1824 A
1992(<)S
(u2\))126 2076 A
2244(rv)S
2370(=)S
2454(1;)S
1080 V
(19357)210 648 A
(else)168 1698 A
1908(rv)S
2034(=)S
(-1;)126 2118 A
1170 V
(19358)210 648 A
1362(})S
1260 V
(19359)210 648 A
(return)252 1362 A
(sign1)210 1656 A
1908(*)S
(rv;)126 1992 A
1350 V
(19360)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/float/compact.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(19400)210 648 A
1026(/*)S
2340 V
(19401)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2430 V
(19402)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2520 V
(19403)210 648 A
1026(*/)S
2610 V
(19404)210 648 A
2700 V
(19405)210 648 A
1026(/*)S
($Header:)336 1152 A
(compact.c,v)462 1530 A
(1.13)168 2034 A
(93/01/05)336 2244 A
(12:04:28)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
2790 V
(19406)210 648 A
2880 V
(19407)210 648 A
1026(/*)S
2970 V
(19408)210 648 A
(COMPACT)294 1362 A
(EXTEND)252 1698 A
(FORMAT)252 1992 A
(INTO)168 2286 A
(FLOAT)210 2496 A
2748(OF)S
(PROPER)252 2874 A
(SIZE)168 3168 A
3060 V
(19409)210 648 A
1026(*/)S
3150 V
(19410)210 648 A
3240 V
(19411)210 648 A
1026(#)S
(include)294 1110 A
("FP_bias.h")462 1446 A
3330 V
(19412)210 648 A
1026(#)S
(include)294 1110 A
("FP_shift.h")504 1446 A
3420 V
(19413)210 648 A
1026(#)S
(include)294 1110 A
("FP_trap.h")462 1446 A
3510 V
(19414)210 648 A
1026(#)S
(include)294 1110 A
("FP_types.h")504 1446 A
3600 V
(19415)210 648 A
1026(#)S
(include)294 1110 A
("get_put.h")462 1446 A
3690 V
(19416)210 648 A
3780 V
(19417)210 648 A
(void)168 1026 A
3870 V
(19418)210 648 A
(compact\(f,to,size\))756 1026 A
3960 V
(19419)210 648 A
(EXTEND)252 1026 A
(*f;)126 1362 A
4050 V
(19420)210 648 A
(unsigned)336 1026 A
(long)168 1404 A
(*to;)168 1698 A
4140 V
(19421)210 648 A
(int)126 1026 A
(size;)210 1362 A
4230 V
(19422)210 648 A
1026({)S
4320 V
(19423)210 648 A
(int)126 1362 A
(error)210 1698 A
1950(=)S
2034(0;)S
4410 V
(19424)210 648 A
4500 V
(19425)210 648 A
1362(if)S
(\(size)210 1488 A
1740(==)S
(sizeof\(DOUBLE\)\))630 1866 A
2538({)S
4590 V
(19426)210 648 A
1362(/*)S
4680 V
(19427)210 648 A
1404(*)S
(COMPACT)294 1488 A
(EXTENDED)336 1824 A
(INTO)168 2202 A
(DOUBLE)252 2412 A
4770 V
(19428)210 648 A
1404(*/)S
4860 V
(19429)210 648 A
(DOUBLE)252 1698 A
(*DBL)168 1992 A
2202(=)S
(\(DOUBLE)294 2286 A
2622(*\))S
(\(void)210 2748 A
3000(*\))S
(to;)126 3126 A
4950 V
(19430)210 648 A
5040 V
(19431)210 648 A
1698(if)S
(\(\(f->m1|\(f->m2)588 1824 A
2454(&)S
(DBL_ZERO\)\))420 2538 A
3000(==)S
(0L\))126 3126 A
3378({)S
5130 V
(19432)210 648 A
(zrf8\(DBL\);)420 2034 A
5220 V
(19433)210 648 A
(return;)294 2034 A
5310 V
(19434)210 648 A
1698(})S
5400 V
(19435)210 648 A
(f->exp)252 1698 A
1992(+=)S
(DBL_BIAS;)378 2118 A
2706(/*)S
(restore)294 2832 A
(proper)252 3168 A
(bias)168 3462 A
3714(*/)S
5490 V
(19436)210 648 A
1698(if)S
(\(f->exp)294 1824 A
2160(>)S
(DBL_MAX\))336 2244 A
2706({)S
5580 V
(19437)210 648 A
(dbl_over:)378 1026 A
(trap\(EFOVFL\);)546 2370 A
5670 V
(19438)210 648 A
(f->exp)252 2034 A
2328(=)S
(DBL_MAX+1;)420 2412 A
5760 V
(19439)210 648 A
(f->m1)210 2034 A
2286(=)S
2370(0;)S
5850 V
(19440)210 648 A
(f->m2)210 2034 A
2286(=)S
2370(0;)S
5940 V
(19441)210 648 A
2034(if)S
(\(error++\))378 2160 A
6030 V
(19442)210 648 A
(return;)294 2370 A
6120 V
(19443)210 648 A
1698(})S
6210 V
(19444)210 648 A
(else)168 1698 A
1908(if)S
(\(f->exp)294 2034 A
2370(<)S
(DBL_MIN\))336 2454 A
3042({)S
8418 V
EP
%%Page: 172 172
BP
/slant 0 def
/height 0 def
630 V
12 B
(172)180 648 A
11 R
1922(File:)S
(src/lib/float/compact.c)999 2155 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(19445)210 648 A
(b64_rsft\(&\(f->mantissa\)\);)1050 2034 A
990 V
(19446)210 648 A
2034(if)S
(\(f->exp)294 2160 A
2496(<)S
2580(0\))S
2706({)S
1080 V
(19447)210 648 A
(b64_sft\(&\(f->mantissa\),)966 2370 A
(-f->exp\);)378 3378 A
1170 V
(19448)210 648 A
(f->exp)252 2370 A
2664(=)S
2748(0;)S
1260 V
(19449)210 648 A
2034(})S
1350 V
(19450)210 648 A
2034(/*)S
(underflow)378 2160 A
(???)126 2580 A
2748(*/)S
1440 V
(19451)210 648 A
1698(})S
1530 V
(19452)210 648 A
1620 V
(19453)210 648 A
1698(/*)S
(local)210 1824 A
(CAST)168 2076 A
(conversion)420 2286 A
3378(*/)S
1710 V
(19454)210 648 A
1800 V
(19455)210 648 A
1698(/*)S
(because)294 1824 A
2160(of)S
(special)294 2286 A
(format)252 2622 A
(shift)210 2916 A
(only)168 3168 A
3378(10)S
(bits)168 3504 A
3714(*/)S
1890 V
(19456)210 648 A
1698(/*)S
(bit)126 1824 A
(shift)210 1992 A
(mantissa)336 2244 A
2622(10)S
(bits)168 2748 A
3378(*/)S
1980 V
(19457)210 648 A
2070 V
(19458)210 648 A
1698(/*)S
(first)210 1824 A
(align)210 2076 A
(within)252 2328 A
(words,)252 2622 A
(then)168 2916 A
3126(do)S
(store)210 3252 A
(operation)378 3504 A
3924(*/)S
2160 V
(19459)210 648 A
2250 V
(19460)210 648 A
(DBL->d[0])378 1698 A
2118(=)S
(f->m1)210 2202 A
2454(>>)S
(DBL_RUNPACK;)504 2580 A
3210(/*)S
(plus)168 3336 A
3546(22)S
3672(==)S
3798(32)S
3924(*/)S
2340 V
(19461)210 648 A
(DBL->d[1])378 1698 A
2118(=)S
(f->m2)210 2202 A
2454(>>)S
(DBL_RUNPACK;)504 2580 A
3210(/*)S
(plus)168 3336 A
3546(22)S
3672(==)S
3798(32)S
3924(*/)S
2430 V
(19462)210 648 A
(DBL->d[1])378 1698 A
2118(|=)S
(\(f->m1)252 2244 A
2538(<<)S
(DBL_LUNPACK\);)546 2664 A
3252(/*)S
(plus)168 3378 A
3588(10)S
3714(==)S
3840(32)S
3966(*/)S
2520 V
(19463)210 648 A
2610 V
(19464)210 648 A
1698(/*)S
1824(if)S
(not)126 1950 A
(exact)210 2118 A
(then)168 2370 A
(round)210 2580 A
2832(to)S
(nearest)294 2958 A
3378(*/)S
2700 V
(19465)210 648 A
1698(/*)S
1824(on)S
1950(a)S
(tie,)168 2034 A
(round)210 2244 A
2496(to)S
(even)168 2622 A
2832(*/)S
2790 V
(19466)210 648 A
2880 V
(19467)210 648 A
(#ifdef)252 1026 A
(EXCEPTION_INEXACT)714 1320 A
2970 V
(19468)210 648 A
1698(if)S
(\(\(f->m2)294 1824 A
2160(&)S
(DBL_EXACT\))420 2244 A
2706(!=)S
2832(0\))S
2958({)S
3060 V
(19469)210 648 A
(INEXACT\(\);)420 1866 A
3150 V
(19470)210 648 A
(#endif)252 1026 A
3240 V
(19471)210 648 A
1866(if)S
(\(\(\(f->m2)336 1992 A
2370(&)S
(DBL_EXACT\))420 2454 A
2916(>)S
(DBL_ROUNDUP\))504 3000 A
3330 V
(19472)210 648 A
2034(||)S
(\(\(f->m2)294 2160 A
2496(&)S
(DBL_EXACT\))420 2580 A
3042(==)S
(DBL_ROUNDUP)462 3168 A
3420 V
(19473)210 648 A
2202(&&)S
(\(f->m2)252 2328 A
2622(&)S
(\(DBL_ROUNDUP)504 2706 A
3252(<<)S
(1\)\)\)\))210 3378 A
3630({)S
3510 V
(19474)210 648 A
(DBL->d[1]++;)504 2034 A
2706(/*)S
(rounding)336 2832 A
3210(up)S
3378(*/)S
3600 V
(19475)210 648 A
2034(if)S
(\(DBL->d[1])420 2160 A
2622(==)S
(0L\))126 2748 A
2916({)S
3000(/*)S
(carry)210 3126 A
(out)126 3378 A
3714(*/)S
3690 V
(19476)210 648 A
(DBL->d[0]++;)504 2202 A
3780 V
(19477)210 648 A
3870 V
(19478)210 648 A
2202(if)S
(\(f->exp)294 2328 A
2664(==)S
2790(0)S
2874(&&)S
(\(DBL->d[0])420 3000 A
3462(&)S
(\304DBL_MASK\)\))462 3546 A
4050({)S
3960 V
(19479)210 648 A
(f->exp++;)378 2706 A
4050 V
(19480)210 648 A
2370(})S
4140 V
(19481)210 648 A
2202(if)S
(\(DBL->d[0])420 2328 A
2790(&)S
(DBL_CARRYOUT\))546 2874 A
3462({)S
3546(/*)S
(carry)210 3672 A
(out)126 3924 A
4092(*/)S
4230 V
(19482)210 648 A
2370(if)S
(\(DBL->d[0])420 2496 A
2958(&)S
(01\))126 3042 A
4320 V
(19483)210 648 A
(DBL->d[1])378 2538 A
2958(=)S
(CARRYBIT;)378 3042 A
4410 V
(19484)210 648 A
(DBL->d[0])378 2370 A
(>>=)126 2790 A
2958(1;)S
4500 V
(19485)210 648 A
(f->exp++;)378 2370 A
4590 V
(19486)210 648 A
2202(})S
4680 V
(19487)210 648 A
2034(})S
4770 V
(19488)210 648 A
2034(/*)S
(check)210 2370 A
(for)126 2622 A
(overflow)336 2790 A
4050(*/)S
4860 V
(19489)210 648 A
2034(if)S
(\(f->exp)294 2160 A
2496(>)S
(DBL_MAX\))336 2580 A
4950 V
(19490)210 648 A
(goto)168 2370 A
(dbl_over;)378 2580 A
5040 V
(19491)210 648 A
1866(})S
5130 V
(19492)210 648 A
(#ifdef)252 1026 A
(EXCEPTION_INEXACT)714 1320 A
5220 V
(19493)210 648 A
1698(})S
5310 V
(19494)210 648 A
(#endif)252 1026 A
5400 V
(19495)210 648 A
5490 V
(19496)210 648 A
1698(/*)S
5580 V
(19497)210 648 A
1740(*)S
(STORE)210 1824 A
(EXPONENT)336 2076 A
(AND)126 2454 A
(SIGN:)210 2622 A
5670 V
(19498)210 648 A
1740(*)S
5760 V
(19499)210 648 A
1740(*)S
1824(1\))S
(clear)210 1950 A
(leading)294 2202 A
(bits)168 2538 A
(\(B4-B15\))336 2748 A
5850 V
(19500)210 648 A
1740(*)S
1824(2\))S
(shift)210 1950 A
(and)126 2202 A
(store)210 2370 A
(exponent)336 2622 A
5940 V
(19501)210 648 A
1740(*/)S
6030 V
(19502)210 648 A
6120 V
(19503)210 648 A
(DBL->d[0])378 1698 A
2118(&=)S
(DBL_MASK;)378 2244 A
6210 V
(19504)210 648 A
(DBL->d[0])378 1698 A
2118(|=)S
8418 V
EP
%%Page: 173 173
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1922(File:)S
(src/lib/float/compact.c)999 2155 A
12 B
(173)180 4248 A
900 V
7 LST
(19505)210 648 A
(\(\(long\))294 2034 A
(\(f->exp)294 2370 A
2706(<<)S
(DBL_EXPSHIFT\))546 2832 A
3420(<<)S
(EXP_STORE\);)462 3546 A
990 V
(19506)210 648 A
1698(if)S
(\(f->sign\))378 1824 A
1080 V
(19507)210 648 A
(DBL->d[0])378 2034 A
2454(|=)S
(CARRYBIT;)378 2580 A
1170 V
(19508)210 648 A
1260 V
(19509)210 648 A
1698(/*)S
1350 V
(19510)210 648 A
1740(*)S
(STORE)210 1824 A
(MANTISSA)336 2076 A
1440 V
(19511)210 648 A
1740(*/)S
1530 V
(19512)210 648 A
1620 V
(19513)210 648 A
(#if)126 1026 A
(FL_MSL_AT_LOW_ADDRESS)882 1194 A
1710 V
(19514)210 648 A
(put4\(DBL->d[0],)630 1698 A
(\(char)210 2370 A
2622(*\))S
(&DBL->d[0]\);)504 2748 A
1800 V
(19515)210 648 A
(put4\(DBL->d[1],)630 1698 A
(\(char)210 2370 A
2622(*\))S
(&DBL->d[1]\);)504 2748 A
1890 V
(19516)210 648 A
(#else)210 1026 A
1980 V
(19517)210 648 A
1698({)S
(unsigned)336 1782 A
(long)168 2160 A
2370(l;)S
2070 V
(19518)210 648 A
(put4\(DBL->d[1],)630 1782 A
(\(char)210 2454 A
2706(*\))S
(&l\);)168 2832 A
2160 V
(19519)210 648 A
(put4\(DBL->d[0],)630 1782 A
(\(char)210 2454 A
2706(*\))S
(&DBL->d[1]\);)504 2832 A
2250 V
(19520)210 648 A
(DBL->d[0])378 1782 A
2202(=)S
2286(l;)S
2340 V
(19521)210 648 A
1698(})S
2430 V
(19522)210 648 A
(#endif)252 1026 A
2520 V
(19523)210 648 A
1362(})S
2610 V
(19524)210 648 A
(else)168 1362 A
1572({)S
2700 V
(19525)210 648 A
1698(/*)S
2790 V
(19526)210 648 A
1740(*)S
(COMPACT)294 1824 A
(EXTENDED)336 2160 A
(INTO)168 2538 A
(FLOAT)210 2748 A
2880 V
(19527)210 648 A
1740(*/)S
2970 V
(19528)210 648 A
(SINGLE)252 1698 A
(*SGL;)210 2034 A
3060 V
(19529)210 648 A
3150 V
(19530)210 648 A
1698(/*)S
(local)210 1824 A
(CAST)168 2076 A
(conversion)420 2286 A
3378(*/)S
3240 V
(19531)210 648 A
(SGL)126 1698 A
1866(=)S
(\(SINGLE)294 1950 A
2286(*\))S
(\(void)210 2412 A
2664(*\))S
(to;)126 2790 A
3330 V
(19532)210 648 A
1698(if)S
(\(\(f->m1)294 1824 A
2160(&)S
(SGL_ZERO\))378 2244 A
2664(==)S
(0L\))126 2790 A
3042({)S
3420 V
(19533)210 648 A
(*SGL)168 2034 A
2244(=)S
(0L;)126 2328 A
3510 V
(19534)210 648 A
(return;)294 2034 A
3600 V
(19535)210 648 A
1698(})S
3690 V
(19536)210 648 A
(f->exp)252 1698 A
1992(+=)S
(SGL_BIAS;)378 2118 A
2706(/*)S
(restore)294 2832 A
(bias)168 3168 A
3378(*/)S
3780 V
(19537)210 648 A
1698(if)S
(\(f->exp)294 1824 A
2160(>)S
(SGL_MAX\))336 2244 A
2706({)S
3870 V
(19538)210 648 A
(sgl_over:)378 1026 A
(trap\(EFOVFL\);)546 2370 A
3960 V
(19539)210 648 A
(f->exp)252 2034 A
2328(=)S
(SGL_MAX+1;)420 2412 A
4050 V
(19540)210 648 A
(f->m1)210 2034 A
2286(=)S
(0L;)126 2370 A
4140 V
(19541)210 648 A
(f->m2)210 2034 A
2286(=)S
(0L;)126 2370 A
4230 V
(19542)210 648 A
2034(if)S
(\(error++\))378 2160 A
4320 V
(19543)210 648 A
(return;)294 2370 A
4410 V
(19544)210 648 A
1698(})S
4500 V
(19545)210 648 A
(else)168 1698 A
1908(if)S
(\(f->exp)294 2034 A
2370(<)S
(SGL_MIN\))336 2454 A
3042({)S
4590 V
(19546)210 648 A
(b64_rsft\(&\(f->mantissa\)\);)1050 2034 A
4680 V
(19547)210 648 A
2034(if)S
(\(f->exp)294 2160 A
2496(<)S
2580(0\))S
2706({)S
4770 V
(19548)210 648 A
(b64_sft\(&\(f->mantissa\),)966 2370 A
(-f->exp\);)378 3378 A
4860 V
(19549)210 648 A
(f->exp)252 2370 A
2664(=)S
2748(0;)S
4950 V
(19550)210 648 A
2034(})S
5040 V
(19551)210 648 A
2034(/*)S
(underflow)378 2160 A
(???)126 2580 A
2748(*/)S
5130 V
(19552)210 648 A
1698(})S
5220 V
(19553)210 648 A
5310 V
(19554)210 648 A
1698(/*)S
(shift)210 1824 A
(mantissa)336 2076 A
(and)126 2454 A
(store)210 2622 A
3042(*/)S
5400 V
(19555)210 648 A
(*SGL)168 1698 A
1908(=)S
(\(f->m1)252 1992 A
2286(>>)S
(SGL_RUNPACK\);)546 2412 A
5490 V
(19556)210 648 A
5580 V
(19557)210 648 A
1698(/*)S
(check)210 1824 A
(for)126 2076 A
(rounding)336 2244 A
2622(to)S
(nearest)294 2748 A
3378(*/)S
5670 V
(19558)210 648 A
1698(/*)S
1824(on)S
1950(a)S
(tie,)168 2034 A
(round)210 2244 A
2496(to)S
(even)168 2622 A
3378(*/)S
5760 V
(19559)210 648 A
(#ifdef)252 1026 A
(EXCEPTION_INEXACT)714 1320 A
5850 V
(19560)210 648 A
1698(if)S
(\(f->m2)252 1824 A
2118(!=)S
2244(0)S
2328(||)S
5940 V
(19561)210 648 A
(\(f->m1)252 1866 A
2160(&)S
(SGL_EXACT\))420 2244 A
2706(!=)S
(0L\))126 2832 A
3000({)S
6030 V
(19562)210 648 A
(INEXACT\(\);)420 2034 A
6120 V
(19563)210 648 A
(#endif)252 1026 A
6210 V
(19564)210 648 A
2034(if)S
(\(\(\(f->m1)336 2160 A
2538(&)S
(SGL_EXACT\))420 2622 A
3084(>)S
(SGL_ROUNDUP\))504 3168 A
8418 V
EP
%%Page: 174 174
BP
/slant 0 def
/height 0 def
630 V
12 B
(174)180 648 A
11 R
1922(File:)S
(src/lib/float/compact.c)999 2155 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(19565)210 648 A
2202(||)S
(\(\(f->m1)294 2328 A
2664(&)S
(SGL_EXACT\))420 2748 A
3210(==)S
(SGL_ROUNDUP)462 3336 A
990 V
(19566)210 648 A
2370(&&)S
(\(f->m1)252 2496 A
2790(&)S
(\(SGL_ROUNDUP)504 2874 A
3420(<<)S
(1\)\)\)\))210 3546 A
3798({)S
1080 V
(19567)210 648 A
(\(*SGL\)++;)378 2370 A
1170 V
(19568)210 648 A
2370(if)S
(\(f->exp)294 2496 A
2832(==)S
2958(0)S
3042(&&)S
(\(*SGL)210 3168 A
3420(&)S
(\304SGL_MASK\)\))462 3504 A
4008({)S
1260 V
(19569)210 648 A
(f->exp++;)378 2706 A
1350 V
(19570)210 648 A
2370(})S
1440 V
(19571)210 648 A
2034(/*)S
(check)210 2160 A
(normal)252 2412 A
2706(*/)S
1530 V
(19572)210 648 A
2370(if)S
(\(*SGL)210 2496 A
2748(&)S
(SGL_CARRYOUT\))546 2832 A
3714({)S
1620 V
(19573)210 648 A
(*SGL)168 2706 A
(>>=)126 2916 A
3084(1;)S
1710 V
(19574)210 648 A
(f->exp++;)378 2706 A
1800 V
(19575)210 648 A
2370(})S
1890 V
(19576)210 648 A
2370(if)S
(\(f->exp)294 2496 A
2832(>)S
(SGL_MAX\))336 2916 A
1980 V
(19577)210 648 A
(goto)168 2706 A
(sgl_over;)378 2916 A
2070 V
(19578)210 648 A
2034(})S
2160 V
(19579)210 648 A
(#ifdef)252 1026 A
(EXCEPTION_INEXACT)714 1320 A
2250 V
(19580)210 648 A
1698(})S
2340 V
(19581)210 648 A
(#endif)252 1026 A
2430 V
(19582)210 648 A
2520 V
(19583)210 648 A
1698(/*)S
2610 V
(19584)210 648 A
1740(*)S
(STORE)210 1824 A
(EXPONENT)336 2076 A
(AND)126 2454 A
(SIGN:)210 2622 A
2700 V
(19585)210 648 A
1740(*)S
2790 V
(19586)210 648 A
1740(*)S
1824(1\))S
(clear)210 1950 A
(leading)294 2202 A
(bit)126 2538 A
2706(of)S
(fraction)336 2832 A
2880 V
(19587)210 648 A
1740(*)S
1824(2\))S
(shift)210 1950 A
(and)126 2202 A
(store)210 2370 A
(exponent)336 2622 A
2970 V
(19588)210 648 A
1740(*/)S
3060 V
(19589)210 648 A
3150 V
(19590)210 648 A
(*SGL)168 1698 A
1908(&=)S
(SGL_MASK;)378 2034 A
2454(/*)S
(B23-B31)294 2580 A
(are)126 2916 A
3084(0)S
3168(*/)S
3240 V
(19591)210 648 A
(*SGL)168 1698 A
1908(|=)S
(\(\(long\))294 2034 A
(\(f->exp)294 2370 A
2706(<<)S
(SGL_EXPSHIFT\))546 2832 A
3420(<<)S
(EXP_STORE\);)462 3546 A
3330 V
(19592)210 648 A
1698(if)S
(\(f->sign\))378 1824 A
3420 V
(19593)210 648 A
(*SGL)168 2034 A
2244(|=)S
(CARRYBIT;)378 2370 A
3510 V
(19594)210 648 A
3600 V
(19595)210 648 A
1698(/*)S
3690 V
(19596)210 648 A
1740(*)S
(STORE)210 1824 A
(MANTISSA)336 2076 A
3780 V
(19597)210 648 A
1740(*/)S
3870 V
(19598)210 648 A
3960 V
(19599)210 648 A
(put4\(*SGL,)420 1698 A
(\(char)210 2160 A
2412(*\))S
(&SGL\);)252 2538 A
4050 V
(19600)210 648 A
1362(})S
4140 V
(19601)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/float/cuf4.c)840 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(19700)210 648 A
1026(/*)S
5040 V
(19701)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
5130 V
(19702)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
5220 V
(19703)210 648 A
1026(*/)S
5310 V
(19704)210 648 A
5400 V
(19705)210 648 A
1026(/*)S
($Header:)336 1152 A
(cuf4.c,v)336 1530 A
(1.6)126 1908 A
(93/01/05)336 2076 A
(12:04:35)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5490 V
(19706)210 648 A
5580 V
(19707)210 648 A
1026(/*)S
5670 V
(19708)210 648 A
(CONVERT)294 1362 A
(INTEGER)294 1698 A
2034(TO)S
(SINGLE)252 2160 A
(\(CUF)168 2454 A
2664(n)S
2748(4\))S
5760 V
(19709)210 648 A
5850 V
(19710)210 648 A
(THIS)168 1362 A
(ROUTINE)294 1572 A
(WORKS)210 1908 A
2160(BY)S
(FILLING)294 2286 A
2622(AN)S
(EXTENDED)336 2748 A
5940 V
(19711)210 648 A
(WITH)168 1362 A
(THE)126 1572 A
(INTEGER)294 1740 A
(VALUE)210 2076 A
2328(IN)S
(EXTENDED)336 2454 A
(FORMAT)252 2832 A
6030 V
(19712)210 648 A
(AND)126 1362 A
(USES)168 1530 A
(COMPACT\(\))378 1740 A
2160(TO)S
(PUT)126 2286 A
2454(IT)S
(INTO)168 2580 A
(THE)126 2790 A
(PROPER)252 2958 A
6120 V
(19713)210 648 A
(FLOATING)336 1362 A
(POINT)210 1740 A
(PRECISION.)420 1992 A
6210 V
(19714)210 648 A
1026(*/)S
8418 V
EP
%%Page: 175 175
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2012(File:)S
(src/lib/float/cuf4.c)819 2245 A
12 B
(175)180 4248 A
900 V
7 LST
(19715)210 648 A
990 V
(19716)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
1080 V
(19717)210 648 A
1170 V
(19718)210 648 A
(void)168 1026 A
1260 V
(19719)210 648 A
(cuf4\(ss,src\))504 1026 A
1350 V
(19720)210 648 A
(int)126 1026 A
(ss;)126 1362 A
1698(/*)S
(source)252 1824 A
(size)168 2118 A
2328(*/)S
1440 V
(19721)210 648 A
(long)168 1026 A
(src;)168 1362 A
1698(/*)S
(largest)294 1824 A
(possible)336 2160 A
(integer)294 2538 A
2874(to)S
(convert)294 3000 A
3336(*/)S
1530 V
(19722)210 648 A
1026({)S
1620 V
(19723)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
1710 V
(19724)210 648 A
(short)210 1362 A
(*ipt;)210 1698 A
1800 V
(19725)210 648 A
(SINGLE)252 1362 A
(*result;)336 1698 A
1890 V
(19726)210 648 A
(long)168 1362 A
(i_src;)252 1698 A
1980 V
(19727)210 648 A
2070 V
(19728)210 648 A
(zrf_ext\(&buf\);)588 1362 A
2160 V
(19729)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(==)S
(sizeof\(long\)\))546 1782 A
2370({)S
2250 V
(19730)210 648 A
(buf.exp)294 1698 A
2034(=)S
(31;)126 2118 A
2340 V
(19731)210 648 A
(i_src)210 1698 A
1950(=)S
(src;)168 2034 A
2430 V
(19732)210 648 A
(result)252 1698 A
1992(=)S
(\(SINGLE)294 2076 A
2412(*\))S
(&src;)210 2538 A
2520 V
(19733)210 648 A
1362(})S
2610 V
(19734)210 648 A
(else)168 1362 A
1698({)S
2700 V
(19735)210 648 A
(ipt)126 1698 A
1866(=)S
(\(short)252 1950 A
2244(*\))S
(&src;)210 2370 A
2790 V
(19736)210 648 A
(i_src)210 1698 A
1950(=)S
(\(long\))252 2034 A
(*ipt;)210 2328 A
2880 V
(19737)210 648 A
(buf.exp)294 1698 A
2034(=)S
(15;)126 2118 A
2970 V
(19738)210 648 A
(result)252 1698 A
1992(=)S
(\(SINGLE)294 2076 A
2412(*\))S
(\(\(void)252 2538 A
2832(*\))S
(&ss\);)210 2958 A
3060 V
(19739)210 648 A
1362(})S
3150 V
(19740)210 648 A
1362(if)S
(\(i_src)252 1488 A
1782(==)S
1908(0\))S
2034({)S
3240 V
(19741)210 648 A
(*result)294 1698 A
2034(=)S
(\(SINGLE\))336 2118 A
(0L;)126 2496 A
3330 V
(19742)210 648 A
(return;)294 1698 A
3420 V
(19743)210 648 A
1362(})S
3510 V
(19744)210 648 A
2034(/*)S
(ESTABLISHED)462 2160 A
(THAT)168 2664 A
(src)126 2874 A
3042(!=)S
3168(0)S
3378(*/)S
3600 V
(19745)210 648 A
3690 V
(19746)210 648 A
2034(/*)S
(adjust)252 2160 A
(exponent)336 2454 A
(field)210 2832 A
3378(*/)S
3780 V
(19747)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(!=)S
(sizeof\(long\)\))546 1782 A
3870 V
(19748)210 648 A
(i_src)210 1698 A
(<<=)126 1950 A
(16;)126 2118 A
3960 V
(19749)210 648 A
4050 V
(19750)210 648 A
2034(/*)S
(move)168 2160 A
2370(to)S
(mantissa)336 2496 A
(field)210 2874 A
3378(*/)S
4140 V
(19751)210 648 A
(buf.m1)252 1362 A
1656(=)S
(i_src;)252 1740 A
4230 V
(19752)210 648 A
4320 V
(19753)210 648 A
2034(/*)S
(adjust)252 2160 A
(mantissa)336 2454 A
(field)210 2832 A
3378(*/)S
4410 V
(19754)210 648 A
(nrm_ext\(&buf\);)588 1362 A
4500 V
(19755)210 648 A
(compact\(&buf,result,4\);)966 1362 A
4590 V
(19756)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/float/cuf8.c)840 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(19800)210 648 A
1026(/*)S
5490 V
(19801)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
5580 V
(19802)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
5670 V
(19803)210 648 A
1026(*/)S
5760 V
(19804)210 648 A
5850 V
(19805)210 648 A
1026(/*)S
($Header:)336 1152 A
(cuf8.c,v)336 1530 A
(1.6)126 1908 A
(93/01/05)336 2076 A
(12:04:41)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5940 V
(19806)210 648 A
6030 V
(19807)210 648 A
1026(/*)S
6120 V
(19808)210 648 A
(CONVERT)294 1362 A
(INTEGER)294 1698 A
2034(TO)S
(FLOAT)210 2160 A
(\(CUF)168 2412 A
2622(n)S
2706(8\))S
6210 V
(19809)210 648 A
8418 V
EP
%%Page: 176 176
BP
/slant 0 def
/height 0 def
630 V
12 B
(176)180 648 A
11 R
2012(File:)S
(src/lib/float/cuf8.c)819 2245 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(19810)210 648 A
(THIS)168 1362 A
(ROUTINE)294 1572 A
(WORKS)210 1908 A
2160(BY)S
(FILLING)294 2286 A
2622(AN)S
(EXTENDED)336 2748 A
990 V
(19811)210 648 A
(WITH)168 1362 A
(THE)126 1572 A
(INTEGER)294 1740 A
(VALUE)210 2076 A
2328(IN)S
(EXTENDED)336 2454 A
(FORMAT)252 2832 A
1080 V
(19812)210 648 A
(AND)126 1362 A
(USES)168 1530 A
(COMPACT\(\))378 1740 A
2160(TO)S
(PUT)126 2286 A
2454(IT)S
(INTO)168 2580 A
(THE)126 2790 A
(PROPER)252 2958 A
1170 V
(19813)210 648 A
(FLOATING)336 1362 A
(POINT)210 1740 A
(PRECISION.)420 1992 A
1260 V
(19814)210 648 A
1026(*/)S
1350 V
(19815)210 648 A
1440 V
(19816)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
1530 V
(19817)210 648 A
1620 V
(19818)210 648 A
(void)168 1026 A
1710 V
(19819)210 648 A
(cuf8\(ss,src\))504 1026 A
1800 V
(19820)210 648 A
(int)126 1026 A
(ss;)126 1362 A
1698(/*)S
(source)252 1824 A
(size)168 2118 A
2328(*/)S
1890 V
(19821)210 648 A
(long)168 1026 A
(src;)168 1362 A
1698(/*)S
(largest)294 1824 A
(possible)336 2160 A
(integer)294 2538 A
2874(to)S
(convert)294 3000 A
3336(*/)S
1980 V
(19822)210 648 A
1026({)S
2070 V
(19823)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
2160 V
(19824)210 648 A
(short)210 1362 A
(*ipt;)210 1698 A
2250 V
(19825)210 648 A
(long)168 1362 A
(i_src;)252 1698 A
2340 V
(19826)210 648 A
2430 V
(19827)210 648 A
(zrf_ext\(&buf\);)588 1362 A
2520 V
(19828)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(==)S
(sizeof\(long\)\))546 1782 A
2370({)S
2610 V
(19829)210 648 A
(buf.exp)294 1698 A
2034(=)S
(31;)126 2118 A
2700 V
(19830)210 648 A
(i_src)210 1698 A
1950(=)S
(src;)168 2034 A
2790 V
(19831)210 648 A
1362(})S
2880 V
(19832)210 648 A
(else)168 1362 A
1698({)S
2970 V
(19833)210 648 A
(ipt)126 1698 A
1866(=)S
(\(short)252 1950 A
2244(*\))S
(&src;)210 2370 A
3060 V
(19834)210 648 A
(i_src)210 1698 A
1950(=)S
(\(long\))252 2034 A
(*ipt;)210 2328 A
3150 V
(19835)210 648 A
(buf.exp)294 1698 A
2034(=)S
(15;)126 2118 A
3240 V
(19836)210 648 A
1362(})S
3330 V
(19837)210 648 A
1362(if)S
(\(i_src)252 1488 A
1782(==)S
1908(0\))S
2034({)S
3420 V
(19838)210 648 A
(zrf8\(\(DOUBLE)504 1698 A
(*\)\(\(void)336 2244 A
(*\)&ss\)\);)336 2622 A
3510 V
(19839)210 648 A
(return;)294 1698 A
3600 V
(19840)210 648 A
1362(})S
3690 V
(19841)210 648 A
2034(/*)S
(ESTABLISHED)462 2160 A
(THAT)168 2664 A
(src)126 2874 A
3042(!=)S
3168(0)S
3378(*/)S
3780 V
(19842)210 648 A
3870 V
(19843)210 648 A
2034(/*)S
(adjust)252 2160 A
(exponent)336 2454 A
(field)210 2832 A
3378(*/)S
3960 V
(19844)210 648 A
1362(if)S
(\(ss)126 1488 A
1656(!=)S
(sizeof\(long\)\))546 1782 A
4050 V
(19845)210 648 A
(i_src)210 1698 A
(<<=)126 1950 A
(16;)126 2118 A
4140 V
(19846)210 648 A
4230 V
(19847)210 648 A
2034(/*)S
(move)168 2160 A
2370(to)S
(mantissa)336 2496 A
(field)210 2874 A
3378(*/)S
4320 V
(19848)210 648 A
(buf.m1)252 1362 A
1656(=)S
(i_src;)252 1740 A
4410 V
(19849)210 648 A
4500 V
(19850)210 648 A
2034(/*)S
(adjust)252 2160 A
(mantissa)336 2454 A
(field)210 2832 A
3378(*/)S
4590 V
(19851)210 648 A
(nrm_ext\(&buf\);)588 1362 A
4680 V
(19852)210 648 A
(compact\(&buf,\(unsigned)924 1362 A
(long)168 2328 A
2538(*\))S
(\(void)210 2664 A
(*\)&ss,8\);)378 2916 A
4770 V
(19853)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/float/div_ext.c)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(19900)210 648 A
1026(/*)S
5490 V
(19901)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
5580 V
(19902)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
5670 V
(19903)210 648 A
1026(*/)S
5760 V
(19904)210 648 A
5850 V
(19905)210 648 A
1026(/*)S
($Header:)336 1152 A
(div_ext.c,v)462 1530 A
(1.10)168 2034 A
(93/01/05)336 2244 A
(12:04:47)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
5940 V
(19906)210 648 A
6030 V
(19907)210 648 A
1026(/*)S
6120 V
(19908)210 648 A
(DIVIDE)252 1362 A
(EXTENDED)336 1656 A
(FORMAT)252 2034 A
6210 V
(19909)210 648 A
1026(*/)S
8418 V
EP
%%Page: 177 177
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1944(File:)S
(src/lib/float/div_ext.c)954 2177 A
12 B
(177)180 4248 A
900 V
7 LST
(19910)210 648 A
990 V
(19911)210 648 A
(#include)336 1026 A
("FP_bias.h")462 1404 A
1080 V
(19912)210 648 A
(#include)336 1026 A
("FP_trap.h")462 1404 A
1170 V
(19913)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
1260 V
(19914)210 648 A
1350 V
(19915)210 648 A
1026(/*)S
1440 V
(19916)210 648 A
(November)336 1362 A
(15,)126 1740 A
(1984)168 1908 A
1530 V
(19917)210 648 A
1620 V
(19918)210 648 A
(This)168 1362 A
1572(is)S
1698(a)S
(routine)294 1782 A
2118(to)S
2244(do)S
(the)126 2370 A
(work.)210 2538 A
1710 V
(19919)210 648 A
(There)210 1362 A
(are)126 1614 A
(two)126 1782 A
(versions:)378 1950 A
1800 V
(19920)210 648 A
(One)126 1362 A
1530(is)S
(based)210 1656 A
1908(on)S
(the)126 2034 A
(partial)294 2202 A
(products)336 2538 A
(method)252 2916 A
1890 V
(19921)210 648 A
(and)126 1362 A
(makes)210 1530 A
1782(no)S
(use)126 1908 A
(possible)336 2076 A
(machine)294 2454 A
(instructions)504 2790 A
1980 V
(19922)210 648 A
1362(to)S
(divide)252 1488 A
(\(hardware)378 1782 A
(dividers\).)420 2202 A
2070 V
(19923)210 648 A
(The)126 1362 A
(other)210 1530 A
1782(is)S
(used)168 1908 A
(when)168 2118 A
(USE_DIVIDE)420 2328 A
2790(is)S
(defined.)336 2916 A
3294(It)S
3420(is)S
(much)168 3546 A
(faster)252 3756 A
4050(on)S
2160 V
(19924)210 648 A
(machines)336 1362 A
(with)168 1740 A
(fast)168 1950 A
2160(4)S
(byte)168 2244 A
(operations.)462 2454 A
2250 V
(19925)210 648 A
1026(*/)S
2340 V
(19926)210 648 A
(/********************************************************/)2436 1026 A
2430 V
(19927)210 648 A
2520 V
(19928)210 648 A
(void)168 1026 A
2610 V
(19929)210 648 A
(div_ext\(e1,e2\))588 1026 A
2700 V
(19930)210 648 A
(EXTEND)252 1026 A
(*e1,*e2;)336 1362 A
2790 V
(19931)210 648 A
1026({)S
2880 V
(19932)210 648 A
(short)210 1362 A
(error)210 1698 A
1950(=)S
2034(0;)S
2970 V
(19933)210 648 A
(B64)126 1362 A
(result;)294 2034 A
3060 V
(19934)210 648 A
(register)336 1362 A
(unsigned)336 2034 A
(long)168 2412 A
(*lp;)168 2706 A
3150 V
(19935)210 648 A
(#ifndef)294 1026 A
(USE_DIVIDE)420 1362 A
3240 V
(19936)210 648 A
(short)210 1362 A
(count;)252 1698 A
3330 V
(19937)210 648 A
(#else)210 1026 A
3420 V
(19938)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(u[9],)210 1992 A
(v[5];)210 2244 A
3510 V
(19939)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(j;)S
3600 V
(19940)210 648 A
(register)336 1362 A
(unsigned)336 1740 A
(short)210 2118 A
(*u_p)168 2370 A
2580(=)S
2664(u;)S
3690 V
(19941)210 648 A
(int)126 1362 A
(maxv)168 1530 A
1740(=)S
1824(4;)S
3780 V
(19942)210 648 A
(#endif)252 1026 A
3870 V
(19943)210 648 A
3960 V
(19944)210 648 A
1362(if)S
(\(\(e2->m1)336 1488 A
1866(|)S
(e2->m2\))294 1950 A
2286(==)S
2412(0\))S
2538({)S
4050 V
(19945)210 648 A
1698(/*)S
4140 V
(19946)210 648 A
1740(*)S
(Exception)378 1824 A
(8.2)126 2244 A
2412(-)S
(Divide)252 2496 A
2790(by)S
(zero)168 2916 A
4230 V
(19947)210 648 A
1740(*/)S
4320 V
(19948)210 648 A
(trap\(EFDIVZ\);)546 1698 A
4410 V
(19949)210 648 A
(e1->m1)252 1698 A
1992(=)S
(e1->m2)252 2076 A
2370(=)S
(0L;)126 2454 A
4500 V
(19950)210 648 A
(e1->exp)294 1698 A
2034(=)S
(EXT_MAX;)336 2118 A
4590 V
(19951)210 648 A
(return;)294 1698 A
4680 V
(19952)210 648 A
1362(})S
4770 V
(19953)210 648 A
1362(if)S
(\(\(e1->m1)336 1488 A
1866(|)S
(e1->m2\))294 1950 A
2286(==)S
2412(0\))S
2538({)S
2706(/*)S
2832(0)S
2916(/)S
(anything)336 3000 A
3378(==)S
3504(0)S
3588(*/)S
4860 V
(19954)210 648 A
(e1->exp)294 1698 A
2034(=)S
2118(0;)S
2370(/*)S
(make)168 2496 A
(sure)168 2706 A
2916(*/)S
4950 V
(19955)210 648 A
(return;)294 1698 A
5040 V
(19956)210 648 A
1362(})S
5130 V
(19957)210 648 A
(#ifndef)294 1026 A
(USE_DIVIDE)420 1362 A
5220 V
(19958)210 648 A
1362(/*)S
5310 V
(19959)210 648 A
1404(*)S
(numbers)294 1488 A
(are)126 1824 A
(right)210 1992 A
(shifted)294 2244 A
(one)126 2580 A
(bit)126 2748 A
2916(to)S
(make)168 3042 A
(sure)168 3252 A
5400 V
(19960)210 648 A
1404(*)S
(that)168 1488 A
1698(m1)S
1824(is)S
(quaranteed)420 1950 A
2412(to)S
2538(be)S
(larger)252 2664 A
2958(if)S
(its)126 3084 A
5490 V
(19961)210 648 A
1404(*)S
(maximum)294 1488 A
(bit)126 1824 A
1992(is)S
(set)126 2118 A
5580 V
(19962)210 648 A
1404(*/)S
5670 V
(19963)210 648 A
(b64_rsft\(&e1->mantissa\);)1008 1362 A
2706(/*)S
2832(64)S
(bit)126 2958 A
(shift)210 3126 A
(right)210 3378 A
3630(*/)S
5760 V
(19964)210 648 A
(b64_rsft\(&e2->mantissa\);)1008 1362 A
2706(/*)S
2832(64)S
(bit)126 2958 A
(shift)210 3126 A
(right)210 3378 A
3630(*/)S
5850 V
(19965)210 648 A
(e1->exp++;)420 1362 A
5940 V
(19966)210 648 A
(e2->exp++;)420 1362 A
6030 V
(19967)210 648 A
(#endif)252 1026 A
6120 V
(19968)210 648 A
1362(/*)S
(check)210 1698 A
(for)126 1950 A
(underflow,)420 2118 A
(divide)252 2580 A
2874(by)S
(zero,)210 3000 A
(etc)126 3252 A
3714(*/)S
6210 V
(19969)210 648 A
(e1->sign)336 1362 A
1740(\303=)S
(e2->sign;)378 1866 A
8418 V
EP
%%Page: 178 178
BP
/slant 0 def
/height 0 def
630 V
12 B
(178)180 648 A
11 R
1944(File:)S
(src/lib/float/div_ext.c)954 2177 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(19970)210 648 A
(e1->exp)294 1362 A
1698(-=)S
(e2->exp;)336 1824 A
990 V
(19971)210 648 A
1080 V
(19972)210 648 A
(#ifndef)294 1026 A
(USE_DIVIDE)420 1362 A
1170 V
(19973)210 648 A
1698(/*)S
1824(do)S
(division)336 1950 A
2328(of)S
(mantissas)378 2454 A
3042(*/)S
1260 V
(19974)210 648 A
1698(/*)S
(uses)168 1824 A
(partial)294 2034 A
(product)294 2370 A
(method)252 2706 A
3042(*/)S
1350 V
(19975)210 648 A
1698(/*)S
(init)168 1824 A
(control)294 2034 A
(variables)378 2370 A
3042(*/)S
1440 V
(19976)210 648 A
1530 V
(19977)210 648 A
(count)210 1362 A
1614(=)S
(64;)126 1698 A
1620 V
(19978)210 648 A
(result.h_32)462 1362 A
1866(=)S
(0L;)126 1950 A
1710 V
(19979)210 648 A
(result.l_32)462 1362 A
1866(=)S
(0L;)126 1950 A
1800 V
(19980)210 648 A
1890 V
(19981)210 648 A
1698(/*)S
(partial)294 1824 A
(product)294 2160 A
(division)336 2496 A
(loop)168 2874 A
3084(*/)S
1980 V
(19982)210 648 A
2070 V
(19983)210 648 A
(while)210 1362 A
(\(count--\))378 1614 A
2034({)S
2160 V
(19984)210 648 A
1698(/*)S
(first)210 1824 A
(left)168 2076 A
(shift)210 2286 A
(result)252 2538 A
2832(1)S
(bit)126 2916 A
3378(*/)S
2250 V
(19985)210 648 A
1698(/*)S
(this)168 1824 A
2034(is)S
(ALWAYS)252 2160 A
(done)168 2454 A
3378(*/)S
2340 V
(19986)210 648 A
2430 V
(19987)210 648 A
(b64_lsft\(&result\);)756 1698 A
2520 V
(19988)210 648 A
2610 V
(19989)210 648 A
1698(/*)S
(compare)294 1824 A
(dividend)336 2160 A
(and)126 2538 A
(divisor)294 2706 A
3378(*/)S
2700 V
(19990)210 648 A
1698(/*)S
1824(if)S
(dividend)336 1950 A
2328(>=)S
(divisor)294 2454 A
(add)126 2790 A
2958(a)S
(bit)126 3042 A
3378(*/)S
2790 V
(19991)210 648 A
1698(/*)S
(and)126 1824 A
(subtract)336 1992 A
(divisior)336 2370 A
(from)168 2748 A
(dividend)336 2958 A
3378(*/)S
2880 V
(19992)210 648 A
2970 V
(19993)210 648 A
1698(if)S
1824(\()S
(\(e1->m1)294 1908 A
2244(<)S
(e2->m1\))294 2328 A
2664(||)S
3060 V
(19994)210 648 A
(\(\(e1->m1)336 2034 A
2412(==)S
(e2->m1\))294 2538 A
2874(&&)S
(\(e1->m2)294 3000 A
3336(<)S
(e2->m2\))294 3420 A
3756(\)\))S
3150 V
(19995)210 648 A
2034(;)S
2370(/*)S
(null)168 2496 A
(statement)378 2706 A
3126(*/)S
3240 V
(19996)210 648 A
2370(/*)S
(i.e.,)210 2496 A
(don't)210 2748 A
(add)126 3000 A
3168(or)S
(subtract)336 3294 A
3672(*/)S
3330 V
(19997)210 648 A
(else)168 1698 A
2034({)S
3420 V
(19998)210 648 A
(result.l_32++;)588 2034 A
2706(/*)S
(ADD)126 2832 A
3042(*/)S
3510 V
(19999)210 648 A
2034(if)S
(\(e2->m2)294 2160 A
2496(>)S
(e1->m2\))294 2580 A
3600 V
(20000)210 648 A
(e1->m1)252 2370 A
2664(-=)S
2790(1;)S
3042(/*)S
(carry)210 3168 A
3420(in)S
3546(*/)S
3690 V
(20001)210 648 A
(e1->m1)252 2034 A
2328(-=)S
(e2->m1;)294 2454 A
3042(/*)S
3168(do)S
(SUBTRACTION)462 3294 A
3798(*/)S
3780 V
(20002)210 648 A
(e1->m2)252 2034 A
2328(-=)S
(e2->m2;)294 2454 A
3042(/*)S
(SUBTRACTION)462 3294 A
3798(*/)S
3870 V
(20003)210 648 A
1698(})S
3960 V
(20004)210 648 A
4050 V
(20005)210 648 A
1698(/*)S
(shift)210 2034 A
(dividend)336 2286 A
(left)168 2664 A
(one)126 2874 A
(bit)126 3042 A
3210(OR)S
3378(*/)S
4140 V
(20006)210 648 A
1698(/*)S
2034(IF)S
2160(it)S
(equals)252 2286 A
(ZERO)168 2580 A
2790(we)S
(can)126 2916 A
(break)210 3084 A
(out)126 3336 A
3714(*/)S
4230 V
(20007)210 648 A
1698(/*)S
2034(of)S
(the)126 2160 A
(loop,)210 2328 A
(but)126 2580 A
(still)210 2748 A
(must)168 3000 A
(shift)210 3210 A
3714(*/)S
4320 V
(20008)210 648 A
1698(/*)S
(the)126 2034 A
(quotient)336 2202 A
(the)126 2580 A
(remaining)378 2748 A
(count)210 3168 A
(bits)168 3420 A
3714(*/)S
4410 V
(20009)210 648 A
1698(/*)S
1824(NB)S
(save)168 2034 A
(the)126 2244 A
(results)294 2412 A
2748(of)S
(this)168 2874 A
(test)168 3084 A
3294(in)S
(error)210 3420 A
3714(*/)S
4500 V
(20010)210 648 A
1698(/*)S
2034(if)S
(not)126 2160 A
(zero,)210 2328 A
(then)168 2580 A
(the)126 2790 A
(result)252 2958 A
3252(is)S
(inexact.)336 3378 A
3756(*/)S
4590 V
(20011)210 648 A
1698(/*)S
(this)168 2034 A
(would)210 2244 A
2496(be)S
(reported)336 2622 A
3000(in)S
(IEEE)168 3126 A
(standard)336 3336 A
3714(*/)S
4680 V
(20012)210 648 A
4770 V
(20013)210 648 A
1698(/*)S
2034(lp)S
(points)252 2160 A
2454(to)S
(dividend)336 2580 A
3714(*/)S
4860 V
(20014)210 648 A
1698(lp)S
1824(=)S
(&e1->m1;)336 1908 A
4950 V
(20015)210 648 A
5040 V
(20016)210 648 A
(error)210 1698 A
1950(=)S
(\(\(*lp)210 2034 A
2286(|)S
(*\(lp+1\)\))336 2370 A
2748(!=)S
(0L\))126 2874 A
3042(?)S
3126(1)S
3210(:)S
3294(0;)S
5130 V
(20017)210 648 A
1698(if)S
(\(error\))294 1824 A
2370({)S
2706(/*)S
(more)168 2832 A
(work)168 3042 A
3252(*/)S
5220 V
(20018)210 648 A
2034(/*)S
(assume)252 2370 A
(max)126 2664 A
(bit)126 2832 A
3000(==)S
3126(0)S
(\(see)168 3210 A
(above\))252 3420 A
3714(*/)S
5310 V
(20019)210 648 A
(b64_lsft\(&e1->mantissa\);)1008 2034 A
5400 V
(20020)210 648 A
(continue;)378 2034 A
5490 V
(20021)210 648 A
1698(})S
5580 V
(20022)210 648 A
(else)168 1698 A
5670 V
(20023)210 648 A
(break;)252 2034 A
2370(/*)S
(leave)210 2496 A
(loop)168 2748 A
3042(*/)S
5760 V
(20024)210 648 A
1362(})S
1698(/*)S
(end)126 1824 A
1992(of)S
(divide)252 2118 A
2412(by)S
(subtraction)462 2538 A
(loop)168 3042 A
3378(*/)S
5850 V
(20025)210 648 A
5940 V
(20026)210 648 A
1362(if)S
(\(count)252 1488 A
1782(>)S
1866(0\))S
2034({)S
6030 V
(20027)210 648 A
1698(lp)S
1824(=)S
(&result.h_32;)546 1908 A
6120 V
(20028)210 648 A
1698(if)S
(\(count)252 1824 A
2118(>)S
(31\))126 2202 A
2370({)S
2706(/*)S
(move)168 2832 A
3042(to)S
(higher)252 3168 A
(word)168 3462 A
3672(*/)S
6210 V
(20029)210 648 A
(*lp)126 2034 A
2202(=)S
(*\(lp+1\);)336 2286 A
8418 V
EP
%%Page: 179 179
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1944(File:)S
(src/lib/float/div_ext.c)954 2177 A
12 B
(179)180 4248 A
900 V
7 LST
(20030)210 648 A
(count)210 2034 A
2286(-=)S
(32;)126 2412 A
990 V
(20031)210 648 A
(*\(lp+1\))294 2034 A
2370(=)S
(0L;)126 2454 A
2706(/*)S
(clear)210 2832 A
(low)126 3084 A
(word)168 3252 A
3714(*/)S
1080 V
(20032)210 648 A
1698(})S
1170 V
(20033)210 648 A
1698(if)S
(\(*lp\))210 1824 A
1260 V
(20034)210 648 A
(*lp)126 2034 A
(<<=)126 2202 A
(count;)252 2370 A
2706(/*)S
(shift)210 2832 A
(rest)168 3084 A
3294(of)S
(way)126 3420 A
3714(*/)S
1350 V
(20035)210 648 A
(lp++;)210 1698 A
2034(/*)S
2202(==)S
(&result.l_32)504 2328 A
3042(*/)S
1440 V
(20036)210 648 A
1698(if)S
(\(*lp\))210 1824 A
2076({)S
1530 V
(20037)210 648 A
(result.h_32)462 2034 A
2538(|=)S
(\(*lp)168 2664 A
2874(>>)S
(32-count\);)420 3000 A
1620 V
(20038)210 648 A
(*lp)126 2034 A
(<<=)126 2202 A
(count;)252 2370 A
1710 V
(20039)210 648 A
1698(})S
1800 V
(20040)210 648 A
1362(})S
1890 V
(20041)210 648 A
(#else)210 1026 A
1278(/*)S
(USE_DIVIDE)420 1404 A
1866(*/)S
1980 V
(20042)210 648 A
2070 V
(20043)210 648 A
(u[4])168 1362 A
1572(=)S
(\(e1->m2)294 1656 A
1992(&)S
2076(1\))S
2202(<<)S
(15;)126 2328 A
2160 V
(20044)210 648 A
(b64_rsft\(&\(e1->mantissa\)\);)1092 1362 A
2250 V
(20045)210 648 A
(u[0])168 1362 A
1572(=)S
(e1->m1)252 1656 A
1950(>>)S
(16;)126 2076 A
2340 V
(20046)210 648 A
(u[1])168 1362 A
1572(=)S
(e1->m1;)294 1656 A
2430 V
(20047)210 648 A
(u[2])168 1362 A
1572(=)S
(e1->m2)252 1656 A
1950(>>)S
(16;)126 2076 A
2520 V
(20048)210 648 A
(u[3])168 1362 A
1572(=)S
(e1->m2;)294 1656 A
2610 V
(20049)210 648 A
(u[5])168 1362 A
1572(=)S
1656(0;)S
(u[6])168 1782 A
1992(=)S
2076(0;)S
(u[7])168 2202 A
2412(=)S
2496(0;)S
2700 V
(20050)210 648 A
(v[1])168 1362 A
1572(=)S
(e2->m1)252 1656 A
1950(>>)S
(16;)126 2076 A
2790 V
(20051)210 648 A
(v[2])168 1362 A
1572(=)S
(e2->m1;)294 1656 A
2880 V
(20052)210 648 A
(v[3])168 1362 A
1572(=)S
(e2->m2)252 1656 A
1950(>>)S
(16;)126 2076 A
2970 V
(20053)210 648 A
(v[4])168 1362 A
1572(=)S
(e2->m2;)294 1656 A
3060 V
(20054)210 648 A
(while)210 1362 A
1614(\(!)S
(v[maxv]\))336 1740 A
(maxv--;)294 2118 A
3150 V
(20055)210 648 A
(result.h_32)462 1362 A
1866(=)S
1950(0;)S
3240 V
(20056)210 648 A
(result.l_32)462 1362 A
1866(=)S
1950(0;)S
3330 V
(20057)210 648 A
1362(lp)S
1488(=)S
(&result.h_32;)546 1572 A
3420 V
(20058)210 648 A
3510 V
(20059)210 648 A
1362(/*)S
3600 V
(20060)210 648 A
1404(*)S
(Use)126 1488 A
1656(an)S
(algorithm)378 1782 A
2202(of)S
(Knuth)210 2328 A
(\(The)168 2580 A
(art)126 2790 A
2958(of)S
(programming,)504 3084 A
(Seminumerical)546 3630 A
3690 V
(20061)210 648 A
1404(*)S
(algorithms\),)504 1488 A
2034(to)S
(divide)252 2160 A
2454(u)S
2538(by)S
2664(v.)S
2790(u)S
(and)126 2874 A
3042(v)S
(are)126 3126 A
(both)168 3294 A
(seen)168 3504 A
3714(as)S
(numbers)294 3840 A
3780 V
(20062)210 648 A
1404(*)S
(with)168 1488 A
(base)168 1698 A
(65536.)252 1908 A
3870 V
(20063)210 648 A
1404(*/)S
3960 V
(20064)210 648 A
(for)126 1362 A
1530(\(j)S
1656(=)S
1740(0;)S
1866(j)S
1950(<=)S
2076(3;)S
(j++,)168 2202 A
(u_p++\))252 2412 A
2706({)S
4050 V
(20065)210 648 A
(unsigned)336 1698 A
(long)168 2076 A
(q_est,)252 2286 A
(temp;)210 2580 A
4140 V
(20066)210 648 A
4230 V
(20067)210 648 A
1698(if)S
1824(\(j)S
1950(==)S
2076(2\))S
(lp++;)210 2202 A
4320 V
(20068)210 648 A
1698(if)S
(\(u_p[0])294 1824 A
2160(==)S
2286(0)S
2370(&&)S
(u_p[1])252 2496 A
2790(<)S
(v[1]\))210 2874 A
(continue;)378 3126 A
4410 V
(20069)210 648 A
(temp)168 1698 A
1908(=)S
(\(\(unsigned)420 1992 A
(long\)u_p[0])462 2454 A
2958(<<)S
(16\))126 3084 A
3252(+)S
(u_p[1];)294 3336 A
4500 V
(20070)210 648 A
1698(if)S
(\(u_p[0])294 1824 A
2160(>=)S
(v[1]\))210 2286 A
2538({)S
4590 V
(20071)210 648 A
(q_est)210 2034 A
2286(=)S
(0x0000FFFFL;)504 2370 A
4680 V
(20072)210 648 A
1698(})S
4770 V
(20073)210 648 A
(else)168 1698 A
1908({)S
4860 V
(20074)210 648 A
(q_est)210 2034 A
2286(=)S
(temp)168 2370 A
2580(/)S
(v[1];)210 2664 A
4950 V
(20075)210 648 A
1698(})S
5040 V
(20076)210 648 A
(temp)168 1698 A
1908(-=)S
(q_est)210 2034 A
2286(*)S
(v[1];)210 2370 A
5130 V
(20077)210 648 A
(while)210 1698 A
(\(temp)210 1950 A
2202(<)S
(0x10000)294 2286 A
2622(&&)S
(v[2]*q_est)420 2748 A
3210(>)S
(\(\(temp<<16\)+u_p[2]\)\))840 3294 A
4176({)S
5220 V
(20078)210 648 A
(q_est--;)336 2034 A
5310 V
(20079)210 648 A
(temp)168 2034 A
2244(+=)S
(v[1];)210 2370 A
5400 V
(20080)210 648 A
1698(})S
5490 V
(20081)210 648 A
1698(/*)S
(Now,)168 2034 A
(according)378 2244 A
2664(to)S
(Knuth,)252 2790 A
3084(we)S
(have)168 3210 A
3420(an)S
(estimate)336 3546 A
3924(of)S
(the)126 4050 A
5580 V
(20082)210 648 A
(quotient,)378 2034 A
(that)168 2454 A
2664(is)S
(either)252 2790 A
(correct)294 3084 A
3420(or)S
(one)126 3546 A
(too)126 3714 A
(big,)168 3882 A
(but)126 4092 A
5670 V
(20083)210 648 A
(almost)252 2034 A
(always)252 2328 A
(correct.)336 2622 A
5760 V
(20084)210 648 A
1698(*/)S
5850 V
(20085)210 648 A
1698(if)S
(\(q_est)252 1824 A
2118(!=)S
2244(0\))S
2412({)S
5940 V
(20086)210 648 A
(int)126 2034 A
2202(i;)S
6030 V
(20087)210 648 A
(unsigned)336 2034 A
(long)168 2412 A
2622(k)S
2706(=)S
2790(0;)S
6120 V
(20088)210 648 A
(int)126 2034 A
(borrow)252 2202 A
2496(=)S
2580(0;)S
6210 V
(20089)210 648 A
8418 V
EP
%%Page: 180 180
BP
/slant 0 def
/height 0 def
630 V
12 B
(180)180 648 A
11 R
1944(File:)S
(src/lib/float/div_ext.c)954 2177 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(20090)210 648 A
(for)126 2034 A
2202(\(i)S
2328(=)S
(maxv;)210 2412 A
2664(i)S
2748(>)S
2832(0;)S
(i--\))168 2958 A
3168({)S
990 V
(20091)210 648 A
(unsigned)336 2370 A
(long)168 2748 A
(tmp)126 2958 A
3126(=)S
(q_est)210 3210 A
3462(*)S
(v[i])168 3546 A
3756(+)S
3840(k)S
3924(+)S
(borrow;)294 4008 A
1080 V
(20092)210 648 A
(unsigned)336 2370 A
(short)210 2748 A
3000(md)S
3126(=)S
(tmp;)168 3210 A
1170 V
(20093)210 648 A
1260 V
(20094)210 648 A
(borrow)252 2370 A
2664(=)S
(\(md)126 2748 A
2916(>)S
(u_p[i]\);)336 3000 A
1350 V
(20095)210 648 A
(u_p[i])252 2370 A
2664(-=)S
(md;)126 2790 A
1440 V
(20096)210 648 A
2370(k)S
2454(=)S
(tmp)126 2538 A
2706(>>)S
(16;)126 2832 A
1530 V
(20097)210 648 A
2034(})S
1620 V
(20098)210 648 A
2034(k)S
2118(+=)S
(borrow;)294 2244 A
1710 V
(20099)210 648 A
(borrow)252 2034 A
2328(=)S
(u_p[0])252 2412 A
2706(<)S
2790(k;)S
1800 V
(20100)210 648 A
(u_p[0])252 2034 A
2328(-=)S
2454(k;)S
1890 V
(20101)210 648 A
1980 V
(20102)210 648 A
2034(if)S
(\(borrow\))336 2160 A
2538({)S
2070 V
(20103)210 648 A
2370(/*)S
(So,)126 2496 A
(this)168 2664 A
(does)168 2874 A
(not)126 3084 A
(happen)252 3252 A
(often;)252 3546 A
(the)126 3840 A
(estimate)336 4008 A
2160 V
(20104)210 648 A
(was)126 2496 A
(one)126 2664 A
(too)126 2832 A
(big;)168 3000 A
(correct)294 3210 A
(this)168 3546 A
2250 V
(20105)210 648 A
2370(*/)S
2340 V
(20106)210 648 A
(*lp)126 2370 A
2538(|=)S
2664(\(j)S
2790(&)S
2874(1\))S
3000(?)S
(\(q_est)252 3084 A
3378(-)S
3462(1\))S
3588(:)S
(\(\(q_est-1\)<<16\);)672 3672 A
2430 V
(20107)210 648 A
(borrow)252 2370 A
2664(=)S
2748(0;)S
2520 V
(20108)210 648 A
(for)126 2370 A
2538(\(i)S
2664(=)S
(maxv;)210 2748 A
3000(i)S
3084(>)S
3168(0;)S
(i--\))168 3294 A
3504({)S
2610 V
(20109)210 648 A
(unsigned)336 2706 A
(long)168 3084 A
(tmp)126 3294 A
2700 V
(20110)210 648 A
2874(=)S
(v[i]+\(unsigned)588 2958 A
(long\)u_p[i]+borrow;)798 3588 A
2790 V
(20111)210 648 A
2880 V
(20112)210 648 A
(u_p[i])252 2706 A
3000(=)S
(tmp;)168 3084 A
2970 V
(20113)210 648 A
(borrow)252 2706 A
3000(=)S
(tmp)126 3084 A
3252(>>)S
(16;)126 3378 A
3060 V
(20114)210 648 A
2370(})S
3150 V
(20115)210 648 A
(u_p[0])252 2370 A
2664(+=)S
(borrow;)294 2790 A
3240 V
(20116)210 648 A
2034(})S
3330 V
(20117)210 648 A
(else)168 2034 A
(*lp)126 2244 A
2412(|=)S
2538(\(j)S
2664(&)S
2748(1\))S
2874(?)S
(q_est)210 2958 A
3210(:)S
(\(q_est<<16\);)504 3294 A
3420 V
(20118)210 648 A
1698(})S
3510 V
(20119)210 648 A
1362(})S
3600 V
(20120)210 648 A
(#ifdef)252 1026 A
(EXCEPTION_INEXACT)714 1362 A
3690 V
(20121)210 648 A
(u_p)126 1362 A
1530(=)S
(&u[0];)252 1614 A
3780 V
(20122)210 648 A
(for)126 1362 A
1530(\(j)S
1656(=)S
1740(7;)S
1866(j)S
1950(>=)S
2076(0;)S
(j--\))168 2202 A
2412({)S
3870 V
(20123)210 648 A
1698(if)S
(\(*u_p++\))336 1824 A
2202({)S
3960 V
(20124)210 648 A
(error)210 2034 A
2286(=)S
2370(1;)S
4050 V
(20125)210 648 A
(break;)252 2034 A
4140 V
(20126)210 648 A
1698(})S
4230 V
(20127)210 648 A
1362(})S
4320 V
(20128)210 648 A
(#endif)252 1026 A
4410 V
(20129)210 648 A
(#endif)252 1026 A
4500 V
(20130)210 648 A
4590 V
(20131)210 648 A
(#ifdef)252 1026 A
(EXCEPTION_INEXACT)714 1362 A
4680 V
(20132)210 648 A
1362(if)S
(\(error\))294 1488 A
2034({)S
4770 V
(20133)210 648 A
1698(/*)S
4860 V
(20134)210 648 A
1740(*)S
(report)252 1824 A
(here)168 2118 A
(exception)378 2328 A
(8.5)126 2748 A
2916(-)S
(Inexact)294 3000 A
4950 V
(20135)210 648 A
1740(*)S
(from)168 1824 A
(Draft)210 2034 A
(8.0)126 2286 A
2454(of)S
(IEEE)168 2580 A
(P754:)210 2790 A
5040 V
(20136)210 648 A
1740(*)S
1824(In)S
(the)126 1950 A
(absence)294 2118 A
2454(of)S
2580(an)S
(invalid)294 2706 A
(operation)378 3042 A
(exception,)420 3462 A
5130 V
(20137)210 648 A
1740(*)S
1824(if)S
(the)126 1950 A
(rounded)294 2118 A
(result)252 2454 A
2748(of)S
2874(an)S
(operation)378 3000 A
3420(is)S
(not)126 3546 A
(exact)210 3714 A
3966(or)S
4092(if)S
5220 V
(20138)210 648 A
1740(*)S
1824(it)S
(overflows)378 1950 A
(without)294 2370 A
2706(a)S
(trap,)210 2790 A
(then)168 3042 A
(the)126 3252 A
(inexact)294 3420 A
(exception)378 3756 A
5310 V
(20139)210 648 A
1740(*)S
(shall)210 1824 A
2076(be)S
(assigned.)378 2202 A
(The)126 2622 A
(rounded)294 2790 A
3126(or)S
(overflowed)420 3252 A
(result)252 3714 A
5400 V
(20140)210 648 A
1740(*)S
(shall)210 1824 A
2076(be)S
(delivered)378 2202 A
2622(to)S
(the)126 2748 A
(destination.)504 2916 A
5490 V
(20141)210 648 A
1740(*/)S
5580 V
(20142)210 648 A
(INEXACT\(\);)420 1698 A
5670 V
(20143)210 648 A
(#endif)252 1026 A
5760 V
(20144)210 648 A
(e1->mantissa)504 1362 A
1908(=)S
(result;)294 1992 A
5850 V
(20145)210 648 A
5940 V
(20146)210 648 A
(nrm_ext\(e1\);)504 1362 A
6030 V
(20147)210 648 A
1362(if)S
(\(e1->exp)336 1488 A
1866(<)S
(EXT_MIN\))336 1950 A
2370({)S
6120 V
(20148)210 648 A
1698(/*)S
6210 V
(20149)210 648 A
1740(*)S
(Exception)378 1824 A
(8.4)126 2244 A
2412(-)S
(Underflow)378 2496 A
8418 V
EP
%%Page: 181 181
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1944(File:)S
(src/lib/float/div_ext.c)954 2177 A
12 B
(181)180 4248 A
900 V
7 LST
(20150)210 648 A
1740(*/)S
990 V
(20151)210 648 A
(trap\(EFUNFL\);)546 1698 A
2370(/*)S
(underflow)378 2496 A
2916(*/)S
1080 V
(20152)210 648 A
(e1->exp)294 1698 A
2034(=)S
(EXT_MIN;)336 2118 A
1170 V
(20153)210 648 A
(e1->m1)252 1698 A
1992(=)S
(e1->m2)252 2076 A
2370(=)S
(0L;)126 2454 A
1260 V
(20154)210 648 A
(return;)294 1698 A
1350 V
(20155)210 648 A
1362(})S
1440 V
(20156)210 648 A
1362(if)S
(\(e1->exp)336 1488 A
1866(>=)S
(EXT_MAX\))336 1992 A
2370({)S
1530 V
(20157)210 648 A
1698(/*)S
1620 V
(20158)210 648 A
1740(*)S
(Exception)378 1824 A
(8.3)126 2244 A
2412(-)S
(Overflow)336 2496 A
1710 V
(20159)210 648 A
1740(*/)S
1800 V
(20160)210 648 A
(trap\(EFOVFL\);)546 1698 A
2370(/*)S
(overflow)336 2496 A
2874(*/)S
1890 V
(20161)210 648 A
(e1->exp)294 1698 A
2034(=)S
(EXT_MAX;)336 2118 A
1980 V
(20162)210 648 A
(e1->m1)252 1698 A
1992(=)S
(e1->m2)252 2076 A
2370(=)S
(0L;)126 2454 A
2070 V
(20163)210 648 A
(return;)294 1698 A
2160 V
(20164)210 648 A
1362(})S
2250 V
(20165)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/float/dvf4.c)840 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(20200)210 648 A
1026(/*)S
3240 V
(20201)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
3330 V
(20202)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
3420 V
(20203)210 648 A
1026(*/)S
3510 V
(20204)210 648 A
3600 V
(20205)210 648 A
1026(/*)S
($Header:)336 1152 A
(dvf4.c,v)336 1530 A
(1.5)126 1908 A
(93/01/05)336 2076 A
(12:04:53)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
3690 V
(20206)210 648 A
3780 V
(20207)210 648 A
1026(/*)S
3870 V
(20208)210 648 A
(DIVIDE)252 1362 A
(TWO)126 1656 A
(SINGLES)294 1824 A
2160(-)S
(SINGLE)252 2244 A
(Precision)378 2538 A
(\(dvf)168 2958 A
3168(4\))S
3960 V
(20209)210 648 A
1026(*/)S
4050 V
(20210)210 648 A
4140 V
(20211)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
4230 V
(20212)210 648 A
4320 V
(20213)210 648 A
(void)168 1026 A
4410 V
(20214)210 648 A
(dvf4\(s2,s1\))462 1026 A
4500 V
(20215)210 648 A
(SINGLE)252 1026 A
(s1,s2;)252 1362 A
4590 V
(20216)210 648 A
1026({)S
4680 V
(20217)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
4770 V
(20218)210 648 A
4860 V
(20219)210 648 A
(extend\(&s1,&e1,sizeof\(SINGLE\)\);)1302 1362 A
4950 V
(20220)210 648 A
(extend\(&s2,&e2,sizeof\(SINGLE\)\);)1302 1362 A
5040 V
(20221)210 648 A
5130 V
(20222)210 648 A
1698(/*)S
1824(do)S
1950(a)S
(divide)252 2034 A
2328(*/)S
5220 V
(20223)210 648 A
(div_ext\(&e1,&e2\);)714 1362 A
5310 V
(20224)210 648 A
(compact\(&e1,&s1,sizeof\(SINGLE\)\);)1344 1362 A
5400 V
(20225)210 648 A
1026(})S
8418 V
EP
%%Page: 182 182
BP
/slant 0 def
/height 0 def
630 V
12 B
(182)180 648 A
11 R
2009(File:)S
(src/lib/float/dvf8.c)824 2242 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/dvf8.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(20300)210 648 A
1026(/*)S
1440 V
(20301)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(20302)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(20303)210 648 A
1026(*/)S
1710 V
(20304)210 648 A
1800 V
(20305)210 648 A
1026(/*)S
($Header:)336 1152 A
(dvf8.c,v)336 1530 A
(1.5)126 1908 A
(93/01/05)336 2076 A
(12:04:59)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(20306)210 648 A
1980 V
(20307)210 648 A
1026(/*)S
2070 V
(20308)210 648 A
(DIVIDE)252 1362 A
(TWO)126 1656 A
(FLOATS)252 1824 A
2118(-)S
(DOUBLE)252 2202 A
(Precision)378 2496 A
(\(DVF)168 2916 A
3126(8\))S
2160 V
(20309)210 648 A
1026(*/)S
2250 V
(20310)210 648 A
2340 V
(20311)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
2430 V
(20312)210 648 A
2520 V
(20313)210 648 A
(void)168 1026 A
2610 V
(20314)210 648 A
(dvf8\(s2,s1\))462 1026 A
2700 V
(20315)210 648 A
(DOUBLE)252 1026 A
(s1,s2;)252 1362 A
2790 V
(20316)210 648 A
1026({)S
2880 V
(20317)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
2970 V
(20318)210 648 A
3060 V
(20319)210 648 A
(extend\(&s1.d[0],&e1,sizeof\(DOUBLE\)\);)1512 1362 A
3150 V
(20320)210 648 A
(extend\(&s2.d[0],&e2,sizeof\(DOUBLE\)\);)1512 1362 A
3240 V
(20321)210 648 A
3330 V
(20322)210 648 A
1698(/*)S
1824(do)S
1950(a)S
(divide)252 2034 A
2328(*/)S
3420 V
(20323)210 648 A
(div_ext\(&e1,&e2\);)714 1362 A
3510 V
(20324)210 648 A
(compact\(&e1,&s1.d[0],sizeof\(DOUBLE\)\);)1554 1362 A
3600 V
(20325)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/float/extend.c)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(20400)210 648 A
1026(/*)S
4590 V
(20401)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4680 V
(20402)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4770 V
(20403)210 648 A
1026(*/)S
4860 V
(20404)210 648 A
4950 V
(20405)210 648 A
1026(/*)S
($Header:)336 1152 A
(extend.c,v)420 1530 A
(1.11)168 1992 A
(93/01/05)336 2202 A
(12:05:05)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
5040 V
(20406)210 648 A
5130 V
(20407)210 648 A
1026(/*)S
5220 V
(20408)210 648 A
(CONVERTS)336 1362 A
(FLOATING)336 1740 A
(POINT)210 2118 A
2370(TO)S
(EXTENDED)336 2496 A
(FORMAT)252 2874 A
5310 V
(20409)210 648 A
5400 V
(20410)210 648 A
(Two)126 1362 A
(sizes)210 1530 A
1782(of)S
(FLOATING)336 1908 A
(Point)210 2286 A
(are)126 2538 A
(known:)252 2706 A
5490 V
(20411)210 648 A
(SINGLE)252 1698 A
(and)126 1992 A
(DOUBLE)252 2160 A
5580 V
(20412)210 648 A
1026(*/)S
5670 V
(20413)210 648 A
(/********************************************************/)2436 1026 A
5760 V
(20414)210 648 A
1026(/*)S
5850 V
(20415)210 648 A
1362(It)S
1488(is)S
(not)126 1614 A
(required)336 1782 A
2160(to)S
(normalize)378 2286 A
2706(in)S
(extended)336 2832 A
5940 V
(20416)210 648 A
(format,)294 1362 A
(but)126 1698 A
1866(it)S
(has)126 1992 A
(been)168 2160 A
(chosen)252 2370 A
2664(to)S
2790(do)S
(so.)126 2916 A
6030 V
(20417)210 648 A
(Extended)336 1362 A
(Format)252 1740 A
2034(is)S
2160(as)S
(follows)294 2286 A
(\(at)126 2622 A
(exit\):)252 2790 A
6120 V
(20418)210 648 A
6210 V
(20419)210 648 A
(->sign)252 1026 A
(S000)168 1362 A
(0000)168 1572 A
1782(|)S
(0000)168 1866 A
(0000)168 2076 A
(<SIGN>)252 2706 A
8418 V
EP
%%Page: 183 183
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1962(File:)S
(src/lib/float/extend.c)918 2195 A
12 B
(183)180 4248 A
900 V
7 LST
(20420)210 648 A
(->exp)210 1026 A
(0EEE)168 1362 A
(EEEE)168 1572 A
1782(|)S
(EEEE)168 1866 A
(EEEE)168 2076 A
(<EXPONENT>)420 2706 A
990 V
(20421)210 648 A
(->m1)168 1026 A
(LFFF)168 1362 A
(FFFF)168 1572 A
1782(|)S
(FFFF)168 1866 A
(FFFF)168 2076 A
(<L.Fraction>)504 2706 A
1080 V
(20422)210 648 A
(FFFF)168 1362 A
(FFFF)168 1572 A
1782(|)S
(FFFF)168 1866 A
(FFFF)168 2076 A
(<Fraction>)420 2706 A
1170 V
(20423)210 648 A
(->m2)168 1026 A
(FFFF)168 1362 A
(FFFF)168 1572 A
1782(|)S
(FFFF)168 1866 A
(FFFF)168 2076 A
(<Fraction>)420 2706 A
1260 V
(20424)210 648 A
(FFFF)168 1362 A
(F000)168 1572 A
1782(|)S
(0000)168 1866 A
(0000)168 2076 A
(<Fraction>)420 2706 A
1350 V
(20425)210 648 A
1026(*/)S
1440 V
(20426)210 648 A
(/********************************************************/)2436 1026 A
1530 V
(20427)210 648 A
1620 V
(20428)210 648 A
(#include)336 1026 A
("FP_bias.h")462 1404 A
1710 V
(20429)210 648 A
(#include)336 1026 A
("FP_shift.h")504 1404 A
1800 V
(20430)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
1890 V
(20431)210 648 A
(#include)336 1026 A
("get_put.h")462 1404 A
1980 V
(20432)210 648 A
(/********************************************************/)2436 1026 A
2070 V
(20433)210 648 A
2160 V
(20434)210 648 A
(void)168 1026 A
2250 V
(20435)210 648 A
(extend\(from,to,size\))840 1026 A
2340 V
(20436)210 648 A
(unsigned)336 1026 A
(long)168 1404 A
(*from;)252 1698 A
2430 V
(20437)210 648 A
(EXTEND)252 1026 A
(*to;)168 1362 A
2520 V
(20438)210 648 A
(int)126 1026 A
(size;)210 1362 A
2610 V
(20439)210 648 A
1026({)S
2700 V
(20440)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cpt1;)252 1950 A
2790 V
(20441)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(tmp;)168 2034 A
2880 V
(20442)210 648 A
(int)126 1362 A
(leadbit)294 1698 A
2034(=)S
2118(0;)S
2970 V
(20443)210 648 A
3060 V
(20444)210 648 A
(cpt1)168 1362 A
1572(=)S
(\(char)210 1656 A
1908(*\))S
(from;)210 2034 A
3150 V
(20445)210 648 A
3240 V
(20446)210 648 A
(#if)126 1026 A
(FL_MSL_AT_LOW_ADDRESS)882 1194 A
3330 V
(20447)210 648 A
(#if)126 1026 A
(FL_MSW_AT_LOW_ADDRESS)882 1194 A
3420 V
(20448)210 648 A
(to->exp)294 1362 A
1698(=)S
(uget2\(cpt1\);)504 1782 A
3510 V
(20449)210 648 A
(#else)210 1026 A
3600 V
(20450)210 648 A
(to->exp)294 1362 A
1698(=)S
(uget2\(cpt1+2\);)588 1782 A
3690 V
(20451)210 648 A
(#endif)252 1026 A
3780 V
(20452)210 648 A
(#else)210 1026 A
3870 V
(20453)210 648 A
(#if)126 1026 A
(FL_MSW_AT_LOW_ADDRESS)882 1194 A
3960 V
(20454)210 648 A
(to->exp)294 1362 A
1698(=)S
(uget2\(cpt1+\(size)672 1782 A
2496(==)S
(sizeof\(DOUBLE\))588 2622 A
3252(?)S
3336(4)S
3420(:)S
(0\)\);)168 3504 A
4050 V
(20455)210 648 A
(#else)210 1026 A
4140 V
(20456)210 648 A
(to->exp)294 1362 A
1698(=)S
(uget2\(cpt1+\(size)672 1782 A
2496(==)S
(sizeof\(DOUBLE\))588 2622 A
3252(?)S
3336(6)S
3420(:)S
(2\)\);)168 3504 A
4230 V
(20457)210 648 A
(#endif)252 1026 A
4320 V
(20458)210 648 A
(#endif)252 1026 A
4410 V
(20459)210 648 A
(to->sign)336 1362 A
1740(=)S
(\(to->exp)336 1824 A
2202(&)S
(0x8000\);)336 2286 A
2706(/*)S
(set)126 2832 A
(sign)168 3000 A
(bit)126 3210 A
3378(*/)S
4500 V
(20460)210 648 A
(to->exp)294 1362 A
1698(\303=)S
(to->sign;)378 1824 A
4590 V
(20461)210 648 A
1362(if)S
(\(size)210 1488 A
1740(==)S
(sizeof\(DOUBLE\)\))630 1866 A
4680 V
(20462)210 648 A
(to->exp)294 1698 A
(>>=)126 2034 A
(DBL_EXPSHIFT;)546 2202 A
4770 V
(20463)210 648 A
(else)168 1362 A
4860 V
(20464)210 648 A
(to->exp)294 1698 A
(>>=)126 2034 A
(SGL_EXPSHIFT;)546 2202 A
4950 V
(20465)210 648 A
1362(if)S
(\(to->exp)336 1488 A
1866(>)S
1950(0\))S
5040 V
(20466)210 648 A
(leadbit++;)420 1698 A
2370(/*)S
(will)168 2496 A
(set)126 2706 A
(Lead)168 2874 A
(bit)126 3084 A
(later)210 3252 A
3714(*/)S
5130 V
(20467)210 648 A
(else)168 1362 A
(to->exp++;)420 1572 A
5220 V
(20468)210 648 A
5310 V
(20469)210 648 A
1362(if)S
(\(size)210 1488 A
1740(==)S
(sizeof\(DOUBLE\)\))630 1866 A
2706({)S
5400 V
(20470)210 648 A
(#if)126 1026 A
(FL_MSL_AT_LOW_ADDRESS)882 1194 A
5490 V
(20471)210 648 A
(to->m1)252 1698 A
1992(=)S
(get4\(cpt1\);)462 2076 A
5580 V
(20472)210 648 A
(cpt1)168 1698 A
1908(+=)S
2034(4;)S
5670 V
(20473)210 648 A
(tmp)126 1698 A
1866(=)S
(get4\(cpt1\);)462 1950 A
5760 V
(20474)210 648 A
(#else)210 1026 A
5850 V
(20475)210 648 A
(tmp)126 1698 A
1866(=)S
(get4\(cpt1\);)462 1950 A
5940 V
(20476)210 648 A
(cpt1)168 1698 A
1908(+=)S
2034(4;)S
6030 V
(20477)210 648 A
(to->m1)252 1698 A
1992(=)S
(get4\(cpt1\);)462 2076 A
6120 V
(20478)210 648 A
(#endif)252 1026 A
6210 V
(20479)210 648 A
1698(if)S
(\(to->exp)336 1824 A
2202(==)S
2328(1)S
2412(&&)S
(to->m1)252 2538 A
2832(==)S
2958(0)S
3042(&&)S
(tmp)126 3168 A
3336(==)S
3462(0\))S
3588({)S
8418 V
EP
%%Page: 184 184
BP
/slant 0 def
/height 0 def
630 V
12 B
(184)180 648 A
11 R
1962(File:)S
(src/lib/float/extend.c)918 2195 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(20480)210 648 A
(to->exp)294 2034 A
2370(=)S
2454(0;)S
990 V
(20481)210 648 A
(to->sign)336 2034 A
2412(=)S
2496(0;)S
1080 V
(20482)210 648 A
(to->m1)252 2034 A
2328(=)S
2412(0;)S
1170 V
(20483)210 648 A
(to->m2)252 2034 A
2328(=)S
2412(0;)S
1260 V
(20484)210 648 A
(return;)294 2034 A
1350 V
(20485)210 648 A
1698(})S
1440 V
(20486)210 648 A
(to->m1)252 1698 A
(<<=)126 1992 A
(DBL_M1LEFT;)462 2160 A
3042(/*)S
(shift)210 3168 A
3714(*/)S
1530 V
(20487)210 648 A
(to->exp)294 1698 A
2034(-=)S
(DBL_BIAS;)378 2160 A
3042(/*)S
(remove)252 3168 A
(bias)168 3462 A
3714(*/)S
1620 V
(20488)210 648 A
(to->m1)252 1698 A
1992(|=)S
(\(tmp>>DBL_RPACK\);)714 2118 A
3042(/*)S
(plus)168 3168 A
3378(10)S
3504(==)S
3630(32)S
4050(*/)S
1710 V
(20489)210 648 A
(to->m2)252 1698 A
1992(=)S
(\(tmp<<DBL_LPACK\);)714 2076 A
3042(/*)S
(plus)168 3168 A
3378(22)S
3504(==)S
3630(32)S
4050(*/)S
1800 V
(20490)210 648 A
1362(})S
1890 V
(20491)210 648 A
(else)168 1362 A
1698({)S
2034(/*)S
(size)168 2160 A
2370(==)S
(sizeof\(SINGLE\))588 2496 A
3714(*/)S
1980 V
(20492)210 648 A
(to->m1)252 1698 A
1992(=)S
(get4\(cpt1\);)462 2076 A
2070 V
(20493)210 648 A
(to->m1)252 1698 A
(<<=)126 2034 A
(SGL_M1LEFT;)462 2202 A
2706(/*)S
(shift)210 2832 A
3378(*/)S
2160 V
(20494)210 648 A
1698(if)S
(\(to->exp)336 1824 A
2202(==)S
2328(1)S
2412(&&)S
(to->m1)252 2538 A
2832(==)S
2958(0\))S
3084({)S
2250 V
(20495)210 648 A
(to->exp)294 2034 A
2370(=)S
2454(0;)S
2340 V
(20496)210 648 A
(to->sign)336 2034 A
2412(=)S
2496(0;)S
2430 V
(20497)210 648 A
(to->m1)252 2034 A
2328(=)S
2412(0;)S
2520 V
(20498)210 648 A
(to->m2)252 2034 A
2328(=)S
2412(0;)S
2610 V
(20499)210 648 A
(return;)294 2034 A
2700 V
(20500)210 648 A
1698(})S
2790 V
(20501)210 648 A
(to->exp)294 1698 A
2034(-=)S
(SGL_BIAS;)378 2160 A
3042(/*)S
(remove)252 3168 A
(bias)168 3462 A
3714(*/)S
2880 V
(20502)210 648 A
(to->m2)252 1698 A
1992(=)S
(0L;)126 2076 A
2970 V
(20503)210 648 A
1362(})S
3060 V
(20504)210 648 A
3150 V
(20505)210 648 A
(to->m1)252 1362 A
1656(|=)S
(NORMBIT;)336 1782 A
3378(/*)S
(set)126 3504 A
(bit)126 3672 A
3840(L)S
4050(*/)S
3240 V
(20506)210 648 A
1362(if)S
(\(leadbit)336 1488 A
1866(==)S
1992(0\))S
2118({)S
2706(/*)S
(set)126 2832 A
3000(or)S
(clear)210 3126 A
(Leading)294 3378 A
(Bit)126 3714 A
4050(*/)S
3330 V
(20507)210 648 A
(to->m1)252 1698 A
1992(&=)S
(\304NORMBIT;)378 2118 A
3378(/*)S
(clear)210 3504 A
(bit)126 3756 A
3924(L)S
4050(*/)S
3420 V
(20508)210 648 A
(nrm_ext\(to\);)504 1698 A
3378(/*)S
(and)126 3504 A
(normalize)378 3672 A
4092(*/)S
3510 V
(20509)210 648 A
1362(})S
3600 V
(20510)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/float/fef4.c)840 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(20600)210 648 A
1026(/*)S
4590 V
(20601)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4680 V
(20602)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4770 V
(20603)210 648 A
1026(*/)S
4860 V
(20604)210 648 A
4950 V
(20605)210 648 A
1026(/*)S
($Header:)336 1152 A
(fef4.c,v)336 1530 A
(1.7)126 1908 A
(93/01/05)336 2076 A
(12:05:12)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5040 V
(20606)210 648 A
5130 V
(20607)210 648 A
1026(/*)S
5220 V
(20608)210 648 A
(SEPERATE)336 1362 A
(INTO)168 1740 A
(EXPONENT)336 1950 A
(AND)126 2328 A
(FRACTION)336 2496 A
(\(FEF)168 2874 A
3084(4\))S
5310 V
(20609)210 648 A
1026(*/)S
5400 V
(20610)210 648 A
5490 V
(20611)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
5580 V
(20612)210 648 A
5670 V
(20613)210 648 A
(void)168 1026 A
5760 V
(20614)210 648 A
(fef4\(r,s1\))420 1026 A
5850 V
(20615)210 648 A
(SINGLE)252 1026 A
(s1;)126 1362 A
5940 V
(20616)210 648 A
(struct)252 1026 A
(fef4_returns)504 1320 A
(*r;)126 2034 A
6030 V
(20617)210 648 A
1026({)S
6120 V
(20618)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
6210 V
(20619)210 648 A
(register)336 1362 A
(struct)252 1740 A
(fef4_returns)504 2034 A
2706(*p)S
2832(=)S
2916(r;)S
3042(/*)S
(make)168 3168 A
(copy;)210 3378 A
3630(r)S
(might)210 3714 A
(refer)210 3966 A
8418 V
EP
%%Page: 185 185
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2021(File:)S
(src/lib/float/fef4.c)801 2254 A
12 B
(185)180 4248 A
900 V
7 LST
(20620)210 648 A
3168(to)S
(itself)252 3294 A
(\(see)168 3588 A
(table\))252 3798 A
990 V
(20621)210 648 A
3042(*/)S
1080 V
(20622)210 648 A
1170 V
(20623)210 648 A
(extend\(&s1,&buf,sizeof\(SINGLE\)\);)1344 1362 A
1260 V
(20624)210 648 A
1362(if)S
(\(buf.exp)336 1488 A
1866(==)S
1992(0)S
2076(&&)S
(buf.m1)252 2202 A
2496(==)S
2622(0)S
2706(&&)S
(buf.m2)252 2832 A
3126(==)S
3252(0\))S
3378({)S
1350 V
(20625)210 648 A
(p->e)168 1698 A
1908(=)S
1992(0;)S
1440 V
(20626)210 648 A
1362(})S
1530 V
(20627)210 648 A
(else)168 1362 A
1572({)S
1620 V
(20628)210 648 A
(p->e)168 1698 A
1908(=)S
(buf.exp+1;)420 1992 A
1710 V
(20629)210 648 A
(buf.exp)294 1698 A
2034(=)S
(-1;)126 2118 A
1800 V
(20630)210 648 A
1362(})S
1890 V
(20631)210 648 A
(compact\(&buf,&p->f,sizeof\(SINGLE\)\);)1470 1362 A
1980 V
(20632)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/float/fef8.c)840 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(20700)210 648 A
1026(/*)S
2790 V
(20701)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2880 V
(20702)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2970 V
(20703)210 648 A
1026(*/)S
3060 V
(20704)210 648 A
3150 V
(20705)210 648 A
1026(/*)S
($Header:)336 1152 A
(fef8.c,v)336 1530 A
(1.7)126 1908 A
(93/01/05)336 2076 A
(12:05:18)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
3240 V
(20706)210 648 A
3330 V
(20707)210 648 A
1026(/*)S
3420 V
(20708)210 648 A
(SEPERATE)336 1362 A
(DOUBLE)252 1740 A
(INTO)168 2034 A
(EXPONENT)336 2244 A
(AND)126 2622 A
(FRACTION)336 2790 A
(\(FEF)168 3168 A
3378(8\))S
3510 V
(20709)210 648 A
1026(*/)S
3600 V
(20710)210 648 A
3690 V
(20711)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
3780 V
(20712)210 648 A
3870 V
(20713)210 648 A
(void)168 1026 A
3960 V
(20714)210 648 A
(fef8\(r,)294 1026 A
(s1\))126 1362 A
4050 V
(20715)210 648 A
(DOUBLE)252 1026 A
(s1;)126 1362 A
4140 V
(20716)210 648 A
(struct)252 1026 A
(fef8_returns)504 1320 A
(*r;)126 1866 A
4230 V
(20717)210 648 A
1026({)S
4320 V
(20718)210 648 A
(EXTEND)252 1362 A
(buf;)168 1698 A
4410 V
(20719)210 648 A
(register)336 1362 A
(struct)252 1740 A
(fef8_returns)504 2034 A
2580(*p)S
2706(=)S
2790(r;)S
3042(/*)S
(make)168 3168 A
(copy,)210 3378 A
3630(r)S
(might)210 3714 A
(refer)210 3966 A
4500 V
(20720)210 648 A
3168(to)S
(itself)252 3294 A
(\(see)168 3588 A
(table\))252 3798 A
4590 V
(20721)210 648 A
3042(*/)S
4680 V
(20722)210 648 A
4770 V
(20723)210 648 A
(extend\(&s1.d[0],&buf,sizeof\(DOUBLE\)\);)1554 1362 A
4860 V
(20724)210 648 A
1362(if)S
(\(buf.exp)336 1488 A
1866(==)S
1992(0)S
2076(&&)S
(buf.m1)252 2202 A
2496(==)S
2622(0)S
2706(&&)S
(buf.m2)252 2832 A
3126(==)S
3252(0\))S
3378({)S
4950 V
(20725)210 648 A
(p->e)168 1698 A
1908(=)S
1992(0;)S
5040 V
(20726)210 648 A
1362(})S
5130 V
(20727)210 648 A
(else)168 1362 A
1572({)S
5220 V
(20728)210 648 A
(p->e)168 1698 A
1908(=)S
(buf.exp)294 1992 A
2328(+)S
2412(1;)S
5310 V
(20729)210 648 A
(buf.exp)294 1698 A
2034(=)S
(-1;)126 2118 A
5400 V
(20730)210 648 A
1362(})S
5490 V
(20731)210 648 A
(compact\(&buf,&p->f.d[0],sizeof\(DOUBLE\)\);)1680 1362 A
5580 V
(20732)210 648 A
1026(})S
8418 V
EP
%%Page: 186 186
BP
/slant 0 def
/height 0 def
630 V
12 B
(186)180 648 A
11 R
2030(File:)S
(src/lib/float/fif4.c)782 2263 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/fif4.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(20800)210 648 A
1026(/*)S
1440 V
(20801)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(20802)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(20803)210 648 A
1026(*/)S
1710 V
(20804)210 648 A
1800 V
(20805)210 648 A
1026(/*)S
($Header:)336 1152 A
(fif4.c,v)336 1530 A
(1.7)126 1908 A
(93/01/05)336 2076 A
(12:05:24)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(20806)210 648 A
1980 V
(20807)210 648 A
1026(/*)S
2070 V
(20808)210 648 A
(MULTIPLY)336 1362 A
(AND)126 1740 A
(DISMEMBER)378 1908 A
(PARTS)210 2328 A
(\(FIF)168 2580 A
2790(4\))S
2160 V
(20809)210 648 A
1026(*/)S
2250 V
(20810)210 648 A
2340 V
(20811)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2430 V
(20812)210 648 A
(#include)336 1026 A
("FP_shift.h")504 1404 A
2520 V
(20813)210 648 A
2610 V
(20814)210 648 A
(void)168 1026 A
2700 V
(20815)210 648 A
(fif4\(p,x,y\))462 1026 A
2790 V
(20816)210 648 A
(SINGLE)252 1026 A
(x,y;)168 1362 A
2880 V
(20817)210 648 A
(struct)252 1026 A
(fif4_returns)504 1320 A
(*p;)126 1866 A
2970 V
(20818)210 648 A
1026({)S
3060 V
(20819)210 648 A
3150 V
(20820)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
3240 V
(20821)210 648 A
3330 V
(20822)210 648 A
(extend\(&y,&e1,sizeof\(SINGLE\)\);)1260 1362 A
3420 V
(20823)210 648 A
(extend\(&x,&e2,sizeof\(SINGLE\)\);)1260 1362 A
3510 V
(20824)210 648 A
1698(/*)S
1824(do)S
1950(a)S
(multiply)336 2034 A
2412(*/)S
3600 V
(20825)210 648 A
(mul_ext\(&e1,&e2\);)714 1362 A
3690 V
(20826)210 648 A
1362(e2)S
1488(=)S
(e1;)126 1572 A
3780 V
(20827)210 648 A
(compact\(&e2,&y,sizeof\(SINGLE\)\);)1302 1362 A
3870 V
(20828)210 648 A
1362(if)S
(\(e1.exp)294 1488 A
1824(<)S
1908(0\))S
2034({)S
3960 V
(20829)210 648 A
(p->ipart)336 1698 A
2076(=)S
2160(0;)S
4050 V
(20830)210 648 A
(p->fpart)336 1698 A
2076(=)S
2160(y;)S
4140 V
(20831)210 648 A
(return;)294 1698 A
4230 V
(20832)210 648 A
1362(})S
4320 V
(20833)210 648 A
1362(if)S
(\(e1.exp)294 1488 A
1824(>)S
1908(30)S
2034(-)S
(SGL_M1LEFT\))462 2118 A
2622({)S
4410 V
(20834)210 648 A
(p->ipart)336 1698 A
2076(=)S
2160(y;)S
4500 V
(20835)210 648 A
(p->fpart)336 1698 A
2076(=)S
2160(0;)S
4590 V
(20836)210 648 A
(return;)294 1698 A
4680 V
(20837)210 648 A
1362(})S
4770 V
(20838)210 648 A
(b64_sft\(&e1.mantissa,)882 1362 A
2286(63)S
2412(-)S
(e1.exp\);)336 2496 A
4860 V
(20839)210 648 A
(b64_sft\(&e1.mantissa,)882 1362 A
(e1.exp)252 2286 A
2580(-)S
(63\);)168 2664 A
3042(/*)S
("loose")294 3168 A
(low)126 3504 A
(order)210 3672 A
(bits)168 3924 A
4134(*/)S
4950 V
(20840)210 648 A
(compact\(&e1,&\(p->ipart\),sizeof\(SINGLE\)\);)1680 1362 A
5040 V
(20841)210 648 A
(extend\(&\(p->ipart\),)798 1362 A
(&e2,)168 2202 A
(sizeof\(SINGLE\)\);)672 2412 A
5130 V
(20842)210 648 A
(extend\(&y,)420 1362 A
(&e1,)168 1824 A
(sizeof\(SINGLE\)\);)672 2034 A
5220 V
(20843)210 648 A
(sub_ext\(&e1,)504 1362 A
(&e2\);)210 1908 A
5310 V
(20844)210 648 A
(compact\(&e1,)504 1362 A
(&\(p->fpart\),)504 1908 A
(sizeof\(SINGLE\)\);)672 2454 A
5400 V
(20845)210 648 A
1026(})S
8418 V
EP
%%Page: 187 187
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2030(File:)S
(src/lib/float/fif8.c)782 2263 A
12 B
(187)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/fif8.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(20900)210 648 A
1026(/*)S
1440 V
(20901)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(20902)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(20903)210 648 A
1026(*/)S
1710 V
(20904)210 648 A
1800 V
(20905)210 648 A
1026(/*)S
($Header:)336 1152 A
(fif8.c,v)336 1530 A
(1.7)126 1908 A
(93/01/05)336 2076 A
(12:05:30)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(20906)210 648 A
1980 V
(20907)210 648 A
1026(/*)S
2070 V
(20908)210 648 A
(MULTIPLY)336 1362 A
(AND)126 1740 A
(DISMEMBER)378 1908 A
(PARTS)210 2328 A
(\(FIF)168 2580 A
2790(8\))S
2160 V
(20909)210 648 A
1026(*/)S
2250 V
(20910)210 648 A
2340 V
(20911)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2430 V
(20912)210 648 A
(#include)336 1026 A
("FP_shift.h")504 1404 A
2520 V
(20913)210 648 A
2610 V
(20914)210 648 A
(void)168 1026 A
2700 V
(20915)210 648 A
(fif8\(p,x,y\))462 1026 A
2790 V
(20916)210 648 A
(DOUBLE)252 1026 A
(x,y;)168 1362 A
2880 V
(20917)210 648 A
(struct)252 1026 A
(fif8_returns)504 1320 A
(*p;)126 1866 A
2970 V
(20918)210 648 A
1026({)S
3060 V
(20919)210 648 A
3150 V
(20920)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
3240 V
(20921)210 648 A
3330 V
(20922)210 648 A
(extend\(&y.d[0],&e1,sizeof\(DOUBLE\)\);)1470 1362 A
3420 V
(20923)210 648 A
(extend\(&x.d[0],&e2,sizeof\(DOUBLE\)\);)1470 1362 A
3510 V
(20924)210 648 A
1698(/*)S
1824(do)S
1950(a)S
(multiply)336 2034 A
2412(*/)S
3600 V
(20925)210 648 A
(mul_ext\(&e1,&e2\);)714 1362 A
3690 V
(20926)210 648 A
1362(e2)S
1488(=)S
(e1;)126 1572 A
3780 V
(20927)210 648 A
(compact\(&e2,)504 1362 A
(&y.d[0],)336 1908 A
(sizeof\(DOUBLE\)\);)672 2286 A
3870 V
(20928)210 648 A
1362(if)S
(\(e1.exp)294 1488 A
1824(<)S
1908(0\))S
2034({)S
3960 V
(20929)210 648 A
(p->ipart.d[0])546 1698 A
2286(=)S
2370(0;)S
4050 V
(20930)210 648 A
(p->ipart.d[1])546 1698 A
2286(=)S
2370(0;)S
4140 V
(20931)210 648 A
(p->fpart)336 1698 A
2076(=)S
2160(y;)S
4230 V
(20932)210 648 A
(return;)294 1698 A
4320 V
(20933)210 648 A
1362(})S
4410 V
(20934)210 648 A
1362(if)S
(\(e1.exp)294 1488 A
1824(>)S
1908(62)S
2034(-)S
(DBL_M1LEFT\))462 2118 A
2622({)S
4500 V
(20935)210 648 A
(p->ipart)336 1698 A
2076(=)S
2160(y;)S
4590 V
(20936)210 648 A
(p->fpart.d[0])546 1698 A
2286(=)S
2370(0;)S
4680 V
(20937)210 648 A
(p->fpart.d[1])546 1698 A
2286(=)S
2370(0;)S
4770 V
(20938)210 648 A
(return;)294 1698 A
4860 V
(20939)210 648 A
1362(})S
4950 V
(20940)210 648 A
(b64_sft\(&e1.mantissa,)882 1362 A
2286(63)S
2412(-)S
(e1.exp\);)336 2496 A
5040 V
(20941)210 648 A
(b64_sft\(&e1.mantissa,)882 1362 A
(e1.exp)252 2286 A
2580(-)S
(63\);)168 2664 A
3042(/*)S
("loose")294 3168 A
(low)126 3504 A
(order)210 3672 A
(bits)168 3924 A
4134(*/)S
5130 V
(20942)210 648 A
(compact\(&e1,)504 1362 A
(&\(p->ipart.d[0]\),)714 1908 A
(sizeof\(DOUBLE\)\);)672 2664 A
5220 V
(20943)210 648 A
(extend\(&\(p->ipart.d[0]\),)1008 1362 A
(&e2,)168 2412 A
(sizeof\(DOUBLE\)\);)672 2622 A
5310 V
(20944)210 648 A
(extend\(&y.d[0],)630 1362 A
(&e1,)168 2034 A
(sizeof\(DOUBLE\)\);)672 2244 A
5400 V
(20945)210 648 A
(sub_ext\(&e1,)504 1362 A
(&e2\);)210 1908 A
5490 V
(20946)210 648 A
(compact\(&e1,)504 1362 A
(&\(p->fpart.d[0]\),)714 1908 A
(sizeof\(DOUBLE\)\);)672 2664 A
5580 V
(20947)210 648 A
1026(})S
8418 V
EP
%%Page: 188 188
BP
/slant 0 def
/height 0 def
630 V
12 B
(188)180 648 A
11 R
2006(File:)S
(src/lib/float/mlf4.c)831 2239 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/mlf4.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(21000)210 648 A
1026(/*)S
1440 V
(21001)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(21002)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(21003)210 648 A
1026(*/)S
1710 V
(21004)210 648 A
1800 V
(21005)210 648 A
1026(/*)S
($Header:)336 1152 A
(mlf4.c,v)336 1530 A
(1.4)126 1908 A
(93/01/05)336 2076 A
(12:05:37)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(21006)210 648 A
1980 V
(21007)210 648 A
1026(/*)S
2070 V
(21008)210 648 A
1068(*)S
(Multiply)336 1152 A
(Single)252 1530 A
(Precesion)378 1824 A
(Float)210 2244 A
(\(MLF)168 2496 A
2706(4\))S
2160 V
(21009)210 648 A
1068(*/)S
2250 V
(21010)210 648 A
2340 V
(21011)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
2430 V
(21012)210 648 A
2520 V
(21013)210 648 A
(void)168 1026 A
2610 V
(21014)210 648 A
(mlf4\(s2,s1\))462 1026 A
2700 V
(21015)210 648 A
(SINGLE)252 1026 A
(s1,s2;)252 1362 A
2790 V
(21016)210 648 A
1026({)S
2880 V
(21017)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
2970 V
(21018)210 648 A
3060 V
(21019)210 648 A
(extend\(&s1,&e1,sizeof\(SINGLE\)\);)1302 1362 A
3150 V
(21020)210 648 A
(extend\(&s2,&e2,sizeof\(SINGLE\)\);)1302 1362 A
3240 V
(21021)210 648 A
1698(/*)S
1824(do)S
1950(a)S
(multiply)336 2034 A
2412(*/)S
3330 V
(21022)210 648 A
(mul_ext\(&e1,&e2\);)714 1362 A
3420 V
(21023)210 648 A
(compact\(&e1,&s1,sizeof\(SINGLE\)\);)1344 1362 A
3510 V
(21024)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/float/mlf8.c)840 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(21100)210 648 A
1026(/*)S
4590 V
(21101)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4680 V
(21102)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4770 V
(21103)210 648 A
1026(*/)S
4860 V
(21104)210 648 A
4950 V
(21105)210 648 A
1026(/*)S
($Header:)336 1152 A
(mlf8.c,v)336 1530 A
(1.4)126 1908 A
(93/01/05)336 2076 A
(12:05:44)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5040 V
(21106)210 648 A
5130 V
(21107)210 648 A
1026(/*)S
5220 V
(21108)210 648 A
1068(*)S
(Multiply)336 1152 A
(Double)252 1530 A
(Precision)378 1824 A
(Float)210 2244 A
(\(MLF)168 2496 A
2706(8\))S
5310 V
(21109)210 648 A
1068(*/)S
5400 V
(21110)210 648 A
5490 V
(21111)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
5580 V
(21112)210 648 A
5670 V
(21113)210 648 A
(void)168 1026 A
5760 V
(21114)210 648 A
(mlf8\(s2,s1\))462 1026 A
5850 V
(21115)210 648 A
(DOUBLE)252 1026 A
(s1,s2;)252 1362 A
5940 V
(21116)210 648 A
1026({)S
6030 V
(21117)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1698 A
6120 V
(21118)210 648 A
6210 V
(21119)210 648 A
(extend\(&s1.d[0],&e1,sizeof\(DOUBLE\)\);)1512 1362 A
8418 V
EP
%%Page: 189 189
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2006(File:)S
(src/lib/float/mlf8.c)831 2239 A
12 B
(189)180 4248 A
900 V
7 LST
(21120)210 648 A
(extend\(&s2.d[0],&e2,sizeof\(DOUBLE\)\);)1512 1362 A
990 V
(21121)210 648 A
1698(/*)S
1824(do)S
1950(a)S
(multiply)336 2034 A
2412(*/)S
1080 V
(21122)210 648 A
(mul_ext\(&e1,&e2\);)714 1362 A
1170 V
(21123)210 648 A
(compact\(&e1,&s1.d[0],sizeof\(DOUBLE\)\);)1554 1362 A
1260 V
(21124)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/float/mul_ext.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(21200)210 648 A
1026(/*)S
2340 V
(21201)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2430 V
(21202)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2520 V
(21203)210 648 A
1026(*/)S
2610 V
(21204)210 648 A
2700 V
(21205)210 648 A
1026(/*)S
($Header:)336 1152 A
(mul_ext.c,v)462 1530 A
(1.6)126 2034 A
(93/01/05)336 2202 A
(12:05:51)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
2790 V
(21206)210 648 A
2880 V
(21207)210 648 A
1026(/*)S
2970 V
(21208)210 648 A
(ROUTINE)294 1362 A
1698(TO)S
(MULTIPLY)336 1824 A
(TWO)126 2202 A
(EXTENDED)336 2370 A
(FORMAT)252 2748 A
(NUMBERS)294 3042 A
3060 V
(21209)210 648 A
1026(*/)S
3150 V
(21210)210 648 A
3240 V
(21211)210 648 A
1026(#)S
(include)294 1110 A
("FP_bias.h")462 1446 A
3330 V
(21212)210 648 A
1026(#)S
(include)294 1110 A
("FP_trap.h")462 1446 A
3420 V
(21213)210 648 A
1026(#)S
(include)294 1110 A
("FP_types.h")504 1446 A
3510 V
(21214)210 648 A
1026(#)S
(include)294 1110 A
("FP_shift.h")504 1446 A
3600 V
(21215)210 648 A
3690 V
(21216)210 648 A
(void)168 1026 A
3780 V
(21217)210 648 A
(mul_ext\(e1,e2\))588 1026 A
3870 V
(21218)210 648 A
(EXTEND)252 1026 A
(*e1,*e2;)336 1362 A
3960 V
(21219)210 648 A
1026({)S
4050 V
(21220)210 648 A
(register)336 1362 A
(int)126 1740 A
(i,j;)168 2034 A
2706(/*)S
(loop)168 2832 A
(control)294 3042 A
3378(*/)S
4140 V
(21221)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(mp[4];)252 2034 A
2706(/*)S
(multiplier)420 2832 A
3294(*/)S
4230 V
(21222)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(mc[4];)252 2034 A
2706(/*)S
(multipcand)420 2832 A
3294(*/)S
4320 V
(21223)210 648 A
(unsigned)336 1362 A
(short)210 1740 A
(result[8];)420 2034 A
2706(/*)S
(result)252 2832 A
3126(*/)S
4410 V
(21224)210 648 A
(register)336 1362 A
(unsigned)336 1740 A
(short)210 2118 A
(*pres;)252 2370 A
4500 V
(21225)210 648 A
4590 V
(21226)210 648 A
1362(/*)S
(first)210 1488 A
(save)168 1740 A
(the)126 1950 A
(sign)168 2118 A
(\(XOR\))210 2328 A
3378(*/)S
4680 V
(21227)210 648 A
(e1->sign)336 1362 A
1740(\303=)S
(e2->sign;)378 1866 A
4770 V
(21228)210 648 A
4860 V
(21229)210 648 A
1362(/*)S
(compute)294 1488 A
(new)126 1824 A
(exponent)336 1992 A
2370(*/)S
4950 V
(21230)210 648 A
(e1->exp)294 1362 A
1698(+=)S
(e2->exp)294 1824 A
2160(+)S
2244(1;)S
5040 V
(21231)210 648 A
1362(/*)S
(128)126 1488 A
(bit)126 1656 A
(multiply)336 1824 A
2202(of)S
(mantissas)378 2328 A
3714(*/)S
5130 V
(21232)210 648 A
5220 V
(21233)210 648 A
1698(/*)S
(assign)252 1824 A
(unknown)294 2118 A
(long)168 2454 A
(formats)294 2664 A
3378(*/)S
5310 V
(21234)210 648 A
1698(/*)S
1824(to)S
(known)210 1950 A
(unsigned)336 2202 A
(word)168 2580 A
(formats)294 2790 A
3378(*/)S
5400 V
(21235)210 648 A
(mp[0])210 1362 A
1614(=)S
(e1->m1)252 1698 A
1992(>>)S
(16;)126 2118 A
5490 V
(21236)210 648 A
(mp[1])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e1->m1;)294 2412 A
5580 V
(21237)210 648 A
(mp[2])210 1362 A
1614(=)S
(e1->m2)252 1698 A
1992(>>)S
(16;)126 2118 A
5670 V
(21238)210 648 A
(mp[3])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e1->m2;)294 2412 A
5760 V
(21239)210 648 A
(mc[0])210 1362 A
1614(=)S
(e2->m1)252 1698 A
1992(>>)S
(16;)126 2118 A
5850 V
(21240)210 648 A
(mc[1])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e2->m1;)294 2412 A
5940 V
(21241)210 648 A
(mc[2])210 1362 A
1614(=)S
(e2->m2)252 1698 A
1992(>>)S
(16;)126 2118 A
6030 V
(21242)210 648 A
(mc[3])210 1362 A
1614(=)S
(\(unsigned)378 1698 A
(short\))252 2118 A
(e2->m2;)294 2412 A
6120 V
(21243)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(8;)S
(i--;\))210 1866 A
2118({)S
6210 V
(21244)210 648 A
(result[i])378 1698 A
2118(=)S
2202(0;)S
8418 V
EP
%%Page: 190 190
BP
/slant 0 def
/height 0 def
630 V
12 B
(190)180 648 A
11 R
1929(File:)S
(src/lib/float/mul_ext.c)985 2162 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(21245)210 648 A
1362(})S
990 V
(21246)210 648 A
1362(/*)S
1080 V
(21247)210 648 A
1404(*)S
(fill)168 1698 A
(registers)378 1908 A
(with)168 2328 A
(their)210 2538 A
(components)420 2790 A
1170 V
(21248)210 648 A
1404(*/)S
1260 V
(21249)210 648 A
(for\(i=4,)336 1362 A
(pres)168 1740 A
1950(=)S
(&result[4];i--;pres--\))924 2034 A
3000(if)S
(\(mp[i]\))294 3126 A
3462({)S
1350 V
(21250)210 648 A
(unsigned)336 1698 A
(short)210 2076 A
2328(k)S
2412(=)S
2496(0;)S
1440 V
(21251)210 648 A
(unsigned)336 1698 A
(long)168 2076 A
(mpi)126 2286 A
2454(=)S
(mp[i];)252 2538 A
1530 V
(21252)210 648 A
(for\(j=4;j--;\))546 1698 A
2286({)S
1620 V
(21253)210 648 A
(unsigned)336 2034 A
(long)168 2412 A
(tmp)126 2622 A
2790(=)S
(\(unsigned)378 2874 A
(long\)pres[j])504 3294 A
3840(+)S
3924(k;)S
1710 V
(21254)210 648 A
2034(if)S
(\(mc[j]\))294 2160 A
(tmp)126 2496 A
2664(+=)S
(mpi)126 2790 A
2958(*)S
(mc[j];)252 3042 A
1800 V
(21255)210 648 A
(pres[j])294 2034 A
2370(=)S
(tmp;)168 2454 A
1890 V
(21256)210 648 A
2034(k)S
2118(=)S
(tmp)126 2202 A
2370(>>)S
(16;)126 2496 A
1980 V
(21257)210 648 A
1698(})S
2070 V
(21258)210 648 A
(pres[-1])336 1698 A
2076(=)S
2160(k;)S
2160 V
(21259)210 648 A
1362(})S
2250 V
(21260)210 648 A
1362(if)S
1488(\(!)S
(\(result[0])420 1614 A
2076(&)S
(0x8000\)\))336 2160 A
2538({)S
2340 V
(21261)210 648 A
(e1->exp--;)420 1698 A
2430 V
(21262)210 648 A
(for)126 1698 A
1866(\(i)S
1992(=)S
2076(0;)S
2202(i)S
2286(<=)S
2412(3;)S
(i++\))168 2538 A
2748({)S
2520 V
(21263)210 648 A
(result[i])378 2034 A
(<<=)126 2454 A
2622(1;)S
2610 V
(21264)210 648 A
2034(if)S
(\(result[i+1]&0x8000\))840 2160 A
(result[i])378 3042 A
3462(|=)S
3588(1;)S
2700 V
(21265)210 648 A
1698(})S
2790 V
(21266)210 648 A
(result[4])378 1698 A
(<<=)126 2118 A
2286(1;)S
2880 V
(21267)210 648 A
1362(})S
2970 V
(21268)210 648 A
3060 V
(21269)210 648 A
1362(/*)S
3150 V
(21270)210 648 A
1404(*)S
(combine)294 1698 A
(the)126 2034 A
(registers)378 2202 A
2622(to)S
2748(a)S
(total)210 2832 A
3240 V
(21271)210 648 A
1404(*/)S
3330 V
(21272)210 648 A
(e1->m1)252 1362 A
1656(=)S
(\(\(unsigned)420 1740 A
(long\)\(result[0]\))672 2202 A
2916(<<)S
(16\))126 3042 A
3210(+)S
(result[1];)420 3294 A
3420 V
(21273)210 648 A
(e1->m2)252 1362 A
1656(=)S
(\(\(unsigned)420 1740 A
(long\)\(result[2]\))672 2202 A
2916(<<)S
(16\))126 3042 A
3210(+)S
(result[3];)420 3294 A
3510 V
(21274)210 648 A
1362(if)S
(\(result[4])420 1488 A
1950(&)S
(0x8000\))294 2034 A
2370({)S
3600 V
(21275)210 648 A
1698(if)S
(\(++e1->m2)378 1824 A
2244(==)S
2370(0\))S
3690 V
(21276)210 648 A
2034(if)S
(\(++e1->m1)378 2160 A
2580(==)S
2706(0\))S
2832({)S
3780 V
(21277)210 648 A
(e1->m1)252 2370 A
2664(=)S
(NORMBIT;)336 2748 A
3870 V
(21278)210 648 A
(e1->exp++;)420 2370 A
3960 V
(21279)210 648 A
2034(})S
4050 V
(21280)210 648 A
1362(})S
4140 V
(21281)210 648 A
4230 V
(21282)210 648 A
2706(/*)S
(check)210 2832 A
(for)126 3084 A
(overflow)336 3252 A
3714(*/)S
4320 V
(21283)210 648 A
1362(if)S
(\(e1->exp)336 1488 A
1866(>=)S
(EXT_MAX\))336 1992 A
2370({)S
4410 V
(21284)210 648 A
(trap\(EFOVFL\);)546 1698 A
4500 V
(21285)210 648 A
2034(/*)S
2160(if)S
(caught)252 2286 A
3378(*/)S
4590 V
(21286)210 648 A
2034(/*)S
(return)252 2160 A
(signed)252 2454 A
(infinity)336 2748 A
3378(*/)S
4680 V
(21287)210 648 A
(e1->exp)294 1698 A
2034(=)S
(EXT_MAX;)336 2118 A
4770 V
(21288)210 648 A
(infinity:)378 1026 A
(e1->m1)252 1698 A
1992(=)S
(e1->m2)252 2076 A
(=0L;)168 2370 A
4860 V
(21289)210 648 A
(return;)294 1698 A
4950 V
(21290)210 648 A
1362(})S
5040 V
(21291)210 648 A
2370(/*)S
(check)210 2496 A
(for)126 2748 A
(underflow)378 2916 A
3378(*/)S
5130 V
(21292)210 648 A
1362(if)S
(\(e1->exp)336 1488 A
1866(<)S
(EXT_MIN\))336 1950 A
2370({)S
5220 V
(21293)210 648 A
(trap\(EFUNFL\);)546 1698 A
5310 V
(21294)210 648 A
(e1->exp)294 1698 A
2034(=)S
(EXT_MIN;)336 2118 A
5400 V
(21295)210 648 A
(goto)168 1698 A
(infinity;)378 1908 A
5490 V
(21296)210 648 A
1362(})S
5580 V
(21297)210 648 A
1026(})S
8418 V
EP
%%Page: 191 191
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2009(File:)S
(src/lib/float/ngf4.c)824 2242 A
12 B
(191)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/ngf4.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(21300)210 648 A
1026(/*)S
1440 V
(21301)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(21302)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(21303)210 648 A
1026(*/)S
1710 V
(21304)210 648 A
1800 V
(21305)210 648 A
1026(/*)S
($Header:)336 1152 A
(ngf4.c,v)336 1530 A
(1.7)126 1908 A
(93/01/05)336 2076 A
(12:05:57)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(21306)210 648 A
1980 V
(21307)210 648 A
1026(/*)S
2070 V
(21308)210 648 A
(NEGATE)252 1698 A
1992(A)S
(FLOATING)336 2076 A
(POINT)210 2454 A
(\(NGF)168 2706 A
2916(4\))S
2160 V
(21309)210 648 A
1026(*/)S
2250 V
(21310)210 648 A
(/********************************************************/)2436 1026 A
2340 V
(21311)210 648 A
2430 V
(21312)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2520 V
(21313)210 648 A
(#include)336 1026 A
("get_put.h")462 1404 A
2610 V
(21314)210 648 A
2700 V
(21315)210 648 A
(#define)294 1026 A
(OFF)126 1362 A
(\(\(FL_MSW_AT_LOW_ADDRESS)966 1530 A
2538(?)S
2622(0)S
2706(:)S
2790(2\))S
2916(+)S
(\(FL_MSB_AT_LOW_ADDRESS)924 3000 A
3966(?)S
4050(0)S
4134(:)S
(1\)\))126 4218 A
2790 V
(21316)210 648 A
(void)168 1026 A
2880 V
(21317)210 648 A
(ngf4\(f\))294 1026 A
2970 V
(21318)210 648 A
(SINGLE)252 1026 A
1362(f;)S
3060 V
(21319)210 648 A
1026({)S
3150 V
(21320)210 648 A
(unsigned)336 1362 A
(char)168 1740 A
(*p;)126 1950 A
3240 V
(21321)210 648 A
3330 V
(21322)210 648 A
1362(if)S
1488(\(f)S
1614(!=)S
(\(SINGLE\))336 1740 A
2118(0\))S
2244({)S
3420 V
(21323)210 648 A
1698(p)S
1782(=)S
(\(unsigned)378 1866 A
(char)168 2286 A
2496(*\))S
2622(&f)S
2748(+)S
(OFF;)168 2832 A
3510 V
(21324)210 648 A
1698(*p)S
1824(\303=)S
(0x80;)210 1950 A
3600 V
(21325)210 648 A
1362(})S
3690 V
(21326)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/float/ngf8.c)840 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(21400)210 648 A
1026(/*)S
4590 V
(21401)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4680 V
(21402)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4770 V
(21403)210 648 A
1026(*/)S
4860 V
(21404)210 648 A
4950 V
(21405)210 648 A
1026(/*)S
($Header:)336 1152 A
(ngf8.c,v)336 1530 A
(1.8)126 1908 A
(93/01/05)336 2076 A
(12:06:05)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5040 V
(21406)210 648 A
5130 V
(21407)210 648 A
1026(/*)S
5220 V
(21408)210 648 A
(NEGATE)252 1698 A
1992(A)S
(FLOATING)336 2076 A
(POINT)210 2454 A
(\(NGF)168 2706 A
2916(8\))S
5310 V
(21409)210 648 A
1026(*/)S
5400 V
(21410)210 648 A
(/********************************************************/)2436 1026 A
5490 V
(21411)210 648 A
5580 V
(21412)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
5670 V
(21413)210 648 A
(#include)336 1026 A
("get_put.h")462 1404 A
5760 V
(21414)210 648 A
5850 V
(21415)210 648 A
(#define)294 1026 A
(OFF)126 1362 A
(\(\(FL_MSL_AT_LOW_ADDRESS)966 1530 A
2538(?)S
2622(0)S
2706(:)S
2790(4\))S
2916(+)S
(\(FL_MSW_AT_LOW_ADDRESS)924 3000 A
3966(?)S
4050(0)S
4134(:)S
4218(2\))S
4344(+)S
(\(FL_MSB_AT_LOW_ADDRESS)924 4428 A
5394(?)S
5478(0)S
5562(:)S
(1\)\))126 5646 A
5940 V
(21416)210 648 A
6030 V
(21417)210 648 A
(void)168 1026 A
6120 V
(21418)210 648 A
(ngf8\(f\))294 1026 A
6210 V
(21419)210 648 A
(DOUBLE)252 1026 A
1362(f;)S
8418 V
EP
%%Page: 192 192
BP
/slant 0 def
/height 0 def
630 V
12 B
(192)180 648 A
11 R
2009(File:)S
(src/lib/float/ngf8.c)824 2242 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(21420)210 648 A
1026({)S
990 V
(21421)210 648 A
(unsigned)336 1362 A
(char)168 1740 A
(*p;)126 2034 A
1080 V
(21422)210 648 A
1170 V
(21423)210 648 A
1362(if)S
(\(f.d[0])294 1488 A
1824(!=)S
1950(0)S
2034(||)S
(f.d[1])252 2160 A
2454(!=)S
2580(0\))S
2706({)S
1260 V
(21424)210 648 A
1698(p)S
1782(=)S
(\(unsigned)378 1866 A
(char)168 2286 A
2496(*\))S
2622(&f)S
2748(+)S
(OFF;)168 2832 A
1350 V
(21425)210 648 A
1698(*p)S
1824(\303=)S
(0x80;)210 1950 A
1440 V
(21426)210 648 A
1362(})S
1530 V
(21427)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/float/nrm_ext.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(21500)210 648 A
1026(/*)S
2340 V
(21501)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
2430 V
(21502)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2520 V
(21503)210 648 A
1026(*/)S
2610 V
(21504)210 648 A
2700 V
(21505)210 648 A
1026(/*)S
($Header:)336 1152 A
(nrm_ext.c,v)462 1530 A
(1.5)126 2034 A
(93/01/05)336 2202 A
(12:06:11)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
2790 V
(21506)210 648 A
2880 V
(21507)210 648 A
(/********************************************************/)2436 1026 A
2970 V
(21508)210 648 A
1026(/*)S
3060 V
(21509)210 648 A
(NORMALIZE)378 1362 A
1782(an)S
(EXTENDED)336 1908 A
(FORMAT)252 2286 A
(NUMBER)252 2580 A
3150 V
(21510)210 648 A
1026(*/)S
3240 V
(21511)210 648 A
(/********************************************************/)2436 1026 A
3330 V
(21512)210 648 A
3420 V
(21513)210 648 A
(#include)336 1026 A
("FP_shift.h")504 1404 A
3510 V
(21514)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
3600 V
(21515)210 648 A
3690 V
(21516)210 648 A
(void)168 1026 A
3780 V
(21517)210 648 A
(nrm_ext\(e1\))462 1026 A
3870 V
(21518)210 648 A
(EXTEND)252 1026 A
(*e1;)168 1362 A
3960 V
(21519)210 648 A
1026({)S
4050 V
(21520)210 648 A
1698(/*)S
1824(we)S
(assume)252 1950 A
(that)168 2244 A
(the)126 2454 A
(mantissa)336 2622 A
3000(!=)S
3126(0)S
3378(*/)S
4140 V
(21521)210 648 A
1698(/*)S
1824(if)S
1950(it)S
2076(is)S
(then)168 2202 A
(just)168 2412 A
(return)252 2622 A
3378(*/)S
4230 V
(21522)210 648 A
1698(/*)S
1824(to)S
(let)126 1950 A
2118(it)S
2244(be)S
2370(a)S
(problem)294 2454 A
(elsewhere)378 2790 A
3378(*/)S
4320 V
(21523)210 648 A
1698(/*)S
(THAT)168 1824 A
(IS,)126 2034 A
(The)126 2202 A
(exponent)336 2370 A
2748(is)S
(not)126 2874 A
(set)126 3042 A
3210(to)S
3378(*/)S
4410 V
(21524)210 648 A
1698(/*)S
(zero.)210 1824 A
2076(If)S
2202(we)S
(don't)210 2328 A
(test)168 2580 A
(here)168 2790 A
3000(an)S
3378(*/)S
4500 V
(21525)210 648 A
1698(/*)S
(infinite)336 1824 A
(loop)168 2202 A
2412(is)S
(generated)378 2538 A
(when)168 2958 A
3378(*/)S
4590 V
(21526)210 648 A
1698(/*)S
(mantissa)336 1824 A
2202(is)S
(zero)168 2328 A
3378(*/)S
4680 V
(21527)210 648 A
4770 V
(21528)210 648 A
1362(if)S
(\(\(e1->m1)336 1488 A
1866(|)S
(e1->m2\))294 1950 A
2286(==)S
(0L\))126 2412 A
4860 V
(21529)210 648 A
(return;)294 1698 A
4950 V
(21530)210 648 A
5040 V
(21531)210 648 A
1698(/*)S
1824(if)S
(top)126 1950 A
(word)168 2118 A
2328(is)S
(zero)168 2454 A
(mov)126 2664 A
(low)126 2832 A
(word)168 3000 A
3378(*/)S
5130 V
(21532)210 648 A
1698(/*)S
1824(to)S
(top)126 1950 A
(word,)210 2118 A
(adjust)252 2370 A
(exponent)336 2664 A
(value)210 3042 A
3378(*/)S
5220 V
(21533)210 648 A
1362(if)S
(\(e1->m1)294 1488 A
1824(==)S
(0L\))126 1950 A
2370({)S
5310 V
(21534)210 648 A
(e1->m1)252 1698 A
1992(=)S
(e1->m2;)294 2076 A
5400 V
(21535)210 648 A
(e1->m2)252 1698 A
1992(=)S
(0L;)126 2076 A
5490 V
(21536)210 648 A
(e1->exp)294 1698 A
2034(-=)S
(32;)126 2160 A
5580 V
(21537)210 648 A
1362(})S
5670 V
(21538)210 648 A
1362(if)S
(\(\(e1->m1)336 1488 A
1866(&)S
(NORMBIT\))336 1950 A
2328(==)S
2454(0\))S
2580({)S
5760 V
(21539)210 648 A
(unsigned)336 1698 A
(long)168 2076 A
2286(l)S
2370(=)S
(\(\(unsigned)420 2454 A
(long\)NORMBIT)504 2916 A
3462(>>)S
(1\);)126 3588 A
5850 V
(21540)210 648 A
(int)126 1698 A
(cnt)126 1866 A
2034(=)S
(-1;)126 2118 A
5940 V
(21541)210 648 A
6030 V
(21542)210 648 A
(while)210 1698 A
1950(\(!)S
2076(\(l)S
2202(&)S
(e1->m1\)\))336 2286 A
2664({)S
6120 V
(21543)210 648 A
2034(l)S
(>>=)126 2118 A
2286(1;)S
6210 V
(21544)210 648 A
(cnt--;)252 2034 A
8418 V
EP
%%Page: 193 193
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1926(File:)S
(src/lib/float/nrm_ext.c)991 2159 A
12 B
(193)180 4248 A
900 V
7 LST
(21545)210 648 A
1698(})S
990 V
(21546)210 648 A
(e1->exp)294 1698 A
2034(+=)S
(cnt;)168 2160 A
1080 V
(21547)210 648 A
(b64_sft\(&\(e1->mantissa\),)1008 1698 A
(cnt\);)210 2748 A
1170 V
(21548)210 648 A
1362(})S
1260 V
(21549)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/float/sbf4.c)840 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(21600)210 648 A
1026(/*)S
2340 V
(21601)210 648 A
(\(c\))126 1068 A
(copyright)378 1236 A
(1988)168 1656 A
1866(by)S
(the)126 1992 A
(Vrije)210 2160 A
(Universiteit,)546 2412 A
(Amsterdam,)420 3000 A
(The)126 3462 A
(Netherlands.)504 3630 A
2430 V
(21602)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2520 V
(21603)210 648 A
1026(*/)S
2610 V
(21604)210 648 A
2700 V
(21605)210 648 A
1026(/*)S
($Header:)336 1152 A
(sbf4.c,v)336 1530 A
(1.8)126 1908 A
(93/01/05)336 2076 A
(12:06:16)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2790 V
(21606)210 648 A
2880 V
(21607)210 648 A
1026(/*)S
2970 V
(21608)210 648 A
(SUBTRACT)336 1362 A
(TWO)126 1740 A
(FLOATS)252 1908 A
2202(-)S
(SINGLE)252 2286 A
(Precision)378 2580 A
(\(SBF)168 3000 A
3210(4\))S
3060 V
(21609)210 648 A
1026(*/)S
3150 V
(21610)210 648 A
3240 V
(21611)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
3330 V
(21612)210 648 A
3420 V
(21613)210 648 A
(void)168 1026 A
3510 V
(21614)210 648 A
(sbf4\(s2,s1\))462 1026 A
3600 V
(21615)210 648 A
(SINGLE)252 1026 A
(s1,s2;)252 1362 A
3690 V
(21616)210 648 A
1026({)S
3780 V
(21617)210 648 A
(EXTEND)252 1362 A
(e1,e2;)252 1656 A
3870 V
(21618)210 648 A
3960 V
(21619)210 648 A
1362(if)S
(\(s2)126 1488 A
1656(==)S
(\(SINGLE\))336 1782 A
2160(0\))S
2286({)S
4050 V
(21620)210 648 A
(return;)294 1698 A
4140 V
(21621)210 648 A
1362(})S
4230 V
(21622)210 648 A
(extend\(&s1,&e1,sizeof\(SINGLE\)\);)1302 1362 A
4320 V
(21623)210 648 A
(extend\(&s2,&e2,sizeof\(SINGLE\)\);)1302 1362 A
4410 V
(21624)210 648 A
(sub_ext\(&e1,&e2\);)714 1362 A
4500 V
(21625)210 648 A
(compact\(&e1,&s1,sizeof\(SINGLE\)\);)1344 1362 A
4590 V
(21626)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/float/sbf8.c)840 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(21700)210 648 A
1026(/*)S
5490 V
(21701)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
5580 V
(21702)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
5670 V
(21703)210 648 A
1026(*/)S
5760 V
(21704)210 648 A
5850 V
(21705)210 648 A
1026(/*)S
($Header:)336 1152 A
(sbf8.c,v)336 1530 A
(1.8)126 1908 A
(93/01/05)336 2076 A
(12:06:22)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5940 V
(21706)210 648 A
6030 V
(21707)210 648 A
1026(/*)S
6120 V
(21708)210 648 A
(SUBTRACT)336 1362 A
(TWO)126 1740 A
(FLOATS)252 1908 A
2202(-)S
(DOUBLE)252 2286 A
(Precision)378 2580 A
(\(SBF)168 3000 A
3210(8\))S
6210 V
(21709)210 648 A
1026(*/)S
8418 V
EP
%%Page: 194 194
BP
/slant 0 def
/height 0 def
630 V
12 B
(194)180 648 A
11 R
2015(File:)S
(src/lib/float/sbf8.c)812 2248 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(21710)210 648 A
990 V
(21711)210 648 A
(#include)336 1026 A
("FP_types.h")504 1698 A
1080 V
(21712)210 648 A
1170 V
(21713)210 648 A
(void)168 1026 A
1260 V
(21714)210 648 A
(sbf8\(s2,s1\))462 1026 A
1350 V
(21715)210 648 A
(DOUBLE)252 1026 A
(s1,s2;)252 1362 A
1440 V
(21716)210 648 A
1026({)S
1530 V
(21717)210 648 A
(EXTEND)252 1362 A
(e1,)126 1656 A
(e2;)126 1824 A
1620 V
(21718)210 648 A
1710 V
(21719)210 648 A
1362(if)S
(\(s2.d[0])336 1488 A
1866(==)S
1992(0)S
2076(&&)S
(s2.d[1])294 2202 A
2538(==)S
2664(0\))S
2790({)S
1800 V
(21720)210 648 A
(return;)294 1698 A
1890 V
(21721)210 648 A
1362(})S
1980 V
(21722)210 648 A
(extend\(&s1.d[0],&e1,sizeof\(DOUBLE\)\);)1512 1362 A
2070 V
(21723)210 648 A
(extend\(&s2.d[0],&e2,sizeof\(DOUBLE\)\);)1512 1362 A
2160 V
(21724)210 648 A
(sub_ext\(&e1,&e2\);)714 1362 A
2250 V
(21725)210 648 A
(compact\(&e1,&s1.d[0],sizeof\(DOUBLE\)\);)1554 1362 A
2340 V
(21726)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/float/sft_ext.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(21800)210 648 A
1026(/*)S
3240 V
(21801)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
3330 V
(21802)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
3420 V
(21803)210 648 A
1026(*/)S
3510 V
(21804)210 648 A
3600 V
(21805)210 648 A
1026(/*)S
($Header:)336 1152 A
(sft_ext.c,v)462 1530 A
(1.5)126 2034 A
(93/01/05)336 2202 A
(12:06:28)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
3690 V
(21806)210 648 A
3780 V
(21807)210 648 A
1026(/*)S
3870 V
(21808)210 648 A
(SHIFT)210 1362 A
(TWO)126 1614 A
(EXTENDED)336 1782 A
(NUMBERS)294 2160 A
(INTO)168 2496 A
(PROPER)252 2706 A
3960 V
(21809)210 648 A
(ALIGNMENT)378 1362 A
(FOR)126 1782 A
(ADDITION)336 1950 A
(\(exponents)420 2328 A
(are)126 2790 A
(equal\))252 2958 A
4050 V
(21810)210 648 A
(Numbers)294 1362 A
(should)252 1698 A
(not)126 1992 A
2160(be)S
(zero)168 2286 A
2496(on)S
(entry.)252 2622 A
4140 V
(21811)210 648 A
1026(*/)S
4230 V
(21812)210 648 A
4320 V
(21813)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
4410 V
(21814)210 648 A
4500 V
(21815)210 648 A
(void)168 1026 A
4590 V
(21816)210 648 A
(sft_ext\(e1,e2\))588 1026 A
4680 V
(21817)210 648 A
(EXTEND)252 1026 A
(*e1,*e2;)336 1362 A
4770 V
(21818)210 648 A
1026({)S
4860 V
(21819)210 648 A
(register)336 1362 A
(EXTEND)252 2034 A
(*s;)126 2370 A
4950 V
(21820)210 648 A
(register)336 1362 A
(int)126 2034 A
(diff;)210 2370 A
5040 V
(21821)210 648 A
5130 V
(21822)210 648 A
(diff)168 1362 A
1572(=)S
(e1->exp)294 1656 A
1992(-)S
(e2->exp;)336 2076 A
5220 V
(21823)210 648 A
5310 V
(21824)210 648 A
1362(if)S
(\(!diff\))294 1488 A
5400 V
(21825)210 648 A
(return;)294 1698 A
2034(/*)S
(exponents)378 2160 A
(are)126 2580 A
(equal)210 2748 A
3042(*/)S
5490 V
(21826)210 648 A
5580 V
(21827)210 648 A
1362(if)S
(\(diff)210 1488 A
1740(<)S
1824(0\))S
2034({)S
2118(/*)S
2244(e2)S
2370(is)S
(larger)252 2496 A
3042(*/)S
5670 V
(21828)210 648 A
2034(/*)S
(shift)210 2160 A
2412(e1)S
3042(*/)S
5760 V
(21829)210 648 A
(diff)168 1698 A
1908(=)S
(-diff;)252 1992 A
5850 V
(21830)210 648 A
1698(s)S
1782(=)S
(e1;)126 1866 A
5940 V
(21831)210 648 A
1362(})S
6030 V
(21832)210 648 A
(else)168 1362 A
2034(/*)S
2160(e1)S
2286(is)S
(larger)252 2412 A
3042(*/)S
6120 V
(21833)210 648 A
2034(/*)S
(shift)210 2160 A
2412(e2)S
3042(*/)S
6210 V
(21834)210 648 A
1698(s)S
1782(=)S
(e2;)126 1866 A
8418 V
EP
%%Page: 195 195
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1959(File:)S
(src/lib/float/sft_ext.c)924 2192 A
12 B
(195)180 4248 A
900 V
7 LST
(21835)210 648 A
990 V
(21836)210 648 A
(s->exp)252 1362 A
1656(+=)S
(diff;)210 1782 A
1080 V
(21837)210 648 A
(b64_sft\(&\(s->mantissa\),)966 1362 A
(diff\);)252 2370 A
1170 V
(21838)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/float/shifter.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(21900)210 648 A
1026(/*)S
1890 V
(21901)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1980 V
(21902)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
2070 V
(21903)210 648 A
1026(*/)S
2160 V
(21904)210 648 A
2250 V
(21905)210 648 A
1026(/*)S
($Header:)336 1152 A
(shifter.c,v)462 1530 A
(1.6)126 2034 A
(93/01/05)336 2202 A
(12:06:34)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
2340 V
(21906)210 648 A
2430 V
(21907)210 648 A
1026(#)S
(include)294 1110 A
("FP_types.h")504 1446 A
2520 V
(21908)210 648 A
2610 V
(21909)210 648 A
(void)168 1026 A
2700 V
(21910)210 648 A
(b64_sft\(e1,n\))546 1026 A
2790 V
(21911)210 648 A
(B64)126 1026 A
(*e1;)168 1362 A
2880 V
(21912)210 648 A
(int)126 1026 A
1362(n;)S
2970 V
(21913)210 648 A
1026({)S
3060 V
(21914)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(0\))S
1824({)S
3150 V
(21915)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
(63\))126 2034 A
2202({)S
3240 V
(21916)210 648 A
(e1->l_32)336 2034 A
2412(=)S
2496(0;)S
3330 V
(21917)210 648 A
(e1->h_32)336 2034 A
2412(=)S
2496(0;)S
3420 V
(21918)210 648 A
(return;)294 2034 A
3510 V
(21919)210 648 A
1698(})S
3600 V
(21920)210 648 A
1698(if)S
1824(\(n)S
1950(>=)S
(32\))126 2076 A
2244({)S
3690 V
(21921)210 648 A
(e1->l_32)336 2034 A
2412(=)S
(e1->h_32;)378 2496 A
3780 V
(21922)210 648 A
(e1->h_32)336 2034 A
2412(=)S
2496(0;)S
3870 V
(21923)210 648 A
2034(n)S
2118(-=)S
(32;)126 2244 A
3960 V
(21924)210 648 A
1698(})S
4050 V
(21925)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
2034(0\))S
2160({)S
4140 V
(21926)210 648 A
(e1->l_32)336 2034 A
(>>=)126 2412 A
2580(n;)S
4230 V
(21927)210 648 A
2034(if)S
(\(e1->h_32)378 2160 A
2580(!=)S
2706(0\))S
2832({)S
4320 V
(21928)210 648 A
(e1->l_32)336 2370 A
2748(|=)S
(\(e1->h_32)378 2874 A
3294(<<)S
(\(32)126 3420 A
3588(-)S
(n\)\);)168 3672 A
4410 V
(21929)210 648 A
(e1->h_32)336 2370 A
(>>=)126 2748 A
2916(n;)S
4500 V
(21930)210 648 A
2034(})S
4590 V
(21931)210 648 A
1698(})S
4680 V
(21932)210 648 A
(return;)294 1698 A
4770 V
(21933)210 648 A
1362(})S
4860 V
(21934)210 648 A
1362(n)S
1446(=)S
(-n;)126 1530 A
4950 V
(21935)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(0\))S
1824({)S
5040 V
(21936)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
(63\))126 2034 A
2202({)S
5130 V
(21937)210 648 A
(e1->l_32)336 2034 A
2412(=)S
2496(0;)S
5220 V
(21938)210 648 A
(e1->h_32)336 2034 A
2412(=)S
2496(0;)S
5310 V
(21939)210 648 A
(return;)294 2034 A
5400 V
(21940)210 648 A
1698(})S
5490 V
(21941)210 648 A
1698(if)S
1824(\(n)S
1950(>=)S
(32\))126 2076 A
2244({)S
5580 V
(21942)210 648 A
(e1->h_32)336 2034 A
2412(=)S
(e1->l_32;)378 2496 A
5670 V
(21943)210 648 A
(e1->l_32)336 2034 A
2412(=)S
2496(0;)S
5760 V
(21944)210 648 A
2034(n)S
2118(-=)S
(32;)126 2244 A
5850 V
(21945)210 648 A
1698(})S
5940 V
(21946)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
2034(0\))S
2160({)S
6030 V
(21947)210 648 A
(e1->h_32)336 2034 A
(<<=)126 2412 A
2580(n;)S
6120 V
(21948)210 648 A
2034(if)S
(\(e1->l_32)378 2160 A
2580(!=)S
2706(0\))S
2832({)S
6210 V
(21949)210 648 A
(e1->h_32)336 2370 A
2748(|=)S
(\(e1->l_32)378 2874 A
3294(>>)S
(\(32)126 3420 A
3588(-)S
(n\)\);)168 3672 A
8418 V
EP
%%Page: 196 196
BP
/slant 0 def
/height 0 def
630 V
12 B
(196)180 648 A
11 R
1968(File:)S
(src/lib/float/shifter.c)906 2201 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(21950)210 648 A
(e1->l_32)336 2370 A
(<<=)126 2748 A
2916(n;)S
990 V
(21951)210 648 A
2034(})S
1080 V
(21952)210 648 A
1698(})S
1170 V
(21953)210 648 A
1362(})S
1260 V
(21954)210 648 A
1026(})S
1440 V
(21956)210 648 A
(void)168 1026 A
1530 V
(21957)210 648 A
(b64_lsft\(e1\))504 1026 A
1620 V
(21958)210 648 A
(B64)126 1026 A
(*e1;)168 1362 A
1710 V
(21959)210 648 A
1026({)S
1800 V
(21960)210 648 A
1362(/*)S
(shift)210 1698 A
(left)168 1950 A
2160(1)S
(bit)126 2244 A
2412(*/)S
1890 V
(21961)210 648 A
(e1->h_32)336 1362 A
(<<=)126 1740 A
1908(1;)S
1980 V
(21962)210 648 A
1362(if)S
(\(e1->l_32)378 1488 A
1908(&)S
(0x80000000L\))504 1992 A
(e1->h_32)336 2538 A
2916(|=)S
3042(1;)S
2070 V
(21963)210 648 A
(e1->l_32)336 1362 A
(<<=)126 1740 A
1908(1;)S
2160 V
(21964)210 648 A
1026(})S
2340 V
(21966)210 648 A
(void)168 1026 A
2430 V
(21967)210 648 A
(b64_rsft\(e1\))504 1026 A
2520 V
(21968)210 648 A
(B64)126 1026 A
(*e1;)168 1362 A
2610 V
(21969)210 648 A
1026({)S
2700 V
(21970)210 648 A
1362(/*)S
(shift)210 1698 A
(right)210 1950 A
2202(1)S
(bit)126 2286 A
2454(*/)S
2790 V
(21971)210 648 A
(e1->l_32)336 1362 A
(>>=)126 1740 A
1908(1;)S
2880 V
(21972)210 648 A
1362(if)S
(\(e1->h_32)378 1488 A
1908(&)S
1992(1\))S
(e1->l_32)336 2118 A
2496(|=)S
(0x80000000L;)504 2622 A
2970 V
(21973)210 648 A
(e1->h_32)336 1362 A
(>>=)126 1740 A
1908(1;)S
3060 V
(21974)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/float/sub_ext.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(22000)210 648 A
1026(/*)S
4140 V
(22001)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4230 V
(22002)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4320 V
(22003)210 648 A
1026(*/)S
4410 V
(22004)210 648 A
4500 V
(22005)210 648 A
1026(/*)S
($Header:)336 1152 A
(sub_ext.c,v)462 1530 A
(1.6)126 2034 A
(93/01/05)336 2202 A
(12:06:40)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
4590 V
(22006)210 648 A
4680 V
(22007)210 648 A
1026(/*)S
4770 V
(22008)210 648 A
(SUBTRACT)336 1362 A
1740(2)S
(EXTENDED)336 1824 A
(FORMAT)252 2202 A
(NUMBERS)294 2496 A
4860 V
(22009)210 648 A
1026(*/)S
4950 V
(22010)210 648 A
5040 V
(22011)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
5130 V
(22012)210 648 A
5220 V
(22013)210 648 A
(void)168 1026 A
5310 V
(22014)210 648 A
(sub_ext\(e1,e2\))588 1026 A
5400 V
(22015)210 648 A
(EXTEND)252 1026 A
(*e1,*e2;)336 1362 A
5490 V
(22016)210 648 A
1026({)S
5580 V
(22017)210 648 A
1362(if)S
(\(\(e2->m1)336 1488 A
1866(|)S
(e2->m2\))294 1950 A
2286(==)S
(0L\))126 2412 A
2580({)S
5670 V
(22018)210 648 A
(return;)294 1698 A
5760 V
(22019)210 648 A
1362(})S
5850 V
(22020)210 648 A
1362(if)S
(\(\(e1->m1)336 1488 A
1866(|)S
(e1->m2\))294 1950 A
2286(==)S
(0L\))126 2412 A
2580({)S
5940 V
(22021)210 648 A
(*e1)126 1698 A
1866(=)S
(*e2;)168 1950 A
6030 V
(22022)210 648 A
(e1->sign)336 1698 A
2076(=)S
(e2->sign)336 2160 A
2538(?)S
2622(0)S
2706(:)S
2790(1;)S
6120 V
(22023)210 648 A
(return;)294 1698 A
6210 V
(22024)210 648 A
1362(})S
8418 V
EP
%%Page: 197 197
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1938(File:)S
(src/lib/float/sub_ext.c)966 2171 A
12 B
(197)180 4248 A
900 V
7 LST
(22025)210 648 A
(sft_ext\(e1,)462 1362 A
(e2\);)168 1866 A
990 V
(22026)210 648 A
1362(if)S
(\(e1->sign)378 1488 A
1908(!=)S
(e2->sign\))378 2034 A
2454({)S
1080 V
(22027)210 648 A
1698(/*)S
1824(e1)S
1950(-)S
2034(e2)S
2160(=)S
2244(e1)S
2370(+)S
(\(-e2\))210 2454 A
2706(*/)S
1170 V
(22028)210 648 A
1698(if)S
(\(b64_add\(&e1->mantissa,&e2->mantissa\)\))1596 1824 A
3462({)S
3546(/*)S
(addition)336 3672 A
(carry)210 4050 A
4302(*/)S
1260 V
(22029)210 648 A
(b64_rsft\(&e1->mantissa\);)1008 2034 A
3294(/*)S
(shift)210 3420 A
(mantissa)336 3672 A
(one)126 4050 A
(bit)126 4218 A
(RIGHT)210 4386 A
4638(*/)S
1350 V
(22030)210 648 A
(e1->m1)252 2034 A
2328(|=)S
(0x80000000L;)504 2454 A
3042(/*)S
(set)126 3168 A
(max)126 3336 A
(bit)126 3504 A
3714(*/)S
1440 V
(22031)210 648 A
(e1->exp++;)420 2034 A
3042(/*)S
(increase)336 3168 A
(the)126 3546 A
(exponent)336 3714 A
4092(*/)S
1530 V
(22032)210 648 A
1698(})S
1620 V
(22033)210 648 A
1362(})S
1710 V
(22034)210 648 A
(else)168 1362 A
1572(if)S
(\(e2->m1)294 1698 A
2034(>)S
(e1->m1)252 2118 A
2412(||)S
1800 V
(22035)210 648 A
(\(e2->m1)294 1740 A
2076(==)S
(e1->m1)252 2202 A
2496(&&)S
(e2->m2)252 2622 A
2916(>)S
(e1->m2\)\))336 3000 A
3378({)S
1890 V
(22036)210 648 A
1698(/*)S
(abs\(e2\))294 2034 A
2370(>)S
(abs\(e1\))294 2454 A
2790(*/)S
1980 V
(22037)210 648 A
1698(if)S
(\(e1->m2)294 1824 A
2160(>)S
(e2->m2\))294 2244 A
2580({)S
2070 V
(22038)210 648 A
(e2->m1)252 2034 A
2328(-=)S
2454(1;)S
2706(/*)S
(carry)210 2832 A
3084(in)S
3210(*/)S
2160 V
(22039)210 648 A
1698(})S
2250 V
(22040)210 648 A
(e2->m1)252 1698 A
1992(-=)S
(e1->m1;)294 2118 A
2340 V
(22041)210 648 A
(e2->m2)252 1698 A
1992(-=)S
(e1->m2;)294 2118 A
2430 V
(22042)210 648 A
(*e1)126 1698 A
1866(=)S
(*e2;)168 1950 A
2520 V
(22043)210 648 A
(e1->sign)336 1698 A
2076(=)S
(e2->sign)336 2160 A
2538(?)S
2622(0)S
2706(:)S
2790(1;)S
2610 V
(22044)210 648 A
1362(})S
2700 V
(22045)210 648 A
(else)168 1362 A
1572({)S
2790 V
(22046)210 648 A
1698(if)S
(\(e2->m2)294 1824 A
2160(>)S
(e1->m2\))294 2244 A
2880 V
(22047)210 648 A
(e1->m1)252 2034 A
2328(-=)S
2454(1;)S
2706(/*)S
(carry)210 2832 A
3084(in)S
3210(*/)S
2970 V
(22048)210 648 A
(e1->m1)252 1698 A
1992(-=)S
(e2->m1;)294 2118 A
3060 V
(22049)210 648 A
(e1->m2)252 1698 A
1992(-=)S
(e2->m2;)294 2118 A
3150 V
(22050)210 648 A
1362(})S
3240 V
(22051)210 648 A
(nrm_ext\(e1\);)504 1362 A
3330 V
(22052)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/float/zrf4.c)840 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(22100)210 648 A
1026(/*)S
4140 V
(22101)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4230 V
(22102)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4320 V
(22103)210 648 A
1026(*/)S
4410 V
(22104)210 648 A
4500 V
(22105)210 648 A
1026(/*)S
($Header:)336 1152 A
(zrf4.c,v)336 1530 A
(1.5)126 1908 A
(93/01/05)336 2076 A
(12:06:46)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4590 V
(22106)210 648 A
4680 V
(22107)210 648 A
1026(/*)S
4770 V
(22108)210 648 A
(return)252 1362 A
1656(a)S
(zero)168 1740 A
(float)210 1950 A
(\(ZRF)168 2202 A
2412(4\))S
4860 V
(22109)210 648 A
1026(*/)S
4950 V
(22110)210 648 A
5040 V
(22111)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
5130 V
(22112)210 648 A
5220 V
(22113)210 648 A
(void)168 1026 A
5310 V
(22114)210 648 A
(zrf4\(l\))294 1026 A
5400 V
(22115)210 648 A
(SINGLE)252 1026 A
(*l;)126 1362 A
5490 V
(22116)210 648 A
1026({)S
5580 V
(22117)210 648 A
1362(*l)S
1488(=)S
(0L;)126 1572 A
5670 V
(22118)210 648 A
1026(})S
8418 V
EP
%%Page: 198 198
BP
/slant 0 def
/height 0 def
630 V
12 B
(198)180 648 A
11 R
2021(File:)S
(src/lib/float/zrf8.c)801 2254 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/zrf8.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(22200)210 648 A
1026(/*)S
1440 V
(22201)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
1530 V
(22202)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
1620 V
(22203)210 648 A
1026(*/)S
1710 V
(22204)210 648 A
1800 V
(22205)210 648 A
1026(/*)S
($Header:)336 1152 A
(zrf8.c,v)336 1530 A
(1.4)126 1908 A
(93/01/05)336 2076 A
(12:06:52)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1890 V
(22206)210 648 A
1980 V
(22207)210 648 A
1026(/*)S
2070 V
(22208)210 648 A
(return)252 1362 A
1656(a)S
(zero)168 1740 A
(double)252 1950 A
(\(ZRF)168 2244 A
2454(8\))S
2160 V
(22209)210 648 A
1026(*/)S
2250 V
(22210)210 648 A
2340 V
(22211)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
2430 V
(22212)210 648 A
2520 V
(22213)210 648 A
(void)168 1026 A
2610 V
(22214)210 648 A
(zrf8\(z\))294 1026 A
2700 V
(22215)210 648 A
(DOUBLE)252 1026 A
(*z;)126 1362 A
2790 V
(22216)210 648 A
1026({)S
2880 V
(22217)210 648 A
2970 V
(22218)210 648 A
(z->d[0])294 1362 A
1698(=)S
(0L;)126 1782 A
3060 V
(22219)210 648 A
(z->d[1])294 1362 A
1698(=)S
(0L;)126 1782 A
3150 V
(22220)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/float/zrf_ext.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(22300)210 648 A
1026(/*)S
4140 V
(22301)210 648 A
(\(c\))126 1110 A
(copyright)378 1278 A
(1988)168 1698 A
1908(by)S
(the)126 2034 A
(Vrije)210 2202 A
(Universiteit,)546 2454 A
(Amsterdam,)420 3042 A
(The)126 3504 A
(Netherlands.)504 3672 A
4230 V
(22302)210 648 A
(See)126 1110 A
(the)126 1278 A
(copyright)378 1446 A
(notice)252 1866 A
2160(in)S
(the)126 2286 A
(ACK)126 2454 A
(home)168 2622 A
(directory,)420 2832 A
3294(in)S
(the)126 3420 A
(file)168 3588 A
("Copyright".)504 3798 A
4320 V
(22303)210 648 A
1026(*/)S
4410 V
(22304)210 648 A
4500 V
(22305)210 648 A
1026(/*)S
($Header:)336 1152 A
(zrf_ext.c,v)462 1530 A
(1.5)126 2034 A
(93/01/05)336 2202 A
(12:06:58)336 2580 A
(ceriel)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
4590 V
(22306)210 648 A
4680 V
(22307)210 648 A
1026(/*)S
4770 V
(22308)210 648 A
(ZERO)168 1362 A
(and)126 1572 A
(return)252 1740 A
(EXTEND)252 2034 A
(FORMAT)252 2328 A
(FLOAT)210 2622 A
4860 V
(22309)210 648 A
1026(*/)S
4950 V
(22310)210 648 A
5040 V
(22311)210 648 A
(#include)336 1026 A
("FP_types.h")504 1404 A
5130 V
(22312)210 648 A
5220 V
(22313)210 648 A
(void)168 1026 A
5310 V
(22314)210 648 A
(zrf_ext\(e\))420 1026 A
5400 V
(22315)210 648 A
(EXTEND)252 1026 A
(*e;)126 1362 A
5490 V
(22316)210 648 A
1026({)S
5580 V
(22317)210 648 A
(e->m1)210 1362 A
1614(=)S
1698(0;)S
5670 V
(22318)210 648 A
(e->m2)210 1362 A
1614(=)S
1698(0;)S
5760 V
(22319)210 648 A
(e->exp)252 1362 A
1656(=)S
1740(0;)S
5850 V
(22320)210 648 A
(e->sign)294 1362 A
1698(=)S
1782(0;)S
5940 V
(22321)210 648 A
1026(})S
8418 V
EP
%%Page: 199 199
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2006(File:)S
(src/lib/float/fptrp.s)830 2239 A
12 B
(199)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/float/fptrp.s)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(22400)210 648 A
1026(#)S
1440 V
(22401)210 648 A
(.sect)210 1026 A
(.text;)252 1278 A
(.sect)210 1572 A
(.rom;)210 1824 A
(.sect)210 2076 A
(.data;)252 2328 A
(.sect)210 2622 A
(.bss)168 2874 A
1530 V
(22402)210 648 A
(.define)294 1026 A
(__fptrp)294 1362 A
1620 V
(22403)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1710 V
(22404)210 648 A
(__fptrp:)336 1026 A
1800 V
(22405)210 648 A
(#if)126 1026 A
(__i386)252 1194 A
1890 V
(22406)210 648 A
(push)168 1362 A
(ebp)126 1698 A
1980 V
(22407)210 648 A
(mov)126 1362 A
(ebp,)168 1698 A
(esp)126 1908 A
2070 V
(22408)210 648 A
(mov)126 1362 A
(eax,)168 1698 A
(8\(bp\))210 1908 A
2160 V
(22409)210 648 A
(call)168 1362 A
(.Xtrp)210 1698 A
2250 V
(22410)210 648 A
(leave)210 1362 A
2340 V
(22411)210 648 A
(ret)126 1362 A
2430 V
(22412)210 648 A
(#else)210 1026 A
1278(/*)S
(i86)126 1404 A
1572(*/)S
2520 V
(22413)210 648 A
(push)168 1362 A
1698(bp)S
2610 V
(22414)210 648 A
(mov)126 1362 A
(bp,)126 1698 A
1866(sp)S
2700 V
(22415)210 648 A
(mov)126 1362 A
(ax,)126 1698 A
(4\(bp\))210 1866 A
2790 V
(22416)210 648 A
(call)168 1362 A
(.Xtrp)210 1698 A
2880 V
(22417)210 648 A
(jmp)126 1362 A
(.cret)210 1698 A
2970 V
(22418)210 648 A
(#endif)252 1026 A
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/fphook/fltpr.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(22500)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(22501)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
3780 V
(22502)210 648 A
(#include)336 1026 A
("../stdio/loc_incl.h")882 1698 A
3870 V
(22503)210 648 A
3960 V
(22504)210 648 A
(int)126 1026 A
(_fp_hook)336 1194 A
1572(=)S
1656(1;)S
4050 V
(22505)210 648 A
4140 V
(22506)210 648 A
(char)168 1026 A
1236(*)S
4230 V
(22507)210 648 A
(_f_print\(va_list)672 1026 A
(*ap,)168 1740 A
(int)126 1950 A
(flags,)252 2118 A
(char)168 2412 A
(*s,)126 2622 A
(char)168 2790 A
3000(c,)S
(int)126 3126 A
(precision\))420 3294 A
4320 V
(22508)210 648 A
1026({)S
4410 V
(22509)210 648 A
(fprintf\(stderr,"cannot)924 1362 A
(print)210 2328 A
(floating)336 2580 A
(point\\n"\);)420 2958 A
4500 V
(22510)210 648 A
(exit\(EXIT_FAILURE\);)798 1362 A
4590 V
(22511)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/fphook/fphook.c)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(22600)210 648 A
1026(/*)S
5490 V
(22601)210 648 A
1068(*)S
(fltpr.c)294 1152 A
1488(-)S
(print)210 1572 A
(floating)336 1824 A
(point)210 2202 A
(numbers)294 2454 A
5580 V
(22602)210 648 A
1068(*/)S
5670 V
(22603)210 648 A
1026(/*)S
($Header:)336 1152 A
(fltpr.c,v)378 1530 A
(1.4)126 1950 A
(90/02/27)336 2118 A
(16:47:40)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
5760 V
(22604)210 648 A
5850 V
(22605)210 648 A
(#ifndef)294 1026 A
(NOFLOAT)294 1362 A
5940 V
(22606)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
6030 V
(22607)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
6120 V
(22608)210 648 A
(#include)336 1026 A
("../stdio/loc_incl.h")882 1698 A
6210 V
(22609)210 648 A
(int)126 1026 A
(_fp_hook)336 1194 A
1572(=)S
1656(1;)S
8418 V
EP
%%Page: 200 200
BP
/slant 0 def
/height 0 def
630 V
12 B
(200)180 648 A
11 R
1900(File:)S
(src/lib/fphook/fphook.c)1042 2133 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(22610)210 648 A
990 V
(22611)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
1080 V
(22612)210 648 A
(_pfloat\(long)504 1026 A
(double)252 1572 A
1866(r,)S
(register)336 1992 A
(char)168 2370 A
(*s,)126 2580 A
(int)126 2748 A
2916(n,)S
(int)126 3042 A
(flags\))252 3210 A
1170 V
(22613)210 648 A
1026({)S
1260 V
(22614)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1;)168 1950 A
1350 V
(22615)210 648 A
(int)126 1362 A
(sign,)210 1530 A
(dp;)126 1782 A
1440 V
(22616)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i;)S
1530 V
(22617)210 648 A
1620 V
(22618)210 648 A
1362(s1)S
1488(=)S
(_fcvt\(r,)336 1572 A
1950(n,)S
(&dp,)168 2076 A
(&sign\);)294 2286 A
1710 V
(22619)210 648 A
1362(if)S
(\(sign\))252 1488 A
1800 V
(22620)210 648 A
(*s++)168 1698 A
1908(=)S
('-';)168 1992 A
1890 V
(22621)210 648 A
(else)168 1362 A
1572(if)S
(\(flags)252 1698 A
1992(&)S
(FL_SIGN\))336 2076 A
1980 V
(22622)210 648 A
(*s++)168 1698 A
1908(=)S
('+';)168 1992 A
2070 V
(22623)210 648 A
(else)168 1362 A
1572(if)S
(\(flags)252 1698 A
1992(&)S
(FL_SPACE\))378 2076 A
2160 V
(22624)210 648 A
(*s++)168 1698 A
1908(=)S
1992(')S
2076(';)S
2250 V
(22625)210 648 A
2340 V
(22626)210 648 A
1362(if)S
(\(dp<=0\))294 1488 A
2430 V
(22627)210 648 A
(*s++)168 1698 A
1908(=)S
('0';)168 1992 A
2520 V
(22628)210 648 A
(for)126 1362 A
(\(i=dp;)252 1530 A
(i>0;)168 1824 A
(i--\))168 2034 A
2610 V
(22629)210 648 A
1698(if)S
(\(*s1\))210 1824 A
(*s++)168 2076 A
2286(=)S
(*s1++;)252 2370 A
2700 V
(22630)210 648 A
(else)168 1698 A
(*s++)168 1908 A
2118(=)S
('0';)168 2202 A
2790 V
(22631)210 648 A
1362(if)S
(\(\(\(i=n\))294 1488 A
1824(>)S
1908(0\))S
2034(||)S
(\(flags)252 2160 A
2454(&)S
(FL_ALT\)\))336 2538 A
2880 V
(22632)210 648 A
(*s++)168 1698 A
1908(=)S
('.';)168 1992 A
2970 V
(22633)210 648 A
(while)210 1362 A
(\(++dp)210 1614 A
1866(<=)S
1992(0\))S
2118({)S
3060 V
(22634)210 648 A
1698(if)S
(\(--i<0\))294 1824 A
3150 V
(22635)210 648 A
(break;)252 2034 A
3240 V
(22636)210 648 A
(*s++)168 1698 A
1908(=)S
('0';)168 1992 A
3330 V
(22637)210 648 A
1362(})S
3420 V
(22638)210 648 A
(while)210 1362 A
(\(--i)168 1614 A
1824(>=)S
1950(0\))S
3510 V
(22639)210 648 A
1698(if)S
(\(*s1\))210 1824 A
(*s++)168 2076 A
2286(=)S
(*s1++;)252 2370 A
3600 V
(22640)210 648 A
(else)168 1698 A
(*s++)168 1908 A
2118(=)S
('0';)168 2202 A
3690 V
(22641)210 648 A
(return)252 1362 A
1656(s;)S
3780 V
(22642)210 648 A
1026(})S
3960 V
(22644)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
4050 V
(22645)210 648 A
(_pscien\(long)504 1026 A
(double)252 1572 A
1866(r,)S
(register)336 1992 A
(char)168 2370 A
(*s,)126 2580 A
(int)126 2748 A
2916(n,)S
(int)126 3042 A
(flags\))252 3210 A
4140 V
(22646)210 648 A
1026({)S
4230 V
(22647)210 648 A
(int)126 1362 A
(sign,)210 1530 A
(dp;)126 1782 A
4320 V
(22648)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1;)168 1950 A
4410 V
(22649)210 648 A
4500 V
(22650)210 648 A
1362(s1)S
1488(=)S
(_ecvt\(r,)336 1572 A
1950(n)S
2034(+)S
2118(1,)S
(&dp,)168 2244 A
(&sign\);)294 2454 A
4590 V
(22651)210 648 A
1362(if)S
(\(sign\))252 1488 A
4680 V
(22652)210 648 A
(*s++)168 1698 A
1908(=)S
('-';)168 1992 A
4770 V
(22653)210 648 A
(else)168 1362 A
1572(if)S
(\(flags)252 1698 A
1992(&)S
(FL_SIGN\))336 2076 A
4860 V
(22654)210 648 A
(*s++)168 1698 A
1908(=)S
('+';)168 1992 A
4950 V
(22655)210 648 A
(else)168 1362 A
1572(if)S
(\(flags)252 1698 A
1992(&)S
(FL_SPACE\))378 2076 A
5040 V
(22656)210 648 A
(*s++)168 1698 A
1908(=)S
1992(')S
2076(';)S
5130 V
(22657)210 648 A
5220 V
(22658)210 648 A
(*s++)168 1362 A
1572(=)S
(*s1++;)252 1656 A
5310 V
(22659)210 648 A
1362(if)S
(\(\(n)126 1488 A
1656(>)S
1740(0\))S
1866(||)S
(\(flags)252 1992 A
2286(&)S
(FL_ALT\)\))336 2370 A
5400 V
(22660)210 648 A
(*s++)168 1698 A
1908(=)S
('.';)168 1992 A
5490 V
(22661)210 648 A
(while)210 1362 A
(\(--n)168 1614 A
1824(>=)S
1950(0\))S
5580 V
(22662)210 648 A
1698(if)S
(\(*s1\))210 1824 A
(*s++)168 2076 A
2286(=)S
(*s1++;)252 2370 A
5670 V
(22663)210 648 A
(else)168 1698 A
(*s++)168 1908 A
2118(=)S
('0';)168 2202 A
5760 V
(22664)210 648 A
(*s++)168 1362 A
1572(=)S
('e';)168 1656 A
5850 V
(22665)210 648 A
1362(if)S
1488(\()S
1572(r)S
1656(!=)S
1782(0)S
1866(\))S
(--dp)168 1950 A
2160(;)S
5940 V
(22666)210 648 A
1362(if)S
1488(\()S
(dp<0)168 1572 A
1782(\))S
1866({)S
6030 V
(22667)210 648 A
(*s++)168 1698 A
1908(=)S
('-')126 1992 A
2160(;)S
(dp=)126 2244 A
(-dp)126 2412 A
2580(;)S
6120 V
(22668)210 648 A
1362(})S
(else)168 1446 A
1656({)S
6210 V
(22669)210 648 A
(*s++)168 1698 A
1908(=)S
('+')126 1992 A
2160(;)S
8418 V
EP
%%Page: 201 201
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1900(File:)S
(src/lib/fphook/fphook.c)1042 2133 A
12 B
(201)180 4248 A
900 V
7 LST
(22670)210 648 A
1362(})S
990 V
(22671)210 648 A
1362(if)S
(\(dp)126 1488 A
1656(>=)S
(100\))168 1782 A
1992({)S
1080 V
(22672)210 648 A
(*s++)168 1698 A
1908(=)S
('0')126 1992 A
2160(+)S
(\(dp)126 2244 A
2412(/)S
(100\);)210 2496 A
1170 V
(22673)210 648 A
1698(dp)S
1824(%=)S
(100;)168 1950 A
1260 V
(22674)210 648 A
1362(})S
1350 V
(22675)210 648 A
(*s++)168 1362 A
1572(=)S
('0')126 1656 A
1824(+)S
(\(dp/10\);)336 1908 A
1440 V
(22676)210 648 A
(*s++)168 1362 A
1572(=)S
('0')126 1656 A
1824(+)S
(\(dp%10\);)336 1908 A
1530 V
(22677)210 648 A
(return)252 1362 A
1656(s;)S
1620 V
(22678)210 648 A
1026(})S
1800 V
(22680)210 648 A
(#define)294 1026 A
(NDIGINEXP\(exp\))588 1362 A
(\(\(\(exp\))294 2370 A
2706(>=)S
(100)126 2832 A
3000(||)S
(\(exp\))210 3126 A
3378(<=)S
(-100\))210 3504 A
3756(?)S
3840(3)S
3924(:)S
4008(2\))S
1890 V
(22681)210 648 A
(#define)294 1026 A
(LOW_EXP)294 1362 A
2370(-4)S
1980 V
(22682)210 648 A
(#define)294 1026 A
(USE_EXP\(exp,)504 1362 A
(ndigits\))336 1908 A
(\(\(\(exp\))294 2370 A
2706(<)S
(LOW_EXP)294 2790 A
3126(+)S
3210(1\))S
3336(||)S
(\(exp)168 3462 A
3672(>=)S
(ndigits)294 3798 A
4134(+)S
(1\)\))126 4218 A
2070 V
(22683)210 648 A
2160 V
(22684)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
2250 V
(22685)210 648 A
(_gcvt\(long)420 1026 A
(double)252 1488 A
(value,)252 1782 A
(int)126 2076 A
(ndigit,)294 2244 A
(char)168 2580 A
(*s,)126 2790 A
(int)126 2958 A
(flags\))252 3126 A
2340 V
(22686)210 648 A
1026({)S
2430 V
(22687)210 648 A
(int)126 1362 A
(sign,)210 1530 A
(dp;)126 1782 A
2520 V
(22688)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s1,)168 1950 A
(*s2;)168 2160 A
2610 V
(22689)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i;)S
2700 V
(22690)210 648 A
(register)336 1362 A
(int)126 1740 A
(nndigit)294 1908 A
2244(=)S
(ndigit;)294 2328 A
2790 V
(22691)210 648 A
2880 V
(22692)210 648 A
1362(s1)S
1488(=)S
(_ecvt\(value,)504 1572 A
(ndigit,)294 2118 A
(&dp,)168 2454 A
(&sign\);)294 2664 A
2970 V
(22693)210 648 A
1362(s2)S
1488(=)S
1572(s;)S
3060 V
(22694)210 648 A
1362(if)S
(\(sign\))252 1488 A
(*s2++)210 1782 A
2034(=)S
('-';)168 2118 A
3150 V
(22695)210 648 A
(else)168 1362 A
1572(if)S
(\(flags)252 1698 A
1992(&)S
(FL_SIGN\))336 2076 A
3240 V
(22696)210 648 A
(*s2++)210 1698 A
1950(=)S
('+';)168 2034 A
3330 V
(22697)210 648 A
(else)168 1362 A
1572(if)S
(\(flags)252 1698 A
1992(&)S
(FL_SPACE\))378 2076 A
3420 V
(22698)210 648 A
(*s2++)210 1698 A
1950(=)S
2034(')S
2118(';)S
3510 V
(22699)210 648 A
3600 V
(22700)210 648 A
1362(if)S
(\(!\(flags)336 1488 A
1866(&)S
(FL_ALT\)\))336 1950 A
3690 V
(22701)210 648 A
(for)126 1698 A
1866(\(i)S
1992(=)S
(nndigit)294 2076 A
2412(-)S
2496(1;)S
2622(i)S
2706(>)S
2790(0)S
2874(&&)S
(s1[i])210 3000 A
3252(==)S
('0';)168 3378 A
(i--\))168 3588 A
3780 V
(22702)210 648 A
(nndigit--;)420 2034 A
3870 V
(22703)210 648 A
3960 V
(22704)210 648 A
1362(if)S
(\(USE_EXP\(dp,ndigit\)\))840 1488 A
2370({)S
4050 V
(22705)210 648 A
1698(/*)S
(Use)126 1824 A
1992(E)S
(format)252 2076 A
2370(*/)S
4140 V
(22706)210 648 A
(dp--;)210 1698 A
4230 V
(22707)210 648 A
(*s2++)210 1698 A
1950(=)S
(*s1++;)252 2034 A
4320 V
(22708)210 648 A
1698(if)S
(\(\(nndigit)378 1824 A
2244(>)S
2328(1\))S
2454(||)S
(\(flags)252 2580 A
2874(&)S
(FL_ALT\)\))336 2958 A
(*s2++)210 3336 A
3588(=)S
('.';)168 3672 A
4410 V
(22709)210 648 A
(while)210 1698 A
(\(--nndigit)420 1950 A
2412(>)S
2496(0\))S
(*s2++)210 2622 A
2874(=)S
(*s1++;)252 2958 A
4500 V
(22710)210 648 A
(*s2++)210 1698 A
1950(=)S
('e';)168 2034 A
4590 V
(22711)210 648 A
1698(if)S
(\(dp)126 1824 A
1992(<)S
2076(0\))S
2202({)S
4680 V
(22712)210 648 A
(*s2++)210 2034 A
2286(=)S
('-';)168 2370 A
4770 V
(22713)210 648 A
2034(dp)S
2160(=)S
(-dp;)168 2244 A
4860 V
(22714)210 648 A
1698(})S
4950 V
(22715)210 648 A
(else)168 1698 A
(*s2++)210 2076 A
2328(=)S
('+';)168 2412 A
5040 V
(22716)210 648 A
1698(s2)S
1824(+=)S
(NDIGINEXP\(dp\);)588 1950 A
5130 V
(22717)210 648 A
(*s2)126 1698 A
1866(=)S
1950(0;)S
5220 V
(22718)210 648 A
(for)126 1698 A
1866(\(i)S
1992(=)S
(NDIGINEXP\(dp\);)588 2076 A
2706(i)S
2790(>)S
2874(0;)S
(i--\))168 3000 A
3210({)S
5310 V
(22719)210 648 A
(*--s2)210 2034 A
2286(=)S
2370(dp)S
2496(%)S
2580(10)S
2706(+)S
('0';)168 2790 A
5400 V
(22720)210 648 A
2034(dp)S
2160(/=)S
(10;)126 2286 A
5490 V
(22721)210 648 A
1698(})S
5580 V
(22722)210 648 A
(return)252 1698 A
1992(s;)S
5670 V
(22723)210 648 A
1362(})S
5760 V
(22724)210 648 A
1362(/*)S
(Use)126 1488 A
1656(f)S
(format)252 1740 A
2034(*/)S
5850 V
(22725)210 648 A
1362(if)S
(\(dp)126 1488 A
1656(<=)S
1782(0\))S
1908({)S
5940 V
(22726)210 648 A
1698(if)S
(\(*s1)168 1824 A
2034(!=)S
('0'\))168 2160 A
2370({)S
6030 V
(22727)210 648 A
2034(/*)S
(otherwise)378 2160 A
(the)126 2580 A
(whole)210 2748 A
(number)252 3000 A
3294(is)S
3420(0)S
3504(*/)S
6120 V
(22728)210 648 A
(*s2++)210 2034 A
2286(=)S
('0';)168 2370 A
6210 V
(22729)210 648 A
(*s2++)210 2034 A
2286(=)S
('.';)168 2370 A
8418 V
EP
%%Page: 202 202
BP
/slant 0 def
/height 0 def
630 V
12 B
(202)180 648 A
11 R
1900(File:)S
(src/lib/fphook/fphook.c)1042 2133 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(22730)210 648 A
1698(})S
990 V
(22731)210 648 A
(while)210 1698 A
(\(dp)126 1950 A
2118(<)S
2202(0\))S
2328({)S
1080 V
(22732)210 648 A
(dp++;)210 2034 A
1170 V
(22733)210 648 A
(*s2++)210 2034 A
2286(=)S
('0';)168 2370 A
1260 V
(22734)210 648 A
1698(})S
1350 V
(22735)210 648 A
1362(})S
1440 V
(22736)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(1;)S
1866(i)S
1950(<=)S
(nndigit;)336 2076 A
(i++\))168 2454 A
2664({)S
1530 V
(22737)210 648 A
(*s2++)210 1698 A
1950(=)S
(*s1++;)252 2034 A
1620 V
(22738)210 648 A
1698(if)S
1824(\(i)S
1950(==)S
(dp\))126 2076 A
(*s2++)210 2244 A
2496(=)S
('.';)168 2580 A
1710 V
(22739)210 648 A
1362(})S
1800 V
(22740)210 648 A
1362(if)S
1488(\(i)S
1614(<=)S
(dp\))126 1740 A
1908({)S
1890 V
(22741)210 648 A
(while)210 1698 A
(\(i++)168 1950 A
2160(<=)S
(dp\))126 2286 A
(*s2++)210 2454 A
2706(=)S
('0';)168 2790 A
1980 V
(22742)210 648 A
(*s2++)210 1698 A
1950(=)S
('.';)168 2034 A
2070 V
(22743)210 648 A
1362(})S
2160 V
(22744)210 648 A
1362(if)S
(\(\(s2[-1]=='.'\))588 1488 A
2118(&&)S
(!\(flags)294 2244 A
2580(&)S
(FL_ALT\)\))336 2664 A
(s2--;)210 3042 A
2250 V
(22745)210 648 A
(*s2)126 1362 A
1530(=)S
('\\0';)210 1614 A
2340 V
(22746)210 648 A
(return)252 1362 A
1656(s;)S
2430 V
(22747)210 648 A
1026(})S
2610 V
(22749)210 648 A
(char)168 1026 A
1236(*)S
2700 V
(22750)210 648 A
(_f_print\(va_list)672 1026 A
(*ap,)168 1740 A
(int)126 1950 A
(flags,)252 2118 A
(char)168 2412 A
(*s,)126 2622 A
(char)168 2790 A
3000(c,)S
(int)126 3126 A
(precision\))420 3294 A
2790 V
(22751)210 648 A
1026({)S
2880 V
(22752)210 648 A
(register)336 1362 A
(char)168 1740 A
(*old_s)252 1950 A
2244(=)S
2328(s;)S
2970 V
(22753)210 648 A
(long)168 1362 A
(double)252 1572 A
(ld_val;)294 1866 A
3060 V
(22754)210 648 A
3150 V
(22755)210 648 A
1362(if)S
(\(flags)252 1488 A
1782(&)S
(FL_LONGDOUBLE\))588 1866 A
(ld_val)252 2496 A
2790(=)S
(va_arg\(*ap,)462 2874 A
(long)168 3378 A
(double\);)336 3588 A
3240 V
(22756)210 648 A
(else)168 1362 A
(ld_val)252 1572 A
1866(=)S
(\(long)210 1950 A
(double\))294 2202 A
(va_arg\(*ap,)462 2538 A
(double\);)336 3042 A
3330 V
(22757)210 648 A
3420 V
(22758)210 648 A
(switch\(c\))378 1362 A
1782({)S
3510 V
(22759)210 648 A
(case)168 1362 A
('f':)168 1572 A
3600 V
(22760)210 648 A
1698(s)S
1782(=)S
(_pfloat\(ld_val,)630 1866 A
2538(s,)S
(precision,)420 2664 A
(flags\);)294 3126 A
3690 V
(22761)210 648 A
(break;)252 1698 A
3780 V
(22762)210 648 A
(case)168 1362 A
('e':)168 1572 A
3870 V
(22763)210 648 A
(case)168 1362 A
('E':)168 1572 A
3960 V
(22764)210 648 A
1698(s)S
1782(=)S
(_pscien\(ld_val,)630 1866 A
2538(s,)S
(precision)378 2664 A
3084(,)S
(flags\);)294 3168 A
4050 V
(22765)210 648 A
(break;)252 1698 A
4140 V
(22766)210 648 A
(case)168 1362 A
('g':)168 1572 A
4230 V
(22767)210 648 A
(case)168 1362 A
('G':)168 1572 A
4320 V
(22768)210 648 A
1698(s)S
1782(=)S
(_gcvt\(ld_val,)546 1866 A
(precision,)420 2454 A
2916(s,)S
(flags\);)294 3042 A
4410 V
(22769)210 648 A
1698(s)S
1782(+=)S
(strlen\(s\);)420 1908 A
4500 V
(22770)210 648 A
(break;)252 1698 A
4590 V
(22771)210 648 A
1362(})S
4680 V
(22772)210 648 A
1362(if)S
1488(\()S
1572(c)S
1656(==)S
('E')126 1782 A
1950(||)S
2076(c)S
2160(==)S
('G'\))168 2286 A
2496({)S
4770 V
(22773)210 648 A
(while)210 1698 A
(\(*old_s)294 1950 A
2286(&&)S
(*old_s)252 2412 A
2706(!=)S
('e'\))168 2832 A
(old_s++;)336 3042 A
4860 V
(22774)210 648 A
1698(if)S
(\(*old_s)294 1824 A
2160(==)S
('e'\))168 2286 A
(*old_s)252 2496 A
2790(=)S
('E';)168 2874 A
4950 V
(22775)210 648 A
1362(})S
5040 V
(22776)210 648 A
(return)252 1362 A
1656(s;)S
5130 V
(22777)210 648 A
1026(})S
5220 V
(22778)210 648 A
(#endif)252 1026 A
1362(/*)S
(NOFLOAT)294 1488 A
1824(*/)S
5310 V
(22779)210 648 A
1026(/*)S
($Header:)336 1152 A
(strtod.c,v)420 1530 A
(1.3)126 1992 A
(90/09/07)336 2160 A
(11:00:24)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
5400 V
(22780)210 648 A
5490 V
(22781)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5580 V
(22782)210 648 A
(#include)336 1026 A
("../ansi/ext_fmt.h")798 1404 A
5670 V
(22783)210 648 A
5760 V
(22784)210 648 A
(void)168 1026 A
(_str_ext_cvt\(const)756 1236 A
(char)168 2034 A
(*s,)126 2244 A
(char)168 2412 A
(**ss,)210 2622 A
(struct)252 2874 A
(EXTEND)252 3168 A
(*e\);)168 3462 A
5850 V
(22785)210 648 A
(double)252 1026 A
(_ext_dbl_cvt\(struct)798 1320 A
(EXTEND)252 2160 A
(*e\);)168 2454 A
5940 V
(22786)210 648 A
6030 V
(22787)210 648 A
(double)252 1026 A
6120 V
(22788)210 648 A
(strtod\(const)504 1026 A
(char)168 1572 A
(*p,)126 1782 A
(char)168 1950 A
(**pp\))210 2160 A
6210 V
(22789)210 648 A
1026({)S
8418 V
EP
%%Page: 203 203
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1900(File:)S
(src/lib/fphook/fphook.c)1042 2133 A
12 B
(203)180 4248 A
900 V
7 LST
(22790)210 648 A
(struct)252 1362 A
(EXTEND)252 1656 A
1950(e;)S
990 V
(22791)210 648 A
1080 V
(22792)210 648 A
(_str_ext_cvt\(p,)630 1362 A
(pp,)126 2034 A
(&e\);)168 2202 A
1170 V
(22793)210 648 A
(return)252 1362 A
(_ext_dbl_cvt\(&e\);)714 1656 A
1260 V
(22794)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/fphook/strtod.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(22800)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2340 V
(22801)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2430 V
(22802)210 648 A
2520 V
(22803)210 648 A
(double)252 1026 A
2610 V
(22804)210 648 A
(strtod\(const)504 1026 A
(char)168 1572 A
(*p,)126 1782 A
(char)168 1950 A
(**pp\))210 2160 A
2700 V
(22805)210 648 A
1026({)S
2790 V
(22806)210 648 A
(fprintf\(stderr,"cannot)924 1362 A
(print)210 2328 A
(floating)336 2580 A
(point\\n"\);)420 2958 A
2880 V
(22807)210 648 A
(exit\(EXIT_FAILURE\);)798 1362 A
2970 V
(22808)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ip/ether.h)756 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(22900)210 648 A
1026(/*)S
($Id:)168 1152 A
(ether.h,v)378 1362 A
(2.2)126 1782 A
(89/10/23)336 1950 A
(15:42:19)336 2328 A
(dupuy)210 2706 A
(Exp)126 2958 A
3126($)S
3210(*/)S
3690 V
(22901)210 648 A
3780 V
(22902)210 648 A
1026(/*)S
(Interface)378 1152 A
(definitions)462 1572 A
(for)126 2076 A
(ethernet)336 2244 A
(access)252 2622 A
(library)294 2916 A
3252(*/)S
3870 V
(22903)210 648 A
3960 V
(22904)210 648 A
(typedef)294 1026 A
(union)210 1362 A
(etheraddr)378 1614 A
4050 V
(22905)210 648 A
1026({)S
4140 V
(22906)210 648 A
(unsigned)336 1194 A
(char)168 1572 A
(bytes[6];)378 1782 A
2706(/*)S
(byteorder)378 2832 A
(safe)168 3252 A
(initialization)588 3462 A
4092(*/)S
4230 V
(22907)210 648 A
(unsigned)336 1194 A
(short)210 1572 A
(shorts[3];)420 1824 A
2706(/*)S
(force)210 2832 A
(2-byte)252 3084 A
(alignment)378 3378 A
3798(*/)S
4320 V
(22908)210 648 A
1026(})S
4410 V
(22909)210 648 A
(ether_addr;)462 1446 A
4500 V
(22910)210 648 A
4590 V
(22911)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(etherpacket)462 1656 A
4680 V
(22912)210 648 A
1026({)S
4770 V
(22913)210 648 A
(ether_addr)420 1194 A
(dest;)210 1656 A
4860 V
(22914)210 648 A
(ether_addr)420 1194 A
(src;)168 1656 A
4950 V
(22915)210 648 A
(unsigned)336 1194 A
(char)168 1572 A
(type[2];)336 1782 A
2706(/*)S
2832(in)S
(network)294 2958 A
(byte)168 3294 A
(order!)252 3504 A
3798(*/)S
5040 V
(22916)210 648 A
(unsigned)336 1194 A
(short)210 1572 A
(pktlen;)294 1824 A
2706(/*)S
(length)252 2832 A
3126(of)S
(pktbuf)252 3252 A
(ONLY)168 3546 A
3756(*/)S
5130 V
(22917)210 648 A
(char)168 1194 A
(*pktbuf;)336 1404 A
5220 V
(22918)210 648 A
1026(})S
5310 V
(22919)210 648 A
(ether_packet;)546 1530 A
5400 V
(22920)210 648 A
5490 V
(22921)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(ethervec)336 1656 A
5580 V
(22922)210 648 A
1026({)S
5670 V
(22923)210 648 A
(ether_addr)420 1194 A
(dest;)210 1656 A
5760 V
(22924)210 648 A
(ether_addr)420 1194 A
(src;)168 1656 A
5850 V
(22925)210 648 A
(unsigned)336 1194 A
(char)168 1572 A
(type[2];)336 1782 A
2706(/*)S
2832(in)S
(network)294 2958 A
(byte)168 3294 A
(order!)252 3504 A
3798(*/)S
5940 V
(22926)210 648 A
(unsigned)336 1194 A
(short)210 1572 A
(iovcnt;)294 1824 A
2706(/*)S
(number)252 2832 A
3126(of)S
(iovec)210 3252 A
3504(to)S
(use)126 3630 A
3798(*/)S
6030 V
(22927)210 648 A
(struct)252 1194 A
(iovec)210 1488 A
(*iov;)210 1740 A
2706(/*)S
(ptr)126 2832 A
3000(to)S
(array)210 3126 A
3378(of)S
(iovec)210 3504 A
3756(*/)S
6120 V
(22928)210 648 A
1026(})S
6210 V
(22929)210 648 A
(ether_vec;)420 1404 A
8418 V
EP
%%Page: 204 204
BP
/slant 0 def
/height 0 def
630 V
12 B
(204)180 648 A
11 R
2055(File:)S
(src/lib/ip/ether.h)732 2288 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(22930)210 648 A
990 V
(22931)210 648 A
(#ifndef)294 1026 A
(__ETHER_BCAST_ADDR__)840 1362 A
1080 V
(22932)210 648 A
(extern)252 1026 A
(ether_addr)420 1320 A
(ether_bcast_addr;)714 1782 A
1170 V
(22933)210 648 A
(#endif)252 1026 A
1260 V
(22934)210 648 A
1350 V
(22935)210 648 A
(#ifdef)252 1026 A
(__STDC__)336 1320 A
1440 V
(22936)210 648 A
1530 V
(22937)210 648 A
(int)126 1026 A
(ether_open)420 1194 A
(\(char)210 1656 A
(*name,)252 1908 A
(unsigned)336 2202 A
(type,)210 2580 A
(ether_addr)420 2832 A
3294(*)S
(address\);)378 3378 A
1620 V
(22938)210 648 A
1710 V
(22939)210 648 A
(ether_addr)420 1026 A
(*ether_address)588 1488 A
(\(int)168 2118 A
(fd,)126 2328 A
(ether_addr)420 2496 A
2958(*)S
(address\);)378 3042 A
1800 V
(22940)210 648 A
1890 V
(22941)210 648 A
(ether_addr)420 1026 A
(*ether_intfaddr)630 1488 A
(\(char)210 2160 A
(*intf,)252 2412 A
(ether_addr)420 2706 A
3168(*)S
(address\);)378 3252 A
1980 V
(22942)210 648 A
2070 V
(22943)210 648 A
(char)168 1026 A
(**ether_interfaces)756 1236 A
(\(void\);)294 2034 A
2160 V
(22944)210 648 A
2250 V
(22945)210 648 A
(int)126 1026 A
(ether_write)462 1194 A
(\(int)168 1698 A
(fd,)126 1908 A
(ether_packet)504 2076 A
2622(*)S
(packet\);)336 2706 A
2340 V
(22946)210 648 A
2430 V
(22947)210 648 A
(int)126 1026 A
(ether_writev)504 1194 A
(\(int)168 1740 A
(fd,)126 1950 A
(ether_vec)378 2118 A
2538(*)S
(packet\);)336 2622 A
2520 V
(22948)210 648 A
2610 V
(22949)210 648 A
(int)126 1026 A
(ether_read)420 1194 A
(\(int)168 1656 A
(fd,)126 1866 A
(ether_packet)504 2034 A
2580(*)S
(packet\);)336 2664 A
2700 V
(22950)210 648 A
2790 V
(22951)210 648 A
(int)126 1026 A
(ether_readv)462 1194 A
(\(int)168 1698 A
(fd,)126 1908 A
(ether_vec)378 2076 A
2496(*)S
(packet\);)336 2580 A
2880 V
(22952)210 648 A
2970 V
(22953)210 648 A
(int)126 1026 A
(ether_blocking)588 1194 A
(\(int)168 1824 A
(fd,)126 2034 A
(int)126 2202 A
(state\);)294 2370 A
3060 V
(22954)210 648 A
3150 V
(22955)210 648 A
(int)126 1026 A
(ether_send_self)630 1194 A
(\(int)168 1866 A
(fd\);)168 2076 A
3240 V
(22956)210 648 A
3330 V
(22957)210 648 A
(int)126 1026 A
(ether_mcast_self)672 1194 A
(\(int)168 1908 A
(fd\);)168 2118 A
3420 V
(22958)210 648 A
3510 V
(22959)210 648 A
(int)126 1026 A
(ether_bcast_self)672 1194 A
(\(int)168 1908 A
(fd\);)168 2118 A
3600 V
(22960)210 648 A
3690 V
(22961)210 648 A
(char)168 1026 A
(*ether_ntoa)462 1236 A
(\(ether_addr)462 1740 A
(*\);)126 2244 A
3780 V
(22962)210 648 A
3870 V
(22963)210 648 A
(ether_addr)420 1026 A
(*ether_aton)462 1488 A
(\(char)210 1992 A
(*\);)126 2244 A
3960 V
(22964)210 648 A
4050 V
(22965)210 648 A
(#ifdef)252 1026 A
(__GNUC__)336 1320 A
4140 V
(22966)210 648 A
4230 V
(22967)210 648 A
1026(/*)S
4320 V
(22968)210 648 A
1068(*)S
(Avoid)210 1152 A
(stupid)252 1404 A
(warnings)336 1698 A
2076(if)S
(structs)294 2202 A
(aren't)252 2538 A
(defined)294 2832 A
4410 V
(22969)210 648 A
1068(*/)S
4500 V
(22970)210 648 A
4590 V
(22971)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(in_addr)294 1656 A
(*_ether_NoNsEnSe;)714 1992 A
4680 V
(22972)210 648 A
(typedef)294 1026 A
(struct)252 1362 A
(hostent)294 1656 A
(*_ether_nOnSeNsE;)714 1992 A
4770 V
(22973)210 648 A
4860 V
(22974)210 648 A
(#endif)252 1026 A
4950 V
(22975)210 648 A
5040 V
(22976)210 648 A
(char)168 1026 A
(*ether_e2a)420 1236 A
(\(ether_addr)462 1698 A
2202(*,)S
(char)168 2328 A
(*\);)126 2538 A
5130 V
(22977)210 648 A
5220 V
(22978)210 648 A
(ether_addr)420 1026 A
(*ether_a2e)420 1488 A
(\(char)210 1950 A
2202(*,)S
(ether_addr)420 2328 A
(*\);)126 2790 A
5310 V
(22979)210 648 A
5400 V
(22980)210 648 A
(struct)252 1026 A
(in_addr)294 1320 A
(*ether_e2ip)462 1656 A
(\(ether_addr)462 2160 A
2664(*,)S
(struct)252 2790 A
(in_addr)294 3084 A
(*\);)126 3420 A
5490 V
(22981)210 648 A
5580 V
(22982)210 648 A
(ether_addr)420 1026 A
(*ether_ip2e)462 1488 A
(\(struct)294 1992 A
(in_addr)294 2328 A
2664(*,)S
(ether_addr)420 2790 A
(*\);)126 3252 A
5670 V
(22983)210 648 A
5760 V
(22984)210 648 A
(char)168 1026 A
(*ether_e2host)546 1236 A
(\(ether_addr)462 1824 A
2328(*,)S
(char)168 2454 A
(*\);)126 2664 A
5850 V
(22985)210 648 A
5940 V
(22986)210 648 A
(ether_addr)420 1026 A
(*ether_host2e)546 1488 A
(\(char)210 2076 A
2328(*,)S
(ether_addr)420 2454 A
(*\);)126 2916 A
6030 V
(22987)210 648 A
6120 V
(22988)210 648 A
(ether_addr)420 1026 A
(*ether_hostent2e)672 1488 A
(\(struct)294 2202 A
(hostent)294 2538 A
2874(*,)S
(ether_addr)420 3000 A
(*\);)126 3462 A
6210 V
(22989)210 648 A
8418 V
EP
%%Page: 205 205
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2055(File:)S
(src/lib/ip/ether.h)732 2288 A
12 B
(205)180 4248 A
900 V
7 LST
(22990)210 648 A
(#else)210 1026 A
990 V
(22991)210 648 A
1080 V
(22992)210 648 A
(int)126 1026 A
(ether_open)420 1194 A
(\(\);)126 1656 A
1170 V
(22993)210 648 A
(ether_addr)420 1026 A
(*ether_address)588 1488 A
(\(\);)126 2118 A
1260 V
(22994)210 648 A
(ether_addr)420 1026 A
(*ether_intfaddr)630 1488 A
(\(\);)126 2160 A
1350 V
(22995)210 648 A
(char)168 1026 A
(**ether_interfaces)756 1236 A
(\(\);)126 2034 A
1440 V
(22996)210 648 A
(int)126 1026 A
(ether_write)462 1194 A
(\(\);)126 1698 A
1530 V
(22997)210 648 A
(int)126 1026 A
(ether_writev)504 1194 A
(\(\);)126 1740 A
1620 V
(22998)210 648 A
(int)126 1026 A
(ether_read)420 1194 A
(\(\);)126 1656 A
1710 V
(22999)210 648 A
(int)126 1026 A
(ether_readv)462 1194 A
(\(\);)126 1698 A
1800 V
(23000)210 648 A
(int)126 1026 A
(ether_blocking)588 1194 A
(\(\);)126 1824 A
1890 V
(23001)210 648 A
(int)126 1026 A
(ether_send_self)630 1194 A
(\(\);)126 1866 A
1980 V
(23002)210 648 A
(int)126 1026 A
(ether_mcast_self)672 1194 A
(\(\);)126 1908 A
2070 V
(23003)210 648 A
(int)126 1026 A
(ether_bcast_self)672 1194 A
(\(\);)126 1908 A
2160 V
(23004)210 648 A
2250 V
(23005)210 648 A
(char)168 1026 A
(*ether_ntoa)462 1236 A
(\(\);)126 1740 A
2340 V
(23006)210 648 A
(ether_addr)420 1026 A
(*ether_aton)462 1488 A
(\(\);)126 1992 A
2430 V
(23007)210 648 A
(char)168 1026 A
(*ether_e2a)420 1236 A
(\(\);)126 1698 A
2520 V
(23008)210 648 A
(ether_addr)420 1026 A
(*ether_a2e)420 1488 A
(\(\);)126 1950 A
2610 V
(23009)210 648 A
(struct)252 1026 A
(in_addr)294 1320 A
(*ether_e2ip)462 1656 A
(\(\);)126 2160 A
2700 V
(23010)210 648 A
(ether_addr)420 1026 A
(*ether_ip2e)462 1488 A
(\(\);)126 1992 A
2790 V
(23011)210 648 A
(char)168 1026 A
(*ether_e2host)546 1236 A
(\(\);)126 1824 A
2880 V
(23012)210 648 A
(ether_addr)420 1026 A
(*ether_host2e)546 1488 A
(\(\);)126 2076 A
2970 V
(23013)210 648 A
(ether_addr)420 1026 A
(*ether_hostent2e)672 1488 A
(\(\);)126 2202 A
3060 V
(23014)210 648 A
3150 V
(23015)210 648 A
(#endif)252 1026 A
3240 V
(23016)210 648 A
3330 V
(23017)210 648 A
(#undef)252 1026 A
(ether_cmp)378 1320 A
2706(/*)S
(lose)168 2832 A
(def)126 3042 A
(from)168 3210 A
(netinet/if_ether.h)756 3420 A
4218(*/)S
3420 V
(23018)210 648 A
3510 V
(23019)210 648 A
(#define)294 1026 A
(ether_cmp\(addr1,addr2\))924 1362 A
2328(\\)S
3600 V
(23020)210 648 A
(\(\(addr1\)->shorts[0])798 1068 A
1908(!=)S
(\(addr2\)->shorts[0])756 2034 A
2832(\\)S
3690 V
(23021)210 648 A
1110(||)S
(\(addr1\)->shorts[1])756 1236 A
2034(!=)S
(\(addr2\)->shorts[1])756 2160 A
2958(\\)S
3780 V
(23022)210 648 A
1110(||)S
(\(addr1\)->shorts[2])756 1236 A
2034(!=)S
(\(addr2\)->shorts[2]\))798 2160 A
3870 V
(23023)210 648 A
3960 V
(23024)210 648 A
(#define)294 1026 A
(ETHERSTRLEN)462 1362 A
1866(18)S
2706(/*)S
(max)126 2832 A
(length)252 3000 A
3294(of)S
("xx:xx:xx:xx:xx:xx")798 3420 A
4260(*/)S
4050 V
(23025)210 648 A
4140 V
(23026)210 648 A
(#ifdef)252 1026 A
(NOFILE)252 1320 A
2706(/*)S
(i.e.)168 2832 A
3042(we)S
(have)168 3168 A
(included)336 3378 A
(sys/param.h)462 3756 A
4260(*/)S
4230 V
(23027)210 648 A
(#ifndef)294 1026 A
(MAXHOSTNAMELEN)588 1362 A
2706(/*)S
(but)126 2832 A
(MAXHOSTNAMELEN)588 3000 A
(still)210 3630 A
(isnt)168 3882 A
(set)126 4092 A
4260(*/)S
4320 V
(23028)210 648 A
(#define)294 1026 A
(MAXHOSTNAMELEN)588 1362 A
1992(64)S
4410 V
(23029)210 648 A
(#endif)252 1026 A
4500 V
(23030)210 648 A
(#endif)252 1026 A
4590 V
(23031)210 648 A
4680 V
(23032)210 648 A
1026(/*)S
(should)252 1152 A
1446(be)S
(defined)294 1572 A
1908(in)S
(terms)210 2034 A
2286(of)S
(ether_packet)504 2412 A
(struct;)294 2958 A
(need)168 3294 A
(offsetof\(\))420 3504 A
(macro)210 3966 A
4218(*/)S
4770 V
(23033)210 648 A
4860 V
(23034)210 648 A
(#define)294 1026 A
(ETHER_DST)378 1362 A
2034(0)S
4950 V
(23035)210 648 A
(#define)294 1026 A
(ETHER_SRC)378 1362 A
2034(6)S
5040 V
(23036)210 648 A
(#define)294 1026 A
(ETHER_TYPE)420 1362 A
2034(12)S
5130 V
(23037)210 648 A
(#define)294 1026 A
(ETHER_PKT)378 1362 A
2034(14)S
5220 V
(23038)210 648 A
(#define)294 1026 A
(ETHER_MIN)378 1362 A
2034(46)S
5310 V
(23039)210 648 A
(#define)294 1026 A
(ETHER_MAX)378 1362 A
(1500)168 2034 A
5400 V
(23040)210 648 A
5490 V
(23041)210 648 A
(#define)294 1026 A
(ETHER_MINTYPE)546 1362 A
(0x5DD)210 2034 A
2706(/*)S
(lowest)252 2832 A
(protocol)336 3126 A
(not)126 3504 A
(valid)210 3672 A
(IEEE802)294 3924 A
4260(*/)S
5580 V
(23042)210 648 A
(#define)294 1026 A
(ETHER_MAXTYPE)546 1362 A
(0xFFFF)252 2034 A
2706(/*)S
(largest)294 2832 A
(possible)336 3168 A
(protocol)336 3546 A
3924(*/)S
5670 V
(23043)210 648 A
5760 V
(23044)210 648 A
(#define)294 1026 A
(ETHER_MCAST\(addr\))714 1362 A
(\(\(\(unsigned)462 2118 A
(char)168 2622 A
2832(*\))S
(\(addr\)\)[0])420 2958 A
3420(&)S
(0x01\))210 3504 A
5850 V
(23045)210 648 A
5940 V
(23046)210 648 A
(#ifdef)252 1026 A
(NT_ALLTYPES)462 1320 A
6030 V
(23047)210 648 A
(#define)294 1026 A
(ETHER_ALLTYPES)588 1362 A
(NT_ALLTYPES)462 1992 A
6120 V
(23048)210 648 A
(#else)210 1026 A
6210 V
(23049)210 648 A
(#define)294 1026 A
(ETHER_ALLTYPES)588 1362 A
(\(\(unsigned\))462 1992 A
(-1\))126 2496 A
8418 V
EP
%%Page: 206 206
BP
/slant 0 def
/height 0 def
630 V
12 B
(206)180 648 A
11 R
2055(File:)S
(src/lib/ip/ether.h)732 2288 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(23050)210 648 A
(#endif)252 1026 A
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/ip/domainname.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(23100)210 648 A
1026(/*)S
1890 V
(23101)210 648 A
(domainname.c)504 1026 A
1980 V
(23102)210 648 A
1026(*/)S
2070 V
(23103)210 648 A
2160 V
(23104)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
2250 V
(23105)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2340 V
(23106)210 648 A
(#include)336 1026 A
(<net/netlib.h>)588 1404 A
2430 V
(23107)210 648 A
2520 V
(23108)210 648 A
(int)126 1026 A
(getdomainname\(domain,)882 1194 A
(size\))210 2118 A
2610 V
(23109)210 648 A
(char)168 1026 A
(*domain;)336 1236 A
2700 V
(23110)210 648 A
(size_t)252 1026 A
(size;)210 1320 A
2790 V
(23111)210 648 A
1026({)S
2880 V
(23112)210 648 A
(FILE)168 1362 A
(*domainfile;)504 1572 A
2970 V
(23113)210 648 A
(char)168 1362 A
(*line;)252 1572 A
3060 V
(23114)210 648 A
3150 V
(23115)210 648 A
(domainfile=)462 1362 A
(fopen\("/etc/domainname",)1008 1866 A
("r"\);)210 2916 A
3240 V
(23116)210 648 A
1362(if)S
(\(!domainfile\))546 1488 A
3330 V
(23117)210 648 A
1362({)S
3420 V
(23118)210 648 A
(return)252 1698 A
(-1;)126 1992 A
3510 V
(23119)210 648 A
1362(})S
3600 V
(23120)210 648 A
3690 V
(23121)210 648 A
(line=)210 1362 A
(fgets\(domain,)546 1614 A
(size,)210 2202 A
(domainfile\);)504 2454 A
3780 V
(23122)210 648 A
(fclose\(domainfile\);)798 1362 A
3870 V
(23123)210 648 A
1362(if)S
(\(!line\))294 1488 A
3960 V
(23124)210 648 A
(return)252 1698 A
(-1;)126 1992 A
4050 V
(23125)210 648 A
(line=)210 1362 A
(strchr\(domain,)588 1614 A
('\\n'\);)252 2244 A
4140 V
(23126)210 648 A
1362(if)S
(\(line\))252 1488 A
4230 V
(23127)210 648 A
(*line=)252 1698 A
('\\0';)210 1992 A
4320 V
(23128)210 648 A
(return)252 1362 A
1656(0;)S
4410 V
(23129)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/ip/ether_line.c)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(23200)210 648 A
1026(/*)S
5490 V
(23201)210 648 A
1026(**)S
(ETHER_LINE)420 1194 A
5580 V
(23202)210 648 A
1026(**)S
5670 V
(23203)210 648 A
1026(**)S
(This)168 1362 A
(routine)294 1572 A
(parses)252 1908 A
(the)126 2202 A
(array)210 2370 A
(pointed)294 2622 A
2958(to)S
3084(by)S
("line")252 3210 A
(\(which)252 3504 A
(should)252 3798 A
4092(be)S
5760 V
(23204)210 648 A
1026(**)S
(from)168 1362 A
1572(a)S
(file)168 1656 A
1866(in)S
(the)126 1992 A
(format)252 2160 A
2454(of)S
(/etc/ethers\))504 2580 A
(and)126 3126 A
(returns)294 3294 A
3630(in)S
("eaddr")294 3756 A
(the)126 4092 A
5850 V
(23205)210 648 A
1026(**)S
(ethernet)336 1362 A
(address)294 1740 A
2076(at)S
(the)126 2202 A
(start)210 2370 A
2622(of)S
(the)126 2748 A
(line)168 2916 A
(and)126 3126 A
(the)126 3294 A
(corresponding)546 3462 A
(host)168 4050 A
5940 V
(23206)210 648 A
1026(**)S
(name)168 1362 A
1572(in)S
("hostname".)462 1698 A
2244(It)S
(assumes)294 2370 A
(either)252 2706 A
(tabs)168 3000 A
3210(or)S
(spaces)252 3336 A
(separate)336 3630 A
(the)126 4008 A
6030 V
(23207)210 648 A
1026(**)S
(two.)168 1362 A
(The)126 1614 A
(buffer)252 1782 A
(pointed)294 2076 A
2412(to)S
2538(by)S
("hostname")420 2664 A
(must)168 3126 A
3336(be)S
(big)126 3462 A
(enough)252 3630 A
3924(to)S
(hold)168 4050 A
6120 V
(23208)210 648 A
1026(**)S
(the)126 1362 A
(host)168 1530 A
(name)168 1740 A
(plus)168 1950 A
2160(a)S
(NULL)168 2244 A
(byte.)210 2454 A
6210 V
(23209)210 648 A
1026(**)S
(The)126 1362 A
(function)336 1530 A
(returns)294 1908 A
2244(0)S
2328(on)S
(success)294 2454 A
(and)126 2790 A
2958(1)S
3042(on)S
(failure.)336 3168 A
8418 V
EP
%%Page: 207 207
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/ip/ether_line.c)949 2180 A
12 B
(207)180 4248 A
900 V
7 LST
(23210)210 648 A
1026(**)S
(Arguments)378 1362 A
(are)126 1782 A
(assumed)294 1950 A
(sensible.)378 2286 A
(Null)168 2748 A
(pointers)336 2958 A
(will)168 3336 A
(probably)336 3546 A
(cause)210 3924 A
990 V
(23211)210 648 A
1026(**)S
(exceptions.)462 1362 A
1080 V
(23212)210 648 A
1026(**)S
(Author:)294 1362 A
(Gregory)294 1698 A
2034(J.)S
(Sharp,)252 2160 A
(July)168 2454 A
(1990)168 2664 A
1170 V
(23213)210 648 A
1026(**)S
(Adapted)294 1362 A
1698(to)S
(MINIX:)252 1824 A
(Philip)252 2118 A
(Homburg,)336 2412 A
(May)126 2790 A
(1992)168 2958 A
1260 V
(23214)210 648 A
1026(*/)S
1350 V
(23215)210 648 A
1440 V
(23216)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
1530 V
(23217)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
1620 V
(23218)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
1710 V
(23219)210 648 A
(#include)336 1026 A
(<net/gen/ether.h>)714 1404 A
1800 V
(23220)210 648 A
(#include)336 1026 A
(<net/gen/if_ether.h>)840 1404 A
1890 V
(23221)210 648 A
1980 V
(23222)210 648 A
(int)126 1026 A
2070 V
(23223)210 648 A
(ether_line\(line,)672 1026 A
(eaddr,)252 1740 A
(hostname\))378 2034 A
2160 V
(23224)210 648 A
(char)168 1026 A
1236(*)S
(line;)210 2034 A
2250 V
(23225)210 648 A
(struct)252 1026 A
(ether_addr)420 1320 A
1782(*)S
(eaddr;)252 2034 A
2340 V
(23226)210 648 A
(char)168 1026 A
1236(*)S
(hostname;)378 2034 A
2430 V
(23227)210 648 A
1026({)S
2520 V
(23228)210 648 A
(register)336 1194 A
(int)126 1572 A
1740(i;)S
2610 V
(23229)210 648 A
(register)336 1194 A
(unsigned)336 1572 A
(long)168 1950 A
(val;)168 2160 A
2700 V
(23230)210 648 A
2790 V
(23231)210 648 A
1026(/*)S
(skip)168 1152 A
(leading)294 1362 A
(white)210 1698 A
(space)210 1950 A
2202(*/)S
2880 V
(23232)210 648 A
(while)210 1194 A
(\(*line)252 1446 A
1740(!=)S
('\\n')168 1866 A
2076(&&)S
(\(*line)252 2202 A
2496(==)S
2622(')S
2706(')S
2790(||)S
(*line)210 2916 A
3168(==)S
('\\t'\)\))252 3294 A
2970 V
(23233)210 648 A
(line++;)294 1362 A
3060 V
(23234)210 648 A
3150 V
(23235)210 648 A
1026(/*)S
(read)168 1152 A
(the)126 1362 A
(ethernet)336 1530 A
(address)294 1908 A
2244(*/)S
3240 V
(23236)210 648 A
(for)126 1194 A
1362(\(i)S
1488(=)S
1572(0;)S
1698(i)S
1782(<)S
1866(5;)S
(i++\))168 1992 A
3330 V
(23237)210 648 A
1194({)S
3420 V
(23238)210 648 A
(val)126 1362 A
1530(=)S
(\(unsigned)378 1614 A
(long\))210 2034 A
(strtol\(line,)504 2286 A
(&line,)252 2832 A
(16\);)168 3126 A
3510 V
(23239)210 648 A
1362(if)S
(\(val)168 1488 A
1698(>)S
(255)126 1782 A
1950(||)S
(*line++)294 2076 A
2412(!=)S
(':'\))168 2538 A
3600 V
(23240)210 648 A
(return)252 1530 A
1824(1;)S
3690 V
(23241)210 648 A
(eaddr->ea_addr[i])714 1362 A
2118(=)S
(val)126 2202 A
2370(&)S
(0xff;)210 2454 A
3780 V
(23242)210 648 A
1194(})S
3870 V
(23243)210 648 A
(val)126 1194 A
1362(=)S
(\(unsigned)378 1446 A
(long\))210 1866 A
(strtol\(line,)504 2118 A
(&line,)252 2664 A
(16\);)168 2958 A
3960 V
(23244)210 648 A
1194(if)S
(\(val)168 1320 A
1530(>)S
(255)126 1614 A
1782(||)S
(\(*line)252 1908 A
2202(!=)S
2328(')S
2412(')S
2496(&&)S
(*line)210 2622 A
2874(!=)S
('\\t'\)\))252 3000 A
4050 V
(23245)210 648 A
(return)252 1362 A
1656(1;)S
4140 V
(23246)210 648 A
(eaddr->ea_addr[i])714 1194 A
1950(=)S
(val)126 2034 A
2202(&)S
(0xff;)210 2286 A
4230 V
(23247)210 648 A
4320 V
(23248)210 648 A
1026(/*)S
(skip)168 1152 A
(leading)294 1362 A
(white)210 1698 A
(space)210 1950 A
2202(*/)S
4410 V
(23249)210 648 A
(while)210 1194 A
(\(*line)252 1446 A
1740(!=)S
('\\n')168 1866 A
2076(&&)S
(\(*line)252 2202 A
2496(==)S
2622(')S
2706(')S
2790(||)S
(*line)210 2916 A
3168(==)S
('\\t'\)\))252 3294 A
4500 V
(23250)210 648 A
(line++;)294 1362 A
4590 V
(23251)210 648 A
4680 V
(23252)210 648 A
1026(/*)S
(read)168 1152 A
1362(in)S
(the)126 1488 A
(hostname)336 1656 A
2034(*/)S
4770 V
(23253)210 648 A
(while)210 1194 A
(\(!isspace\(*line\)\))714 1446 A
4860 V
(23254)210 648 A
(*hostname++)462 1362 A
1866(=)S
(*line++;)336 1950 A
4950 V
(23255)210 648 A
(*hostname)378 1194 A
1614(=)S
('\\0';)210 1698 A
5040 V
(23256)210 648 A
(return)252 1194 A
1488(0;)S
5130 V
(23257)210 648 A
1026(})S
8418 V
EP
%%Page: 208 208
BP
/slant 0 def
/height 0 def
630 V
12 B
(208)180 648 A
11 R
1978(File:)S
(src/lib/ip/ethera2n.c)887 2211 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ip/ethera2n.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(23300)210 648 A
1026(/*)S
1440 V
(23301)210 648 A
(ethera2n.c)420 1026 A
1530 V
(23302)210 648 A
1620 V
(23303)210 648 A
(Convert)294 1026 A
1362(an)S
(ASCII)210 1488 A
(string)252 1740 A
(with)168 2034 A
2244(an)S
(ethernet)336 2370 A
(address)294 2748 A
(into)168 3084 A
3294(a)S
(struct)252 3378 A
(ether_addr.)462 3672 A
1710 V
(23304)210 648 A
1800 V
(23305)210 648 A
(Created:)336 1026 A
(Nov)126 1698 A
(17,)126 1866 A
(1992)168 2034 A
2244(by)S
(Philip)252 2370 A
(Homburg)294 2664 A
1890 V
(23306)210 648 A
1026(*/)S
1980 V
(23307)210 648 A
2070 V
(23308)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2160 V
(23309)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
2250 V
(23310)210 648 A
(#include)336 1026 A
(<net/netlib.h>)588 1404 A
2340 V
(23311)210 648 A
(#include)336 1026 A
(<net/gen/ether.h>)714 1404 A
2430 V
(23312)210 648 A
(#include)336 1026 A
(<net/gen/if_ether.h>)840 1404 A
2520 V
(23313)210 648 A
2610 V
(23314)210 648 A
(struct)252 1026 A
(ether_addr)420 1320 A
(*ether_aton\(s\))588 1782 A
2700 V
(23315)210 648 A
(char)168 1026 A
(*s;)126 1236 A
2790 V
(23316)210 648 A
1026({)S
2880 V
(23317)210 648 A
(static)252 1362 A
(struct)252 1656 A
(ether_addr)420 1950 A
(ea;)126 2412 A
2970 V
(23318)210 648 A
3060 V
(23319)210 648 A
(int)126 1362 A
1530(i;)S
3150 V
(23320)210 648 A
(long)168 1362 A
1572(v;)S
3240 V
(23321)210 648 A
(char)168 1362 A
(*check;)294 1572 A
3330 V
(23322)210 648 A
3420 V
(23323)210 648 A
1362(if)S
1488(\(s)S
1614(==)S
(NULL\))210 1740 A
3510 V
(23324)210 648 A
(return)252 1698 A
(NULL;)210 1992 A
3600 V
(23325)210 648 A
3690 V
(23326)210 648 A
(for)126 1362 A
(\(i=0;)210 1530 A
(i<6;)168 1782 A
(i++\))168 1992 A
3780 V
(23327)210 648 A
1362({)S
3870 V
(23328)210 648 A
1698(v=)S
(strtol\(s,)378 1824 A
(&check,)294 2244 A
(16\);)168 2580 A
3960 V
(23329)210 648 A
1698(if)S
(\(v<0)168 1824 A
2034(||)S
(v>255\))252 2160 A
4050 V
(23330)210 648 A
(return)252 2034 A
(NULL;)210 2328 A
4140 V
(23331)210 648 A
1698(if)S
(\(\(i<5)210 1824 A
2076(&&)S
(check[0])336 2202 A
2580(!=)S
(':'\))168 2706 A
2916(||)S
3042(\(i)S
3168(==)S
3294(5)S
3378(&&)S
(check[0])336 3504 A
3882(!=)S
('\\0'\)\))252 4008 A
4230 V
(23332)210 648 A
(return)252 2034 A
(NULL;)210 2328 A
4320 V
(23333)210 648 A
(ea.ea_addr[i]=)588 1698 A
2328(v;)S
4410 V
(23334)210 648 A
1698(s=)S
(check+1;)336 1824 A
4500 V
(23335)210 648 A
1362(})S
4590 V
(23336)210 648 A
(return)252 1362 A
(&ea;)168 1656 A
4680 V
(23337)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/ip/ethere2a.c)882 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(23400)210 648 A
1026(/*)S
($Id:)168 1152 A
(ethere2a.c,v)504 1362 A
(2.1)126 1908 A
(89/10/23)336 2076 A
(15:42:28)336 2454 A
(dupuy)210 2832 A
(Exp)126 3084 A
3252($)S
3336(*/)S
5490 V
(23401)210 648 A
1026(/*)S
(This)168 1152 A
(file)168 1362 A
(was)126 1572 A
(part)168 1740 A
1950(of)S
(the)126 2076 A
(etherlib)336 2244 A
(package.)336 2622 A
3000(*/)S
5580 V
(23402)210 648 A
5670 V
(23403)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5760 V
(23404)210 648 A
5850 V
(23405)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
5940 V
(23406)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
6030 V
(23407)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
6120 V
(23408)210 648 A
6210 V
(23409)210 648 A
(#include)336 1026 A
(<net/gen/ether.h>)714 1404 A
8418 V
EP
%%Page: 209 209
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1980(File:)S
(src/lib/ip/ethere2a.c)882 2213 A
12 B
(209)180 4248 A
900 V
7 LST
(23410)210 648 A
(#include)336 1026 A
(<net/gen/if_ether.h>)840 1404 A
990 V
(23411)210 648 A
1080 V
(23412)210 648 A
(#define)294 1026 A
(ETHERSTRLEN)462 1362 A
1866(18)S
2706(/*)S
(max)126 2832 A
(length)252 3000 A
3294(of)S
("xx:xx:xx:xx:xx:xx")798 3420 A
4260(*/)S
1170 V
(23413)210 648 A
(#define)294 1026 A
(ether_addr)420 1362 A
(ether_addr_t)504 2034 A
1260 V
(23414)210 648 A
(#define)294 1026 A
(bytes)210 1362 A
(ea_addr)294 2034 A
1350 V
(23415)210 648 A
(char)168 1026 A
(*ether_e2a)420 1236 A
(_ARGS\(\()294 1698 A
(ether_addr_t)504 2034 A
(*a,)126 2580 A
(char)168 2748 A
2958(*e)S
(\)\);)126 3084 A
1440 V
(23416)210 648 A
(#else)210 1026 A
1530 V
(23417)210 648 A
(#include)336 1026 A
("libether.h")504 1404 A
1620 V
(23418)210 648 A
(#endif)252 1026 A
1710 V
(23419)210 648 A
1800 V
(23420)210 648 A
(char)168 1026 A
1236(*)S
1890 V
(23421)210 648 A
(ether_e2a)378 1026 A
(\(addr,)252 1446 A
(estring\))336 1740 A
1980 V
(23422)210 648 A
(ether_addr)420 1026 A
(*addr;)252 1488 A
2070 V
(23423)210 648 A
(char)168 1026 A
(*estring;)378 1236 A
2160 V
(23424)210 648 A
1026({)S
2250 V
(23425)210 648 A
(#ifdef)252 1026 A
(lint)168 1320 A
2340 V
(23426)210 648 A
(char)168 1194 A
(*sprintf)336 1404 A
(\(\);)126 1782 A
2430 V
(23427)210 648 A
(#endif)252 1026 A
2520 V
(23428)210 648 A
1194(if)S
(\(estring)336 1320 A
1698(==)S
(NULL\))210 1824 A
2610 V
(23429)210 648 A
(estring)294 1362 A
1698(=)S
(\(char)210 1782 A
2034(*\))S
(malloc)252 2160 A
(\(ETHERSTRLEN\);)588 2454 A
2700 V
(23430)210 648 A
2790 V
(23431)210 648 A
1194(if)S
(\(estring)336 1320 A
1698(!=)S
(NULL\))210 1824 A
2880 V
(23432)210 648 A
(\(void\))252 1362 A
(sprintf)294 1656 A
(\(estring,)378 1992 A
("%x:%x:%x:%x:%x:%x",)840 2412 A
2970 V
(23433)210 648 A
(addr->bytes[0],)630 2034 A
(addr->bytes[1],)630 2706 A
(addr->bytes[2],)630 3378 A
3060 V
(23434)210 648 A
(addr->bytes[3],)630 2034 A
(addr->bytes[4],)630 2706 A
(addr->bytes[5]\);)672 3378 A
3150 V
(23435)210 648 A
(return)252 1194 A
(\(estring\);)420 1488 A
3240 V
(23436)210 648 A
1026(})S
3420 V
(23438)210 648 A
(#ifndef)294 1026 A
(ETHERDB)294 1362 A
3510 V
(23439)210 648 A
3600 V
(23440)210 648 A
(char)168 1026 A
1236(*)S
3690 V
(23441)210 648 A
(ether_ntoa)420 1026 A
(\(addr\))252 1488 A
3780 V
(23442)210 648 A
(ether_addr)420 1026 A
(*addr;)252 1488 A
3870 V
(23443)210 648 A
1026({)S
3960 V
(23444)210 648 A
(static)252 1194 A
(char)168 1488 A
(estring[ETHERSTRLEN];)882 1698 A
4050 V
(23445)210 648 A
4140 V
(23446)210 648 A
(return)252 1194 A
(\(ether_e2a)420 1488 A
(\(addr,)252 1950 A
(estring\)\);)420 2244 A
4230 V
(23447)210 648 A
1026(})S
4410 V
(23449)210 648 A
(#endif)252 1026 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/ip/etherh2n.c)882 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(23500)210 648 A
1026(/*)S
5490 V
(23501)210 648 A
(etherh2n.c)420 1026 A
5580 V
(23502)210 648 A
5670 V
(23503)210 648 A
(Created:)336 1026 A
(May)126 1698 A
(20,)126 1866 A
(1992)168 2034 A
2244(by)S
(Philip)252 2370 A
(Homburg)294 2664 A
5760 V
(23504)210 648 A
1026(*/)S
5850 V
(23505)210 648 A
5940 V
(23506)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
6030 V
(23507)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
6120 V
(23508)210 648 A
(#include)336 1026 A
(<net/gen/if_ether.h>)840 1404 A
6210 V
(23509)210 648 A
8418 V
EP
%%Page: 210 210
BP
/slant 0 def
/height 0 def
630 V
12 B
(210)180 648 A
11 R
1975(File:)S
(src/lib/ip/etherh2n.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(23510)210 648 A
(int)126 1026 A
990 V
(23511)210 648 A
(ether_hostton\(hostname,)966 1026 A
2034(e\))S
1080 V
(23512)210 648 A
(char)168 1026 A
(*hostname;)420 1236 A
1170 V
(23513)210 648 A
(struct)252 1026 A
(ether_addr)420 1320 A
(*e;)126 1782 A
1260 V
(23514)210 648 A
1026({)S
1350 V
(23515)210 648 A
(FILE)168 1362 A
(*etherf;)336 1572 A
1440 V
(23516)210 648 A
(char)168 1362 A
(b[256],)294 1572 A
(hn[256];)336 1908 A
1530 V
(23517)210 648 A
1620 V
(23518)210 648 A
(etherf=)294 1362 A
(fopen\(_PATH_ETHERS,)798 1698 A
("r"\);)210 2538 A
1710 V
(23519)210 648 A
1362(if)S
(\(etherf)294 1488 A
1824(==)S
(NULL\))210 1950 A
1800 V
(23520)210 648 A
(return)252 1698 A
1992(1;)S
1890 V
(23521)210 648 A
1980 V
(23522)210 648 A
(while\(fgets\(b,)588 1362 A
(sizeof\(b\),)420 1992 A
(etherf\))294 2454 A
2790(!=)S
(NULL\))210 2916 A
2070 V
(23523)210 648 A
1362({)S
2160 V
(23524)210 648 A
1698(if)S
(\(ether_line\(b,)588 1824 A
2454(e,)S
(hn\))126 2580 A
2748(==)S
2874(0)S
2958(&&)S
(strcmp\(hn,)420 3084 A
(hostname\))378 3546 A
3966(==)S
4092(0\))S
2250 V
(23525)210 648 A
1698({)S
2340 V
(23526)210 648 A
(fclose\(etherf\);)630 2034 A
2430 V
(23527)210 648 A
(return)252 2034 A
2328(0;)S
2520 V
(23528)210 648 A
1698(})S
2610 V
(23529)210 648 A
1362(})S
2700 V
(23530)210 648 A
(fclose\(etherf\);)630 1362 A
2790 V
(23531)210 648 A
(return)252 1362 A
1656(1;)S
2880 V
(23532)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ip/ethern2h.c)882 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(23600)210 648 A
1026(/*)S
3690 V
(23601)210 648 A
(ethern2h.c)420 1026 A
3780 V
(23602)210 648 A
3870 V
(23603)210 648 A
(Created:)336 1026 A
(Nov)126 1698 A
(12,)126 1866 A
(1992)168 2034 A
2244(by)S
(Philip)252 2370 A
(Homburg)294 2664 A
3960 V
(23604)210 648 A
1026(*/)S
4050 V
(23605)210 648 A
4140 V
(23606)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4230 V
(23607)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
4320 V
(23608)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4410 V
(23609)210 648 A
(#include)336 1026 A
(<net/gen/ether.h>)714 1404 A
4500 V
(23610)210 648 A
(#include)336 1026 A
(<net/gen/if_ether.h>)840 1404 A
4590 V
(23611)210 648 A
4680 V
(23612)210 648 A
(int)126 1026 A
4770 V
(23613)210 648 A
(ether_ntohost\(hostname,)966 1026 A
2034(e\))S
4860 V
(23614)210 648 A
(char)168 1026 A
(*hostname;)420 1236 A
4950 V
(23615)210 648 A
(struct)252 1026 A
(ether_addr)420 1320 A
(*e;)126 1782 A
5040 V
(23616)210 648 A
1026({)S
5130 V
(23617)210 648 A
(FILE)168 1362 A
(*etherf;)336 1572 A
5220 V
(23618)210 648 A
(char)168 1362 A
(b[256];)294 1572 A
5310 V
(23619)210 648 A
(struct)252 1362 A
(ether_addr)420 1656 A
(e_tmp;)252 2118 A
5400 V
(23620)210 648 A
5490 V
(23621)210 648 A
(etherf=)294 1362 A
(fopen\(_PATH_ETHERS,)798 1698 A
("r"\);)210 2538 A
5580 V
(23622)210 648 A
1362(if)S
(\(etherf)294 1488 A
1824(==)S
(NULL\))210 1950 A
5670 V
(23623)210 648 A
(return)252 1698 A
1992(1;)S
5760 V
(23624)210 648 A
5850 V
(23625)210 648 A
(while\(fgets\(b,)588 1362 A
(sizeof\(b\),)420 1992 A
(etherf\))294 2454 A
2790(!=)S
(NULL\))210 2916 A
5940 V
(23626)210 648 A
1362({)S
6030 V
(23627)210 648 A
1698(if)S
(\(ether_line\(b,)588 1824 A
(&e_tmp,)294 2454 A
(hostname\))378 2790 A
3210(==)S
3336(0)S
3420(&&)S
6120 V
(23628)210 648 A
(memcmp\(&e_tmp,)588 1698 A
2328(e,)S
(sizeof\(e_tmp\)\))588 2454 A
3084(==)S
3210(0\))S
6210 V
(23629)210 648 A
1698({)S
8418 V
EP
%%Page: 211 211
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/ethern2h.c)892 2208 A
12 B
(211)180 4248 A
900 V
7 LST
(23630)210 648 A
(fclose\(etherf\);)630 2034 A
990 V
(23631)210 648 A
(return)252 2034 A
2328(0;)S
1080 V
(23632)210 648 A
1698(})S
1170 V
(23633)210 648 A
1362(})S
1260 V
(23634)210 648 A
(fclose\(etherf\);)630 1362 A
1350 V
(23635)210 648 A
(return)252 1362 A
1656(1;)S
1440 V
(23636)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ip/getdomain.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(23700)210 648 A
1026(/*)S
(getdomainname\(\))630 1362 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
2340 V
(23701)210 648 A
1068(*)S
3714(2)S
(Dec)126 3798 A
(1994)168 3966 A
2430 V
(23702)210 648 A
1068(*/)S
2520 V
(23703)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
2610 V
(23704)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2700 V
(23705)210 648 A
(#include)336 1026 A
(<sys/utsname.h>)630 1404 A
2790 V
(23706)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2880 V
(23707)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2970 V
(23708)210 648 A
3060 V
(23709)210 648 A
(int)126 1026 A
(getdomainname\(char)756 1194 A
(*domain,)336 1992 A
(size_t)252 2370 A
(size\))210 2664 A
3150 V
(23710)210 648 A
1026({)S
3240 V
(23711)210 648 A
(char)168 1362 A
(nodename[256];)588 1572 A
3330 V
(23712)210 648 A
(char)168 1362 A
(*dot;)210 1572 A
3420 V
(23713)210 648 A
3510 V
(23714)210 648 A
1362(if)S
(\(gethostname\(nodename,)924 1488 A
(sizeof\(nodename\)\))714 2454 A
3210(<)S
3294(0\))S
3600 V
(23715)210 648 A
(return)252 1698 A
(-1;)126 1992 A
3690 V
(23716)210 648 A
(nodename[sizeof\(nodename\)-1]=)1218 1362 A
2622(0;)S
3780 V
(23717)210 648 A
1362(if)S
(\(\(dot=)252 1488 A
(strchr\(nodename,)672 1782 A
('.'\)\))210 2496 A
2748(==)S
(nil\))168 2874 A
(dot=)168 3084 A
(".";)168 3294 A
3870 V
(23718)210 648 A
3960 V
(23719)210 648 A
(strncpy\(domain,)630 1362 A
(dot+1,)252 2034 A
(size\);)252 2328 A
4050 V
(23720)210 648 A
1362(if)S
(\(size)210 1488 A
1740(>)S
1824(0\))S
(domain[size-1]=)630 1950 A
2622(0;)S
4140 V
(23721)210 648 A
(return)252 1362 A
1656(0;)S
4230 V
(23722)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ip/gethnmadr.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(23800)210 648 A
1026(/*)S
5040 V
(23801)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1985,)210 1740 A
(1988)168 1992 A
(Regents)294 2202 A
2538(of)S
(the)126 2664 A
(University)420 2832 A
3294(of)S
(California.)462 3420 A
5130 V
(23802)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
5220 V
(23803)210 648 A
1068(*)S
5310 V
(23804)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
5400 V
(23805)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
5490 V
(23806)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
5580 V
(23807)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
5670 V
(23808)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
5760 V
(23809)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
5850 V
(23810)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
5940 V
(23811)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
6030 V
(23812)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
6120 V
(23813)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
6210 V
(23814)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
8418 V
EP
%%Page: 212 212
BP
/slant 0 def
/height 0 def
630 V
12 B
(212)180 648 A
11 R
1932(File:)S
(src/lib/ip/gethnmadr.c)978 2165 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(23815)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
990 V
(23816)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
1080 V
(23817)210 648 A
1068(*/)S
1170 V
(23818)210 648 A
1260 V
(23819)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
1350 V
(23820)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)gethostnamadr.c)840 1992 A
(6.41)168 3042 A
(\(Berkeley\))420 3252 A
(6/1/90";)336 3714 A
1440 V
(23821)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
1530 V
(23822)210 648 A
1620 V
(23823)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
1710 V
(23824)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
1800 V
(23825)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
1890 V
(23826)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
1980 V
(23827)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
2070 V
(23828)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2160 V
(23829)210 648 A
2250 V
(23830)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
2340 V
(23831)210 648 A
(#include)336 1026 A
(<net/gen/nameser.h>)798 1404 A
2430 V
(23832)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
2520 V
(23833)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
2610 V
(23834)210 648 A
(#include)336 1026 A
(<net/gen/inet.h>)672 1404 A
2700 V
(23835)210 648 A
(#include)336 1026 A
(<net/gen/resolv.h>)756 1404 A
2790 V
(23836)210 648 A
(#include)336 1026 A
(<net/gen/socket.h>)756 1404 A
2880 V
(23837)210 648 A
(#else)210 1026 A
2970 V
(23838)210 648 A
(#include)336 1026 A
(<sys/param.h>)546 1404 A
3060 V
(23839)210 648 A
(#include)336 1026 A
(<sys/socket.h>)588 1404 A
3150 V
(23840)210 648 A
(#include)336 1026 A
(<netinet/in.h>)588 1404 A
3240 V
(23841)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
3330 V
(23842)210 648 A
(#include)336 1026 A
(<netdb.h>)378 1404 A
3420 V
(23843)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
3510 V
(23844)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
3600 V
(23845)210 648 A
(#include)336 1026 A
(<arpa/inet.h>)546 1404 A
3690 V
(23846)210 648 A
(#include)336 1026 A
(<arpa/nameser.h>)672 1404 A
3780 V
(23847)210 648 A
(#include)336 1026 A
(<resolv.h>)420 1404 A
3870 V
(23848)210 648 A
(#endif)252 1026 A
1320(/*)S
(AMOEABA)294 1446 A
1782(*/)S
3960 V
(23849)210 648 A
4050 V
(23850)210 648 A
(#define)294 1026 A
(MAXALIASES)420 1362 A
2034(35)S
4140 V
(23851)210 648 A
(#define)294 1026 A
(MAXADDRS)336 1362 A
2034(35)S
4230 V
(23852)210 648 A
4320 V
(23853)210 648 A
(static)252 1026 A
(char)168 1320 A
(*h_addr_ptrs[MAXADDRS)882 1530 A
2454(+)S
(1];)126 2538 A
4410 V
(23854)210 648 A
4500 V
(23855)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
4590 V
(23856)210 648 A
(struct)252 1026 A
(in_addr)294 1320 A
4680 V
(23857)210 648 A
1026({)S
4770 V
(23858)210 648 A
(ipaddr_t)336 1362 A
(s_addr;)294 1740 A
4860 V
(23859)210 648 A
1026(};)S
4950 V
(23860)210 648 A
(typedef)294 1026 A
(u32_t)210 1362 A
(u_long;)294 1614 A
5040 V
(23861)210 648 A
(typedef)294 1026 A
(u16_t)210 1362 A
(u_short;)336 1614 A
5130 V
(23862)210 648 A
(typedef)294 1026 A
(u8_t)168 1362 A
(u_char;)294 1572 A
5220 V
(23863)210 648 A
(union)210 1026 A
(querybuf;)378 1278 A
5310 V
(23864)210 648 A
5400 V
(23865)210 648 A
(extern)252 1026 A
(int)126 1320 A
(dn_skipname)462 1488 A
(_ARGS\(\()294 1992 A
(const)210 2328 A
(u_char)252 2580 A
(*comp_dn,)378 2874 A
(const)210 3294 A
(u_char)252 3546 A
(*eom)168 3840 A
(\)\);)126 4050 A
5490 V
(23866)210 648 A
(#define)294 1026 A
(getshort)336 1362 A
(_getshort)378 1740 A
5580 V
(23867)210 648 A
(static)252 1026 A
(struct)252 1320 A
(hostent)294 1614 A
(*getanswer)420 1950 A
(_ARGS\(\()294 2412 A
(union)210 2748 A
(querybuf)336 3000 A
(*answer,)336 3378 A
(int)126 3756 A
(anslen,)294 3924 A
5670 V
(23868)210 648 A
(int)126 1362 A
(iquery)252 1530 A
(\)\);)126 1824 A
5760 V
(23869)210 648 A
(#define)294 1026 A
(bcmp)168 1362 A
(memcmp)252 1572 A
5850 V
(23870)210 648 A
(#define)294 1026 A
(bcopy\(s,)336 1362 A
1740(d,)S
1866(l\))S
(memcpy\(d,)378 1992 A
2412(s,)S
2538(l\))S
5940 V
(23871)210 648 A
(#endif)252 1026 A
1320(/*)S
(_MINIX)252 1446 A
1740(*/)S
6030 V
(23872)210 648 A
6120 V
(23873)210 648 A
(static)252 1026 A
(struct)252 1320 A
(hostent)294 1614 A
(host;)210 1950 A
6210 V
(23874)210 648 A
(static)252 1026 A
(char)168 1320 A
(*host_aliases[MAXALIASES];)1092 1530 A
8418 V
EP
%%Page: 213 213
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1932(File:)S
(src/lib/ip/gethnmadr.c)978 2165 A
12 B
(213)180 4248 A
900 V
7 LST
(23875)210 648 A
(static)252 1026 A
(char)168 1320 A
(hostbuf[BUFSIZ+1];)756 1530 A
990 V
(23876)210 648 A
(static)252 1026 A
(struct)252 1320 A
(in_addr)294 1614 A
(host_addr;)420 1950 A
1080 V
(23877)210 648 A
1170 V
(23878)210 648 A
(#ifndef)294 1026 A
(_MINIX)252 1362 A
1260 V
(23879)210 648 A
(char)168 1026 A
(*strpbrk\(\);)462 1236 A
1350 V
(23880)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
1440 V
(23881)210 648 A
1530 V
(23882)210 648 A
(#if)126 1026 A
(PACKETSZ)336 1194 A
1572(>)S
(1024)168 1656 A
1620 V
(23883)210 648 A
(#define)294 1026 A
(MAXPACKET)378 1362 A
(PACKETSZ)336 2034 A
1710 V
(23884)210 648 A
(#else)210 1026 A
1800 V
(23885)210 648 A
(#define)294 1026 A
(MAXPACKET)378 1362 A
(1024)168 2034 A
1890 V
(23886)210 648 A
(#endif)252 1026 A
1980 V
(23887)210 648 A
2070 V
(23888)210 648 A
(typedef)294 1026 A
(union)210 1362 A
(querybuf)336 1614 A
2160 V
(23889)210 648 A
1026({)S
2250 V
(23890)210 648 A
(dns_hdr_t)378 1362 A
(hdr;)168 1782 A
2340 V
(23891)210 648 A
(u_char)252 1362 A
(buf[MAXPACKET];)630 1656 A
2430 V
(23892)210 648 A
1026(})S
(querybuf_t;)462 1110 A
2520 V
(23893)210 648 A
2610 V
(23894)210 648 A
(typedef)294 1026 A
(union)210 1362 A
(align)210 1614 A
1866({)S
2700 V
(23895)210 648 A
(long)168 1194 A
(al;)126 1404 A
2790 V
(23896)210 648 A
(char)168 1194 A
(ac;)126 1404 A
2880 V
(23897)210 648 A
1026(})S
(align_t;)336 1110 A
2970 V
(23898)210 648 A
3060 V
(23899)210 648 A
(static)252 1026 A
(struct)252 1320 A
(hostent)294 1614 A
1950(*)S
3150 V
(23900)210 648 A
(getanswer\(answer,)714 1026 A
(anslen,)294 1782 A
(iquery\))294 2118 A
3240 V
(23901)210 648 A
(querybuf_t)420 1362 A
(*answer;)336 1824 A
3330 V
(23902)210 648 A
(int)126 1362 A
(anslen;)294 1530 A
3420 V
(23903)210 648 A
(int)126 1362 A
(iquery;)294 1530 A
3510 V
(23904)210 648 A
1026({)S
3600 V
(23905)210 648 A
(register)336 1362 A
(dns_hdr_t)378 1740 A
(*hp;)168 2160 A
3690 V
(23906)210 648 A
(register)336 1362 A
(u_char)252 1740 A
(*cp;)168 2034 A
3780 V
(23907)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n;)S
3870 V
(23908)210 648 A
(u_char)252 1362 A
(*eom;)210 1656 A
3960 V
(23909)210 648 A
(char)168 1362 A
(*bp,)168 1572 A
(**ap;)210 1782 A
4050 V
(23910)210 648 A
(int)126 1362 A
(type,)210 1530 A
(class,)252 1782 A
(buflen,)294 2076 A
(ancount,)336 2412 A
(qdcount;)336 2790 A
4140 V
(23911)210 648 A
(int)126 1362 A
(haveanswer,)462 1530 A
(getclass)336 2034 A
2412(=)S
(C_ANY;)252 2496 A
4230 V
(23912)210 648 A
(char)168 1362 A
(**hap;)252 1572 A
4320 V
(23913)210 648 A
4410 V
(23914)210 648 A
(eom)126 1362 A
1530(=)S
(answer->buf)462 1614 A
2118(+)S
(anslen;)294 2202 A
4500 V
(23915)210 648 A
1362(/*)S
4590 V
(23916)210 648 A
1404(*)S
(find)168 1488 A
(first)210 1698 A
(satisfactory)504 1950 A
(answer)252 2496 A
4680 V
(23917)210 648 A
1404(*/)S
4770 V
(23918)210 648 A
1362(hp)S
1488(=)S
(&answer->hdr;)546 1572 A
4860 V
(23919)210 648 A
(ancount)294 1362 A
1698(=)S
(ntohs\(hp->dh_ancount\);)924 1782 A
4950 V
(23920)210 648 A
(qdcount)294 1362 A
1698(=)S
(ntohs\(hp->dh_qdcount\);)924 1782 A
5040 V
(23921)210 648 A
1362(bp)S
1488(=)S
(hostbuf;)336 1572 A
5130 V
(23922)210 648 A
(buflen)252 1362 A
1656(=)S
(sizeof\(hostbuf\);)672 1740 A
5220 V
(23923)210 648 A
1362(cp)S
1488(=)S
(answer->buf)462 1572 A
2076(+)S
(sizeof\(dns_hdr_t\);)756 2160 A
5310 V
(23924)210 648 A
1362(if)S
(\(qdcount\))378 1488 A
1908({)S
5400 V
(23925)210 648 A
1698(if)S
(\(iquery\))336 1824 A
2202({)S
5490 V
(23926)210 648 A
2034(if)S
(\(\(n)126 2160 A
2328(=)S
(dn_expand\(\(u_char)714 2412 A
(*\)answer->buf,)588 3168 A
(eom,)168 3798 A
5580 V
(23927)210 648 A
(cp,)126 2244 A
(\(u_char)294 2412 A
(*\)bp,)210 2748 A
(buflen\)\))336 3000 A
3378(<)S
3462(0\))S
3588({)S
5670 V
(23928)210 648 A
(h_errno)294 2370 A
2706(=)S
(NO_RECOVERY;)504 2790 A
5760 V
(23929)210 648 A
(return)252 2370 A
(\(\(struct)336 2664 A
(hostent)294 3042 A
3378(*\))S
(NULL\);)252 3504 A
5850 V
(23930)210 648 A
2034(})S
5940 V
(23931)210 648 A
2034(cp)S
2160(+=)S
2286(n)S
2370(+)S
(QFIXEDSZ;)378 2454 A
6030 V
(23932)210 648 A
(host.h_name)462 2034 A
2538(=)S
(bp;)126 2622 A
6120 V
(23933)210 648 A
2034(n)S
2118(=)S
(strlen\(bp\))420 2202 A
2664(+)S
2748(1;)S
6210 V
(23934)210 648 A
2034(bp)S
2160(+=)S
2286(n;)S
8418 V
EP
%%Page: 214 214
BP
/slant 0 def
/height 0 def
630 V
12 B
(214)180 648 A
11 R
1932(File:)S
(src/lib/ip/gethnmadr.c)978 2165 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(23935)210 648 A
(buflen)252 2034 A
2328(-=)S
2454(n;)S
990 V
(23936)210 648 A
1698(})S
(else)168 1782 A
1080 V
(23937)210 648 A
2034(cp)S
2160(+=)S
(dn_skipname\(cp,)630 2286 A
(eom\))168 2958 A
3168(+)S
(QFIXEDSZ;)378 3252 A
1170 V
(23938)210 648 A
(while)210 1698 A
(\(--qdcount)420 1950 A
2412(>)S
2496(0\))S
1260 V
(23939)210 648 A
2034(cp)S
2160(+=)S
(dn_skipname\(cp,)630 2286 A
(eom\))168 2958 A
3168(+)S
(QFIXEDSZ;)378 3252 A
1350 V
(23940)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(iquery\))336 1782 A
2160({)S
1440 V
(23941)210 648 A
1698(if)S
(\(hp->dh_flag1)546 1824 A
2412(&)S
(DHF_AA\))294 2496 A
1530 V
(23942)210 648 A
(h_errno)294 2034 A
2370(=)S
(HOST_NOT_FOUND;)630 2454 A
1620 V
(23943)210 648 A
(else)168 1698 A
1710 V
(23944)210 648 A
(h_errno)294 2034 A
2370(=)S
(TRY_AGAIN;)420 2454 A
1800 V
(23945)210 648 A
(return)252 1698 A
(\(\(struct)336 1992 A
(hostent)294 2370 A
2706(*\))S
(NULL\);)252 2832 A
1890 V
(23946)210 648 A
1362(})S
1980 V
(23947)210 648 A
1362(ap)S
1488(=)S
(host_aliases;)546 1572 A
2070 V
(23948)210 648 A
(*ap)126 1362 A
1530(=)S
(NULL;)210 1614 A
2160 V
(23949)210 648 A
(host.h_aliases)588 1362 A
1992(=)S
(host_aliases;)546 2076 A
2250 V
(23950)210 648 A
(hap)126 1362 A
1530(=)S
(h_addr_ptrs;)504 1614 A
2340 V
(23951)210 648 A
(*hap)168 1362 A
1572(=)S
(NULL;)210 1656 A
2430 V
(23952)210 648 A
(#if)126 1026 A
(BSD)126 1194 A
1362(>=)S
1488(43)S
1614(||)S
(defined\(h_addr\))630 1740 A
2706(/*)S
(new-style)378 2832 A
(hostent)294 3252 A
(structure)378 3588 A
4008(*/)S
2520 V
(23953)210 648 A
(host.h_addr_list)672 1362 A
2076(=)S
(h_addr_ptrs;)504 2160 A
2610 V
(23954)210 648 A
(#endif)252 1026 A
2700 V
(23955)210 648 A
(haveanswer)420 1362 A
1824(=)S
1908(0;)S
2790 V
(23956)210 648 A
(while)210 1362 A
(\(--ancount)420 1614 A
2076(>=)S
2202(0)S
2286(&&)S
2412(cp)S
2538(<)S
(eom\))168 2622 A
2832({)S
2880 V
(23957)210 648 A
1698(if)S
(\(\(n)126 1824 A
1992(=)S
(dn_expand\(\(u_char)714 2076 A
(*\)answer->buf,)588 2832 A
(eom,)168 3462 A
(cp,)126 3672 A
(\(u_char)294 3840 A
(*\)bp,)210 4176 A
2970 V
(23958)210 648 A
(buflen\)\))336 2034 A
2412(<)S
2496(0\))S
3060 V
(23959)210 648 A
(break;)252 2034 A
3150 V
(23960)210 648 A
1698(cp)S
1824(+=)S
1950(n;)S
3240 V
(23961)210 648 A
(type)168 1698 A
1908(=)S
(getshort\(cp\);)546 1992 A
3330 V
(23962)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
3420 V
(23963)210 648 A
(class)210 1698 A
1950(=)S
(getshort\(cp\);)546 2034 A
3510 V
(23964)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\))630 1950 A
2622(+)S
(sizeof\(u_long\);)630 2706 A
3600 V
(23965)210 648 A
1698(n)S
1782(=)S
(getshort\(cp\);)546 1866 A
3690 V
(23966)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
3780 V
(23967)210 648 A
1698(if)S
(\(type)210 1824 A
2076(==)S
(T_CNAME\))336 2202 A
2580({)S
3870 V
(23968)210 648 A
2034(cp)S
2160(+=)S
2286(n;)S
3960 V
(23969)210 648 A
2034(if)S
(\(ap)126 2160 A
2328(>=)S
(&host_aliases[MAXALIASES-1]\))1176 2454 A
4050 V
(23970)210 648 A
(continue;)378 2370 A
4140 V
(23971)210 648 A
(*ap++)210 2034 A
2286(=)S
(bp;)126 2370 A
4230 V
(23972)210 648 A
2034(n)S
2118(=)S
(strlen\(bp\))420 2202 A
2664(+)S
2748(1;)S
4320 V
(23973)210 648 A
2034(bp)S
2160(+=)S
2286(n;)S
4410 V
(23974)210 648 A
(buflen)252 2034 A
2328(-=)S
2454(n;)S
4500 V
(23975)210 648 A
(continue;)378 2034 A
4590 V
(23976)210 648 A
1698(})S
4680 V
(23977)210 648 A
1698(if)S
(\(iquery)294 1824 A
2160(&&)S
(type)168 2286 A
2496(==)S
(T_PTR\))252 2622 A
2916({)S
4770 V
(23978)210 648 A
2034(if)S
(\(\(n)126 2160 A
2328(=)S
(dn_expand\(\(u8_t)630 2412 A
(*\)answer->buf,)588 3084 A
(eom,)168 3714 A
4860 V
(23979)210 648 A
(cp,)126 2202 A
(\(u8_t)210 2370 A
(*\)bp,)210 2622 A
(buflen\)\))336 2874 A
3252(<)S
3336(0\))S
3462({)S
4950 V
(23980)210 648 A
2370(cp)S
2496(+=)S
2622(n;)S
5040 V
(23981)210 648 A
(continue;)378 2370 A
5130 V
(23982)210 648 A
2034(})S
5220 V
(23983)210 648 A
2034(cp)S
2160(+=)S
2286(n;)S
5310 V
(23984)210 648 A
(host.h_name)462 2034 A
2538(=)S
(bp;)126 2622 A
5400 V
(23985)210 648 A
(return\(&host\);)588 2034 A
5490 V
(23986)210 648 A
1698(})S
5580 V
(23987)210 648 A
1698(if)S
(\(iquery)294 1824 A
2160(||)S
(type)168 2286 A
2496(!=)S
(T_A\))168 2622 A
2874({)S
5670 V
(23988)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
5760 V
(23989)210 648 A
2034(if)S
(\(_res.options)546 2160 A
2748(&)S
(RES_DEBUG\))420 2832 A
5850 V
(23990)210 648 A
(printf\("unexpected)756 2370 A
(answer)252 3168 A
(type)168 3462 A
(%d,)126 3672 A
(size)168 3840 A
(%d\\n",)252 4050 A
5940 V
(23991)210 648 A
(type,)210 2706 A
(n\);)126 2958 A
6030 V
(23992)210 648 A
(#endif)252 1026 A
6120 V
(23993)210 648 A
2034(cp)S
2160(+=)S
2286(n;)S
6210 V
(23994)210 648 A
(continue;)378 2034 A
8418 V
EP
%%Page: 215 215
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1932(File:)S
(src/lib/ip/gethnmadr.c)978 2165 A
12 B
(215)180 4248 A
900 V
7 LST
(23995)210 648 A
1698(})S
990 V
(23996)210 648 A
1698(if)S
(\(haveanswer\))504 1824 A
2370({)S
1080 V
(23997)210 648 A
2034(if)S
2160(\(n)S
2286(!=)S
(host.h_length\))588 2412 A
3042({)S
1170 V
(23998)210 648 A
2370(cp)S
2496(+=)S
2622(n;)S
1260 V
(23999)210 648 A
(continue;)378 2370 A
1350 V
(24000)210 648 A
2034(})S
1440 V
(24001)210 648 A
2034(if)S
(\(class)252 2160 A
2454(!=)S
(getclass\))378 2580 A
3000({)S
1530 V
(24002)210 648 A
2370(cp)S
2496(+=)S
2622(n;)S
1620 V
(24003)210 648 A
(continue;)378 2370 A
1710 V
(24004)210 648 A
2034(})S
1800 V
(24005)210 648 A
1698(})S
(else)168 1782 A
1992({)S
1890 V
(24006)210 648 A
(host.h_length)546 2034 A
2622(=)S
2706(n;)S
1980 V
(24007)210 648 A
(getclass)336 2034 A
2412(=)S
(class;)252 2496 A
2070 V
(24008)210 648 A
(host.h_addrtype)630 2034 A
2706(=)S
(\(class)252 2790 A
3084(==)S
(C_IN\))210 3210 A
3462(?)S
(AF_INET)294 3546 A
3882(:)S
(AF_UNSPEC;)420 3966 A
2160 V
(24009)210 648 A
2034(if)S
(\(!iquery\))378 2160 A
2580({)S
2250 V
(24010)210 648 A
(host.h_name)462 2370 A
2874(=)S
(bp;)126 2958 A
2340 V
(24011)210 648 A
2370(bp)S
2496(+=)S
(strlen\(bp\))420 2622 A
3084(+)S
3168(1;)S
2430 V
(24012)210 648 A
2034(})S
2520 V
(24013)210 648 A
1698(})S
2610 V
(24014)210 648 A
2700 V
(24015)210 648 A
1698(bp)S
1824(+=)S
(\(size_t\)\(sizeof\(align_t\))1008 1950 A
3000(-)S
2790 V
(24016)210 648 A
(\(\(u_long\)bp)462 3042 A
3546(%)S
(sizeof\(align_t\)\)\);)756 3630 A
2880 V
(24017)210 648 A
2970 V
(24018)210 648 A
1698(if)S
(\(bp)126 1824 A
1992(+)S
2076(n)S
2160(>=)S
(&hostbuf[sizeof\(hostbuf\)]\))1092 2286 A
3420({)S
3060 V
(24019)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
3150 V
(24020)210 648 A
2034(if)S
(\(_res.options)546 2160 A
2748(&)S
(RES_DEBUG\))420 2832 A
3240 V
(24021)210 648 A
(printf\("size)504 2370 A
(\(%d\))168 2916 A
(too)126 3126 A
(big\\n",)294 3294 A
(n\);)126 3630 A
3330 V
(24022)210 648 A
(#endif)252 1026 A
3420 V
(24023)210 648 A
(break;)252 2034 A
3510 V
(24024)210 648 A
1698(})S
3600 V
(24025)210 648 A
(bcopy\(cp,)378 1698 A
(*hap++)252 2118 A
2412(=)S
(bp,)126 2496 A
(n\);)126 2664 A
3690 V
(24026)210 648 A
1698(bp)S
(+=n;)168 1824 A
3780 V
(24027)210 648 A
1698(cp)S
1824(+=)S
1950(n;)S
3870 V
(24028)210 648 A
(haveanswer++;)546 1698 A
3960 V
(24029)210 648 A
1362(})S
4050 V
(24030)210 648 A
1362(if)S
(\(haveanswer\))504 1488 A
2034({)S
4140 V
(24031)210 648 A
(*ap)126 1698 A
1866(=)S
(NULL;)210 1950 A
4230 V
(24032)210 648 A
(#if)126 1026 A
(BSD)126 1194 A
1362(>=)S
1488(43)S
1614(||)S
(defined\(h_addr\))630 1740 A
2706(/*)S
(new-style)378 2832 A
(hostent)294 3252 A
(structure)378 3588 A
4008(*/)S
4320 V
(24033)210 648 A
(*hap)168 1698 A
1908(=)S
(NULL;)210 1992 A
4410 V
(24034)210 648 A
(#else)210 1026 A
4500 V
(24035)210 648 A
(host.h_addr)462 1698 A
2202(=)S
(h_addr_ptrs[0];)630 2286 A
4590 V
(24036)210 648 A
(#endif)252 1026 A
4680 V
(24037)210 648 A
(return)252 1698 A
(\(&host\);)336 1992 A
4770 V
(24038)210 648 A
1362(})S
(else)168 1446 A
1656({)S
4860 V
(24039)210 648 A
(h_errno)294 1698 A
2034(=)S
(TRY_AGAIN;)420 2118 A
4950 V
(24040)210 648 A
(return)252 1698 A
(\(\(struct)336 1992 A
(hostent)294 2370 A
2706(*\))S
(NULL\);)252 2832 A
5040 V
(24041)210 648 A
1362(})S
5130 V
(24042)210 648 A
1026(})S
5310 V
(24044)210 648 A
(struct)252 1026 A
(hostent)294 1320 A
1656(*)S
5400 V
(24045)210 648 A
(gethostbyname\(name\))798 1026 A
5490 V
(24046)210 648 A
(char)168 1362 A
(*name;)252 1572 A
5580 V
(24047)210 648 A
1026({)S
5670 V
(24048)210 648 A
(querybuf_t)420 1362 A
(buf;)168 1824 A
5760 V
(24049)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp;)168 1950 A
5850 V
(24050)210 648 A
(int)126 1362 A
1530(n;)S
5940 V
(24051)210 648 A
6030 V
(24052)210 648 A
1362(/*)S
6120 V
(24053)210 648 A
1404(*)S
(disallow)336 1488 A
(names)210 1866 A
(consisting)420 2118 A
(only)168 2580 A
2790(of)S
(digits/dots,)504 2916 A
(unless)252 3462 A
6210 V
(24054)210 648 A
1404(*)S
(they)168 1488 A
(end)126 1698 A
1866(in)S
1992(a)S
(dot.)168 2076 A
8418 V
EP
%%Page: 216 216
BP
/slant 0 def
/height 0 def
630 V
12 B
(216)180 648 A
11 R
1932(File:)S
(src/lib/ip/gethnmadr.c)978 2165 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(24055)210 648 A
1404(*/)S
990 V
(24056)210 648 A
1362(if)S
(\(isdigit\(name[0]\)\))756 1488 A
1080 V
(24057)210 648 A
(for)126 1698 A
(\(cp)126 1866 A
2034(=)S
(name;;)252 2118 A
(++cp\))210 2412 A
2664({)S
1170 V
(24058)210 648 A
2034(if)S
(\(!*cp\))252 2160 A
2454({)S
1260 V
(24059)210 648 A
2370(if)S
(\(*--cp)252 2496 A
2790(==)S
('.'\))168 2916 A
1350 V
(24060)210 648 A
(break;)252 2706 A
1440 V
(24061)210 648 A
2370(/*)S
1530 V
(24062)210 648 A
2412(*)S
(All-numeric,)504 2496 A
3042(no)S
(dot)126 3168 A
3336(at)S
(the)126 3462 A
(end.)168 3630 A
1620 V
(24063)210 648 A
2412(*)S
(Fake)168 2496 A
2706(up)S
2832(a)S
(hostent)294 2916 A
3252(as)S
3378(if)S
(we'd)168 3504 A
(actually)336 3714 A
1710 V
(24064)210 648 A
2412(*)S
(done)168 2496 A
2706(a)S
(lookup.)294 2790 A
(What)168 3168 A
3378(if)S
(someone)294 3504 A
(types)210 3840 A
1800 V
(24065)210 648 A
2412(*)S
(255.255.255.255?)672 2496 A
(The)126 3252 A
(test)168 3420 A
(below)210 3630 A
(will)168 3882 A
1890 V
(24066)210 648 A
2412(*)S
(succeed)294 2496 A
(spuriously...)546 2832 A
(???)126 3420 A
1980 V
(24067)210 648 A
2412(*/)S
2070 V
(24068)210 648 A
2370(if)S
(\(\(host_addr.s_addr)756 2496 A
3294(=)S
(inet_addr\(name\)\))672 3378 A
4092(==)S
(-1\))126 4218 A
4386({)S
2160 V
(24069)210 648 A
(h_errno)294 2706 A
3042(=)S
(HOST_NOT_FOUND;)630 3126 A
2250 V
(24070)210 648 A
(return\(\(struct)588 2706 A
(hostent)294 3336 A
3672(*\))S
(NULL\);)252 3798 A
2340 V
(24071)210 648 A
2370(})S
2430 V
(24072)210 648 A
(host.h_name)462 2370 A
2874(=)S
(name;)210 2958 A
2520 V
(24073)210 648 A
(host.h_aliases)588 2370 A
3000(=)S
(host_aliases;)546 3084 A
2610 V
(24074)210 648 A
(host_aliases[0])630 2370 A
3042(=)S
(NULL;)210 3126 A
2700 V
(24075)210 648 A
(host.h_addrtype)630 2370 A
3042(=)S
(AF_INET;)336 3126 A
2790 V
(24076)210 648 A
(host.h_length)546 2370 A
2958(=)S
(sizeof\(u_long\);)630 3042 A
2880 V
(24077)210 648 A
(h_addr_ptrs[0])588 2370 A
3000(=)S
(\(char)210 3084 A
(*\)&host_addr;)546 3336 A
2970 V
(24078)210 648 A
(h_addr_ptrs[1])588 2370 A
3000(=)S
(\(char)210 3084 A
(*\)0;)168 3336 A
3060 V
(24079)210 648 A
(#if)126 1026 A
(BSD)126 1194 A
1362(>=)S
1488(43)S
1614(||)S
(defined\(h_addr\))630 1740 A
2706(/*)S
(new-style)378 2832 A
(hostent)294 3252 A
(structure)378 3588 A
4008(*/)S
3150 V
(24080)210 648 A
(host.h_addr_list)672 2370 A
3084(=)S
(h_addr_ptrs;)504 3168 A
3240 V
(24081)210 648 A
(#else)210 1026 A
3330 V
(24082)210 648 A
(host.h_addr)462 2370 A
2874(=)S
(h_addr_ptrs[0];)630 2958 A
3420 V
(24083)210 648 A
(#endif)252 1026 A
3510 V
(24084)210 648 A
(return)252 2370 A
(\(&host\);)336 2664 A
3600 V
(24085)210 648 A
2034(})S
3690 V
(24086)210 648 A
2034(if)S
(\(!isdigit\(*cp\))588 2160 A
2790(&&)S
(*cp)126 2916 A
3084(!=)S
('.'\))168 3210 A
3780 V
(24087)210 648 A
(break;)252 2370 A
3870 V
(24088)210 648 A
1698(})S
3960 V
(24089)210 648 A
4050 V
(24090)210 648 A
1362(if)S
(\(\(n)126 1488 A
1656(=)S
(res_search\(name,)672 1740 A
(C_IN,)210 2454 A
(T_A,)168 2706 A
(buf.buf,)336 2916 A
(sizeof\(buf\)\)\))546 3294 A
3882(<)S
3966(0\))S
4092({)S
4140 V
(24091)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4230 V
(24092)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
4320 V
(24093)210 648 A
(printf\("res_search)756 2034 A
(failed\\n"\);)462 2832 A
4410 V
(24094)210 648 A
(#endif)252 1026 A
4500 V
(24095)210 648 A
(return)252 1698 A
(\(\(struct)336 1992 A
(hostent)294 2370 A
2706(*\))S
(NULL\);)252 2832 A
4590 V
(24096)210 648 A
1362(})S
4680 V
(24097)210 648 A
(return)252 1362 A
(\(getanswer\(&buf,)672 1656 A
2370(n,)S
(0\)\);)168 2496 A
4770 V
(24098)210 648 A
1026(})S
4950 V
(24100)210 648 A
(struct)252 1026 A
(hostent)294 1320 A
1656(*)S
5040 V
(24101)210 648 A
(gethostbyaddr\(addr,)798 1026 A
(len,)168 1866 A
(type\))210 2076 A
5130 V
(24102)210 648 A
(const)210 1362 A
(char)168 1614 A
(*addr;)252 1824 A
5220 V
(24103)210 648 A
(int)126 1362 A
(len,)168 1530 A
(type;)210 1740 A
5310 V
(24104)210 648 A
1026({)S
5400 V
(24105)210 648 A
(int)126 1362 A
1530(n;)S
5490 V
(24106)210 648 A
(querybuf_t)420 1362 A
(buf;)168 1824 A
5580 V
(24107)210 648 A
(register)336 1362 A
(struct)252 1740 A
(hostent)294 2034 A
(*hp;)168 2370 A
5670 V
(24108)210 648 A
(char)168 1362 A
(qbuf[MAXDNAME];)630 1572 A
5760 V
(24109)210 648 A
5850 V
(24110)210 648 A
1362(if)S
(\(type)210 1488 A
1740(!=)S
(AF_INET\))336 1866 A
5940 V
(24111)210 648 A
(return)252 1698 A
(\(\(struct)336 1992 A
(hostent)294 2370 A
2706(*\))S
(NULL\);)252 2832 A
6030 V
(24112)210 648 A
(\(void\)sprintf\(qbuf,)798 1362 A
("%u.%u.%u.%u.in-addr.arpa",)1134 2202 A
6120 V
(24113)210 648 A
(\(\(unsigned\)addr[3])756 1698 A
2496(&)S
(0xff\),)252 2580 A
6210 V
(24114)210 648 A
(\(\(unsigned\)addr[2])756 1698 A
2496(&)S
(0xff\),)252 2580 A
8418 V
EP
%%Page: 217 217
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1932(File:)S
(src/lib/ip/gethnmadr.c)978 2165 A
12 B
(217)180 4248 A
900 V
7 LST
(24115)210 648 A
(\(\(unsigned\)addr[1])756 1698 A
2496(&)S
(0xff\),)252 2580 A
990 V
(24116)210 648 A
(\(\(unsigned\)addr[0])756 1698 A
2496(&)S
(0xff\)\);)294 2580 A
1080 V
(24117)210 648 A
1362(n)S
1446(=)S
(res_query\(qbuf,)630 1530 A
(C_IN,)210 2202 A
(T_PTR,)252 2454 A
(\(u8_t)210 2748 A
(*\)&buf,)294 3000 A
(sizeof\(buf\)\);)546 3336 A
1170 V
(24118)210 648 A
1362(if)S
1488(\(n)S
1614(<)S
1698(0\))S
1824({)S
1260 V
(24119)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1350 V
(24120)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
1440 V
(24121)210 648 A
(printf\("res_query)714 2034 A
(failed\\n"\);)462 2790 A
1530 V
(24122)210 648 A
(#endif)252 1026 A
1620 V
(24123)210 648 A
(return)252 1698 A
(\(\(struct)336 1992 A
(hostent)294 2370 A
2706(*\))S
(NULL\);)252 2832 A
1710 V
(24124)210 648 A
1362(})S
1800 V
(24125)210 648 A
1362(hp)S
1488(=)S
(getanswer\(&buf,)630 1572 A
2244(n,)S
(1\);)126 2370 A
1890 V
(24126)210 648 A
1362(if)S
(\(hp)126 1488 A
1656(==)S
(NULL\))210 1782 A
1980 V
(24127)210 648 A
(return)252 1698 A
(\(\(struct)336 1992 A
(hostent)294 2370 A
2706(*\))S
(NULL\);)252 2832 A
2070 V
(24128)210 648 A
(hp->h_addrtype)588 1362 A
1992(=)S
(type;)210 2076 A
2160 V
(24129)210 648 A
(hp->h_length)504 1362 A
1908(=)S
(len;)168 1992 A
2250 V
(24130)210 648 A
(h_addr_ptrs[0])588 1362 A
1992(=)S
(\(char)210 2076 A
(*\)&host_addr;)546 2328 A
2340 V
(24131)210 648 A
(h_addr_ptrs[1])588 1362 A
1992(=)S
(\(char)210 2076 A
(*\)0;)168 2328 A
2430 V
(24132)210 648 A
(host_addr)378 1362 A
1782(=)S
(*\(struct)336 1866 A
(in_addr)294 2244 A
(*\)addr;)294 2580 A
2520 V
(24133)210 648 A
(#if)126 1026 A
(BSD)126 1194 A
1362(<)S
1446(43)S
1572(&&)S
(!defined\(h_addr\))672 1698 A
2706(/*)S
(new-style)378 2832 A
(hostent)294 3252 A
(structure)378 3588 A
4008(*/)S
2610 V
(24134)210 648 A
(hp->h_addr)420 1362 A
1824(=)S
(h_addr_ptrs[0];)630 1908 A
2700 V
(24135)210 648 A
(#endif)252 1026 A
2790 V
(24136)210 648 A
(return\(hp\);)462 1362 A
2880 V
(24137)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/ip/gethostent.c)966 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(24200)210 648 A
1026(/*)S
3690 V
(24201)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1985,)210 1740 A
(1988)168 1992 A
(Regents)294 2202 A
2538(of)S
(the)126 2664 A
(University)420 2832 A
3294(of)S
(California.)462 3420 A
3780 V
(24202)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
3870 V
(24203)210 648 A
1068(*)S
3960 V
(24204)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
4050 V
(24205)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
4140 V
(24206)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
4230 V
(24207)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
4320 V
(24208)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
4410 V
(24209)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
4500 V
(24210)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
4590 V
(24211)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
4680 V
(24212)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
4770 V
(24213)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
4860 V
(24214)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
4950 V
(24215)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
5040 V
(24216)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
5130 V
(24217)210 648 A
1068(*/)S
5220 V
(24218)210 648 A
5310 V
(24219)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
5400 V
(24220)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)gethostnamadr.c)840 1992 A
(6.41)168 3042 A
(\(Berkeley\))420 3252 A
(6/1/90";)336 3714 A
5490 V
(24221)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
5580 V
(24222)210 648 A
5670 V
(24223)210 648 A
1026(/*)S
(Prefix)252 1152 A
(the)126 1446 A
(functions)378 1614 A
(defined)294 2034 A
(here)168 2370 A
(with)168 2580 A
(underscores)462 2790 A
3294(to)S
(distinguish)462 3420 A
(them)168 3924 A
5760 V
(24224)210 648 A
1068(*)S
(from)168 1152 A
(the)126 1362 A
(newer)210 1530 A
(replacements)504 1782 A
2328(in)S
(the)126 2454 A
(resolver)336 2622 A
(library.)336 3000 A
5850 V
(24225)210 648 A
1068(*/)S
5940 V
(24226)210 648 A
(#define)294 1026 A
(sethostent)420 1362 A
(_sethostent)462 2034 A
6030 V
(24227)210 648 A
(#define)294 1026 A
(endhostent)420 1362 A
(_endhostent)462 2034 A
6120 V
(24228)210 648 A
(#define)294 1026 A
(gethostent)420 1362 A
(_gethostent)462 2034 A
6210 V
(24229)210 648 A
(#define)294 1026 A
(gethostbyname)546 1362 A
(_gethostbyname)588 2034 A
8418 V
EP
%%Page: 218 218
BP
/slant 0 def
/height 0 def
630 V
12 B
(218)180 648 A
11 R
1941(File:)S
(src/lib/ip/gethostent.c)960 2174 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(24230)210 648 A
(#define)294 1026 A
(gethostbyaddr)546 1362 A
(_gethostbyaddr)588 2034 A
990 V
(24231)210 648 A
1080 V
(24232)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
1170 V
(24233)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
1260 V
(24234)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
1350 V
(24235)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
1440 V
(24236)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1530 V
(24237)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1620 V
(24238)210 648 A
1710 V
(24239)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
1800 V
(24240)210 648 A
(#include)336 1026 A
(<net/gen/nameser.h>)798 1404 A
1890 V
(24241)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
1980 V
(24242)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
2070 V
(24243)210 648 A
(#include)336 1026 A
(<net/gen/inet.h>)672 1404 A
2160 V
(24244)210 648 A
(#include)336 1026 A
(<net/gen/resolv.h>)756 1404 A
2250 V
(24245)210 648 A
(#include)336 1026 A
(<net/gen/socket.h>)756 1404 A
2340 V
(24246)210 648 A
(#else)210 1026 A
2430 V
(24247)210 648 A
(#include)336 1026 A
(<sys/param.h>)546 1404 A
2520 V
(24248)210 648 A
(#include)336 1026 A
(<sys/socket.h>)588 1404 A
2610 V
(24249)210 648 A
(#include)336 1026 A
(<netinet/in.h>)588 1404 A
2700 V
(24250)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
2790 V
(24251)210 648 A
(#include)336 1026 A
(<netdb.h>)378 1404 A
2880 V
(24252)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
2970 V
(24253)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
3060 V
(24254)210 648 A
(#include)336 1026 A
(<arpa/inet.h>)546 1404 A
3150 V
(24255)210 648 A
(#include)336 1026 A
(<arpa/nameser.h>)672 1404 A
3240 V
(24256)210 648 A
(#include)336 1026 A
(<resolv.h>)420 1404 A
3330 V
(24257)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
3420 V
(24258)210 648 A
3510 V
(24259)210 648 A
(#define)294 1026 A
(MAXALIASES)420 1362 A
2034(35)S
3600 V
(24260)210 648 A
(#define)294 1026 A
(MAXADDRS)336 1362 A
2034(35)S
3690 V
(24261)210 648 A
3780 V
(24262)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
3870 V
(24263)210 648 A
(typedef)294 1026 A
(u32_t)210 1362 A
(u_long;)294 1614 A
3960 V
(24264)210 648 A
(typedef)294 1026 A
(u16_t)210 1362 A
(u_short;)336 1614 A
4050 V
(24265)210 648 A
(typedef)294 1026 A
(u8_t)168 1362 A
(u_char;)294 1572 A
4140 V
(24266)210 648 A
4230 V
(24267)210 648 A
(#define)294 1026 A
(bcmp)168 1362 A
(memcmp)252 1698 A
4320 V
(24268)210 648 A
(#endif)252 1026 A
1320(/*)S
(_MINIX)252 1446 A
1740(*/)S
4410 V
(24269)210 648 A
4500 V
(24270)210 648 A
(static)252 1026 A
(struct)252 1320 A
(hostent)294 1614 A
(host;)210 1950 A
4590 V
(24271)210 648 A
(static)252 1026 A
(char)168 1320 A
(*host_aliases[MAXALIASES];)1092 1530 A
4680 V
(24272)210 648 A
(static)252 1026 A
(char)168 1320 A
(hostbuf[BUFSIZ+1];)756 1530 A
4770 V
(24273)210 648 A
(static)252 1026 A
(FILE)168 1320 A
(*hostf)252 1530 A
1824(=)S
(NULL;)210 1908 A
4860 V
(24274)210 648 A
(static)252 1026 A
(u_long)252 1320 A
(hostaddr[\(MAXADDRS+sizeof\(u_long\)-1\)/sizeof\(u_long\)];)2226 1614 A
4950 V
(24275)210 648 A
(static)252 1026 A
(char)168 1320 A
(*host_addrs[2];)630 1530 A
5040 V
(24276)210 648 A
(static)252 1026 A
(int)126 1320 A
(stayopen)336 1488 A
1866(=)S
1950(0;)S
5130 V
(24277)210 648 A
5220 V
(24278)210 648 A
(#ifndef)294 1026 A
(_MINIX)252 1362 A
5310 V
(24279)210 648 A
(char)168 1026 A
(*strpbrk\(\);)462 1236 A
5400 V
(24280)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
5490 V
(24281)210 648 A
5580 V
(24282)210 648 A
(void)168 1026 A
5670 V
(24283)210 648 A
(sethostent\(f\))546 1026 A
5760 V
(24284)210 648 A
(int)126 1362 A
1530(f;)S
5850 V
(24285)210 648 A
1026({)S
5940 V
(24286)210 648 A
1362(if)S
(\(hostf)252 1488 A
1782(==)S
(NULL\))210 1908 A
6030 V
(24287)210 648 A
(hostf)210 1698 A
1950(=)S
(fopen\(_PATH_HOSTS,)756 2034 A
("r")126 2832 A
3000(\);)S
6120 V
(24288)210 648 A
(else)168 1362 A
6210 V
(24289)210 648 A
(rewind\(hostf\);)588 1698 A
8418 V
EP
%%Page: 219 219
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1941(File:)S
(src/lib/ip/gethostent.c)960 2174 A
12 B
(219)180 4248 A
900 V
7 LST
(24290)210 648 A
(stayopen)336 1362 A
1740(|=)S
1866(f;)S
990 V
(24291)210 648 A
1026(})S
1170 V
(24293)210 648 A
(void)168 1026 A
1260 V
(24294)210 648 A
(endhostent\(\))504 1026 A
1350 V
(24295)210 648 A
1026({)S
1440 V
(24296)210 648 A
1362(if)S
(\(hostf)252 1488 A
1782(&&)S
(!stayopen\))420 1908 A
2370({)S
1530 V
(24297)210 648 A
(\(void\))252 1698 A
(fclose\(hostf\);)588 1992 A
1620 V
(24298)210 648 A
(hostf)210 1698 A
1950(=)S
(NULL;)210 2034 A
1710 V
(24299)210 648 A
1362(})S
1800 V
(24300)210 648 A
1026(})S
1980 V
(24302)210 648 A
(struct)252 1026 A
(hostent)294 1320 A
1656(*)S
2070 V
(24303)210 648 A
(gethostent\(\))504 1026 A
2160 V
(24304)210 648 A
1026({)S
2250 V
(24305)210 648 A
(char)168 1362 A
(*p;)126 1572 A
2340 V
(24306)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp,)168 1950 A
(**q;)168 2160 A
2430 V
(24307)210 648 A
2520 V
(24308)210 648 A
1362(if)S
(\(hostf)252 1488 A
1782(==)S
(NULL)168 1908 A
2118(&&)S
(\(hostf)252 2244 A
2538(=)S
(fopen\(_PATH_HOSTS,)756 2622 A
("r")126 3420 A
3588(\)\))S
3714(==)S
(NULL\))210 3840 A
2610 V
(24309)210 648 A
(return)252 1698 A
(\(NULL\);)294 1992 A
2700 V
(24310)210 648 A
(again:)252 1026 A
2790 V
(24311)210 648 A
1362(if)S
(\(\(p)126 1488 A
1656(=)S
(fgets\(hostbuf,)588 1740 A
(BUFSIZ,)294 2370 A
(hostf\)\))294 2706 A
3042(==)S
(NULL\))210 3168 A
2880 V
(24312)210 648 A
(return)252 1698 A
(\(NULL\);)294 1992 A
2970 V
(24313)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
('#'\))168 1782 A
3060 V
(24314)210 648 A
(goto)168 1698 A
(again;)252 1908 A
3150 V
(24315)210 648 A
1362(cp)S
1488(=)S
(strpbrk\(p,)420 1572 A
("#\\n"\);)294 2034 A
3240 V
(24316)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(==)S
(NULL\))210 1782 A
3330 V
(24317)210 648 A
(goto)168 1698 A
(again;)252 1908 A
3420 V
(24318)210 648 A
(*cp)126 1362 A
1530(=)S
('\\0';)210 1614 A
3510 V
(24319)210 648 A
1362(cp)S
1488(=)S
(strpbrk\(p,)420 1572 A
2034(")S
(\\t"\);)210 2118 A
3600 V
(24320)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(==)S
(NULL\))210 1782 A
3690 V
(24321)210 648 A
(goto)168 1698 A
(again;)252 1908 A
3780 V
(24322)210 648 A
(*cp++)210 1362 A
1614(=)S
('\\0';)210 1698 A
3870 V
(24323)210 648 A
1362(/*)S
(THIS)168 1488 A
(STUFF)210 1698 A
1950(IS)S
(INTERNET)336 2076 A
(SPECIFIC)336 2454 A
2832(*/)S
3960 V
(24324)210 648 A
(#if)126 1026 A
(BSD)126 1194 A
1362(>=)S
1488(43)S
1614(||)S
(defined\(h_addr\))630 1740 A
2706(/*)S
(new-style)378 2832 A
(hostent)294 3252 A
(structure)378 3588 A
4008(*/)S
4050 V
(24325)210 648 A
(host.h_addr_list)672 1362 A
2076(=)S
(host_addrs;)462 2160 A
4140 V
(24326)210 648 A
(#endif)252 1026 A
4230 V
(24327)210 648 A
(host.h_addr)462 1362 A
1866(=)S
(\(char)210 1950 A
2202(*\))S
(hostaddr;)378 2328 A
4320 V
(24328)210 648 A
(*\(\(u_long)378 1362 A
(*\)host.h_addr\))588 1782 A
2412(=)S
(inet_addr\(p\);)546 2496 A
4410 V
(24329)210 648 A
(host.h_length)546 1362 A
1950(=)S
(sizeof)252 2034 A
(\(u_long\);)378 2328 A
4500 V
(24330)210 648 A
(host.h_addrtype)630 1362 A
2034(=)S
(AF_INET;)336 2118 A
4590 V
(24331)210 648 A
(while)210 1362 A
(\(*cp)168 1614 A
1824(==)S
1950(')S
2034(')S
2118(||)S
(*cp)126 2244 A
2412(==)S
('\\t'\))210 2538 A
4680 V
(24332)210 648 A
(cp++;)210 1698 A
4770 V
(24333)210 648 A
(host.h_name)462 1362 A
1866(=)S
(cp;)126 1950 A
4860 V
(24334)210 648 A
1362(q)S
1446(=)S
(host.h_aliases)588 1530 A
2160(=)S
(host_aliases;)546 2244 A
4950 V
(24335)210 648 A
1362(cp)S
1488(=)S
(strpbrk\(cp,)462 1572 A
2076(")S
(\\t"\);)210 2160 A
5040 V
(24336)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(!=)S
(NULL\))210 1782 A
5130 V
(24337)210 648 A
(*cp++)210 1698 A
1950(=)S
('\\0';)210 2034 A
5220 V
(24338)210 648 A
(while)210 1362 A
(\(cp)126 1614 A
1782(&&)S
(*cp\))168 1908 A
2118({)S
5310 V
(24339)210 648 A
1698(if)S
(\(*cp)168 1824 A
2034(==)S
2160(')S
2244(')S
2328(||)S
(*cp)126 2454 A
2622(==)S
('\\t'\))210 2748 A
3000({)S
5400 V
(24340)210 648 A
(cp++;)210 2034 A
5490 V
(24341)210 648 A
(continue;)378 2034 A
5580 V
(24342)210 648 A
1698(})S
5670 V
(24343)210 648 A
1698(if)S
1824(\(q)S
1950(<)S
(&host_aliases[MAXALIASES)1008 2034 A
3084(-)S
(1]\))126 3168 A
5760 V
(24344)210 648 A
(*q++)168 2034 A
2244(=)S
(cp;)126 2328 A
5850 V
(24345)210 648 A
1698(cp)S
1824(=)S
(strpbrk\(cp,)462 1908 A
2412(")S
(\\t"\);)210 2496 A
5940 V
(24346)210 648 A
1698(if)S
(\(cp)126 1824 A
1992(!=)S
(NULL\))210 2118 A
6030 V
(24347)210 648 A
(*cp++)210 2034 A
2286(=)S
('\\0';)210 2370 A
6120 V
(24348)210 648 A
1362(})S
6210 V
(24349)210 648 A
1362(*q)S
1488(=)S
(NULL;)210 1572 A
8418 V
EP
%%Page: 220 220
BP
/slant 0 def
/height 0 def
630 V
12 B
(220)180 648 A
11 R
1941(File:)S
(src/lib/ip/gethostent.c)960 2174 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(24350)210 648 A
(return)252 1362 A
(\(&host\);)336 1656 A
990 V
(24351)210 648 A
1026(})S
1170 V
(24353)210 648 A
(struct)252 1026 A
(hostent)294 1320 A
1656(*)S
1260 V
(24354)210 648 A
(gethostbyname\(name\))798 1026 A
1350 V
(24355)210 648 A
(char)168 1362 A
(*name;)252 1572 A
1440 V
(24356)210 648 A
1026({)S
1530 V
(24357)210 648 A
(register)336 1362 A
(struct)252 1740 A
(hostent)294 2034 A
(*p;)126 2370 A
1620 V
(24358)210 648 A
(register)336 1362 A
(char)168 1740 A
(**cp;)210 1950 A
1710 V
(24359)210 648 A
1800 V
(24360)210 648 A
(sethostent\(0\);)588 1362 A
1890 V
(24361)210 648 A
(while)210 1362 A
1614(\(p)S
1740(=)S
(gethostent\(\)\))546 1824 A
2412({)S
1980 V
(24362)210 648 A
1698(if)S
(\(strcasecmp\(p->h_name,)924 1824 A
(name\))210 2790 A
3042(==)S
3168(0\))S
2070 V
(24363)210 648 A
(break;)252 2034 A
2160 V
(24364)210 648 A
(for)126 1698 A
(\(cp)126 1866 A
2034(=)S
(p->h_aliases;)546 2118 A
(*cp)126 2706 A
2874(!=)S
3000(0;)S
(cp++\))210 3126 A
2250 V
(24365)210 648 A
2034(if)S
(\(strcasecmp\(*cp,)672 2160 A
(name\))210 2874 A
3126(==)S
3252(0\))S
2340 V
(24366)210 648 A
(goto)168 2370 A
(found;)252 2580 A
2430 V
(24367)210 648 A
1362(})S
2520 V
(24368)210 648 A
(found:)252 1026 A
2610 V
(24369)210 648 A
(endhostent\(\);)546 1362 A
2700 V
(24370)210 648 A
(return)252 1362 A
(\(p\);)168 1656 A
2790 V
(24371)210 648 A
1026(})S
2970 V
(24373)210 648 A
(struct)252 1026 A
(hostent)294 1320 A
1656(*)S
3060 V
(24374)210 648 A
(gethostbyaddr\(addr,)798 1026 A
(len,)168 1866 A
(type\))210 2076 A
3150 V
(24375)210 648 A
(const)210 1362 A
(char)168 1614 A
(*addr;)252 1824 A
3240 V
(24376)210 648 A
(int)126 1362 A
(len,)168 1530 A
(type;)210 1740 A
3330 V
(24377)210 648 A
1026({)S
3420 V
(24378)210 648 A
(register)336 1362 A
(struct)252 1740 A
(hostent)294 2034 A
(*p;)126 2370 A
3510 V
(24379)210 648 A
3600 V
(24380)210 648 A
(sethostent\(0\);)588 1362 A
3690 V
(24381)210 648 A
(while)210 1362 A
1614(\(p)S
1740(=)S
(gethostent\(\)\))546 1824 A
3780 V
(24382)210 648 A
1698(if)S
(\(p->h_addrtype)588 1824 A
2454(==)S
(type)168 2580 A
2790(&&)S
(!bcmp\(p->h_addr,)672 2916 A
(addr,)210 3630 A
(len\)\))210 3882 A
3870 V
(24383)210 648 A
(break;)252 2034 A
3960 V
(24384)210 648 A
(endhostent\(\);)546 1362 A
4050 V
(24385)210 648 A
(return)252 1362 A
(\(p\);)168 1656 A
4140 V
(24386)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ip/gethostname.c)1008 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(24400)210 648 A
1026(/*)S
(gethostname\(2\))588 1152 A
(system)252 1782 A
(call)168 2076 A
(emulation)378 2286 A
2706(*/)S
5040 V
(24401)210 648 A
5130 V
(24402)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
5220 V
(24403)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
5310 V
(24404)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5400 V
(24405)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5490 V
(24406)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5580 V
(24407)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
5670 V
(24408)210 648 A
5760 V
(24409)210 648 A
(#define)294 1026 A
(HOSTNAME_FILE)546 1362 A
("/etc/hostname.file")840 1950 A
5850 V
(24410)210 648 A
5940 V
(24411)210 648 A
(int)126 1026 A
(gethostname\(char)672 1194 A
(*buf,)210 1908 A
(size_t)252 2160 A
(len\))168 2454 A
6030 V
(24412)210 648 A
1026({)S
6120 V
(24413)210 648 A
(int)126 1362 A
(fd;)126 1530 A
6210 V
(24414)210 648 A
(int)126 1362 A
1530(r;)S
8418 V
EP
%%Page: 221 221
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1889(File:)S
(src/lib/ip/gethostname.c)1065 2122 A
12 B
(221)180 4248 A
900 V
7 LST
(24415)210 648 A
(char)168 1362 A
(*nl;)168 1572 A
990 V
(24416)210 648 A
1080 V
(24417)210 648 A
1362(if)S
(\(\(fd=)210 1488 A
(open\(HOSTNAME_FILE,)798 1740 A
(O_RDONLY\)\))420 2580 A
3042(<)S
3126(0\))S
(return)252 3252 A
(-1;)126 3546 A
1170 V
(24418)210 648 A
1260 V
(24419)210 648 A
1362(r=)S
(read\(fd,)336 1488 A
(buf,)168 1866 A
(len\);)210 2076 A
1350 V
(24420)210 648 A
(close\(fd\);)420 1362 A
1440 V
(24421)210 648 A
1362(if)S
1488(\(r)S
1614(==)S
(-1\))126 1740 A
(return)252 1908 A
(-1;)126 2202 A
1530 V
(24422)210 648 A
1620 V
(24423)210 648 A
(buf[len-1]=)462 1362 A
('\\0';)210 1866 A
1710 V
(24424)210 648 A
1362(if)S
(\(\(nl=)210 1488 A
(strchr\(buf,)462 1740 A
('\\n'\)\))252 2244 A
2538(!=)S
(NULL\))210 2664 A
(*nl=)168 2916 A
('\\0';)210 3126 A
1800 V
(24425)210 648 A
(return)252 1362 A
1656(0;)S
1890 V
(24426)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ip/getproto.c)882 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(24500)210 648 A
1026(/*)S
2790 V
(24501)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
2880 V
(24502)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
2970 V
(24503)210 648 A
1068(*)S
3060 V
(24504)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
3150 V
(24505)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
3240 V
(24506)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
3330 V
(24507)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
3420 V
(24508)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
3510 V
(24509)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
3600 V
(24510)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
3690 V
(24511)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
3780 V
(24512)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
3870 V
(24513)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
3960 V
(24514)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
4050 V
(24515)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
4140 V
(24516)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
4230 V
(24517)210 648 A
1068(*/)S
4320 V
(24518)210 648 A
4410 V
(24519)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
4500 V
(24520)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)getproto.c)630 1992 A
(5.6)126 2706 A
(\(Berkeley\))420 2874 A
(6/1/90";)336 3336 A
4590 V
(24521)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
4680 V
(24522)210 648 A
4770 V
(24523)210 648 A
(#include)336 1026 A
(<stddef.h>)420 1404 A
4860 V
(24524)210 648 A
4950 V
(24525)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
5040 V
(24526)210 648 A
(#include)336 1026 A
(<ansi.h>)336 1404 A
5130 V
(24527)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
5220 V
(24528)210 648 A
(#endif)252 1026 A
5310 V
(24529)210 648 A
5400 V
(24530)210 648 A
(extern)252 1026 A
(int)126 1320 A
(_proto_stayopen;)672 1488 A
5490 V
(24531)210 648 A
5580 V
(24532)210 648 A
(struct)252 1026 A
(protoent)336 1320 A
1698(*)S
5670 V
(24533)210 648 A
(getprotobynumber\(proto\))966 1026 A
5760 V
(24534)210 648 A
(register)336 1362 A
(int)126 1740 A
(proto;)252 1908 A
5850 V
(24535)210 648 A
1026({)S
5940 V
(24536)210 648 A
(register)336 1362 A
(struct)252 1740 A
(protoent)336 2034 A
(*p;)126 2412 A
6030 V
(24537)210 648 A
6120 V
(24538)210 648 A
(setprotoent\(_proto_stayopen\);)1218 1362 A
6210 V
(24539)210 648 A
(while)210 1362 A
1614(\(p)S
1740(=)S
(getprotoent\(\)\))588 1824 A
8418 V
EP
%%Page: 222 222
BP
/slant 0 def
/height 0 def
630 V
12 B
(222)180 648 A
11 R
1985(File:)S
(src/lib/ip/getproto.c)873 2218 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(24540)210 648 A
1698(if)S
(\(p->p_proto)462 1824 A
2328(==)S
(proto\))252 2454 A
990 V
(24541)210 648 A
(break;)252 2034 A
1080 V
(24542)210 648 A
1362(if)S
(\(!_proto_stayopen\))756 1488 A
1170 V
(24543)210 648 A
(endprotoent\(\);)588 1698 A
1260 V
(24544)210 648 A
(return)252 1362 A
(\(p\);)168 1656 A
1350 V
(24545)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ip/getprotoent.c)1008 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(24600)210 648 A
1026(/*)S
2340 V
(24601)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
2430 V
(24602)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
2520 V
(24603)210 648 A
1068(*)S
2610 V
(24604)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
2700 V
(24605)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
2790 V
(24606)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
2880 V
(24607)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
2970 V
(24608)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
3060 V
(24609)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
3150 V
(24610)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
3240 V
(24611)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
3330 V
(24612)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
3420 V
(24613)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
3510 V
(24614)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
3600 V
(24615)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
3690 V
(24616)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
3780 V
(24617)210 648 A
1068(*/)S
3870 V
(24618)210 648 A
3960 V
(24619)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
4050 V
(24620)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)getprotoent.c)756 1992 A
(5.7)126 3042 A
(\(Berkeley\))420 3210 A
(6/1/90";)336 3672 A
4140 V
(24621)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
4230 V
(24622)210 648 A
4320 V
(24623)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
4410 V
(24624)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
4500 V
(24625)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4590 V
(24626)210 648 A
4680 V
(24627)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
4770 V
(24628)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
4860 V
(24629)210 648 A
4950 V
(24630)210 648 A
(static)252 1026 A
(char)168 1320 A
(*any)168 1530 A
(_ARGS\(\()294 1740 A
(char)168 2076 A
(*cp,)168 2286 A
(char)168 2496 A
(*match)252 2706 A
(\)\);)126 3000 A
5040 V
(24631)210 648 A
(#endif)252 1026 A
5130 V
(24632)210 648 A
5220 V
(24633)210 648 A
(#define)294 1026 A
(MAXALIASES)420 1362 A
2034(35)S
5310 V
(24634)210 648 A
5400 V
(24635)210 648 A
(static)252 1026 A
(FILE)168 1320 A
(*protof)294 1530 A
1866(=)S
(NULL;)210 1950 A
5490 V
(24636)210 648 A
(static)252 1026 A
(char)168 1320 A
(line[BUFSIZ+1];)630 1530 A
5580 V
(24637)210 648 A
(static)252 1026 A
(struct)252 1320 A
(protoent)336 1614 A
(proto;)252 1992 A
5670 V
(24638)210 648 A
(static)252 1026 A
(char)168 1320 A
(*proto_aliases[MAXALIASES];)1134 1530 A
5760 V
(24639)210 648 A
(int)126 1026 A
(_proto_stayopen;)672 1194 A
5850 V
(24640)210 648 A
5940 V
(24641)210 648 A
(void)168 1026 A
6030 V
(24642)210 648 A
(setprotoent\(f\))588 1026 A
6120 V
(24643)210 648 A
(int)126 1362 A
1530(f;)S
6210 V
(24644)210 648 A
1026({)S
8418 V
EP
%%Page: 223 223
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1917(File:)S
(src/lib/ip/getprotoent.c)1009 2150 A
12 B
(223)180 4248 A
900 V
7 LST
(24645)210 648 A
1362(if)S
(\(protof)294 1488 A
1824(==)S
(NULL\))210 1950 A
990 V
(24646)210 648 A
(protof)252 1698 A
1992(=)S
(fopen\(_PATH_PROTOCOLS,)924 2076 A
("r")126 3042 A
3210(\);)S
1080 V
(24647)210 648 A
(else)168 1362 A
1170 V
(24648)210 648 A
(rewind\(protof\);)630 1698 A
1260 V
(24649)210 648 A
(_proto_stayopen)630 1362 A
2034(|=)S
2160(f;)S
1350 V
(24650)210 648 A
1026(})S
1530 V
(24652)210 648 A
(void)168 1026 A
1620 V
(24653)210 648 A
(endprotoent\(\))546 1026 A
1710 V
(24654)210 648 A
1026({)S
1800 V
(24655)210 648 A
1362(if)S
(\(protof\))336 1488 A
1866({)S
1890 V
(24656)210 648 A
(fclose\(protof\);)630 1698 A
1980 V
(24657)210 648 A
(protof)252 1698 A
1992(=)S
(NULL;)210 2076 A
2070 V
(24658)210 648 A
1362(})S
2160 V
(24659)210 648 A
(_proto_stayopen)630 1362 A
2034(=)S
2118(0;)S
2250 V
(24660)210 648 A
1026(})S
2430 V
(24662)210 648 A
(struct)252 1026 A
(protoent)336 1320 A
1698(*)S
2520 V
(24663)210 648 A
(getprotoent\(\))546 1026 A
2610 V
(24664)210 648 A
1026({)S
2700 V
(24665)210 648 A
(char)168 1362 A
(*p;)126 1572 A
2790 V
(24666)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp,)168 1950 A
(**q;)168 2160 A
2880 V
(24667)210 648 A
2970 V
(24668)210 648 A
1362(if)S
(\(protof)294 1488 A
1824(==)S
(NULL)168 1950 A
2160(&&)S
(\(protof)294 2286 A
2622(=)S
(fopen\(_PATH_PROTOCOLS,)924 2706 A
("r")126 3672 A
3840(\)\))S
3966(==)S
(NULL\))210 4092 A
3060 V
(24669)210 648 A
(return)252 1698 A
(\(NULL\);)294 1992 A
3150 V
(24670)210 648 A
(again:)252 1026 A
3240 V
(24671)210 648 A
1362(if)S
(\(\(p)126 1488 A
1656(=)S
(fgets\(line,)462 1740 A
(BUFSIZ,)294 2244 A
(protof\)\))336 2580 A
2958(==)S
(NULL\))210 3084 A
3330 V
(24672)210 648 A
(return)252 1698 A
(\(NULL\);)294 1992 A
3420 V
(24673)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
('#'\))168 1782 A
3510 V
(24674)210 648 A
(goto)168 1698 A
(again;)252 1908 A
3600 V
(24675)210 648 A
1362(cp)S
1488(=)S
(any\(p,)252 1572 A
("#\\n"\);)294 1866 A
3690 V
(24676)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(==)S
(NULL\))210 1782 A
3780 V
(24677)210 648 A
(goto)168 1698 A
(again;)252 1908 A
3870 V
(24678)210 648 A
(*cp)126 1362 A
1530(=)S
('\\0';)210 1614 A
3960 V
(24679)210 648 A
(proto.p_name)504 1362 A
1908(=)S
1992(p;)S
4050 V
(24680)210 648 A
1362(cp)S
1488(=)S
(any\(p,)252 1572 A
1866(")S
(\\t"\);)210 1950 A
4140 V
(24681)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(==)S
(NULL\))210 1782 A
4230 V
(24682)210 648 A
(goto)168 1698 A
(again;)252 1908 A
4320 V
(24683)210 648 A
(*cp++)210 1362 A
1614(=)S
('\\0';)210 1698 A
4410 V
(24684)210 648 A
(while)210 1362 A
(\(*cp)168 1614 A
1824(==)S
1950(')S
2034(')S
2118(||)S
(*cp)126 2244 A
2412(==)S
('\\t'\))210 2538 A
4500 V
(24685)210 648 A
(cp++;)210 1698 A
4590 V
(24686)210 648 A
1362(p)S
1446(=)S
(any\(cp,)294 1530 A
1866(")S
(\\t"\);)210 1950 A
4680 V
(24687)210 648 A
1362(if)S
1488(\(p)S
1614(!=)S
(NULL\))210 1740 A
4770 V
(24688)210 648 A
(*p++)168 1698 A
1908(=)S
('\\0';)210 1992 A
4860 V
(24689)210 648 A
(proto.p_proto)546 1362 A
1950(=)S
(atoi\(cp\);)378 2034 A
4950 V
(24690)210 648 A
1362(q)S
1446(=)S
(proto.p_aliases)630 1530 A
2202(=)S
(proto_aliases;)588 2286 A
5040 V
(24691)210 648 A
1362(if)S
1488(\(p)S
1614(!=)S
(NULL\))210 1740 A
1992({)S
5130 V
(24692)210 648 A
1698(cp)S
1824(=)S
1908(p;)S
5220 V
(24693)210 648 A
(while)210 1698 A
(\(cp)126 1950 A
2118(&&)S
(*cp\))168 2244 A
2454({)S
5310 V
(24694)210 648 A
2034(if)S
(\(*cp)168 2160 A
2370(==)S
2496(')S
2580(')S
2664(||)S
(*cp)126 2790 A
2958(==)S
('\\t'\))210 3084 A
3336({)S
5400 V
(24695)210 648 A
(cp++;)210 2370 A
5490 V
(24696)210 648 A
(continue;)378 2370 A
5580 V
(24697)210 648 A
2034(})S
5670 V
(24698)210 648 A
2034(if)S
2160(\(q)S
2286(<)S
(&proto_aliases[MAXALIASES)1050 2370 A
3462(-)S
(1]\))126 3546 A
5760 V
(24699)210 648 A
(*q++)168 2370 A
2580(=)S
(cp;)126 2664 A
5850 V
(24700)210 648 A
2034(cp)S
2160(=)S
(any\(cp,)294 2244 A
2580(")S
(\\t"\);)210 2664 A
5940 V
(24701)210 648 A
2034(if)S
(\(cp)126 2160 A
2328(!=)S
(NULL\))210 2454 A
6030 V
(24702)210 648 A
(*cp++)210 2370 A
2622(=)S
('\\0';)210 2706 A
6120 V
(24703)210 648 A
1698(})S
6210 V
(24704)210 648 A
1362(})S
8418 V
EP
%%Page: 224 224
BP
/slant 0 def
/height 0 def
630 V
12 B
(224)180 648 A
11 R
1917(File:)S
(src/lib/ip/getprotoent.c)1009 2150 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(24705)210 648 A
1362(*q)S
1488(=)S
(NULL;)210 1572 A
990 V
(24706)210 648 A
(return)252 1362 A
(\(&proto\);)378 1656 A
1080 V
(24707)210 648 A
1026(})S
1260 V
(24709)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
1350 V
(24710)210 648 A
(any\(cp,)294 1026 A
(match\))252 1362 A
1440 V
(24711)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp;)168 1950 A
1530 V
(24712)210 648 A
(char)168 1362 A
(*match;)294 1572 A
1620 V
(24713)210 648 A
1026({)S
1710 V
(24714)210 648 A
(register)336 1362 A
(char)168 1740 A
(*mp,)168 1950 A
2160(c;)S
1800 V
(24715)210 648 A
1890 V
(24716)210 648 A
(while)210 1362 A
1614(\(c)S
1740(=)S
(*cp\))168 1824 A
2034({)S
1980 V
(24717)210 648 A
(for)126 1698 A
(\(mp)126 1866 A
2034(=)S
(match;)252 2118 A
(*mp;)168 2412 A
(mp++\))210 2622 A
2070 V
(24718)210 648 A
2034(if)S
(\(*mp)168 2160 A
2370(==)S
2496(c\))S
2160 V
(24719)210 648 A
(return)252 2370 A
(\(cp\);)210 2664 A
2250 V
(24720)210 648 A
(cp++;)210 1698 A
2340 V
(24721)210 648 A
1362(})S
2430 V
(24722)210 648 A
(return)252 1362 A
(\(\(char)252 1656 A
(*\)0\);)210 1950 A
2520 V
(24723)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/ip/getservent.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(24800)210 648 A
1026(/*)S
3240 V
(24801)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
3330 V
(24802)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
3420 V
(24803)210 648 A
1068(*)S
3510 V
(24804)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
3600 V
(24805)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
3690 V
(24806)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
3780 V
(24807)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
3870 V
(24808)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
3960 V
(24809)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
4050 V
(24810)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
4140 V
(24811)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
4230 V
(24812)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
4320 V
(24813)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
4410 V
(24814)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
4500 V
(24815)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
4590 V
(24816)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
4680 V
(24817)210 648 A
1068(*/)S
4770 V
(24818)210 648 A
4860 V
(24819)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
4950 V
(24820)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)getservent.c)714 1992 A
(5.8)126 3042 A
(\(Berkeley\))420 3210 A
(6/1/90";)336 3672 A
5040 V
(24821)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
5130 V
(24822)210 648 A
5220 V
(24823)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
5310 V
(24824)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
5400 V
(24825)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5490 V
(24826)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5580 V
(24827)210 648 A
5670 V
(24828)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
5760 V
(24829)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
5850 V
(24830)210 648 A
5940 V
(24831)210 648 A
(#define)294 1026 A
(MAXALIASES)420 1362 A
2034(35)S
6030 V
(24832)210 648 A
6120 V
(24833)210 648 A
(static)252 1026 A
(FILE)168 1320 A
(*servf)252 1530 A
1824(=)S
(NULL;)210 1908 A
6210 V
(24834)210 648 A
(static)252 1026 A
(char)168 1320 A
(line[BUFSIZ+1];)630 1530 A
8418 V
EP
%%Page: 225 225
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1941(File:)S
(src/lib/ip/getservent.c)961 2174 A
12 B
(225)180 4248 A
900 V
7 LST
(24835)210 648 A
(static)252 1026 A
(struct)252 1320 A
(servent)294 1614 A
(serv;)210 1950 A
990 V
(24836)210 648 A
(static)252 1026 A
(char)168 1320 A
(*serv_aliases[MAXALIASES];)1092 1530 A
1080 V
(24837)210 648 A
(int)126 1026 A
(_serv_stayopen;)630 1194 A
1170 V
(24838)210 648 A
1260 V
(24839)210 648 A
(static)252 1026 A
(char)168 1320 A
(*any)168 1530 A
(_ARGS\(\()294 1740 A
(char)168 2076 A
(*cp,)168 2286 A
(char)168 2496 A
(*match)252 2706 A
(\)\);)126 3000 A
1350 V
(24840)210 648 A
1440 V
(24841)210 648 A
(void)168 1026 A
1530 V
(24842)210 648 A
(setservent\(f\))546 1026 A
1620 V
(24843)210 648 A
(int)126 1362 A
1530(f;)S
1710 V
(24844)210 648 A
1026({)S
1800 V
(24845)210 648 A
1362(if)S
(\(servf)252 1488 A
1782(==)S
(NULL\))210 1908 A
1890 V
(24846)210 648 A
(servf)210 1698 A
1950(=)S
(fopen\(_PATH_SERVICES,)882 2034 A
("r")126 2958 A
3126(\);)S
1980 V
(24847)210 648 A
(else)168 1362 A
2070 V
(24848)210 648 A
(rewind\(servf\);)588 1698 A
2160 V
(24849)210 648 A
(_serv_stayopen)588 1362 A
1992(|=)S
2118(f;)S
2250 V
(24850)210 648 A
1026(})S
2430 V
(24852)210 648 A
(void)168 1026 A
2520 V
(24853)210 648 A
(endservent\(\))504 1026 A
2610 V
(24854)210 648 A
1026({)S
2700 V
(24855)210 648 A
1362(if)S
(\(servf\))294 1488 A
1824({)S
2790 V
(24856)210 648 A
(fclose\(servf\);)588 1698 A
2880 V
(24857)210 648 A
(servf)210 1698 A
1950(=)S
(NULL;)210 2034 A
2970 V
(24858)210 648 A
1362(})S
3060 V
(24859)210 648 A
(_serv_stayopen)588 1362 A
1992(=)S
2076(0;)S
3150 V
(24860)210 648 A
1026(})S
3330 V
(24862)210 648 A
(struct)252 1026 A
(servent)294 1320 A
1656(*)S
3420 V
(24863)210 648 A
(getservent\(\))504 1026 A
3510 V
(24864)210 648 A
1026({)S
3600 V
(24865)210 648 A
(char)168 1362 A
(*p;)126 1572 A
3690 V
(24866)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp,)168 1950 A
(**q;)168 2160 A
3780 V
(24867)210 648 A
3870 V
(24868)210 648 A
1362(if)S
(\(servf)252 1488 A
1782(==)S
(NULL)168 1908 A
2118(&&)S
(\(servf)252 2244 A
2538(=)S
(fopen\(_PATH_SERVICES,)882 2622 A
("r")126 3546 A
3714(\)\))S
3840(==)S
(NULL\))210 3966 A
3960 V
(24869)210 648 A
(return)252 1698 A
(\(NULL\);)294 1992 A
4050 V
(24870)210 648 A
(again:)252 1026 A
4140 V
(24871)210 648 A
1362(if)S
(\(\(p)126 1488 A
1656(=)S
(fgets\(line,)462 1740 A
(BUFSIZ,)294 2244 A
(servf\)\))294 2580 A
2916(==)S
(NULL\))210 3042 A
4230 V
(24872)210 648 A
(return)252 1698 A
(\(NULL\);)294 1992 A
4320 V
(24873)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
('#'\))168 1782 A
4410 V
(24874)210 648 A
(goto)168 1698 A
(again;)252 1908 A
4500 V
(24875)210 648 A
1362(cp)S
1488(=)S
(any\(p,)252 1572 A
("#\\n"\);)294 1866 A
4590 V
(24876)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(==)S
(NULL\))210 1782 A
4680 V
(24877)210 648 A
(goto)168 1698 A
(again;)252 1908 A
4770 V
(24878)210 648 A
(*cp)126 1362 A
1530(=)S
('\\0';)210 1614 A
4860 V
(24879)210 648 A
(serv.s_name)462 1362 A
1866(=)S
1950(p;)S
4950 V
(24880)210 648 A
1362(p)S
1446(=)S
(any\(p,)252 1530 A
1824(")S
(\\t"\);)210 1908 A
5040 V
(24881)210 648 A
1362(if)S
1488(\(p)S
1614(==)S
(NULL\))210 1740 A
5130 V
(24882)210 648 A
(goto)168 1698 A
(again;)252 1908 A
5220 V
(24883)210 648 A
(*p++)168 1362 A
1572(=)S
('\\0';)210 1656 A
5310 V
(24884)210 648 A
(while)210 1362 A
(\(*p)126 1614 A
1782(==)S
1908(')S
1992(')S
2076(||)S
2202(*p)S
2328(==)S
('\\t'\))210 2454 A
5400 V
(24885)210 648 A
(p++;)168 1698 A
5490 V
(24886)210 648 A
1362(cp)S
1488(=)S
(any\(p,)252 1572 A
(",/"\);)252 1866 A
5580 V
(24887)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(==)S
(NULL\))210 1782 A
5670 V
(24888)210 648 A
(goto)168 1698 A
(again;)252 1908 A
5760 V
(24889)210 648 A
(*cp++)210 1362 A
1614(=)S
('\\0';)210 1698 A
5850 V
(24890)210 648 A
(serv.s_port)462 1362 A
1866(=)S
(htons\(\(u16_t\)atoi\(p\)\);)924 1950 A
5940 V
(24891)210 648 A
(serv.s_proto)504 1362 A
1908(=)S
(cp;)126 1992 A
6030 V
(24892)210 648 A
1362(q)S
1446(=)S
(serv.s_aliases)588 1530 A
2160(=)S
(serv_aliases;)546 2244 A
6120 V
(24893)210 648 A
1362(cp)S
1488(=)S
(any\(cp,)294 1572 A
1908(")S
(\\t"\);)210 1992 A
6210 V
(24894)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(!=)S
(NULL\))210 1782 A
8418 V
EP
%%Page: 226 226
BP
/slant 0 def
/height 0 def
630 V
12 B
(226)180 648 A
11 R
1941(File:)S
(src/lib/ip/getservent.c)961 2174 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(24895)210 648 A
(*cp++)210 1698 A
1950(=)S
('\\0';)210 2034 A
990 V
(24896)210 648 A
(while)210 1362 A
(\(cp)126 1614 A
1782(&&)S
(*cp\))168 1908 A
2118({)S
1080 V
(24897)210 648 A
1698(if)S
(\(*cp)168 1824 A
2034(==)S
2160(')S
2244(')S
2328(||)S
(*cp)126 2454 A
2622(==)S
('\\t'\))210 2748 A
3000({)S
1170 V
(24898)210 648 A
(cp++;)210 2034 A
1260 V
(24899)210 648 A
(continue;)378 2034 A
1350 V
(24900)210 648 A
1698(})S
1440 V
(24901)210 648 A
1698(if)S
1824(\(q)S
1950(<)S
(&serv_aliases[MAXALIASES)1008 2034 A
3084(-)S
(1]\))126 3168 A
1530 V
(24902)210 648 A
(*q++)168 2034 A
2244(=)S
(cp;)126 2328 A
1620 V
(24903)210 648 A
1698(cp)S
1824(=)S
(any\(cp,)294 1908 A
2244(")S
(\\t"\);)210 2328 A
1710 V
(24904)210 648 A
1698(if)S
(\(cp)126 1824 A
1992(!=)S
(NULL\))210 2118 A
1800 V
(24905)210 648 A
(*cp++)210 2034 A
2286(=)S
('\\0';)210 2370 A
1890 V
(24906)210 648 A
1362(})S
1980 V
(24907)210 648 A
1362(*q)S
1488(=)S
(NULL;)210 1572 A
2070 V
(24908)210 648 A
(return)252 1362 A
(\(&serv\);)336 1656 A
2160 V
(24909)210 648 A
1026(})S
2340 V
(24911)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
2430 V
(24912)210 648 A
(any\(cp,)294 1026 A
(match\))252 1362 A
2520 V
(24913)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp;)168 1950 A
2610 V
(24914)210 648 A
(char)168 1362 A
(*match;)294 1572 A
2700 V
(24915)210 648 A
1026({)S
2790 V
(24916)210 648 A
(register)336 1362 A
(char)168 1740 A
(*mp,)168 1950 A
2160(c;)S
2880 V
(24917)210 648 A
2970 V
(24918)210 648 A
(while)210 1362 A
1614(\(c)S
1740(=)S
(*cp\))168 1824 A
2034({)S
3060 V
(24919)210 648 A
(for)126 1698 A
(\(mp)126 1866 A
2034(=)S
(match;)252 2118 A
(*mp;)168 2412 A
(mp++\))210 2622 A
3150 V
(24920)210 648 A
2034(if)S
(\(*mp)168 2160 A
2370(==)S
2496(c\))S
3240 V
(24921)210 648 A
(return)252 2370 A
(\(cp\);)210 2664 A
3330 V
(24922)210 648 A
(cp++;)210 1698 A
3420 V
(24923)210 648 A
1362(})S
3510 V
(24924)210 648 A
(return)252 1362 A
(\(\(char)252 1656 A
(*\)0\);)210 1950 A
3600 V
(24925)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ip/getsrvbyname.c)1050 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(25000)210 648 A
1026(/*)S
4590 V
(25001)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
4680 V
(25002)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
4770 V
(25003)210 648 A
1068(*)S
4860 V
(25004)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
4950 V
(25005)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
5040 V
(25006)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
5130 V
(25007)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
5220 V
(25008)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
5310 V
(25009)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
5400 V
(25010)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
5490 V
(25011)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
5580 V
(25012)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
5670 V
(25013)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
5760 V
(25014)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
5850 V
(25015)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
5940 V
(25016)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
6030 V
(25017)210 648 A
1068(*/)S
6120 V
(25018)210 648 A
6210 V
(25019)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
8418 V
EP
%%Page: 227 227
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1858(File:)S
(src/lib/ip/getsrvbyname.c)1126 2091 A
12 B
(227)180 4248 A
900 V
7 LST
(25020)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)getservbyname.c)840 1992 A
(5.6)126 3042 A
(\(Berkeley\))420 3210 A
(6/1/90";)336 3672 A
990 V
(25021)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
1080 V
(25022)210 648 A
1170 V
(25023)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1260 V
(25024)210 648 A
1350 V
(25025)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
1440 V
(25026)210 648 A
1530 V
(25027)210 648 A
(extern)252 1026 A
(int)126 1320 A
(_serv_stayopen;)630 1488 A
1620 V
(25028)210 648 A
1710 V
(25029)210 648 A
(struct)252 1026 A
(servent)294 1320 A
1656(*)S
1800 V
(25030)210 648 A
(getservbyname\(name,)798 1026 A
(proto\))252 1866 A
1890 V
(25031)210 648 A
(const)210 1362 A
(char)168 1614 A
(*name,)252 1824 A
(*proto;)294 2118 A
1980 V
(25032)210 648 A
1026({)S
2070 V
(25033)210 648 A
(register)336 1362 A
(struct)252 1740 A
(servent)294 2034 A
(*p;)126 2370 A
2160 V
(25034)210 648 A
(register)336 1362 A
(char)168 1740 A
(**cp;)210 1950 A
2250 V
(25035)210 648 A
2340 V
(25036)210 648 A
(setservent\(_serv_stayopen\);)1134 1362 A
2430 V
(25037)210 648 A
(while)210 1362 A
1614(\(p)S
1740(=)S
(getservent\(\)\))546 1824 A
2412({)S
2520 V
(25038)210 648 A
1698(if)S
(\(strcmp\(name,)546 1824 A
(p->s_name\))420 2412 A
2874(==)S
3000(0\))S
2610 V
(25039)210 648 A
(goto)168 2034 A
(gotname;)336 2244 A
2700 V
(25040)210 648 A
(for)126 1698 A
(\(cp)126 1866 A
2034(=)S
(p->s_aliases;)546 2118 A
(*cp;)168 2706 A
(cp++\))210 2916 A
2790 V
(25041)210 648 A
2034(if)S
(\(strcmp\(name,)546 2160 A
(*cp\))168 2748 A
2958(==)S
3084(0\))S
2880 V
(25042)210 648 A
(goto)168 2370 A
(gotname;)336 2580 A
2970 V
(25043)210 648 A
(continue;)378 1698 A
3060 V
(25044)210 648 A
(gotname:)336 1026 A
3150 V
(25045)210 648 A
1698(if)S
(\(proto)252 1824 A
2118(==)S
2244(0)S
2328(||)S
(strcmp\(p->s_proto,)756 2454 A
(proto\))252 3252 A
3546(==)S
3672(0\))S
3240 V
(25046)210 648 A
(break;)252 2034 A
3330 V
(25047)210 648 A
1362(})S
3420 V
(25048)210 648 A
1362(if)S
(\(!_serv_stayopen\))714 1488 A
3510 V
(25049)210 648 A
(endservent\(\);)546 1698 A
3600 V
(25050)210 648 A
(return)252 1362 A
(\(p\);)168 1656 A
3690 V
(25051)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ip/getsrvbyport.c)1050 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(25100)210 648 A
1026(/*)S
4590 V
(25101)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
4680 V
(25102)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
4770 V
(25103)210 648 A
1068(*)S
4860 V
(25104)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
4950 V
(25105)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
5040 V
(25106)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
5130 V
(25107)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
5220 V
(25108)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
5310 V
(25109)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
5400 V
(25110)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
5490 V
(25111)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
5580 V
(25112)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
5670 V
(25113)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
5760 V
(25114)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
5850 V
(25115)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
5940 V
(25116)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
6030 V
(25117)210 648 A
1068(*/)S
6120 V
(25118)210 648 A
6210 V
(25119)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
8418 V
EP
%%Page: 228 228
BP
/slant 0 def
/height 0 def
630 V
12 B
(228)180 648 A
11 R
1890(File:)S
(src/lib/ip/getsrvbyport.c)1063 2123 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(25120)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)getservbyport.c)840 1992 A
(5.6)126 3042 A
(\(Berkeley\))420 3210 A
(6/1/90";)336 3672 A
990 V
(25121)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
1080 V
(25122)210 648 A
1170 V
(25123)210 648 A
(#include)336 1026 A
(<stddef.h>)420 1404 A
1260 V
(25124)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1350 V
(25125)210 648 A
1440 V
(25126)210 648 A
(#ifdef)252 1026 A
(_MINIX)252 1320 A
1530 V
(25127)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
1620 V
(25128)210 648 A
(#endif)252 1026 A
1710 V
(25129)210 648 A
1800 V
(25130)210 648 A
(extern)252 1026 A
(int)126 1320 A
(_serv_stayopen;)630 1488 A
1890 V
(25131)210 648 A
1980 V
(25132)210 648 A
(struct)252 1026 A
(servent)294 1320 A
1656(*)S
2070 V
(25133)210 648 A
(getservbyport\(port,)798 1026 A
(proto\))252 1866 A
2160 V
(25134)210 648 A
(int)126 1362 A
(port;)210 1530 A
2250 V
(25135)210 648 A
(const)210 1362 A
(char)168 1614 A
(*proto;)294 1824 A
2340 V
(25136)210 648 A
1026({)S
2430 V
(25137)210 648 A
(register)336 1362 A
(struct)252 1740 A
(servent)294 2034 A
(*p;)126 2370 A
2520 V
(25138)210 648 A
2610 V
(25139)210 648 A
(setservent\(_serv_stayopen\);)1134 1362 A
2700 V
(25140)210 648 A
(while)210 1362 A
1614(\(p)S
1740(=)S
(getservent\(\)\))546 1824 A
2412({)S
2790 V
(25141)210 648 A
1698(if)S
(\(p->s_port)420 1824 A
2286(!=)S
(port\))210 2412 A
2880 V
(25142)210 648 A
(continue;)378 2034 A
2970 V
(25143)210 648 A
1698(if)S
(\(proto)252 1824 A
2118(==)S
2244(0)S
2328(||)S
(strcmp\(p->s_proto,)756 2454 A
(proto\))252 3252 A
3546(==)S
3672(0\))S
3060 V
(25144)210 648 A
(break;)252 2034 A
3150 V
(25145)210 648 A
1362(})S
3240 V
(25146)210 648 A
1362(if)S
(\(!_serv_stayopen\))714 1488 A
3330 V
(25147)210 648 A
(endservent\(\);)546 1698 A
3420 V
(25148)210 648 A
(return)252 1362 A
(\(p\);)168 1656 A
3510 V
(25149)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ip/hton.c)714 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(25200)210 648 A
1026(/*)S
4590 V
(25201)210 648 A
(hton.c)252 1026 A
4680 V
(25202)210 648 A
1026(*/)S
4770 V
(25203)210 648 A
4860 V
(25204)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4950 V
(25205)210 648 A
(#include)336 1026 A
(<minix/config.h>)672 1404 A
5040 V
(25206)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
5130 V
(25207)210 648 A
5220 V
(25208)210 648 A
(u16_t)210 1026 A
(_tmp;)210 1278 A
5310 V
(25209)210 648 A
(u32_t)210 1026 A
(_tmp_l;)294 1278 A
8418 V
EP
%%Page: 229 229
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1960(File:)S
(src/lib/ip/inet_addr.c)923 2193 A
12 B
(229)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ip/inet_addr.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(25300)210 648 A
1026(/*)S
1440 V
(25301)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983,)210 1740 A
(1990)168 1992 A
(Regents)294 2202 A
2538(of)S
(the)126 2664 A
(University)420 2832 A
3294(of)S
(California.)462 3420 A
1530 V
(25302)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
1620 V
(25303)210 648 A
1068(*)S
1710 V
(25304)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
(provided)336 3840 A
1800 V
(25305)210 648 A
1068(*)S
(that:)210 1152 A
(\(1\))126 1404 A
(source)252 1572 A
(distributions)546 1866 A
(retain)252 2454 A
(this)168 2748 A
(entire)252 2958 A
(copyright)378 3252 A
(notice)252 3672 A
(and)126 3966 A
1890 V
(25306)210 648 A
1068(*)S
(comment,)336 1152 A
(and)126 1530 A
(\(2\))126 1698 A
(distributions)546 1866 A
(including)378 2454 A
(binaries)336 2874 A
(display)294 3252 A
(the)126 3588 A
(following)378 3756 A
1980 V
(25307)210 648 A
1068(*)S
(acknowledgement:)672 1152 A
(`This)210 1908 A
(product)294 2160 A
(includes)336 2496 A
(software)336 2874 A
(developed)378 3252 A
3672(by)S
(the)126 3798 A
2070 V
(25308)210 648 A
1068(*)S
(University)420 1152 A
1614(of)S
(California,)462 1740 A
(Berkeley)336 2244 A
(and)126 2622 A
(its)126 2790 A
(contributors'')588 2958 A
3588(in)S
(the)126 3714 A
2160 V
(25309)210 648 A
1068(*)S
(documentation)546 1152 A
1740(or)S
(other)210 1866 A
(materials)378 2118 A
(provided)336 2538 A
(with)168 2916 A
(the)126 3126 A
(distribution)504 3294 A
(and)126 3840 A
4008(in)S
2250 V
(25310)210 648 A
1068(*)S
(all)126 1152 A
(advertising)462 1320 A
(materials)378 1824 A
(mentioning)420 2244 A
(features)336 2706 A
3084(or)S
(use)126 3210 A
3378(of)S
(this)168 3504 A
(software.)378 3714 A
2340 V
(25311)210 648 A
1068(*)S
(Neither)294 1152 A
(the)126 1488 A
(name)168 1656 A
1866(of)S
(the)126 1992 A
(University)420 2160 A
(nor)126 2622 A
(the)126 2790 A
(names)210 2958 A
3210(of)S
(its)126 3336 A
(contributors)504 3504 A
(may)126 4050 A
2430 V
(25312)210 648 A
1068(*)S
1152(be)S
(used)168 1278 A
1488(to)S
(endorse)294 1614 A
1950(or)S
(promote)294 2076 A
(products)336 2412 A
(derived)294 2790 A
(from)168 3126 A
(this)168 3336 A
(software)336 3546 A
(without)294 3924 A
2520 V
(25313)210 648 A
1068(*)S
(specific)336 1152 A
(prior)210 1530 A
(written)294 1782 A
(permission.)462 2118 A
2610 V
(25314)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
(IMPLIED)294 3756 A
2700 V
(25315)210 648 A
1068(*)S
(WARRANTIES,)462 1152 A
(INCLUDING,)420 1656 A
(WITHOUT)294 2118 A
(LIMITATION,)462 2454 A
(THE)126 2958 A
(IMPLIED)294 3126 A
(WARRANTIES)420 3462 A
3924(OF)S
2790 V
(25316)210 648 A
1068(*)S
(MERCHANTABILITY)630 1152 A
(AND)126 1824 A
(FITNESS)294 1992 A
(FOR)126 2328 A
2496(A)S
(PARTICULAR)420 2580 A
(PURPOSE.)336 3042 A
2880 V
(25317)210 648 A
1068(*/)S
2970 V
(25318)210 648 A
3060 V
(25319)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
3150 V
(25320)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)inet_addr.c)672 1992 A
(5.8)126 2706 A
(\(Berkeley\))420 2874 A
(6/23/90";)378 3336 A
3240 V
(25321)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
3330 V
(25322)210 648 A
3420 V
(25323)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
3510 V
(25324)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
3600 V
(25325)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
3690 V
(25326)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
3780 V
(25327)210 648 A
3870 V
(25328)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
3960 V
(25329)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
4050 V
(25330)210 648 A
(#include)336 1026 A
(<net/gen/inet.h>)672 1404 A
4140 V
(25331)210 648 A
(#endif)252 1026 A
4230 V
(25332)210 648 A
4320 V
(25333)210 648 A
(#ifdef)252 1026 A
(__STDC__)336 1320 A
4410 V
(25334)210 648 A
(#define)294 1026 A
(_CONST)252 1362 A
(const)210 1698 A
4500 V
(25335)210 648 A
(#else)210 1026 A
4590 V
(25336)210 648 A
(#define)294 1026 A
(_CONST)252 1362 A
4680 V
(25337)210 648 A
(#endif)252 1026 A
4770 V
(25338)210 648 A
4860 V
(25339)210 648 A
1026(/*)S
4950 V
(25340)210 648 A
1068(*)S
(Ascii)210 1152 A
(internet)336 1404 A
(address)294 1782 A
(interpretation)588 2118 A
(routine.)336 2748 A
5040 V
(25341)210 648 A
1068(*)S
(The)126 1152 A
(value)210 1320 A
(returned)336 1572 A
1950(is)S
2076(in)S
(network)294 2202 A
(order.)252 2538 A
5130 V
(25342)210 648 A
1068(*/)S
5220 V
(25343)210 648 A
(ipaddr_t)336 1026 A
5310 V
(25344)210 648 A
(inet_addr\(cp\))546 1026 A
5400 V
(25345)210 648 A
(register)336 1362 A
(_CONST)252 1740 A
(char)168 2034 A
(*cp;)168 2244 A
5490 V
(25346)210 648 A
1026({)S
5580 V
(25347)210 648 A
(ipaddr_t)336 1362 A
(val;)168 1740 A
5670 V
(25348)210 648 A
5760 V
(25349)210 648 A
1362(if)S
(\(inet_aton\(cp,)588 1488 A
(&val\)\))252 2118 A
5850 V
(25350)210 648 A
(return)252 1698 A
(\(val\);)252 1992 A
5940 V
(25351)210 648 A
(errno=)252 1362 A
(EINVAL;)294 1656 A
6030 V
(25352)210 648 A
(return)252 1362 A
(\(ipaddr_t\)-1;)546 1656 A
6120 V
(25353)210 648 A
1026(})S
8418 V
EP
%%Page: 230 230
BP
/slant 0 def
/height 0 def
630 V
12 B
(230)180 648 A
11 R
1960(File:)S
(src/lib/ip/inet_addr.c)923 2193 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(25355)210 648 A
1026(/*)S
990 V
(25356)210 648 A
1068(*)S
(Check)210 1152 A
(whether)294 1404 A
("cp")168 1740 A
1950(is)S
2076(a)S
(valid)210 2160 A
(ascii)210 2412 A
(representation)588 2664 A
1080 V
(25357)210 648 A
1068(*)S
1152(of)S
1278(an)S
(Internet)336 1404 A
(address)294 1782 A
(and)126 2118 A
(convert)294 2286 A
2622(to)S
2748(a)S
(binary)252 2832 A
(address.)336 3126 A
1170 V
(25358)210 648 A
1068(*)S
(Returns)294 1152 A
1488(1)S
1572(if)S
(the)126 1698 A
(address)294 1866 A
2202(is)S
(valid,)252 2328 A
2622(0)S
2706(if)S
(not.)168 2832 A
1260 V
(25359)210 648 A
1068(*)S
(This)168 1152 A
(replaces)336 1362 A
(inet_addr,)420 1740 A
(the)126 2202 A
(return)252 2370 A
(value)210 2664 A
(from)168 2916 A
(which)210 3126 A
1350 V
(25360)210 648 A
1068(*)S
(cannot)252 1152 A
(distinguish)462 1446 A
(between)294 1950 A
(failure)294 2286 A
(and)126 2622 A
2790(a)S
(local)210 2874 A
(broadcast)378 3126 A
(address.)336 3546 A
1440 V
(25361)210 648 A
1068(*/)S
1530 V
(25362)210 648 A
1620 V
(25363)210 648 A
(int)126 1026 A
1710 V
(25364)210 648 A
(inet_aton\(cp,)546 1026 A
(addr\))210 1614 A
1800 V
(25365)210 648 A
(register)336 1362 A
(_CONST)252 1740 A
(char)168 2034 A
(*cp;)168 2244 A
1890 V
(25366)210 648 A
(ipaddr_t)336 1362 A
(*addr;)252 1740 A
1980 V
(25367)210 648 A
1026({)S
2070 V
(25368)210 648 A
(register)336 1362 A
(u32_t)210 1740 A
(val,)168 1992 A
(base,)210 2202 A
2454(n;)S
2160 V
(25369)210 648 A
(register)336 1362 A
(char)168 1740 A
1950(c;)S
2250 V
(25370)210 648 A
(u32_t)210 1362 A
(parts[4],)378 1614 A
(*pp)126 2034 A
2202(=)S
(parts;)252 2286 A
2340 V
(25371)210 648 A
2430 V
(25372)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
2520 V
(25373)210 648 A
1698(/*)S
2610 V
(25374)210 648 A
1740(*)S
(Collect)294 1824 A
(number)252 2160 A
2454(up)S
2580(to)S
(`.''.)210 2706 A
2700 V
(25375)210 648 A
1740(*)S
(Values)252 1824 A
(are)126 2118 A
(specified)378 2286 A
2706(as)S
(for)126 2832 A
3000(C:)S
2790 V
(25376)210 648 A
1740(*)S
(0x=hex,)294 1824 A
(0=octal,)336 2160 A
(other=decimal.)588 2538 A
2880 V
(25377)210 648 A
1740(*/)S
2970 V
(25378)210 648 A
(val)126 1698 A
1866(=)S
1950(0;)S
(base)168 2076 A
2286(=)S
(10;)126 2370 A
3060 V
(25379)210 648 A
1698(if)S
(\(*cp)168 1824 A
2034(==)S
('0'\))168 2160 A
2370({)S
3150 V
(25380)210 648 A
2034(if)S
(\(*++cp)252 2160 A
2454(==)S
('x')126 2580 A
2748(||)S
(*cp)126 2874 A
3042(==)S
('X'\))168 3168 A
3240 V
(25381)210 648 A
(base)168 2370 A
2580(=)S
(16,)126 2664 A
(cp++;)210 2832 A
3330 V
(25382)210 648 A
(else)168 2034 A
3420 V
(25383)210 648 A
(base)168 2370 A
2580(=)S
2664(8;)S
3510 V
(25384)210 648 A
1698(})S
3600 V
(25385)210 648 A
(while)210 1698 A
(\(\(c)126 1950 A
2118(=)S
(*cp\))168 2202 A
2412(!=)S
('\\0'\))210 2538 A
2790({)S
3690 V
(25386)210 648 A
2034(if)S
(\(isascii\(c\))462 2160 A
2664(&&)S
(isdigit\(c\)\))462 2790 A
3294({)S
3780 V
(25387)210 648 A
(val)126 2370 A
2538(=)S
(\(val)168 2622 A
2832(*)S
(base\))210 2916 A
3168(+)S
3252(\(c)S
3378(-)S
('0'\);)210 3462 A
3870 V
(25388)210 648 A
(cp++;)210 2370 A
3960 V
(25389)210 648 A
(continue;)378 2370 A
4050 V
(25390)210 648 A
2034(})S
4140 V
(25391)210 648 A
2034(if)S
(\(base)210 2160 A
2412(==)S
2538(16)S
2664(&&)S
(isascii\(c\))420 2790 A
3252(&&)S
(isxdigit\(c\)\))504 3378 A
3924({)S
4230 V
(25392)210 648 A
(val)126 2370 A
2538(=)S
(\(val)168 2622 A
2832(<<)S
2958(4\))S
3084(+)S
4320 V
(25393)210 648 A
2706(\(c)S
2832(+)S
2916(10)S
3042(-)S
(\(islower\(c\))462 3126 A
3630(?)S
('a')126 3714 A
3882(:)S
('A'\)\);)252 3966 A
4410 V
(25394)210 648 A
(cp++;)210 2370 A
4500 V
(25395)210 648 A
(continue;)378 2370 A
4590 V
(25396)210 648 A
2034(})S
4680 V
(25397)210 648 A
(break;)252 2034 A
4770 V
(25398)210 648 A
1698(})S
4860 V
(25399)210 648 A
1698(if)S
(\(*cp)168 1824 A
2034(==)S
('.'\))168 2160 A
2370({)S
4950 V
(25400)210 648 A
2034(/*)S
5040 V
(25401)210 648 A
2076(*)S
(Internet)336 2160 A
(format:)294 2538 A
5130 V
(25402)210 648 A
2076(*)S
(a.b.c.d)294 2370 A
5220 V
(25403)210 648 A
2076(*)S
(a.b.c)210 2370 A
(\(with)210 2706 A
2958(c)S
(treated)294 3042 A
3378(as)S
(16-bits\))336 3504 A
5310 V
(25404)210 648 A
2076(*)S
(a.b)126 2370 A
(\(with)210 2706 A
2958(b)S
(treated)294 3042 A
3378(as)S
3504(24)S
(bits\))210 3630 A
5400 V
(25405)210 648 A
2076(*/)S
5490 V
(25406)210 648 A
2034(if)S
(\(pp)126 2160 A
2328(>=)S
(parts)210 2454 A
2706(+)S
2790(3)S
2874(||)S
(val)126 3000 A
3168(>)S
(0xff\))210 3252 A
5580 V
(25407)210 648 A
(return)252 2370 A
(\(0\);)168 2664 A
5670 V
(25408)210 648 A
(*pp++)210 2034 A
2286(=)S
(val,)168 2370 A
(cp++;)210 2580 A
5760 V
(25409)210 648 A
1698(})S
(else)168 1782 A
5850 V
(25410)210 648 A
(break;)252 2034 A
5940 V
(25411)210 648 A
1362(})S
6030 V
(25412)210 648 A
1362(/*)S
6120 V
(25413)210 648 A
1404(*)S
(Check)210 1488 A
(for)126 1740 A
(trailing)336 1908 A
(characters.)462 2286 A
6210 V
(25414)210 648 A
1404(*/)S
8418 V
EP
%%Page: 231 231
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1960(File:)S
(src/lib/ip/inet_addr.c)923 2193 A
12 B
(231)180 4248 A
900 V
7 LST
(25415)210 648 A
1362(if)S
(\(*cp)168 1488 A
1698(&&)S
(\(!isascii\(*cp\))588 1824 A
2454(||)S
(!isspace\(*cp\)\)\))630 2580 A
990 V
(25416)210 648 A
(return)252 1698 A
(\(0\);)168 1992 A
1080 V
(25417)210 648 A
1362(/*)S
1170 V
(25418)210 648 A
1404(*)S
(Concoct)294 1488 A
(the)126 1824 A
(address)294 1992 A
(according)378 2328 A
2748(to)S
1260 V
(25419)210 648 A
1404(*)S
(the)126 1488 A
(number)252 1656 A
1950(of)S
(parts)210 2076 A
(specified.)420 2328 A
1350 V
(25420)210 648 A
1404(*/)S
1440 V
(25421)210 648 A
1362(n)S
1446(=)S
1530(pp)S
1656(-)S
(parts)210 1740 A
1992(+)S
2076(1;)S
1530 V
(25422)210 648 A
(switch)252 1362 A
(\(n\))126 1656 A
1824({)S
1620 V
(25423)210 648 A
1710 V
(25424)210 648 A
(case)168 1362 A
1572(1:)S
2706(/*)S
2832(a)S
2916(--)S
3042(32)S
(bits)168 3168 A
3378(*/)S
1800 V
(25425)210 648 A
(break;)252 1698 A
1890 V
(25426)210 648 A
1980 V
(25427)210 648 A
(case)168 1362 A
1572(2:)S
2706(/*)S
(a.b)126 2832 A
3000(--)S
(8.24)168 3126 A
(bits)168 3336 A
3546(*/)S
2070 V
(25428)210 648 A
1698(if)S
(\(val)168 1824 A
2034(>)S
(0xffffff\))378 2118 A
2160 V
(25429)210 648 A
(return)252 2034 A
(\(0\);)168 2328 A
2250 V
(25430)210 648 A
(val)126 1698 A
1866(|=)S
(parts[0])336 1992 A
2370(<<)S
(24;)126 2496 A
2340 V
(25431)210 648 A
(break;)252 1698 A
2430 V
(25432)210 648 A
2520 V
(25433)210 648 A
(case)168 1362 A
1572(3:)S
2706(/*)S
(a.b.c)210 2832 A
3084(--)S
(8.8.16)252 3210 A
(bits)168 3504 A
3714(*/)S
2610 V
(25434)210 648 A
1698(if)S
(\(val)168 1824 A
2034(>)S
(0xffff\))294 2118 A
2700 V
(25435)210 648 A
(return)252 2034 A
(\(0\);)168 2328 A
2790 V
(25436)210 648 A
(val)126 1698 A
1866(|=)S
(\(parts[0])378 1992 A
2412(<<)S
(24\))126 2538 A
2706(|)S
(\(parts[1])378 2790 A
3210(<<)S
(16\);)168 3336 A
2880 V
(25437)210 648 A
(break;)252 1698 A
2970 V
(25438)210 648 A
3060 V
(25439)210 648 A
(case)168 1362 A
1572(4:)S
2706(/*)S
(a.b.c.d)294 2832 A
3168(--)S
(8.8.8.8)294 3294 A
(bits)168 3630 A
3840(*/)S
3150 V
(25440)210 648 A
1698(if)S
(\(val)168 1824 A
2034(>)S
(0xff\))210 2118 A
3240 V
(25441)210 648 A
(return)252 2034 A
(\(0\);)168 2328 A
3330 V
(25442)210 648 A
(val)126 1698 A
1866(|=)S
(\(parts[0])378 1992 A
2412(<<)S
(24\))126 2538 A
2706(|)S
(\(parts[1])378 2790 A
3210(<<)S
(16\))126 3336 A
3504(|)S
(\(parts[2])378 3588 A
4008(<<)S
(8\);)126 4134 A
3420 V
(25443)210 648 A
(break;)252 1698 A
3510 V
(25444)210 648 A
1362(})S
3600 V
(25445)210 648 A
1362(if)S
(\(addr\))252 1488 A
3690 V
(25446)210 648 A
(*addr)210 1698 A
1950(=)S
(htonl\(val\);)462 2034 A
3780 V
(25447)210 648 A
(return)252 1362 A
(\(1\);)168 1656 A
3870 V
(25448)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ip/inet_ntoa.c)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(25500)210 648 A
1026(/*)S
4590 V
(25501)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
4680 V
(25502)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
4770 V
(25503)210 648 A
1068(*)S
4860 V
(25504)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
4950 V
(25505)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
5040 V
(25506)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
5130 V
(25507)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
5220 V
(25508)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
5310 V
(25509)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
5400 V
(25510)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
5490 V
(25511)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
5580 V
(25512)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
5670 V
(25513)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
5760 V
(25514)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
5850 V
(25515)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
5940 V
(25516)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
6030 V
(25517)210 648 A
1068(*/)S
6120 V
(25518)210 648 A
6210 V
(25519)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
8418 V
EP
%%Page: 232 232
BP
/slant 0 def
/height 0 def
630 V
12 B
(232)180 648 A
11 R
1963(File:)S
(src/lib/ip/inet_ntoa.c)917 2196 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(25520)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)inet_ntoa.c)672 1992 A
(5.5)126 2706 A
(\(Berkeley\))420 2874 A
(6/1/90";)336 3336 A
990 V
(25521)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
1080 V
(25522)210 648 A
1170 V
(25523)210 648 A
1026(/*)S
1260 V
(25524)210 648 A
1068(*)S
(Convert)294 1152 A
(network-format)588 1488 A
(internet)336 2118 A
(address)294 2496 A
1350 V
(25525)210 648 A
1068(*)S
1152(to)S
(base)168 1278 A
(256)126 1488 A
(d.d.d.d)294 1656 A
(representation.)630 1992 A
1440 V
(25526)210 648 A
1068(*/)S
1530 V
(25527)210 648 A
1620 V
(25528)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
1710 V
(25529)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1800 V
(25530)210 648 A
1890 V
(25531)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
1980 V
(25532)210 648 A
(#include)336 1026 A
(<net/gen/inet.h>)672 1404 A
2070 V
(25533)210 648 A
2160 V
(25534)210 648 A
(char)168 1026 A
1236(*)S
2250 V
(25535)210 648 A
(inet_ntoa\(in\))546 1026 A
2340 V
(25536)210 648 A
(ipaddr_t)336 1362 A
(in;)126 1740 A
2430 V
(25537)210 648 A
1026({)S
2520 V
(25538)210 648 A
(static)252 1362 A
(char)168 1656 A
(b[18];)252 1866 A
2610 V
(25539)210 648 A
(register)336 1362 A
(u8_t)168 1740 A
(*p;)126 1950 A
2700 V
(25540)210 648 A
2790 V
(25541)210 648 A
1362(p)S
1446(=)S
(\(u8_t)210 1530 A
(*\)&in;)252 1782 A
2880 V
(25542)210 648 A
(sprintf\(b,)420 1362 A
("%d.%d.%d.%d",)588 1824 A
(p[0],)210 2454 A
(p[1],)210 2706 A
(p[2],)210 2958 A
(p[3]\);)252 3210 A
2970 V
(25543)210 648 A
(return)252 1362 A
(\(b\);)168 1656 A
3060 V
(25544)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ip/memcspn.c)840 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(25600)210 648 A
1026(/*)S
4140 V
(25601)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(25602)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(25603)210 648 A
1068(*/)S
4410 V
(25604)210 648 A
1026(/*)S
($Header:)336 1152 A
(strcspn.c,v)462 1530 A
(1.1)126 2034 A
(91/12/19)336 2202 A
(13:20:40)336 2580 A
(philip)252 2958 A
(Exp)126 3252 A
3420($)S
3504(*/)S
4500 V
(25605)210 648 A
4590 V
(25606)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4680 V
(25607)210 648 A
4770 V
(25608)210 648 A
(size_t)252 1026 A
4860 V
(25609)210 648 A
(memcspn\(const)546 1026 A
(char)168 1614 A
(*string,)336 1824 A
(size_t)252 2202 A
(strlen,)294 2496 A
(const)210 2832 A
(char)168 3084 A
(*notin,)294 3294 A
(size_t)252 3630 A
(notinlen\))378 3924 A
4950 V
(25610)210 648 A
1026({)S
5040 V
(25611)210 648 A
(register)336 1362 A
(const)210 1740 A
(char)168 1992 A
(*s1,)168 2202 A
(*s2;)168 2412 A
5130 V
(25612)210 648 A
(int)126 1362 A
(i,j;)168 1530 A
5220 V
(25613)210 648 A
5310 V
(25614)210 648 A
(for)126 1362 A
(\(s1)126 1530 A
1698(=)S
(string,)294 1782 A
2118(i)S
2202(=)S
2286(0;)S
(i<strlen;)378 2412 A
(s1++,)210 2832 A
(i++\))168 3084 A
3294({)S
5400 V
(25615)210 648 A
(for\(s2)252 1698 A
1992(=)S
(notin,)252 2076 A
2370(j)S
2454(=)S
2538(0;)S
(*s2)126 2664 A
2832(!=)S
(*s1)126 2958 A
3126(&&)S
3252(j)S
3336(<)S
(notinlen;)378 3420 A
(s2++,)210 3840 A
(j++\))168 4092 A
5490 V
(25616)210 648 A
2034(/*)S
(EMPTY)210 2160 A
2412(*/)S
2538(;)S
5580 V
(25617)210 648 A
1698(if)S
1824(\(j)S
1950(!=)S
(notinlen\))378 2076 A
5670 V
(25618)210 648 A
(break;)252 2034 A
5760 V
(25619)210 648 A
1362(})S
5850 V
(25620)210 648 A
(return)252 1362 A
1656(s1)S
1782(-)S
(string;)294 1866 A
5940 V
(25621)210 648 A
1026(})S
8418 V
EP
%%Page: 233 233
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1933(File:)S
(src/lib/ip/oneC_sum.c)977 2166 A
12 B
(233)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ip/oneC_sum.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(25700)210 648 A
1026(/*)S
(oneC_sum\(\))420 1362 A
1824(-)S
(One)126 1908 A
(complement's)504 2076 A
(checksum)336 2622 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
1440 V
(25701)210 648 A
1068(*)S
3714(8)S
(May)126 3798 A
(1995)168 3966 A
1530 V
(25702)210 648 A
1068(*)S
(See)126 1152 A
(RFC)126 1320 A
(1071,)210 1488 A
("Computing)420 1740 A
(the)126 2202 A
(Internet)336 2370 A
(checksum")378 2748 A
1620 V
(25703)210 648 A
1068(*/)S
1710 V
(25704)210 648 A
1800 V
(25705)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
1890 V
(25706)210 648 A
(#include)336 1026 A
(<net/gen/oneCsum.h>)798 1404 A
1980 V
(25707)210 648 A
2070 V
(25708)210 648 A
(u16_t)210 1026 A
(oneC_sum\(U16_t)588 1278 A
(prev,)210 1908 A
(void)168 2160 A
(*data,)252 2370 A
(size_t)252 2664 A
(size\))210 2958 A
2160 V
(25709)210 648 A
1026({)S
2250 V
(25710)210 648 A
(u8_t)168 1362 A
(*dptr;)252 1572 A
2340 V
(25711)210 648 A
(size_t)252 1362 A
1656(n;)S
2430 V
(25712)210 648 A
(u16_t)210 1362 A
(word;)210 1614 A
2520 V
(25713)210 648 A
(u32_t)210 1362 A
(sum;)168 1614 A
2610 V
(25714)210 648 A
(int)126 1362 A
(swap=)210 1530 A
1782(0;)S
2700 V
(25715)210 648 A
2790 V
(25716)210 648 A
(sum=)168 1362 A
(prev;)210 1572 A
2880 V
(25717)210 648 A
(dptr=)210 1362 A
(data;)210 1614 A
2970 V
(25718)210 648 A
1362(n=)S
(size;)210 1488 A
3060 V
(25719)210 648 A
3150 V
(25720)210 648 A
(swap=)210 1362 A
(\(\(size_t\))378 1614 A
(dptr)168 2034 A
2244(&)S
(1\);)126 2328 A
3240 V
(25721)210 648 A
1362(if)S
(\(swap\))252 1488 A
1782({)S
3330 V
(25722)210 648 A
(sum=)168 1698 A
(\(\(sum)210 1908 A
2160(&)S
(0xFF\))210 2244 A
2496(<<)S
2622(8\))S
2748(|)S
(\(\(sum)210 2832 A
3084(&)S
(0xFF00\))294 3168 A
3504(>>)S
(8\);)126 3630 A
3420 V
(25723)210 648 A
1698(if)S
1824(\(n)S
1950(>)S
2034(0\))S
2160({)S
3510 V
(25724)210 648 A
(\(\(u8_t)252 2034 A
2328(*\))S
(&word\)[0]=)420 2454 A
2916(0;)S
3600 V
(25725)210 648 A
(\(\(u8_t)252 2034 A
2328(*\))S
(&word\)[1]=)420 2454 A
(dptr[0];)336 2916 A
3690 V
(25726)210 648 A
(sum+=)210 2034 A
(\(u32_t\))294 2286 A
(word;)210 2622 A
3780 V
(25727)210 648 A
(dptr+=)252 2034 A
2328(1;)S
3870 V
(25728)210 648 A
(n-=)126 2034 A
2202(1;)S
3960 V
(25729)210 648 A
1698(})S
4050 V
(25730)210 648 A
1362(})S
4140 V
(25731)210 648 A
4230 V
(25732)210 648 A
(while)210 1362 A
1614(\(n)S
1740(>=)S
1866(8\))S
1992({)S
4320 V
(25733)210 648 A
(sum+=)210 1698 A
(\(u32_t\))294 1950 A
(\(\(u16_t)294 2286 A
2622(*\))S
(dptr\)[0])336 2748 A
4410 V
(25734)210 648 A
1866(+)S
(\(u32_t\))294 1950 A
(\(\(u16_t)294 2286 A
2622(*\))S
(dptr\)[1])336 2748 A
4500 V
(25735)210 648 A
1866(+)S
(\(u32_t\))294 1950 A
(\(\(u16_t)294 2286 A
2622(*\))S
(dptr\)[2])336 2748 A
4590 V
(25736)210 648 A
1866(+)S
(\(u32_t\))294 1950 A
(\(\(u16_t)294 2286 A
2622(*\))S
(dptr\)[3];)378 2748 A
4680 V
(25737)210 648 A
(dptr+=)252 1698 A
1992(8;)S
4770 V
(25738)210 648 A
(n-=)126 1698 A
1866(8;)S
4860 V
(25739)210 648 A
1362(})S
4950 V
(25740)210 648 A
5040 V
(25741)210 648 A
(while)210 1362 A
1614(\(n)S
1740(>=)S
1866(2\))S
1992({)S
5130 V
(25742)210 648 A
(sum+=)210 1698 A
(\(u32_t\))294 1950 A
(\(\(u16_t)294 2286 A
2622(*\))S
(dptr\)[0];)378 2748 A
5220 V
(25743)210 648 A
(dptr+=)252 1698 A
1992(2;)S
5310 V
(25744)210 648 A
(n-=)126 1698 A
1866(2;)S
5400 V
(25745)210 648 A
1362(})S
5490 V
(25746)210 648 A
5580 V
(25747)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(0\))S
1824({)S
5670 V
(25748)210 648 A
(\(\(u8_t)252 1698 A
1992(*\))S
(&word\)[0]=)420 2118 A
(dptr[0];)336 2580 A
5760 V
(25749)210 648 A
(\(\(u8_t)252 1698 A
1992(*\))S
(&word\)[1]=)420 2118 A
2580(0;)S
5850 V
(25750)210 648 A
(sum+=)210 1698 A
(\(u32_t\))294 1950 A
(word;)210 2286 A
5940 V
(25751)210 648 A
1362(})S
6030 V
(25752)210 648 A
6120 V
(25753)210 648 A
(sum=)168 1362 A
(\(sum)168 1572 A
1782(&)S
(0xFFFF\))294 1866 A
2202(+)S
(\(sum)168 2286 A
2496(>>)S
(16\);)168 2622 A
6210 V
(25754)210 648 A
1362(if)S
(\(sum)168 1488 A
1698(>)S
(0xFFFF\))294 1782 A
(sum++;)252 2118 A
8418 V
EP
%%Page: 234 234
BP
/slant 0 def
/height 0 def
630 V
12 B
(234)180 648 A
11 R
1933(File:)S
(src/lib/ip/oneC_sum.c)977 2166 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(25755)210 648 A
990 V
(25756)210 648 A
1362(if)S
(\(swap\))252 1488 A
1782({)S
1080 V
(25757)210 648 A
(sum=)168 1698 A
(\(\(sum)210 1908 A
2160(&)S
(0xFF\))210 2244 A
2496(<<)S
2622(8\))S
2748(|)S
(\(\(sum)210 2832 A
3084(&)S
(0xFF00\))294 3168 A
3504(>>)S
(8\);)126 3630 A
1170 V
(25758)210 648 A
1362(})S
1260 V
(25759)210 648 A
(return)252 1362 A
(sum;)168 1656 A
1350 V
(25760)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/ip/rcmd.c)714 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(25800)210 648 A
1026(/*)S
2340 V
(25801)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1983)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
2430 V
(25802)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
2520 V
(25803)210 648 A
1068(*)S
2610 V
(25804)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
2700 V
(25805)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
2790 V
(25806)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
2880 V
(25807)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
2970 V
(25808)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
3060 V
(25809)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
3150 V
(25810)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
3240 V
(25811)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
3330 V
(25812)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
3420 V
(25813)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
3510 V
(25814)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
3600 V
(25815)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
3690 V
(25816)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
3780 V
(25817)210 648 A
1068(*/)S
3870 V
(25818)210 648 A
3960 V
(25819)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
4050 V
(25820)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)rcmd.c)462 1992 A
(5.22)168 2706 A
(\(Berkeley\))420 2916 A
(6/1/90";)336 3378 A
4140 V
(25821)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
4230 V
(25822)210 648 A
4320 V
(25823)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
4410 V
(25824)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4500 V
(25825)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
4590 V
(25826)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
4680 V
(25827)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
4770 V
(25828)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
4860 V
(25829)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
4950 V
(25830)210 648 A
(#include)336 1026 A
(<limits.h>)420 1404 A
5040 V
(25831)210 648 A
(#include)336 1026 A
(<pwd.h>)294 1404 A
5130 V
(25832)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5220 V
(25833)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5310 V
(25834)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
5400 V
(25835)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5490 V
(25836)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5580 V
(25837)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
5670 V
(25838)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
5760 V
(25839)210 648 A
(#include)336 1026 A
(<net/gen/tcp.h>)630 1404 A
5850 V
(25840)210 648 A
(#include)336 1026 A
(<net/gen/tcp_io.h>)756 1404 A
5940 V
(25841)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
6030 V
(25842)210 648 A
(#include)336 1026 A
(<net/netlib.h>)588 1404 A
6120 V
(25843)210 648 A
6210 V
(25844)210 648 A
(#define)294 1026 A
(MAXHOSTNAMELEN)588 1362 A
(256)126 2034 A
8418 V
EP
%%Page: 235 235
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
12 B
(235)180 4248 A
900 V
7 LST
(25845)210 648 A
(#define)294 1026 A
(MAXPATHLEN)420 1362 A
(PATH_MAX)336 1824 A
990 V
(25846)210 648 A
(#else)210 1026 A
1080 V
(25847)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1170 V
(25848)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
1260 V
(25849)210 648 A
(#include)336 1026 A
(<pwd.h>)294 1404 A
1350 V
(25850)210 648 A
(#include)336 1026 A
(<sys/param.h>)546 1404 A
1440 V
(25851)210 648 A
(#include)336 1026 A
(<sys/file.h>)504 1404 A
1530 V
(25852)210 648 A
(#include)336 1026 A
(<sys/signal.h>)588 1404 A
1620 V
(25853)210 648 A
(#include)336 1026 A
(<sys/socket.h>)588 1404 A
1710 V
(25854)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
1800 V
(25855)210 648 A
1890 V
(25856)210 648 A
(#include)336 1026 A
(<netinet/in.h>)588 1404 A
1980 V
(25857)210 648 A
2070 V
(25858)210 648 A
(#include)336 1026 A
(<netdb.h>)378 1404 A
2160 V
(25859)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
2250 V
(25860)210 648 A
(#endif)252 1026 A
2340 V
(25861)210 648 A
2430 V
(25862)210 648 A
(#ifdef)252 1026 A
(__STDC__)336 1320 A
2520 V
(25863)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
(const)210 1698 A
2610 V
(25864)210 648 A
(#else)210 1026 A
2700 V
(25865)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
2790 V
(25866)210 648 A
(#endif)252 1026 A
2880 V
(25867)210 648 A
2970 V
(25868)210 648 A
(extern)252 1026 A
(errno;)252 1362 A
3060 V
(25869)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
3150 V
(25870)210 648 A
(int)126 1026 A
(_validuser)420 1194 A
(_ARGS\(\()294 1656 A
(FILE)168 1992 A
(*hostf,)294 2202 A
(const)210 2538 A
(char)168 2790 A
(*rhost,)294 3000 A
(const)210 3336 A
(char)168 3588 A
(*luser,)294 3798 A
3240 V
(25871)210 648 A
(const)210 2706 A
(char)168 2958 A
(*ruser,)294 3168 A
(int)126 3504 A
(baselen)294 3672 A
(\)\);)126 4008 A
3330 V
(25872)210 648 A
(static)252 1026 A
(int)126 1320 A
(_checkhost)420 1488 A
(_ARGS\(\()294 1950 A
(const)210 2286 A
(char)168 2538 A
(*rhost,)294 2748 A
(const)210 3084 A
(char)168 3336 A
(*lhost,)294 3546 A
(int)126 3882 A
(len)126 4050 A
(\)\);)126 4218 A
3420 V
(25873)210 648 A
(#else)210 1026 A
3510 V
(25874)210 648 A
(char)168 1026 A
(*index\(\);)378 1362 A
3600 V
(25875)210 648 A
(#endif)252 1026 A
3690 V
(25876)210 648 A
3780 V
(25877)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
3870 V
(25878)210 648 A
(int)126 1026 A
(rcmd\(ahost,)462 1194 A
(rport,)252 1698 A
(locuser,)336 1992 A
(remuser,)336 2370 A
(cmd,)168 2748 A
(fd2p\))210 2958 A
3960 V
(25879)210 648 A
(char)168 1026 A
(**ahost;)336 1236 A
4050 V
(25880)210 648 A
(int)126 1026 A
(rport;)252 1194 A
4140 V
(25881)210 648 A
(CONST)210 1026 A
(char)168 1278 A
(*locuser,)378 1488 A
(*remuser,)378 1908 A
(*cmd;)210 2328 A
4230 V
(25882)210 648 A
(int)126 1026 A
(*fd2p;)252 1194 A
4320 V
(25883)210 648 A
1026({)S
4410 V
(25884)210 648 A
(int)126 1362 A
(fd,)126 1530 A
(fd2,)168 1698 A
(result;)294 1908 A
4500 V
(25885)210 648 A
(struct)252 1362 A
(hostent)294 1656 A
(*hp;)168 1992 A
4590 V
(25886)210 648 A
(tcpport_t)378 1362 A
(lport;)252 1782 A
4680 V
(25887)210 648 A
(nwio_tcpconf_t)588 1362 A
(tcpconf;)336 1992 A
4770 V
(25888)210 648 A
(nwio_tcpcl_t)504 1362 A
(tcpconnopt;)462 1908 A
4860 V
(25889)210 648 A
(pid_t)210 1362 A
(pid;)168 1614 A
4950 V
(25890)210 648 A
(char)168 1362 A
(num[8];)294 1572 A
5040 V
(25891)210 648 A
(char)168 1362 A
1572(c;)S
5130 V
(25892)210 648 A
(char)168 1362 A
(*tcp_device;)504 1572 A
5220 V
(25893)210 648 A
5310 V
(25894)210 648 A
(fd=)126 1362 A
(-1;)126 1530 A
5400 V
(25895)210 648 A
(fd2=)168 1362 A
(-1;)126 1572 A
5490 V
(25896)210 648 A
5580 V
(25897)210 648 A
(tcp_device=)462 1362 A
(getenv\("TCP_DEVICE"\);)882 1866 A
5670 V
(25898)210 648 A
1362(if)S
(\(tcp_device)462 1488 A
1992(==)S
(NULL\))210 2118 A
5760 V
(25899)210 648 A
(tcp_device=)462 1698 A
(TCP_DEVICE;)462 2202 A
5850 V
(25900)210 648 A
(hp=)126 1362 A
(gethostbyname\(*ahost\);)924 1530 A
5940 V
(25901)210 648 A
1362(if)S
(\(!hp\))210 1488 A
6030 V
(25902)210 648 A
1362({)S
6120 V
(25903)210 648 A
(fprintf\(stderr,)630 1698 A
("%s:)168 2370 A
(unknown)294 2580 A
(host\\n",)336 2916 A
(*ahost\);)336 3294 A
6210 V
(25904)210 648 A
(return)252 1698 A
(-1;)126 1992 A
8418 V
EP
%%Page: 236 236
BP
/slant 0 def
/height 0 def
630 V
12 B
(236)180 648 A
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(25905)210 648 A
1362(})S
990 V
(25906)210 648 A
(*ahost=)294 1362 A
(hp->h_name;)462 1698 A
1080 V
(25907)210 648 A
(for)126 1362 A
(\(lport=)294 1530 A
(TCPPORT_RESERVED-1;)798 1866 A
(lport)210 2706 A
2958(>=)S
(TCPPORT_RESERVED/2;)798 3084 A
(lport--\))336 3924 A
1170 V
(25908)210 648 A
1362({)S
1260 V
(25909)210 648 A
(fd=)126 1698 A
(open)168 1866 A
(\(tcp_device,)504 2076 A
(O_RDWR\);)336 2622 A
1350 V
(25910)210 648 A
1698(if)S
(\(fd<0\))252 1824 A
1440 V
(25911)210 648 A
1698({)S
1530 V
(25912)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(open)168 3168 A
(%s:)126 3378 A
(%s\\n",)252 3546 A
1620 V
(25913)210 648 A
(tcp_device,)462 2370 A
(strerror\(errno\)\);)714 2874 A
1710 V
(25914)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
1800 V
(25915)210 648 A
1698(})S
1890 V
(25916)210 648 A
(tcpconf.nwtc_flags=)798 1698 A
(NWTC_LP_SET)462 2538 A
3042(|)S
(NWTC_SET_RA)462 3126 A
3630(|)S
(NWTC_SET_RP)462 3714 A
4218(|)S
1980 V
(25917)210 648 A
(NWTC_EXCL;)420 2034 A
2070 V
(25918)210 648 A
(tcpconf.nwtc_locport=)882 1698 A
(htons\(lport\);)546 2622 A
2160 V
(25919)210 648 A
(tcpconf.nwtc_remport=)882 1698 A
(rport;)252 2622 A
2250 V
(25920)210 648 A
(tcpconf.nwtc_remaddr=)882 1698 A
(*\(ipaddr_t)420 2622 A
(*\)hp->h_addr;)546 3084 A
2340 V
(25921)210 648 A
2430 V
(25922)210 648 A
(result=)294 1698 A
(ioctl\(fd,)378 2034 A
(NWIOSTCPCONF,)546 2454 A
(&tcpconf\);)420 3042 A
2520 V
(25923)210 648 A
1698(if)S
(\(result<0\))420 1824 A
2610 V
(25924)210 648 A
1698({)S
2700 V
(25925)210 648 A
2034(if)S
(\(errno)252 2160 A
2454(==)S
(EADDRINUSE\))462 2580 A
2790 V
(25926)210 648 A
2034({)S
2880 V
(25927)210 648 A
(close\(fd\);)420 2370 A
2970 V
(25928)210 648 A
(continue;)378 2370 A
3060 V
(25929)210 648 A
2034(})S
3150 V
(25930)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(ioctl\(NWIOSTCPCONF\):)840 3168 A
(%s\\n",)252 4050 A
3240 V
(25931)210 648 A
(strerror\(errno\)\);)714 2370 A
3330 V
(25932)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
3420 V
(25933)210 648 A
1698(})S
3510 V
(25934)210 648 A
(tcpconf.nwtc_flags=)798 1698 A
(NWTC_SHARED;)504 2538 A
3600 V
(25935)210 648 A
(result=)294 1698 A
(ioctl\(fd,)378 2034 A
(NWIOSTCPCONF,)546 2454 A
(&tcpconf\);)420 3042 A
3690 V
(25936)210 648 A
1698(if)S
(\(result<0\))420 1824 A
3780 V
(25937)210 648 A
1698({)S
3870 V
(25938)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(ioctl\(NWIOSTCPCONF\):)840 3168 A
(%s\\n",)252 4050 A
3960 V
(25939)210 648 A
(strerror\(errno\)\);)714 2370 A
4050 V
(25940)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
4140 V
(25941)210 648 A
1698(})S
4230 V
(25942)210 648 A
(tcpconnopt.nwtcl_flags=)966 1698 A
2706(0;)S
4320 V
(25943)210 648 A
4410 V
(25944)210 648 A
1698(do)S
4500 V
(25945)210 648 A
1698({)S
4590 V
(25946)210 648 A
(result=)294 2034 A
(ioctl)210 2370 A
(\(fd,)168 2622 A
(NWIOTCPCONN,)504 2832 A
(&tcpconnopt\);)546 3378 A
4680 V
(25947)210 648 A
2034(if)S
(\(result<0)378 2160 A
2580(&&)S
(errno)210 2706 A
2958(==)S
(EAGAIN\))294 3084 A
4770 V
(25948)210 648 A
2034({)S
4860 V
(25949)210 648 A
(sleep\(2\);)378 2370 A
4950 V
(25950)210 648 A
2034(})S
5040 V
(25951)210 648 A
1698(})S
(while)210 1782 A
(\(result<0)378 2034 A
2454(&&)S
(errno)210 2580 A
2832(==)S
(EAGAIN\);)336 2958 A
5130 V
(25952)210 648 A
1698(if)S
(\(result<0)378 1824 A
2244(&&)S
(errno)210 2370 A
2622(!=)S
(EADDRINUSE\))462 2748 A
5220 V
(25953)210 648 A
1698({)S
5310 V
(25954)210 648 A
(fprintf\(stderr,)630 2034 A
5400 V
(25955)210 648 A
("unable)294 2370 A
2706(to)S
(ioctl\(NWIOTCPCONN\):)798 2832 A
(%s\\n",)252 3672 A
5490 V
(25956)210 648 A
(strerror\(errno\)\);)714 2370 A
5580 V
(25957)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
5670 V
(25958)210 648 A
1698(})S
5760 V
(25959)210 648 A
1698(if)S
(\(result>=0\))462 1824 A
5850 V
(25960)210 648 A
(break;)252 2034 A
5940 V
(25961)210 648 A
1362(})S
6030 V
(25962)210 648 A
1362(if)S
(\(lport<TCPPORT_RESERVED/2\))1092 1488 A
6120 V
(25963)210 648 A
1362({)S
6210 V
(25964)210 648 A
(fprintf\(stderr,)630 1698 A
("can't)252 2370 A
(get)126 2664 A
(port\\n"\);)378 2832 A
8418 V
EP
%%Page: 237 237
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
12 B
(237)180 4248 A
900 V
7 LST
(25965)210 648 A
(return)252 1698 A
(-1;)126 1992 A
990 V
(25966)210 648 A
1362(})S
1080 V
(25967)210 648 A
1362(if)S
(\(!fd2p\))294 1488 A
1170 V
(25968)210 648 A
1362({)S
1260 V
(25969)210 648 A
1698(if)S
(\(write\(fd,)420 1824 A
("",)126 2286 A
2454(1\))S
2580(!=)S
2706(1\))S
1350 V
(25970)210 648 A
1698({)S
1440 V
(25971)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(write:)252 3168 A
(%s",)168 3462 A
(strerror\(errno\)\);)714 3672 A
1530 V
(25972)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
1620 V
(25973)210 648 A
1698(})S
1710 V
(25974)210 648 A
1362(})S
1800 V
(25975)210 648 A
(else)168 1362 A
1890 V
(25976)210 648 A
1362({)S
1980 V
(25977)210 648 A
(fd2=)168 1698 A
(open)168 1908 A
(\(tcp_device,)504 2118 A
(O_RDWR\);)336 2664 A
2070 V
(25978)210 648 A
1698(if)S
(\(fd2<0\))294 1824 A
2160 V
(25979)210 648 A
1698({)S
2250 V
(25980)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(open)168 3168 A
(%s:)126 3378 A
(%s\\n",)252 3546 A
2340 V
(25981)210 648 A
(tcp_device,)462 2370 A
(strerror\(errno\)\);)714 2874 A
2430 V
(25982)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
2520 V
(25983)210 648 A
1698(})S
2610 V
(25984)210 648 A
(tcpconf.nwtc_flags=)798 1698 A
(NWTC_LP_SET)462 2538 A
3042(|)S
(NWTC_UNSET_RA)546 3126 A
3714(|)S
2700 V
(25985)210 648 A
(NWTC_UNSET_RP)546 2034 A
2622(|)S
(NWTC_SHARED;)504 2706 A
2790 V
(25986)210 648 A
(tcpconf.nwtc_locport=)882 1698 A
(htons\(lport\);)546 2622 A
2880 V
(25987)210 648 A
2970 V
(25988)210 648 A
(result=)294 1698 A
(ioctl\(fd2,)420 2034 A
(NWIOSTCPCONF,)546 2496 A
(&tcpconf\);)420 3084 A
3060 V
(25989)210 648 A
1698(if)S
(\(result<0\))420 1824 A
3150 V
(25990)210 648 A
1698({)S
3240 V
(25991)210 648 A
(fprintf\(stderr,)630 2034 A
3330 V
(25992)210 648 A
("unable)294 2370 A
2706(to)S
(ioctl\(NWIOSTCPCONF\):)840 2832 A
(%s\\n",)252 3714 A
3420 V
(25993)210 648 A
(strerror\(errno\)\);)714 2370 A
3510 V
(25994)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
3600 V
(25995)210 648 A
1698(})S
3690 V
(25996)210 648 A
(pid=)168 1698 A
(fork\(\);)294 1908 A
3780 V
(25997)210 648 A
1698(if)S
(\(pid<0\))294 1824 A
3870 V
(25998)210 648 A
1698({)S
3960 V
(25999)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(fork:)210 3168 A
(%s\\n",)252 3420 A
4050 V
(26000)210 648 A
(strerror\(errno\)\);)714 2370 A
4140 V
(26001)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
4230 V
(26002)210 648 A
1698(})S
4320 V
(26003)210 648 A
1698(if)S
(\(!pid\))252 1824 A
4410 V
(26004)210 648 A
1698({)S
4500 V
(26005)210 648 A
(alarm\(0\);)378 2034 A
4590 V
(26006)210 648 A
(signal\(SIGALRM,)630 2034 A
(SIG_DFL\);)378 2706 A
4680 V
(26007)210 648 A
(alarm\(30\);)420 2034 A
2496(/*)S
(give)168 2622 A
2832(up)S
(after)210 2958 A
(half)168 3210 A
3420(a)S
(minute)252 3504 A
3798(*/)S
4770 V
(26008)210 648 A
(tcpconnopt.nwtcl_flags=)966 2034 A
3042(0;)S
4860 V
(26009)210 648 A
4950 V
(26010)210 648 A
2034(do)S
5040 V
(26011)210 648 A
2034({)S
5130 V
(26012)210 648 A
(result=)294 2370 A
(ioctl)210 2706 A
(\(fd2,)210 2958 A
(NWIOTCPLISTEN,)588 3210 A
5220 V
(26013)210 648 A
(&tcpconnopt\);)546 2706 A
5310 V
(26014)210 648 A
2370(if)S
(\(result<0)378 2496 A
2916(&&)S
(errno)210 3042 A
3294(==)S
(EAGAIN\))294 3420 A
5400 V
(26015)210 648 A
2370({)S
5490 V
(26016)210 648 A
(sleep\(2\);)378 2706 A
5580 V
(26017)210 648 A
2370(})S
5670 V
(26018)210 648 A
2034(})S
(while)210 2118 A
(\(result<0)378 2370 A
2790(&&)S
(errno)210 2916 A
3168(==)S
(EAGAIN\);)336 3294 A
5760 V
(26019)210 648 A
2034(if)S
(\(result<0)378 2160 A
2580(&&)S
(errno)210 2706 A
2958(!=)S
(EADDRINUSE\))462 3084 A
5850 V
(26020)210 648 A
2034({)S
5940 V
(26021)210 648 A
(fprintf\(stderr,)630 2370 A
6030 V
(26022)210 648 A
("unable)294 2706 A
3042(to)S
(ioctl\(NWIOTCPLISTEN\):)882 3168 A
(%s\\n",)252 4092 A
6120 V
(26023)210 648 A
(strerror\(errno\)\);)714 2706 A
6210 V
(26024)210 648 A
(exit\(1\);)336 2370 A
8418 V
EP
%%Page: 238 238
BP
/slant 0 def
/height 0 def
630 V
12 B
(238)180 648 A
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26025)210 648 A
2034(})S
990 V
(26026)210 648 A
2034(if)S
(\(result>=0\))462 2160 A
1080 V
(26027)210 648 A
(exit\(0\);)336 2370 A
1170 V
(26028)210 648 A
(else)168 2034 A
1260 V
(26029)210 648 A
(exit\(1\);)336 2370 A
1350 V
(26030)210 648 A
1698(})S
1440 V
(26031)210 648 A
1698(/*)S
1530 V
(26032)210 648 A
1740(*)S
(This)168 1824 A
(sleep)210 2034 A
2286(is)S
2412(a)S
(HACK.)210 2496 A
(The)126 2790 A
(command)294 2958 A
(that)168 3294 A
3504(we)S
(are)126 3630 A
(starting)336 3798 A
1620 V
(26033)210 648 A
1740(*)S
(will)168 1824 A
(try)126 2034 A
2202(to)S
(connect)294 2328 A
2664(to)S
(the)126 2790 A
(fd2)126 2958 A
(port.)210 3126 A
3420(It)S
(seems)210 3546 A
(that)168 3798 A
(for)126 4008 A
1710 V
(26034)210 648 A
1740(*)S
(this)168 1824 A
2034(to)S
(succeed)294 2160 A
(the)126 2496 A
(child)210 2664 A
(process)294 2916 A
(must)168 3252 A
(have)168 3462 A
(already)294 3672 A
(made)168 4008 A
1800 V
(26035)210 648 A
1740(*)S
(the)126 1824 A
(call)168 1992 A
2202(to)S
(ioctl)210 2328 A
(above)210 2580 A
(\(the)168 2832 A
(NWIOTCPLISTEN\))588 3042 A
(call.)210 3672 A
1890 V
(26036)210 648 A
1740(*)S
(The)126 1824 A
(sleep)210 1992 A
(gives)210 2244 A
(the)126 2496 A
(child)210 2664 A
2916(a)S
(chance)252 3000 A
3294(to)S
(make)168 3420 A
(the)126 3630 A
(call)168 3798 A
1980 V
(26037)210 648 A
1740(*)S
(before)252 1824 A
(the)126 2118 A
(parent)252 2286 A
(sends)210 2580 A
(the)126 2832 A
(port)168 3000 A
(number)252 3210 A
3504(to)S
(the)126 3630 A
2070 V
(26038)210 648 A
1740(*)S
(command)294 1824 A
(being)210 2160 A
(started.)336 2412 A
2160 V
(26039)210 648 A
1740(*/)S
2250 V
(26040)210 648 A
(sleep\(1\);)378 1698 A
2340 V
(26041)210 648 A
2430 V
(26042)210 648 A
(sprintf\(num,)504 1698 A
("%d",)210 2244 A
(lport\);)294 2496 A
2520 V
(26043)210 648 A
1698(if)S
(\(write\(fd,)420 1824 A
(num,)168 2286 A
(strlen\(num\)+1\))588 2496 A
3126(!=)S
(strlen\(num\)+1\))588 3252 A
2610 V
(26044)210 648 A
1698({)S
2700 V
(26045)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(write:)252 3168 A
(%s\\n",)252 3462 A
2790 V
(26046)210 648 A
(strerror\(errno\)\);)714 2370 A
2880 V
(26047)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
2970 V
(26048)210 648 A
1698(})S
3060 V
(26049)210 648 A
3150 V
(26050)210 648 A
1362(})S
3240 V
(26051)210 648 A
(write)210 1362 A
(\(fd,)168 1614 A
(locuser,)336 1824 A
(strlen\(locuser\)+1\);)798 2202 A
3330 V
(26052)210 648 A
(write)210 1362 A
(\(fd,)168 1614 A
(remuser,)336 1824 A
(strlen\(remuser\)+1\);)798 2202 A
3420 V
(26053)210 648 A
(write)210 1362 A
(\(fd,)168 1614 A
(cmd,)168 1824 A
(strlen\(cmd\)+1\);)630 2034 A
3510 V
(26054)210 648 A
1362(if)S
(\(read\(fd,)378 1488 A
(&c,)126 1908 A
2076(1\))S
2202(!=)S
2328(1\))S
3600 V
(26055)210 648 A
1362({)S
3690 V
(26056)210 648 A
(fprintf\(stderr,)630 1698 A
("unable)294 2370 A
2706(to)S
(read:)210 2832 A
(%s\\n",)252 3084 A
(strerror\(errno\))630 3378 A
4050(\);)S
3780 V
(26057)210 648 A
(goto)168 1698 A
(bad;)168 1908 A
3870 V
(26058)210 648 A
1362(})S
3960 V
(26059)210 648 A
1362(if)S
1488(\(c)S
1614(!=)S
1740(0\))S
4050 V
(26060)210 648 A
1362({)S
4140 V
(26061)210 648 A
(while)210 1698 A
(\(read\(fd,)378 1950 A
(&c,)126 2370 A
2538(1\))S
2664(==)S
2790(1\))S
4230 V
(26062)210 648 A
1698({)S
4320 V
(26063)210 648 A
(write\(2,)336 2034 A
(&c,)126 2412 A
(1\);)126 2580 A
4410 V
(26064)210 648 A
2034(if)S
2160(\(c)S
2286(==)S
('\\n'\))210 2412 A
4500 V
(26065)210 648 A
(break;)252 2370 A
4590 V
(26066)210 648 A
1698(})S
4680 V
(26067)210 648 A
(goto)168 1698 A
(bad;)168 1908 A
4770 V
(26068)210 648 A
1362(})S
4860 V
(26069)210 648 A
1362(if)S
(\(fd2p\))252 1488 A
4950 V
(26070)210 648 A
1362({)S
5040 V
(26071)210 648 A
(*fd2p=)252 1698 A
(fd2;)168 1992 A
5130 V
(26072)210 648 A
(result=)294 1698 A
(ioctl\(fd2,)420 2034 A
(NWIOGTCPCONF,)546 2496 A
(&tcpconf\);)420 3084 A
5220 V
(26073)210 648 A
1698(if)S
(\(result<0\))420 1824 A
5310 V
(26074)210 648 A
1698({)S
5400 V
(26075)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(ioctl\(NWIOGTCPCONF\):)840 3168 A
(%s\\n",)252 4050 A
5490 V
(26076)210 648 A
(strerror\(errno\))630 2370 A
3042(\);)S
5580 V
(26077)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
5670 V
(26078)210 648 A
1698(})S
5760 V
(26079)210 648 A
1698(if)S
(\(ntohs\(tcpconf.nwtc_remport\))1176 1824 A
3042(>=)S
(TCPPORT_RESERVED\))714 3168 A
5850 V
(26080)210 648 A
1698({)S
5940 V
(26081)210 648 A
(fprintf\(stderr,)630 2034 A
("unable)294 2706 A
3042(to)S
(setup)210 3168 A
(2nd)126 3420 A
(channel\\n"\);)504 3588 A
6030 V
(26082)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
6120 V
(26083)210 648 A
1698(})S
6210 V
(26084)210 648 A
1362(})S
8418 V
EP
%%Page: 239 239
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
12 B
(239)180 4248 A
900 V
7 LST
(26085)210 648 A
(return)252 1362 A
(fd;)126 1656 A
990 V
(26086)210 648 A
1080 V
(26087)210 648 A
(bad:)168 1026 A
1170 V
(26088)210 648 A
1362(if)S
(\(fd>=0\))294 1488 A
1260 V
(26089)210 648 A
(close\(fd\);)420 1698 A
1350 V
(26090)210 648 A
1362(if)S
(\(fd2>=0\))336 1488 A
1440 V
(26091)210 648 A
(close\(fd2\);)462 1698 A
1530 V
(26092)210 648 A
(return)252 1362 A
(-1;)126 1656 A
1620 V
(26093)210 648 A
1026(})S
1710 V
(26094)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
1800 V
(26095)210 648 A
(rcmd\(ahost,)462 1026 A
(rport,)252 1530 A
(locuser,)336 1824 A
(remuser,)336 2202 A
(cmd,)168 2580 A
(fd2p\))210 2790 A
1890 V
(26096)210 648 A
(char)168 1362 A
(**ahost;)336 1572 A
1980 V
(26097)210 648 A
(u_short)294 1362 A
(rport;)252 1698 A
2070 V
(26098)210 648 A
(char)168 1362 A
(*locuser,)378 1572 A
(*remuser,)378 1992 A
(*cmd;)210 2412 A
2160 V
(26099)210 648 A
(int)126 1362 A
(*fd2p;)252 1530 A
2250 V
(26100)210 648 A
1026({)S
2340 V
(26101)210 648 A
(int)126 1362 A
1530(s,)S
(timo)168 1656 A
1866(=)S
1950(1,)S
(pid;)168 2076 A
2430 V
(26102)210 648 A
(long)168 1362 A
(oldmask;)336 1572 A
2520 V
(26103)210 648 A
(struct)252 1362 A
(sockaddr_in)462 1656 A
(sin,)168 2160 A
(sin2,)210 2370 A
(from;)210 2622 A
2610 V
(26104)210 648 A
(char)168 1362 A
1572(c;)S
2700 V
(26105)210 648 A
(int)126 1362 A
(lport)210 1530 A
1782(=)S
(IPPORT_RESERVED)630 1866 A
2538(-)S
2622(1;)S
2790 V
(26106)210 648 A
(struct)252 1362 A
(hostent)294 1656 A
(*hp;)168 1992 A
2880 V
(26107)210 648 A
(fd_set)252 1362 A
(reads;)252 1656 A
2970 V
(26108)210 648 A
3060 V
(26109)210 648 A
(pid)126 1362 A
1530(=)S
(getpid\(\);)378 1614 A
3150 V
(26110)210 648 A
1362(hp)S
1488(=)S
(gethostbyname\(*ahost\);)924 1572 A
3240 V
(26111)210 648 A
1362(if)S
(\(hp)126 1488 A
1656(==)S
1782(0\))S
1908({)S
3330 V
(26112)210 648 A
(herror\(*ahost\);)630 1698 A
3420 V
(26113)210 648 A
(return)252 1698 A
(\(-1\);)210 1992 A
3510 V
(26114)210 648 A
1362(})S
3600 V
(26115)210 648 A
(*ahost)252 1362 A
1656(=)S
(hp->h_name;)462 1740 A
3690 V
(26116)210 648 A
(oldmask)294 1362 A
1698(=)S
(sigblock\(sigmask\(SIGURG\)\);)1092 1782 A
3780 V
(26117)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
3870 V
(26118)210 648 A
1698(s)S
1782(=)S
(rresvport\(&lport\);)756 1866 A
3960 V
(26119)210 648 A
1698(if)S
1824(\(s)S
1950(<)S
2034(0\))S
2160({)S
4050 V
(26120)210 648 A
2034(if)S
(\(errno)252 2160 A
2454(==)S
(EAGAIN\))294 2580 A
4140 V
(26121)210 648 A
(fprintf\(stderr,)630 2370 A
("socket:)336 3042 A
(All)126 3420 A
(ports)210 3588 A
3840(in)S
(use\\n"\);)336 3966 A
4230 V
(26122)210 648 A
(else)168 2034 A
4320 V
(26123)210 648 A
(perror\("rcmd:)546 2370 A
(socket"\);)378 2958 A
4410 V
(26124)210 648 A
(sigsetmask\(oldmask\);)840 2034 A
4500 V
(26125)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
4590 V
(26126)210 648 A
1698(})S
4680 V
(26127)210 648 A
(fcntl\(s,)336 1698 A
(F_SETOWN,)378 2076 A
(pid\);)210 2496 A
4770 V
(26128)210 648 A
(sin.sin_family)588 1698 A
2328(=)S
(hp->h_addrtype;)630 2412 A
4860 V
(26129)210 648 A
(bcopy\(hp->h_addr_list[0],)1050 1698 A
(\(caddr_t\)&sin.sin_addr,)966 2790 A
(hp->h_length\);)588 3798 A
4950 V
(26130)210 648 A
(sin.sin_port)504 1698 A
2244(=)S
(rport;)252 2328 A
5040 V
(26131)210 648 A
1698(if)S
(\(connect\(s,)462 1824 A
(\(caddr_t\)&sin,)588 2328 A
(sizeof)252 2958 A
(\(sin\),)252 3252 A
3546(0\))S
3672(>=)S
3798(0\))S
5130 V
(26132)210 648 A
(break;)252 2034 A
5220 V
(26133)210 648 A
(\(void\))252 1698 A
(close\(s\);)378 1992 A
5310 V
(26134)210 648 A
1698(if)S
(\(errno)252 1824 A
2118(==)S
(EADDRINUSE\))462 2244 A
2748({)S
5400 V
(26135)210 648 A
(lport--;)336 2034 A
5490 V
(26136)210 648 A
(continue;)378 2034 A
5580 V
(26137)210 648 A
1698(})S
5670 V
(26138)210 648 A
1698(if)S
(\(errno)252 1824 A
2118(==)S
(ECONNREFUSED)504 2244 A
2790(&&)S
(timo)168 2916 A
3126(<=)S
(16\))126 3252 A
3420({)S
5760 V
(26139)210 648 A
(sleep\(timo\);)504 2034 A
5850 V
(26140)210 648 A
(timo)168 2034 A
2244(*=)S
2370(2;)S
5940 V
(26141)210 648 A
(continue;)378 2034 A
6030 V
(26142)210 648 A
1698(})S
6120 V
(26143)210 648 A
1698(if)S
(\(hp->h_addr_list[1])798 1824 A
2664(!=)S
(NULL\))210 2790 A
3042({)S
6210 V
(26144)210 648 A
(int)126 2034 A
(oerrno)252 2202 A
2496(=)S
(errno;)252 2580 A
8418 V
EP
%%Page: 240 240
BP
/slant 0 def
/height 0 def
630 V
12 B
(240)180 648 A
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26145)210 648 A
990 V
(26146)210 648 A
(fprintf\(stderr,)630 2034 A
1080 V
(26147)210 648 A
("connect)336 2202 A
2580(to)S
(address)294 2706 A
(%s:)126 3042 A
3210(",)S
(inet_ntoa\(sin.sin_addr\)\);)1050 3336 A
1170 V
(26148)210 648 A
(errno)210 2034 A
2286(=)S
(oerrno;)294 2370 A
1260 V
(26149)210 648 A
(perror\(0\);)420 2034 A
1350 V
(26150)210 648 A
(hp->h_addr_list++;)756 2034 A
1440 V
(26151)210 648 A
(bcopy\(hp->h_addr_list[0],)1050 2034 A
(\(caddr_t\)&sin.sin_addr,)966 3126 A
1530 V
(26152)210 648 A
(hp->h_length\);)588 2202 A
1620 V
(26153)210 648 A
(fprintf\(stderr,)630 2034 A
("Trying)294 2706 A
(%s...\\n",)378 3042 A
1710 V
(26154)210 648 A
(inet_ntoa\(sin.sin_addr\)\);)1050 2370 A
1800 V
(26155)210 648 A
(continue;)378 2034 A
1890 V
(26156)210 648 A
1698(})S
1980 V
(26157)210 648 A
(perror\(hp->h_name\);)798 1698 A
2070 V
(26158)210 648 A
(sigsetmask\(oldmask\);)840 1698 A
2160 V
(26159)210 648 A
(return)252 1698 A
(\(-1\);)210 1992 A
2250 V
(26160)210 648 A
1362(})S
2340 V
(26161)210 648 A
(lport--;)336 1362 A
2430 V
(26162)210 648 A
1362(if)S
(\(fd2p)210 1488 A
1740(==)S
1866(0\))S
1992({)S
2520 V
(26163)210 648 A
(write\(s,)336 1698 A
("",)126 2076 A
(1\);)126 2244 A
2610 V
(26164)210 648 A
(lport)210 1698 A
1950(=)S
2034(0;)S
2700 V
(26165)210 648 A
1362(})S
(else)168 1446 A
1656({)S
2790 V
(26166)210 648 A
(char)168 1698 A
(num[8];)294 1908 A
2880 V
(26167)210 648 A
(int)126 1698 A
1866(s2)S
1992(=)S
(rresvport\(&lport\),)756 2076 A
(s3;)126 2874 A
2970 V
(26168)210 648 A
(int)126 1698 A
(len)126 1866 A
2034(=)S
(sizeof)252 2118 A
(\(from\);)294 2412 A
3060 V
(26169)210 648 A
3150 V
(26170)210 648 A
1698(if)S
(\(s2)126 1824 A
1992(<)S
2076(0\))S
3240 V
(26171)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
3330 V
(26172)210 648 A
(listen\(s2,)420 1698 A
(1\);)126 2160 A
3420 V
(26173)210 648 A
(\(void\))252 1698 A
(sprintf\(num,)504 1992 A
("%d",)210 2538 A
(lport\);)294 2790 A
3510 V
(26174)210 648 A
1698(if)S
(\(write\(s,)378 1824 A
(num,)168 2244 A
(strlen\(num\)+1\))588 2454 A
3084(!=)S
(strlen\(num\)+1\))588 3210 A
3840({)S
3600 V
(26175)210 648 A
(perror\("write:)588 2034 A
(setting)294 2664 A
3000(up)S
(stderr"\);)378 3126 A
3690 V
(26176)210 648 A
(\(void\))252 2034 A
(close\(s2\);)420 2328 A
3780 V
(26177)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
3870 V
(26178)210 648 A
1698(})S
3960 V
(26179)210 648 A
(FD_ZERO\(&reads\);)672 1698 A
4050 V
(26180)210 648 A
(FD_SET\(s,)378 1698 A
(&reads\);)336 2118 A
4140 V
(26181)210 648 A
(FD_SET\(s2,)420 1698 A
(&reads\);)336 2160 A
4230 V
(26182)210 648 A
(errno)210 1698 A
1950(=)S
2034(0;)S
4320 V
(26183)210 648 A
1698(if)S
(\(select\(32,)462 1824 A
(&reads,)294 2328 A
2664(0,)S
2790(0,)S
2916(0\))S
3042(<)S
3126(1)S
3210(||)S
4410 V
(26184)210 648 A
(!FD_ISSET\(s2,)546 1866 A
(&reads\)\))336 2454 A
2832({)S
4500 V
(26185)210 648 A
2034(if)S
(\(errno)252 2160 A
2454(!=)S
2580(0\))S
4590 V
(26186)210 648 A
(perror\("select:)630 2370 A
(setting)294 3042 A
3378(up)S
(stderr"\);)378 3504 A
4680 V
(26187)210 648 A
(else)168 2034 A
4770 V
(26188)210 648 A
(fprintf\(stderr,)630 2202 A
4860 V
(26189)210 648 A
("select:)336 2370 A
(protocol)336 2748 A
(failure)294 3126 A
3462(in)S
(circuit)294 3588 A
(setup.\\n"\);)462 3924 A
4950 V
(26190)210 648 A
(\(void\))252 2034 A
(close\(s2\);)420 2328 A
5040 V
(26191)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
5130 V
(26192)210 648 A
1698(})S
5220 V
(26193)210 648 A
1698(s3)S
1824(=)S
(accept\(s2,)420 1908 A
(&from,)252 2370 A
(&len,)210 2664 A
(0\);)126 2916 A
5310 V
(26194)210 648 A
(\(void\))252 1698 A
(close\(s2\);)420 1992 A
5400 V
(26195)210 648 A
1698(if)S
(\(s3)126 1824 A
1992(<)S
2076(0\))S
2202({)S
5490 V
(26196)210 648 A
(perror\("accept"\);)714 2034 A
5580 V
(26197)210 648 A
(lport)210 2034 A
2286(=)S
2370(0;)S
5670 V
(26198)210 648 A
(goto)168 2034 A
(bad;)168 2244 A
5760 V
(26199)210 648 A
1698(})S
5850 V
(26200)210 648 A
(*fd2p)210 1698 A
1950(=)S
(s3;)126 2034 A
5940 V
(26201)210 648 A
(from.sin_port)546 1698 A
2286(=)S
(ntohs\(\(u_short\)from.sin_port\);)1260 2370 A
6030 V
(26202)210 648 A
1698(if)S
(\(from.sin_family)672 1824 A
2538(!=)S
(AF_INET)294 2664 A
3000(||)S
6120 V
(26203)210 648 A
(from.sin_port)546 1866 A
2454(>=)S
(IPPORT_RESERVED)630 2580 A
3252(||)S
6210 V
(26204)210 648 A
(from.sin_port)546 1866 A
2454(<)S
(IPPORT_RESERVED)630 2538 A
3210(/)S
3294(2\))S
3420({)S
8418 V
EP
%%Page: 241 241
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
12 B
(241)180 4248 A
900 V
7 LST
(26205)210 648 A
(fprintf\(stderr,)630 2034 A
990 V
(26206)210 648 A
("socket:)336 2202 A
(protocol)336 2580 A
(failure)294 2958 A
3294(in)S
(circuit)294 3420 A
(setup.\\n"\);)462 3756 A
1080 V
(26207)210 648 A
(goto)168 2034 A
(bad2;)210 2244 A
1170 V
(26208)210 648 A
1698(})S
1260 V
(26209)210 648 A
1362(})S
1350 V
(26210)210 648 A
(\(void\))252 1362 A
(write\(s,)336 1656 A
(locuser,)336 2034 A
(strlen\(locuser\)+1\);)798 2412 A
1440 V
(26211)210 648 A
(\(void\))252 1362 A
(write\(s,)336 1656 A
(remuser,)336 2034 A
(strlen\(remuser\)+1\);)798 2412 A
1530 V
(26212)210 648 A
(\(void\))252 1362 A
(write\(s,)336 1656 A
(cmd,)168 2034 A
(strlen\(cmd\)+1\);)630 2244 A
1620 V
(26213)210 648 A
1362(if)S
(\(read\(s,)336 1488 A
(&c,)126 1866 A
2034(1\))S
2160(!=)S
2286(1\))S
2412({)S
1710 V
(26214)210 648 A
(perror\(*ahost\);)630 1698 A
1800 V
(26215)210 648 A
(goto)168 1698 A
(bad2;)210 1908 A
1890 V
(26216)210 648 A
1362(})S
1980 V
(26217)210 648 A
1362(if)S
1488(\(c)S
1614(!=)S
1740(0\))S
1866({)S
2070 V
(26218)210 648 A
(while)210 1698 A
(\(read\(s,)336 1950 A
(&c,)126 2328 A
2496(1\))S
2622(==)S
2748(1\))S
2874({)S
2160 V
(26219)210 648 A
(\(void\))252 2034 A
(write\(2,)336 2328 A
(&c,)126 2706 A
(1\);)126 2874 A
2250 V
(26220)210 648 A
2034(if)S
2160(\(c)S
2286(==)S
('\\n'\))210 2412 A
2340 V
(26221)210 648 A
(break;)252 2370 A
2430 V
(26222)210 648 A
1698(})S
2520 V
(26223)210 648 A
(goto)168 1698 A
(bad2;)210 1908 A
2610 V
(26224)210 648 A
1362(})S
2700 V
(26225)210 648 A
(sigsetmask\(oldmask\);)840 1362 A
2790 V
(26226)210 648 A
(return)252 1362 A
(\(s\);)168 1656 A
2880 V
(26227)210 648 A
(bad2:)210 1026 A
2970 V
(26228)210 648 A
1362(if)S
(\(lport\))294 1488 A
3060 V
(26229)210 648 A
(\(void\))252 1698 A
(close\(*fd2p\);)546 1992 A
3150 V
(26230)210 648 A
(bad:)168 1026 A
3240 V
(26231)210 648 A
(\(void\))252 1362 A
(close\(s\);)378 1656 A
3330 V
(26232)210 648 A
(sigsetmask\(oldmask\);)840 1362 A
3420 V
(26233)210 648 A
(return)252 1362 A
(\(-1\);)210 1656 A
3510 V
(26234)210 648 A
1026(})S
3690 V
(26236)210 648 A
(rresvport\(alport\))714 1026 A
3780 V
(26237)210 648 A
(int)126 1362 A
(*alport;)336 1530 A
3870 V
(26238)210 648 A
1026({)S
3960 V
(26239)210 648 A
(struct)252 1362 A
(sockaddr_in)462 1656 A
(sin;)168 2160 A
4050 V
(26240)210 648 A
(int)126 1362 A
1530(s;)S
4140 V
(26241)210 648 A
4230 V
(26242)210 648 A
(sin.sin_family)588 1362 A
1992(=)S
(AF_INET;)336 2076 A
4320 V
(26243)210 648 A
(sin.sin_addr.s_addr)798 1362 A
2202(=)S
(INADDR_ANY;)462 2286 A
4410 V
(26244)210 648 A
1362(s)S
1446(=)S
(socket\(AF_INET,)630 1530 A
(SOCK_STREAM,)504 2202 A
(0\);)126 2748 A
4500 V
(26245)210 648 A
1362(if)S
1488(\(s)S
1614(<)S
1698(0\))S
4590 V
(26246)210 648 A
(return)252 1698 A
(\(-1\);)210 1992 A
4680 V
(26247)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
4770 V
(26248)210 648 A
(sin.sin_port)504 1698 A
2244(=)S
(htons\(\(u_short\)*alport\);)1008 2328 A
4860 V
(26249)210 648 A
1698(if)S
(\(bind\(s,)336 1824 A
(\(caddr_t\)&sin,)588 2202 A
(sizeof)252 2832 A
(\(sin\)\))252 3126 A
3420(>=)S
3546(0\))S
4950 V
(26250)210 648 A
(return)252 2034 A
(\(s\);)168 2328 A
5040 V
(26251)210 648 A
1698(if)S
(\(errno)252 1824 A
2118(!=)S
(EADDRINUSE\))462 2244 A
2748({)S
5130 V
(26252)210 648 A
(\(void\))252 2034 A
(close\(s\);)378 2328 A
5220 V
(26253)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
5310 V
(26254)210 648 A
1698(})S
5400 V
(26255)210 648 A
(\(*alport\)--;)504 1698 A
5490 V
(26256)210 648 A
1698(if)S
(\(*alport)336 1824 A
2202(==)S
(IPPORT_RESERVED/2\))756 2328 A
3126({)S
5580 V
(26257)210 648 A
(\(void\))252 2034 A
(close\(s\);)378 2328 A
5670 V
(26258)210 648 A
(errno)210 2034 A
2286(=)S
(EAGAIN;)294 2370 A
3042(/*)S
(close)210 3168 A
3420(*/)S
5760 V
(26259)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
5850 V
(26260)210 648 A
1698(})S
5940 V
(26261)210 648 A
1362(})S
6030 V
(26262)210 648 A
1026(})S
6120 V
(26263)210 648 A
(#endif)252 1026 A
1320(/*)S
(_MINIX)252 1446 A
1740(*/)S
6210 V
(26264)210 648 A
8418 V
EP
%%Page: 242 242
BP
/slant 0 def
/height 0 def
630 V
12 B
(242)180 648 A
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26265)210 648 A
(int)126 1026 A
(_check_rhosts_file)756 1362 A
2160(=)S
2244(1;)S
990 V
(26266)210 648 A
1080 V
(26267)210 648 A
(ruserok\(rhost,)588 1026 A
(superuser,)420 1656 A
(ruser,)252 2118 A
(luser\))252 2412 A
1170 V
(26268)210 648 A
(CONST)210 1362 A
(char)168 1614 A
(*rhost;)294 1824 A
1260 V
(26269)210 648 A
(int)126 1362 A
(superuser;)420 1530 A
1350 V
(26270)210 648 A
(CONST)210 1362 A
(char)168 1614 A
(*ruser,)294 1824 A
(*luser;)294 2160 A
1440 V
(26271)210 648 A
1026({)S
1530 V
(26272)210 648 A
(FILE)168 1362 A
(*hostf;)294 1572 A
1620 V
(26273)210 648 A
(char)168 1362 A
(fhost[MAXHOSTNAMELEN];)924 1572 A
1710 V
(26274)210 648 A
(int)126 1362 A
(first)210 1530 A
1782(=)S
1866(1;)S
1800 V
(26275)210 648 A
(register)336 1362 A
(CONST)210 1740 A
(char)168 1992 A
(*sp;)168 2202 A
1890 V
(26276)210 648 A
(register)336 1362 A
(char)168 1740 A
(*p;)126 1950 A
1980 V
(26277)210 648 A
(int)126 1362 A
(baselen)294 1530 A
1866(=)S
(-1;)126 1950 A
2070 V
(26278)210 648 A
2160 V
(26279)210 648 A
1362(sp)S
1488(=)S
(rhost;)252 1572 A
2250 V
(26280)210 648 A
1362(p)S
1446(=)S
(fhost;)252 1530 A
2340 V
(26281)210 648 A
(while)210 1362 A
(\(*sp\))210 1614 A
1866({)S
2430 V
(26282)210 648 A
1698(if)S
(\(*sp)168 1824 A
2034(==)S
('.'\))168 2160 A
2370({)S
2520 V
(26283)210 648 A
2034(if)S
(\(baselen)336 2160 A
2538(==)S
(-1\))126 2664 A
2610 V
(26284)210 648 A
(baselen)294 2370 A
2706(=)S
2790(sp)S
2916(-)S
(rhost;)252 3000 A
2700 V
(26285)210 648 A
(*p++)168 2034 A
2244(=)S
(*sp++;)252 2328 A
2790 V
(26286)210 648 A
1698(})S
(else)168 1782 A
1992({)S
2880 V
(26287)210 648 A
(*p++)168 2034 A
2244(=)S
(isupper\(*sp\))504 2328 A
2874(?)S
(tolower\(*sp++\))588 2958 A
3588(:)S
(*sp++;)252 3672 A
2970 V
(26288)210 648 A
1698(})S
3060 V
(26289)210 648 A
1362(})S
3150 V
(26290)210 648 A
1362(*p)S
1488(=)S
('\\0';)210 1572 A
3240 V
(26291)210 648 A
(hostf)210 1362 A
1614(=)S
(superuser)378 1698 A
2118(?)S
(\(FILE)210 2202 A
(*\)0)126 2454 A
2622(:)S
(fopen\(_PATH_HEQUIV,)798 2706 A
("r"\);)210 3546 A
3330 V
(26292)210 648 A
(again:)252 1026 A
3420 V
(26293)210 648 A
1362(if)S
(\(hostf\))294 1488 A
1824({)S
3510 V
(26294)210 648 A
1698(if)S
(\(!_validuser\(hostf,)798 1824 A
(fhost,)252 2664 A
(luser,)252 2958 A
(ruser,)252 3252 A
(baselen\)\))378 3546 A
3966({)S
3600 V
(26295)210 648 A
(\(void\))252 2034 A
(fclose\(hostf\);)588 2328 A
3690 V
(26296)210 648 A
(return\(0\);)420 2034 A
3780 V
(26297)210 648 A
1698(})S
3870 V
(26298)210 648 A
(\(void\))252 1698 A
(fclose\(hostf\);)588 1992 A
3960 V
(26299)210 648 A
1362(})S
4050 V
(26300)210 648 A
1362(if)S
(\(first)252 1488 A
1782(==)S
1908(1)S
1992(&&)S
(\(_check_rhosts_file)798 2118 A
2958(||)S
(superuser\)\))462 3084 A
3588({)S
4140 V
(26301)210 648 A
(struct)252 1698 A
(stat)168 1992 A
(sbuf;)210 2202 A
4230 V
(26302)210 648 A
(struct)252 1698 A
(passwd)252 1992 A
(*pwd;)210 2286 A
4320 V
(26303)210 648 A
(char)168 1698 A
(pbuf[MAXPATHLEN];)714 1908 A
4410 V
(26304)210 648 A
4500 V
(26305)210 648 A
(first)210 1698 A
1950(=)S
2034(0;)S
4590 V
(26306)210 648 A
1698(if)S
(\(\(pwd)210 1824 A
2076(=)S
(getpwnam\(luser\)\))672 2160 A
2874(==)S
(NULL\))210 3000 A
4680 V
(26307)210 648 A
(return\(-1\);)462 2034 A
4770 V
(26308)210 648 A
(\(void\)strcpy\(pbuf,)756 1698 A
(pwd->pw_dir\);)546 2496 A
4860 V
(26309)210 648 A
(\(void\)strcat\(pbuf,)756 1698 A
("/.rhosts"\);)504 2496 A
4950 V
(26310)210 648 A
1698(if)S
(\(\(hostf)294 1824 A
2160(=)S
(fopen\(pbuf,)462 2244 A
("r"\)\))210 2748 A
3000(==)S
(NULL\))210 3126 A
5040 V
(26311)210 648 A
(return\(-1\);)462 2034 A
5130 V
(26312)210 648 A
1698(/*)S
5220 V
(26313)210 648 A
1740(*)S
1824(if)S
(owned)210 1950 A
2202(by)S
(someone)294 2328 A
(other)210 2664 A
(than)168 2916 A
(user)168 3126 A
3336(or)S
(root)168 3462 A
3672(or)S
3798(if)S
5310 V
(26314)210 648 A
1740(*)S
(writeable)378 1824 A
2244(by)S
(anyone)252 2370 A
(but)126 2664 A
(the)126 2832 A
(owner,)252 3000 A
(quit)168 3294 A
5400 V
(26315)210 648 A
1740(*/)S
5490 V
(26316)210 648 A
1698(if)S
(\(fstat\(fileno\(hostf\),)882 1824 A
(&sbuf\))252 2748 A
3042(||)S
5580 V
(26317)210 648 A
(sbuf.st_uid)462 1866 A
2370(&&)S
(sbuf.st_uid)462 2496 A
3000(!=)S
(pwd->pw_uid)462 3126 A
3630(||)S
5670 V
(26318)210 648 A
(sbuf.st_mode&022\))714 1866 A
2622({)S
5760 V
(26319)210 648 A
(fclose\(hostf\);)588 2034 A
5850 V
(26320)210 648 A
(return\(-1\);)462 2034 A
5940 V
(26321)210 648 A
1698(})S
6030 V
(26322)210 648 A
(goto)168 1698 A
(again;)252 1908 A
6120 V
(26323)210 648 A
1362(})S
6210 V
(26324)210 648 A
(return)252 1362 A
(\(-1\);)210 1656 A
8418 V
EP
%%Page: 243 243
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
12 B
(243)180 4248 A
900 V
7 LST
(26325)210 648 A
1026(})S
1080 V
(26327)210 648 A
1026(/*)S
(don't)210 1152 A
(make)168 1404 A
(static,)294 1614 A
(used)168 1950 A
2160(by)S
(lpd\(8\))252 2286 A
2580(*/)S
1170 V
(26328)210 648 A
(int)126 1026 A
(_validuser\(hostf,)714 1194 A
(rhost,)252 1950 A
(luser,)252 2244 A
(ruser,)252 2538 A
(baselen\))336 2832 A
1260 V
(26329)210 648 A
(FILE)168 1362 A
(*hostf;)294 1572 A
1350 V
(26330)210 648 A
(CONST)210 1362 A
(char)168 1614 A
(*rhost,)294 1824 A
(*luser,)294 2160 A
(*ruser;)294 2496 A
1440 V
(26331)210 648 A
(int)126 1362 A
(baselen;)336 1530 A
1530 V
(26332)210 648 A
1026({)S
1620 V
(26333)210 648 A
(char)168 1362 A
(*user;)252 1572 A
1710 V
(26334)210 648 A
(char)168 1362 A
(ahost[MAXHOSTNAMELEN];)924 1572 A
1800 V
(26335)210 648 A
(register)336 1362 A
(char)168 1740 A
(*p;)126 1950 A
1890 V
(26336)210 648 A
1980 V
(26337)210 648 A
(while)210 1362 A
(\(fgets\(ahost,)546 1614 A
(sizeof)252 2202 A
(\(ahost\),)336 2496 A
(hostf\)\))294 2874 A
3210({)S
2070 V
(26338)210 648 A
1698(p)S
1782(=)S
(ahost;)252 1866 A
2160 V
(26339)210 648 A
(while)210 1698 A
(\(*p)126 1950 A
2118(!=)S
('\\n')168 2244 A
2454(&&)S
2580(*p)S
2706(!=)S
2832(')S
2916(')S
3000(&&)S
3126(*p)S
3252(!=)S
('\\t')168 3378 A
3588(&&)S
3714(*p)S
3840(!=)S
('\\0'\))210 3966 A
4218({)S
2250 V
(26340)210 648 A
2034(*p)S
2160(=)S
(isupper\(*p\))462 2244 A
2748(?)S
(tolower\(*p\))462 2832 A
3336(:)S
(*p;)126 3420 A
2340 V
(26341)210 648 A
(p++;)168 2034 A
2430 V
(26342)210 648 A
1698(})S
2520 V
(26343)210 648 A
1698(if)S
(\(*p)126 1824 A
1992(==)S
2118(')S
2202(')S
2286(||)S
2412(*p)S
2538(==)S
('\\t'\))210 2664 A
2916({)S
2610 V
(26344)210 648 A
(*p++)168 2034 A
2244(=)S
('\\0';)210 2328 A
2700 V
(26345)210 648 A
(while)210 2034 A
(\(*p)126 2286 A
2454(==)S
2580(')S
2664(')S
2748(||)S
2874(*p)S
3000(==)S
('\\t'\))210 3126 A
2790 V
(26346)210 648 A
(p++;)168 2370 A
2880 V
(26347)210 648 A
(user)168 2034 A
2244(=)S
2328(p;)S
2970 V
(26348)210 648 A
(while)210 2034 A
(\(*p)126 2286 A
2454(!=)S
('\\n')168 2580 A
2790(&&)S
2916(*p)S
3042(!=)S
3168(')S
3252(')S
3336(&&)S
3462(*p)S
3588(!=)S
('\\t')168 3714 A
3924(&&)S
4050(*p)S
4176(!=)S
('\\0'\))210 4302 A
3060 V
(26349)210 648 A
(p++;)168 2370 A
3150 V
(26350)210 648 A
1698(})S
(else)168 1782 A
3240 V
(26351)210 648 A
(user)168 2034 A
2244(=)S
2328(p;)S
3330 V
(26352)210 648 A
1698(*p)S
1824(=)S
('\\0';)210 1908 A
3420 V
(26353)210 648 A
1698(if)S
(\(_checkhost\(rhost,)756 1824 A
(ahost,)252 2622 A
(baselen\))336 2916 A
3294(&&)S
3510 V
(26354)210 648 A
(!strcmp\(ruser,)588 1866 A
(*user)210 2496 A
2748(?)S
(user)168 2832 A
3042(:)S
(luser\)\))294 3126 A
3462({)S
3600 V
(26355)210 648 A
(return)252 2034 A
(\(0\);)168 2328 A
3690 V
(26356)210 648 A
1698(})S
3780 V
(26357)210 648 A
1362(})S
3870 V
(26358)210 648 A
(return)252 1362 A
(\(-1\);)210 1656 A
3960 V
(26359)210 648 A
1026(})S
4140 V
(26361)210 648 A
(static)252 1026 A
(int)126 1320 A
4230 V
(26362)210 648 A
(_checkhost\(rhost,)714 1026 A
(lhost,)252 1782 A
(len\))168 2076 A
4320 V
(26363)210 648 A
(CONST)210 1362 A
(char)168 1614 A
(*rhost,)294 1824 A
(*lhost;)294 2160 A
4410 V
(26364)210 648 A
(int)126 1362 A
(len;)168 1530 A
4500 V
(26365)210 648 A
1026({)S
4590 V
(26366)210 648 A
(static)252 1362 A
(char)168 1656 A
(ldomain[MAXHOSTNAMELEN)924 1866 A
2832(+)S
(1];)126 2916 A
4680 V
(26367)210 648 A
(static)252 1362 A
(char)168 1656 A
(*domainp)336 1866 A
2244(=)S
(NULL;)210 2328 A
4770 V
(26368)210 648 A
(static)252 1362 A
(int)126 1656 A
(nodomain)336 1824 A
2202(=)S
2286(0;)S
4860 V
(26369)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp;)168 1950 A
4950 V
(26370)210 648 A
5040 V
(26371)210 648 A
1362(if)S
(\(len)168 1488 A
1698(==)S
(-1\))126 1824 A
5130 V
(26372)210 648 A
(return\(!strcmp\(rhost,)882 1698 A
(lhost\)\);)336 2622 A
5220 V
(26373)210 648 A
1362(if)S
(\(strncmp\(rhost,)630 1488 A
(lhost,)252 2160 A
(len\)\))210 2454 A
5310 V
(26374)210 648 A
(return\(0\);)420 1698 A
5400 V
(26375)210 648 A
1362(if)S
(\(!strcmp\(rhost,)630 1488 A
(lhost\)\))294 2160 A
5490 V
(26376)210 648 A
(return\(1\);)420 1698 A
5580 V
(26377)210 648 A
1362(if)S
(\(*\(lhost)336 1488 A
1866(+)S
(len\))168 1950 A
2160(!=)S
('\\0'\))210 2286 A
5670 V
(26378)210 648 A
(return\(0\);)420 1698 A
5760 V
(26379)210 648 A
1362(if)S
(\(nodomain\))420 1488 A
5850 V
(26380)210 648 A
(return\(0\);)420 1698 A
5940 V
(26381)210 648 A
1362(if)S
(\(!domainp\))420 1488 A
1950({)S
6030 V
(26382)210 648 A
1698(if)S
(\(gethostname\(ldomain,)882 1824 A
(sizeof\(ldomain\)\))672 2748 A
3462(==)S
(-1\))126 3588 A
3756({)S
6120 V
(26383)210 648 A
(nodomain)336 2034 A
2412(=)S
2496(1;)S
6210 V
(26384)210 648 A
(return\(0\);)420 2034 A
8418 V
EP
%%Page: 244 244
BP
/slant 0 def
/height 0 def
630 V
12 B
(244)180 648 A
11 R
2055(File:)S
(src/lib/ip/rcmd.c)732 2288 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26385)210 648 A
1698(})S
990 V
(26386)210 648 A
(ldomain[MAXHOSTNAMELEN])966 1698 A
2706(=)S
2790(0;)S
1080 V
(26387)210 648 A
1698(if)S
(\(\(domainp)378 1824 A
2244(=)S
(index\(ldomain,)588 2328 A
('.'\)\))210 2958 A
3210(==)S
(\(char)210 3336 A
(*\)NULL\))294 3588 A
3924({)S
1170 V
(26388)210 648 A
(nodomain)336 2034 A
2412(=)S
2496(1;)S
1260 V
(26389)210 648 A
(return\(0\);)420 2034 A
1350 V
(26390)210 648 A
1698(})S
1440 V
(26391)210 648 A
(for)126 1698 A
(\(cp)126 1866 A
2034(=)S
(++domainp;)420 2118 A
(*cp;)168 2580 A
(++cp\))210 2790 A
1530 V
(26392)210 648 A
2034(if)S
(\(isupper\(*cp\)\))588 2160 A
1620 V
(26393)210 648 A
(*cp)126 2370 A
2538(=)S
(tolower\(*cp\);)546 2622 A
1710 V
(26394)210 648 A
1362(})S
1800 V
(26395)210 648 A
(return\(!strcmp\(domainp,)966 1362 A
(rhost)210 2370 A
2622(+)S
(len)126 2706 A
(+1\)\);)210 2874 A
1890 V
(26396)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ip/res_comp.c)882 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(26400)210 648 A
1026(/*)S
2790 V
(26401)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1985)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
2880 V
(26402)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
2970 V
(26403)210 648 A
1068(*)S
3060 V
(26404)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
(provided)336 3840 A
3150 V
(26405)210 648 A
1068(*)S
(that:)210 1152 A
(\(1\))126 1404 A
(source)252 1572 A
(distributions)546 1866 A
(retain)252 2454 A
(this)168 2748 A
(entire)252 2958 A
(copyright)378 3252 A
(notice)252 3672 A
(and)126 3966 A
3240 V
(26406)210 648 A
1068(*)S
(comment,)336 1152 A
(and)126 1530 A
(\(2\))126 1698 A
(distributions)546 1866 A
(including)378 2454 A
(binaries)336 2874 A
(display)294 3252 A
(the)126 3588 A
(following)378 3756 A
3330 V
(26407)210 648 A
1068(*)S
(acknowledgement:)672 1152 A
(`This)210 1908 A
(product)294 2160 A
(includes)336 2496 A
(software)336 2874 A
(developed)378 3252 A
3672(by)S
(the)126 3798 A
3420 V
(26408)210 648 A
1068(*)S
(University)420 1152 A
1614(of)S
(California,)462 1740 A
(Berkeley)336 2244 A
(and)126 2622 A
(its)126 2790 A
(contributors'')588 2958 A
3588(in)S
(the)126 3714 A
3510 V
(26409)210 648 A
1068(*)S
(documentation)546 1152 A
1740(or)S
(other)210 1866 A
(materials)378 2118 A
(provided)336 2538 A
(with)168 2916 A
(the)126 3126 A
(distribution)504 3294 A
(and)126 3840 A
4008(in)S
3600 V
(26410)210 648 A
1068(*)S
(all)126 1152 A
(advertising)462 1320 A
(materials)378 1824 A
(mentioning)420 2244 A
(features)336 2706 A
3084(or)S
(use)126 3210 A
3378(of)S
(this)168 3504 A
(software.)378 3714 A
3690 V
(26411)210 648 A
1068(*)S
(Neither)294 1152 A
(the)126 1488 A
(name)168 1656 A
1866(of)S
(the)126 1992 A
(University)420 2160 A
(nor)126 2622 A
(the)126 2790 A
(names)210 2958 A
3210(of)S
(its)126 3336 A
(contributors)504 3504 A
(may)126 4050 A
3780 V
(26412)210 648 A
1068(*)S
1152(be)S
(used)168 1278 A
1488(to)S
(endorse)294 1614 A
1950(or)S
(promote)294 2076 A
(products)336 2412 A
(derived)294 2790 A
(from)168 3126 A
(this)168 3336 A
(software)336 3546 A
(without)294 3924 A
3870 V
(26413)210 648 A
1068(*)S
(specific)336 1152 A
(prior)210 1530 A
(written)294 1782 A
(permission.)462 2118 A
3960 V
(26414)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
(IMPLIED)294 3756 A
4050 V
(26415)210 648 A
1068(*)S
(WARRANTIES,)462 1152 A
(INCLUDING,)420 1656 A
(WITHOUT)294 2118 A
(LIMITATION,)462 2454 A
(THE)126 2958 A
(IMPLIED)294 3126 A
(WARRANTIES)420 3462 A
3924(OF)S
4140 V
(26416)210 648 A
1068(*)S
(MERCHANTABILITY)630 1152 A
(AND)126 1824 A
(FITNESS)294 1992 A
(FOR)126 2328 A
2496(A)S
(PARTICULAR)420 2580 A
(PURPOSE.)336 3042 A
4230 V
(26417)210 648 A
1068(*/)S
4320 V
(26418)210 648 A
4410 V
(26419)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
4500 V
(26420)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)res_comp.c)630 1992 A
(6.18)168 2706 A
(\(Berkeley\))420 2916 A
(6/27/90";)378 3378 A
4590 V
(26421)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
4680 V
(26422)210 648 A
4770 V
(26423)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
4860 V
(26424)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4950 V
(26425)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5040 V
(26426)210 648 A
5130 V
(26427)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
5220 V
(26428)210 648 A
(#include)336 1026 A
(<net/gen/nameser.h>)798 1404 A
5310 V
(26429)210 648 A
(#include)336 1026 A
(<net/gen/resolv.h>)756 1404 A
5400 V
(26430)210 648 A
5490 V
(26431)210 648 A
(typedef)294 1026 A
(u8_t)168 1362 A
(u_char;)294 1572 A
5580 V
(26432)210 648 A
(typedef)294 1026 A
(u16_t)210 1362 A
(u_short;)336 1614 A
5670 V
(26433)210 648 A
(typedef)294 1026 A
(u32_t)210 1362 A
(u_long;)294 1614 A
5760 V
(26434)210 648 A
5850 V
(26435)210 648 A
(static)252 1026 A
(int)126 1320 A
(dn_find)294 1488 A
(_ARGS\(\()294 1824 A
(const)210 2160 A
(u_char)252 2412 A
(*exp_dn,)336 2706 A
(const)210 3084 A
(u_char)252 3336 A
(*msg,)210 3630 A
5940 V
(26436)210 648 A
(u_char)252 1362 A
(**dnptrs,)378 1656 A
(u_char)252 2076 A
(**lastdnptr)462 2370 A
(\)\);)126 2874 A
6030 V
(26437)210 648 A
(int)126 1026 A
(dn_skipname)462 1194 A
(_ARGS\(\()294 1698 A
(const)210 2034 A
(u_char)252 2286 A
(*comp_dn,)378 2580 A
(const)210 3000 A
(u_char)252 3252 A
(*eom)168 3546 A
(\)\);)126 3756 A
6120 V
(26438)210 648 A
6210 V
(26439)210 648 A
(#define)294 1026 A
(getshort)336 1362 A
(_getshort)378 1740 A
8418 V
EP
%%Page: 245 245
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1954(File:)S
(src/lib/ip/res_comp.c)935 2187 A
12 B
(245)180 4248 A
900 V
7 LST
(26440)210 648 A
(#define)294 1026 A
(getlong)294 1362 A
(_getlong)336 1698 A
990 V
(26441)210 648 A
(#define)294 1026 A
(putshort)336 1362 A
(__putshort)420 1740 A
1080 V
(26442)210 648 A
(#define)294 1026 A
(putlong)294 1362 A
(__putlong)378 1698 A
1170 V
(26443)210 648 A
(#else)210 1026 A
1260 V
(26444)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
1350 V
(26445)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1440 V
(26446)210 648 A
(#include)336 1026 A
(<arpa/nameser.h>)672 1404 A
1530 V
(26447)210 648 A
1620 V
(26448)210 648 A
(static)252 1026 A
(dn_find\(\);)420 1320 A
1710 V
(26449)210 648 A
(#endif)252 1026 A
1800 V
(26450)210 648 A
1890 V
(26451)210 648 A
(#ifdef)252 1026 A
(__STDC__)336 1320 A
1980 V
(26452)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
(const)210 1698 A
2070 V
(26453)210 648 A
(#else)210 1026 A
2160 V
(26454)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
2250 V
(26455)210 648 A
(#endif)252 1026 A
2340 V
(26456)210 648 A
2430 V
(26457)210 648 A
1026(/*)S
2520 V
(26458)210 648 A
1068(*)S
(Expand)252 1152 A
(compressed)420 1446 A
(domain)252 1908 A
(name)168 2202 A
('comp_dn')378 2412 A
2832(to)S
(full)168 2958 A
(domain)252 3168 A
(name.)210 3462 A
2610 V
(26459)210 648 A
1068(*)S
('msg')210 1152 A
1404(is)S
1530(a)S
(pointer)294 1614 A
1950(to)S
(the)126 2076 A
(begining)336 2244 A
2622(of)S
(the)126 2748 A
(message,)336 2916 A
2700 V
(26460)210 648 A
1068(*)S
('eomorig')378 1152 A
(points)252 1572 A
1866(to)S
(the)126 1992 A
(first)210 2160 A
(location)336 2412 A
(after)210 2790 A
(the)126 3042 A
(message,)336 3210 A
2790 V
(26461)210 648 A
1068(*)S
('exp_dn')336 1152 A
1530(is)S
1656(a)S
(pointer)294 1740 A
2076(to)S
2202(a)S
(buffer)252 2286 A
2580(of)S
(size)168 2706 A
('length')336 2916 A
(for)126 3294 A
(the)126 3462 A
(result.)294 3630 A
2880 V
(26462)210 648 A
1068(*)S
(Return)252 1152 A
(size)168 1446 A
1656(of)S
(compressed)420 1782 A
(name)168 2244 A
2454(or)S
2580(-1)S
2706(if)S
(there)210 2832 A
(was)126 3084 A
3252(an)S
(error.)252 3378 A
2970 V
(26463)210 648 A
1068(*/)S
3060 V
(26464)210 648 A
(dn_expand\(msg,)588 1026 A
(eomorig,)336 1656 A
(comp_dn,)336 2034 A
(exp_dn,)294 2412 A
(length\))294 2748 A
3150 V
(26465)210 648 A
(CONST)210 1362 A
(u_char)252 1614 A
(*msg,)210 1908 A
(*eomorig,)378 2160 A
(*comp_dn;)378 2580 A
3240 V
(26466)210 648 A
(u_char)252 1362 A
(*exp_dn;)336 1656 A
3330 V
(26467)210 648 A
(int)126 1362 A
(length;)294 1530 A
3420 V
(26468)210 648 A
1026({)S
3510 V
(26469)210 648 A
(register)336 1362 A
(CONST)210 1740 A
(u_char)252 1992 A
(*cp;)168 2286 A
3600 V
(26470)210 648 A
(register)336 1362 A
(u_char)252 1740 A
(*dn;)168 2034 A
3690 V
(26471)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n,)S
2034(c;)S
3780 V
(26472)210 648 A
(CONST)210 1362 A
(u_char)252 1614 A
(*eom;)210 1908 A
3870 V
(26473)210 648 A
(int)126 1362 A
(len)126 1530 A
1698(=)S
(-1,)126 1782 A
(checked)294 1950 A
2286(=)S
2370(0;)S
3960 V
(26474)210 648 A
4050 V
(26475)210 648 A
1362(dn)S
1488(=)S
(exp_dn;)294 1572 A
4140 V
(26476)210 648 A
1362(cp)S
1488(=)S
(comp_dn;)336 1572 A
4230 V
(26477)210 648 A
(eom)126 1362 A
1530(=)S
(exp_dn)252 1614 A
1908(+)S
(length;)294 1992 A
4320 V
(26478)210 648 A
1362(/*)S
4410 V
(26479)210 648 A
1404(*)S
(fetch)210 1488 A
(next)168 1740 A
(label)210 1950 A
2202(in)S
(domain)252 2328 A
(name)168 2622 A
4500 V
(26480)210 648 A
1404(*/)S
4590 V
(26481)210 648 A
(while)210 1362 A
1614(\(n)S
1740(=)S
(*cp++\))252 1824 A
2118({)S
4680 V
(26482)210 648 A
1698(/*)S
4770 V
(26483)210 648 A
1740(*)S
(Check)210 1824 A
(for)126 2076 A
(indirection)462 2244 A
4860 V
(26484)210 648 A
1740(*/)S
4950 V
(26485)210 648 A
(switch)252 1698 A
1992(\(n)S
2118(&)S
(INDIR_MASK\))462 2202 A
2706({)S
5040 V
(26486)210 648 A
(case)168 1698 A
1908(0:)S
5130 V
(26487)210 648 A
2034(if)S
(\(dn)126 2160 A
2328(!=)S
(exp_dn\))294 2454 A
2790({)S
5220 V
(26488)210 648 A
2370(if)S
(\(dn)126 2496 A
2664(>=)S
(eom\))168 2790 A
5310 V
(26489)210 648 A
(return)252 2706 A
(\(-1\);)210 3000 A
5400 V
(26490)210 648 A
(*dn++)210 2370 A
2622(=)S
('.';)168 2706 A
5490 V
(26491)210 648 A
2034(})S
5580 V
(26492)210 648 A
2034(if)S
(\(dn+n)210 2160 A
2412(>=)S
(eom\))168 2538 A
5670 V
(26493)210 648 A
(return)252 2370 A
(\(-1\);)210 2664 A
5760 V
(26494)210 648 A
(checked)294 2034 A
2370(+=)S
2496(n)S
2580(+)S
2664(1;)S
5850 V
(26495)210 648 A
(while)210 2034 A
(\(--n)168 2286 A
2496(>=)S
2622(0\))S
2748({)S
5940 V
(26496)210 648 A
2370(if)S
(\(\(c)126 2496 A
2664(=)S
(*cp++\))252 2748 A
3042(==)S
('.'\))168 3168 A
3378({)S
6030 V
(26497)210 648 A
2706(if)S
(\(dn)126 2832 A
3000(+)S
3084(n)S
3168(+)S
3252(2)S
3336(>=)S
(eom\))168 3462 A
6120 V
(26498)210 648 A
(return)252 3042 A
(\(-1\);)210 3336 A
6210 V
(26499)210 648 A
(*dn++)210 2706 A
2958(=)S
('\\\\';)210 3042 A
8418 V
EP
%%Page: 246 246
BP
/slant 0 def
/height 0 def
630 V
12 B
(246)180 648 A
11 R
1954(File:)S
(src/lib/ip/res_comp.c)935 2187 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26500)210 648 A
2370(})S
990 V
(26501)210 648 A
(*dn++)210 2370 A
2622(=)S
2706(c;)S
1080 V
(26502)210 648 A
2370(if)S
(\(cp)126 2496 A
2664(>=)S
(eomorig\))336 2790 A
3378(/*)S
(out)126 3504 A
3672(of)S
(range)210 3798 A
4050(*/)S
1170 V
(26503)210 648 A
(return\(-1\);)462 2706 A
1260 V
(26504)210 648 A
2034(})S
1350 V
(26505)210 648 A
(break;)252 2034 A
1440 V
(26506)210 648 A
1530 V
(26507)210 648 A
(case)168 1698 A
(INDIR_MASK:)462 1908 A
1620 V
(26508)210 648 A
2034(if)S
(\(len)168 2160 A
2370(<)S
2454(0\))S
1710 V
(26509)210 648 A
(len)126 2370 A
2538(=)S
2622(cp)S
2748(-)S
(comp_dn)294 2832 A
3168(+)S
3252(1;)S
1800 V
(26510)210 648 A
2034(cp)S
2160(=)S
(msg)126 2244 A
2412(+)S
(\(\(\(n)168 2496 A
2706(&)S
(0x3f\))210 2790 A
3042(<<)S
3168(8\))S
3294(|)S
(\(*cp)168 3378 A
3588(&)S
(0xff\)\);)294 3672 A
1890 V
(26511)210 648 A
2034(if)S
(\(cp)126 2160 A
2328(<)S
(msg)126 2412 A
2580(||)S
2706(cp)S
2832(>=)S
(eomorig\))336 2958 A
3378(/*)S
(out)126 3504 A
3672(of)S
(range)210 3798 A
4050(*/)S
1980 V
(26512)210 648 A
(return\(-1\);)462 2370 A
2070 V
(26513)210 648 A
(checked)294 2034 A
2370(+=)S
2496(2;)S
2160 V
(26514)210 648 A
2034(/*)S
2250 V
(26515)210 648 A
2076(*)S
(Check)210 2160 A
(for)126 2412 A
(loops)210 2580 A
2832(in)S
(the)126 2958 A
(compressed)420 3126 A
(name;)210 3588 A
2340 V
(26516)210 648 A
2076(*)S
2160(if)S
(we've)210 2286 A
(looked)252 2538 A
2832(at)S
(the)126 2958 A
(whole)210 3126 A
(message,)336 3378 A
2430 V
(26517)210 648 A
2076(*)S
(there)210 2160 A
(must)168 2412 A
2622(be)S
2748(a)S
(loop.)210 2832 A
2520 V
(26518)210 648 A
2076(*/)S
2610 V
(26519)210 648 A
2034(if)S
(\(checked)336 2160 A
2538(>=)S
(eomorig)294 2664 A
3000(-)S
(msg\))168 3084 A
2700 V
(26520)210 648 A
(return)252 2370 A
(\(-1\);)210 2664 A
2790 V
(26521)210 648 A
(break;)252 2034 A
2880 V
(26522)210 648 A
2970 V
(26523)210 648 A
(default:)336 1698 A
3060 V
(26524)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
3378(/*)S
(flag)168 3504 A
(error)210 3714 A
3966(*/)S
3150 V
(26525)210 648 A
1698(})S
3240 V
(26526)210 648 A
1362(})S
3330 V
(26527)210 648 A
(*dn)126 1362 A
1530(=)S
('\\0';)210 1614 A
3420 V
(26528)210 648 A
1362(if)S
(\(len)168 1488 A
1698(<)S
1782(0\))S
3510 V
(26529)210 648 A
(len)126 1698 A
1866(=)S
1950(cp)S
2076(-)S
(comp_dn;)336 2160 A
3600 V
(26530)210 648 A
(return)252 1362 A
(\(len\);)252 1656 A
3690 V
(26531)210 648 A
1026(})S
3870 V
(26533)210 648 A
1026(/*)S
3960 V
(26534)210 648 A
1068(*)S
(Compress)336 1152 A
(domain)252 1530 A
(name)168 1824 A
('exp_dn')336 2034 A
(into)168 2412 A
('comp_dn'.)420 2622 A
4050 V
(26535)210 648 A
1068(*)S
(Return)252 1152 A
(the)126 1446 A
(size)168 1614 A
1824(of)S
(the)126 1950 A
(compressed)420 2118 A
(name)168 2580 A
2790(or)S
(-1.)126 2916 A
4140 V
(26536)210 648 A
1068(*)S
('length')336 1152 A
1530(is)S
(the)126 1656 A
(size)168 1824 A
2034(of)S
(the)126 2160 A
(array)210 2328 A
(pointed)294 2580 A
2916(to)S
3042(by)S
('comp_dn'.)420 3168 A
4230 V
(26537)210 648 A
1068(*)S
('dnptrs')336 1152 A
1530(is)S
1656(a)S
(list)168 1740 A
1950(of)S
(pointers)336 2076 A
2454(to)S
(previous)336 2580 A
(compressed)420 2958 A
(names.)252 3420 A
(dnptrs[0])378 3714 A
4320 V
(26538)210 648 A
1068(*)S
1152(is)S
1278(a)S
(pointer)294 1362 A
1698(to)S
(the)126 1824 A
(beginning)378 1992 A
2412(of)S
(the)126 2538 A
(message.)336 2706 A
(The)126 3084 A
(list)168 3252 A
(ends)168 3462 A
(with)168 3672 A
(NULL.)210 3882 A
4410 V
(26539)210 648 A
1068(*)S
('lastdnptr')462 1152 A
1656(is)S
1782(a)S
(pointer)294 1866 A
2202(to)S
(the)126 2328 A
(end)126 2496 A
2664(of)S
(the)126 2790 A
(arrary)252 2958 A
(pointed)294 3252 A
3588(to)S
4500 V
(26540)210 648 A
1068(*)S
1152(by)S
('dnptrs'.)378 1278 A
(Side)168 1698 A
(effect)252 1908 A
2202(is)S
2328(to)S
(update)252 2454 A
(the)126 2748 A
(list)168 2916 A
3126(of)S
(pointers)336 3252 A
(for)126 3630 A
4590 V
(26541)210 648 A
1068(*)S
(labels)252 1152 A
(inserted)336 1446 A
(into)168 1824 A
(the)126 2034 A
(message)294 2202 A
2538(as)S
2664(we)S
(compress)336 2790 A
(the)126 3168 A
(name.)210 3336 A
4680 V
(26542)210 648 A
1068(*)S
1152(If)S
('dnptr')294 1278 A
1614(is)S
(NULL,)210 1740 A
1992(we)S
(don't)210 2118 A
(try)126 2370 A
2538(to)S
(compress)336 2664 A
(names.)252 3042 A
3336(If)S
('lastdnptr')462 3462 A
4770 V
(26543)210 648 A
1068(*)S
1152(is)S
(NULL,)210 1278 A
1530(we)S
(don't)210 1656 A
(update)252 1908 A
(the)126 2202 A
(list.)210 2370 A
4860 V
(26544)210 648 A
1068(*/)S
4950 V
(26545)210 648 A
(int)126 1026 A
5040 V
(26546)210 648 A
(dn_comp\(exp_dn,)630 1026 A
(comp_dn,)336 1698 A
(length,)294 2076 A
(dnptrs,)294 2412 A
(lastdnptr\))420 2748 A
5130 V
(26547)210 648 A
(CONST)210 1362 A
(u_char)252 1614 A
(*exp_dn;)336 1908 A
5220 V
(26548)210 648 A
(u_char)252 1362 A
(*comp_dn;)378 1656 A
5310 V
(26549)210 648 A
(int)126 1362 A
(length;)294 1530 A
5400 V
(26550)210 648 A
(u_char)252 1362 A
(**dnptrs,)378 1656 A
(**lastdnptr;)504 2076 A
5490 V
(26551)210 648 A
1026({)S
5580 V
(26552)210 648 A
(register)336 1362 A
(u_char)252 1740 A
(*cp;)168 2034 A
5670 V
(26553)210 648 A
(register)336 1362 A
(CONST)210 1740 A
(u_char)252 1992 A
(*dn;)168 2286 A
5760 V
(26554)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(c,)S
2034(l;)S
5850 V
(26555)210 648 A
(u_char)252 1362 A
(**cpp,)252 1656 A
(**lpp,)252 1950 A
(*sp,)168 2244 A
(*eob;)210 2454 A
5940 V
(26556)210 648 A
(u_char)252 1362 A
(*msg;)210 1656 A
6030 V
(26557)210 648 A
6120 V
(26558)210 648 A
1362(dn)S
1488(=)S
(exp_dn;)294 1572 A
6210 V
(26559)210 648 A
1362(cp)S
1488(=)S
(comp_dn;)336 1572 A
8418 V
EP
%%Page: 247 247
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1954(File:)S
(src/lib/ip/res_comp.c)935 2187 A
12 B
(247)180 4248 A
900 V
7 LST
(26560)210 648 A
(eob)126 1362 A
1530(=)S
1614(cp)S
1740(+)S
(length;)294 1824 A
990 V
(26561)210 648 A
1362(if)S
(\(dnptrs)294 1488 A
1824(!=)S
(NULL\))210 1950 A
2202({)S
1080 V
(26562)210 648 A
1698(if)S
(\(\(msg)210 1824 A
2076(=)S
(*dnptrs++\))420 2160 A
2622(!=)S
(NULL\))210 2748 A
3000({)S
1170 V
(26563)210 648 A
(for)126 2034 A
(\(cpp)168 2202 A
2412(=)S
(dnptrs;)294 2496 A
(*cpp)168 2832 A
3042(!=)S
(NULL;)210 3168 A
(cpp++\))252 3420 A
1260 V
(26564)210 648 A
2370(;)S
1350 V
(26565)210 648 A
(lpp)126 2034 A
2202(=)S
(cpp;)168 2286 A
2706(/*)S
(end)126 2832 A
3000(of)S
(list)168 3126 A
3336(to)S
(search)252 3462 A
3756(*/)S
1440 V
(26566)210 648 A
1698(})S
1530 V
(26567)210 648 A
1362(})S
(else)168 1446 A
1620 V
(26568)210 648 A
(msg)126 1698 A
1866(=)S
(NULL;)210 1950 A
1710 V
(26569)210 648 A
(for)126 1362 A
1530(\(c)S
1656(=)S
(*dn++;)252 1740 A
2034(c)S
2118(!=)S
('\\0';)210 2244 A
2496(\))S
2580({)S
1800 V
(26570)210 648 A
1698(/*)S
(look)168 1824 A
2034(to)S
(see)126 2160 A
2328(if)S
2454(we)S
(can)126 2580 A
(use)126 2748 A
(pointers)336 2916 A
3294(*/)S
1890 V
(26571)210 648 A
1698(if)S
(\(msg)168 1824 A
2034(!=)S
(NULL\))210 2160 A
2412({)S
1980 V
(26572)210 648 A
2034(if)S
(\(\(l)126 2160 A
2328(=)S
(dn_find\(dn-1,)546 2412 A
(msg,)168 3000 A
(dnptrs,)294 3210 A
(lpp\)\))210 3546 A
3798(>=)S
3924(0\))S
4050({)S
2070 V
(26573)210 648 A
2370(if)S
(\(cp+1)210 2496 A
2748(>=)S
(eob\))168 2874 A
2160 V
(26574)210 648 A
(return)252 2706 A
(\(-1\);)210 3000 A
2250 V
(26575)210 648 A
(*cp++)210 2370 A
2622(=)S
2706(\(l)S
2832(>>)S
2958(8\))S
3084(|)S
(INDIR_MASK;)462 3168 A
2340 V
(26576)210 648 A
(*cp++)210 2370 A
2622(=)S
2706(l)S
2790(%)S
(256;)168 2874 A
2430 V
(26577)210 648 A
(return)252 2370 A
(\(cp)126 2664 A
2832(-)S
(comp_dn\);)378 2916 A
2520 V
(26578)210 648 A
2034(})S
2610 V
(26579)210 648 A
2034(/*)S
(not)126 2160 A
(found,)252 2328 A
(save)168 2622 A
2832(it)S
2958(*/)S
2700 V
(26580)210 648 A
2034(if)S
(\(lastdnptr)420 2160 A
2622(!=)S
(NULL)168 2748 A
2958(&&)S
(cpp)126 3084 A
3252(<)S
(lastdnptr-1\))504 3336 A
3882({)S
2790 V
(26581)210 648 A
(*cpp++)252 2370 A
2664(=)S
(cp;)126 2748 A
2880 V
(26582)210 648 A
(*cpp)168 2370 A
2580(=)S
(NULL;)210 2664 A
2970 V
(26583)210 648 A
2034(})S
3060 V
(26584)210 648 A
1698(})S
3150 V
(26585)210 648 A
1698(sp)S
1824(=)S
(cp++;)210 1908 A
2370(/*)S
(save)168 2496 A
(ptr)126 2706 A
2874(to)S
(length)252 3000 A
(byte)168 3294 A
3504(*/)S
3240 V
(26586)210 648 A
1698(do)S
1824({)S
3330 V
(26587)210 648 A
2034(if)S
2160(\(c)S
2286(==)S
('.'\))168 2412 A
2622({)S
3420 V
(26588)210 648 A
2370(c)S
2454(=)S
(*dn++;)252 2538 A
3510 V
(26589)210 648 A
(break;)252 2370 A
3600 V
(26590)210 648 A
2034(})S
3690 V
(26591)210 648 A
2034(if)S
2160(\(c)S
2286(==)S
('\\\\'\))210 2412 A
2664({)S
3780 V
(26592)210 648 A
2370(if)S
(\(\(c)126 2496 A
2664(=)S
(*dn++\))252 2748 A
3042(==)S
('\\0'\))210 3168 A
3870 V
(26593)210 648 A
(break;)252 2706 A
3960 V
(26594)210 648 A
2034(})S
4050 V
(26595)210 648 A
2034(if)S
(\(cp)126 2160 A
2328(>=)S
(eob\))168 2454 A
2664({)S
4140 V
(26596)210 648 A
2370(if)S
(\(msg)168 2496 A
2706(!=)S
(NULL\))210 2832 A
4230 V
(26597)210 648 A
(*lpp)168 2706 A
2916(=)S
(NULL;)210 3000 A
4320 V
(26598)210 648 A
(return)252 2370 A
(\(-1\);)210 2664 A
4410 V
(26599)210 648 A
2034(})S
4500 V
(26600)210 648 A
(*cp++)210 2034 A
2286(=)S
2370(c;)S
4590 V
(26601)210 648 A
1698(})S
(while)210 1782 A
(\(\(c)126 2034 A
2202(=)S
(*dn++\))252 2286 A
2580(!=)S
('\\0'\);)252 2706 A
4680 V
(26602)210 648 A
1698(/*)S
(catch)210 1824 A
(trailing)336 2076 A
('.'s)168 2454 A
(but)126 2664 A
(not)126 2832 A
('..')168 3000 A
3210(*/)S
4770 V
(26603)210 648 A
1698(if)S
(\(\(l)126 1824 A
1992(=)S
2076(cp)S
2202(-)S
2286(sp)S
2412(-)S
2496(1\))S
2622(==)S
2748(0)S
2832(&&)S
2958(c)S
3042(==)S
('\\0'\))210 3168 A
3420({)S
4860 V
(26604)210 648 A
(cp--;)210 2034 A
4950 V
(26605)210 648 A
(break;)252 2034 A
5040 V
(26606)210 648 A
1698(})S
5130 V
(26607)210 648 A
1698(if)S
1824(\(l)S
1950(<=)S
2076(0)S
2160(||)S
2286(l)S
2370(>)S
(MAXLABEL\))378 2454 A
2874({)S
5220 V
(26608)210 648 A
2034(if)S
(\(msg)168 2160 A
2370(!=)S
(NULL\))210 2496 A
5310 V
(26609)210 648 A
(*lpp)168 2370 A
2580(=)S
(NULL;)210 2664 A
5400 V
(26610)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
5490 V
(26611)210 648 A
1698(})S
5580 V
(26612)210 648 A
(*sp)126 1698 A
1866(=)S
1950(l;)S
5670 V
(26613)210 648 A
1362(})S
5760 V
(26614)210 648 A
1362(if)S
(\(cp)126 1488 A
1656(>=)S
(eob\))168 1782 A
1992({)S
5850 V
(26615)210 648 A
1698(if)S
(\(msg)168 1824 A
2034(!=)S
(NULL\))210 2160 A
5940 V
(26616)210 648 A
(*lpp)168 2034 A
2244(=)S
(NULL;)210 2328 A
6030 V
(26617)210 648 A
(return)252 1698 A
(\(-1\);)210 1992 A
6120 V
(26618)210 648 A
1362(})S
6210 V
(26619)210 648 A
(*cp++)210 1362 A
1614(=)S
('\\0';)210 1698 A
8418 V
EP
%%Page: 248 248
BP
/slant 0 def
/height 0 def
630 V
12 B
(248)180 648 A
11 R
1954(File:)S
(src/lib/ip/res_comp.c)935 2187 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26620)210 648 A
(return)252 1362 A
(\(cp)126 1656 A
1824(-)S
(comp_dn\);)378 1908 A
990 V
(26621)210 648 A
1026(})S
1170 V
(26623)210 648 A
1026(/*)S
1260 V
(26624)210 648 A
1068(*)S
(Skip)168 1152 A
(over)168 1362 A
1572(a)S
(compressed)420 1656 A
(domain)252 2118 A
(name.)210 2412 A
(Return)252 2664 A
(the)126 2958 A
(size)168 3126 A
3336(or)S
(-1.)126 3462 A
1350 V
(26625)210 648 A
1068(*/)S
1440 V
(26626)210 648 A
(dn_skipname\(comp_dn,)840 1026 A
(eom\))168 1908 A
1530 V
(26627)210 648 A
(CONST)210 1362 A
(u_char)252 1614 A
(*comp_dn,)378 1908 A
(*eom;)210 2328 A
1620 V
(26628)210 648 A
1026({)S
1710 V
(26629)210 648 A
(register)336 1362 A
(CONST)210 1740 A
(u_char)252 1992 A
(*cp;)168 2286 A
1800 V
(26630)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n;)S
1890 V
(26631)210 648 A
1980 V
(26632)210 648 A
1362(cp)S
1488(=)S
(comp_dn;)336 1572 A
2070 V
(26633)210 648 A
(while)210 1362 A
(\(cp)126 1614 A
1782(<)S
(eom)126 1866 A
2034(&&)S
2160(\(n)S
2286(=)S
(*cp++\)\))294 2370 A
2706({)S
2160 V
(26634)210 648 A
1698(/*)S
2250 V
(26635)210 648 A
1740(*)S
(check)210 1824 A
(for)126 2076 A
(indirection)462 2244 A
2340 V
(26636)210 648 A
1740(*/)S
2430 V
(26637)210 648 A
(switch)252 1698 A
1992(\(n)S
2118(&)S
(INDIR_MASK\))462 2202 A
2706({)S
2520 V
(26638)210 648 A
(case)168 1698 A
1908(0:)S
2370(/*)S
(normal)252 2496 A
(case,)210 2790 A
3042(n)S
3126(==)S
(len)126 3252 A
3420(*/)S
2610 V
(26639)210 648 A
2034(cp)S
2160(+=)S
2286(n;)S
2700 V
(26640)210 648 A
(continue;)378 2034 A
2790 V
(26641)210 648 A
(default:)336 1698 A
2370(/*)S
(illegal)294 2496 A
(type)168 2832 A
3042(*/)S
2880 V
(26642)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
2970 V
(26643)210 648 A
(case)168 1698 A
(INDIR_MASK:)462 1908 A
2706(/*)S
(indirection)462 2832 A
3336(*/)S
3060 V
(26644)210 648 A
(cp++;)210 2034 A
3150 V
(26645)210 648 A
1698(})S
3240 V
(26646)210 648 A
(break;)252 1698 A
3330 V
(26647)210 648 A
1362(})S
3420 V
(26648)210 648 A
(return)252 1362 A
(\(cp)126 1656 A
1824(-)S
(comp_dn\);)378 1908 A
3510 V
(26649)210 648 A
1026(})S
3690 V
(26651)210 648 A
1026(/*)S
3780 V
(26652)210 648 A
1068(*)S
(Search)252 1152 A
(for)126 1446 A
(expanded)336 1614 A
(name)168 1992 A
(from)168 2202 A
2412(a)S
(list)168 2496 A
2706(of)S
(previously)420 2832 A
(compressed)420 3294 A
(names.)252 3756 A
3870 V
(26653)210 648 A
1068(*)S
(Return)252 1152 A
(the)126 1446 A
(offset)252 1614 A
(from)168 1908 A
(msg)126 2118 A
2286(if)S
(found)210 2412 A
2664(or)S
(-1.)126 2790 A
3960 V
(26654)210 648 A
1068(*)S
(dnptrs)252 1152 A
1446(is)S
(the)126 1572 A
(pointer)294 1740 A
2076(to)S
(the)126 2202 A
(first)210 2370 A
(name)168 2622 A
2832(on)S
(the)126 2958 A
(list,)210 3126 A
4050 V
(26655)210 648 A
1068(*)S
(not)126 1152 A
(the)126 1320 A
(pointer)294 1488 A
1824(to)S
(the)126 1950 A
(start)210 2118 A
2370(of)S
(the)126 2496 A
(message.)336 2664 A
4140 V
(26656)210 648 A
1068(*/)S
4230 V
(26657)210 648 A
(static)252 1026 A
(int)126 1320 A
4320 V
(26658)210 648 A
(dn_find\(exp_dn,)630 1026 A
(msg,)168 1698 A
(dnptrs,)294 1908 A
(lastdnptr\))420 2244 A
4410 V
(26659)210 648 A
(CONST)210 1362 A
(u_char)252 1614 A
(*exp_dn,)336 1908 A
(*msg;)210 2286 A
4500 V
(26660)210 648 A
(u_char)252 1362 A
(**dnptrs,)378 1656 A
(**lastdnptr;)504 2076 A
4590 V
(26661)210 648 A
1026({)S
4680 V
(26662)210 648 A
(CONST)210 1362 A
(register)336 1614 A
(u_char)252 1992 A
(*dn,)168 2286 A
(*cp;)168 2496 A
4770 V
(26663)210 648 A
(register)336 1362 A
(u_char)252 1740 A
(**cpp;)252 2034 A
4860 V
(26664)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n;)S
4950 V
(26665)210 648 A
(CONST)210 1362 A
(u_char)252 1614 A
(*sp;)168 1908 A
5040 V
(26666)210 648 A
5130 V
(26667)210 648 A
(for)126 1362 A
(\(cpp)168 1530 A
1740(=)S
(dnptrs;)294 1824 A
(cpp)126 2160 A
2328(<)S
(lastdnptr;)420 2412 A
(cpp++\))252 2874 A
3168({)S
5220 V
(26668)210 648 A
1698(dn)S
1824(=)S
(exp_dn;)294 1908 A
5310 V
(26669)210 648 A
1698(sp)S
1824(=)S
1908(cp)S
2034(=)S
(*cpp;)210 2118 A
5400 V
(26670)210 648 A
(while)210 1698 A
1950(\(n)S
2076(=)S
(*cp++\))252 2160 A
2454({)S
5490 V
(26671)210 648 A
2034(/*)S
5580 V
(26672)210 648 A
2076(*)S
(check)210 2160 A
(for)126 2412 A
(indirection)462 2580 A
5670 V
(26673)210 648 A
2076(*/)S
5760 V
(26674)210 648 A
(switch)252 2034 A
2328(\(n)S
2454(&)S
(INDIR_MASK\))462 2538 A
3042({)S
5850 V
(26675)210 648 A
(case)168 2034 A
2244(0:)S
2706(/*)S
(normal)252 2832 A
(case,)210 3126 A
3378(n)S
3462(==)S
(len)126 3588 A
3756(*/)S
5940 V
(26676)210 648 A
(while)210 2370 A
(\(--n)168 2622 A
2832(>=)S
2958(0\))S
3084({)S
6030 V
(26677)210 648 A
2706(if)S
(\(*dn)168 2832 A
3042(==)S
('.'\))168 3168 A
6120 V
(26678)210 648 A
(goto)168 3042 A
(next;)210 3252 A
6210 V
(26679)210 648 A
2706(if)S
(\(*dn)168 2832 A
3042(==)S
('\\\\'\))210 3168 A
8418 V
EP
%%Page: 249 249
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1954(File:)S
(src/lib/ip/res_comp.c)935 2187 A
12 B
(249)180 4248 A
900 V
7 LST
(26680)210 648 A
(dn++;)210 3042 A
990 V
(26681)210 648 A
2706(if)S
(\(*dn++)252 2832 A
3126(!=)S
(*cp++\))252 3252 A
1080 V
(26682)210 648 A
(goto)168 3042 A
(next;)210 3252 A
1170 V
(26683)210 648 A
2370(})S
1260 V
(26684)210 648 A
2370(if)S
(\(\(n)126 2496 A
2664(=)S
(*dn++\))252 2748 A
3042(==)S
('\\0')168 3168 A
3378(&&)S
(*cp)126 3504 A
3672(==)S
('\\0'\))210 3798 A
1350 V
(26685)210 648 A
(return)252 2706 A
(\(sp)126 3000 A
3168(-)S
(msg\);)210 3252 A
1440 V
(26686)210 648 A
2370(if)S
2496(\(n)S
2622(==)S
('.'\))168 2748 A
1530 V
(26687)210 648 A
(continue;)378 2706 A
1620 V
(26688)210 648 A
(goto)168 2370 A
(next;)210 2580 A
1710 V
(26689)210 648 A
1800 V
(26690)210 648 A
(default:)336 2034 A
2706(/*)S
(illegal)294 2832 A
(type)168 3168 A
3378(*/)S
1890 V
(26691)210 648 A
(return)252 2370 A
(\(-1\);)210 2664 A
1980 V
(26692)210 648 A
2070 V
(26693)210 648 A
(case)168 2034 A
(INDIR_MASK:)462 2244 A
3042(/*)S
(indirection)462 3168 A
3672(*/)S
2160 V
(26694)210 648 A
2370(cp)S
2496(=)S
(msg)126 2580 A
2748(+)S
(\(\(\(n)168 2832 A
3042(&)S
(0x3f\))210 3126 A
3378(<<)S
3504(8\))S
3630(|)S
(*cp\);)210 3714 A
2250 V
(26695)210 648 A
2034(})S
2340 V
(26696)210 648 A
1698(})S
2430 V
(26697)210 648 A
1698(if)S
(\(*dn)168 1824 A
2034(==)S
('\\0'\))210 2160 A
2520 V
(26698)210 648 A
(return)252 2034 A
(\(sp)126 2328 A
2496(-)S
(msg\);)210 2580 A
2610 V
(26699)210 648 A
(next:)210 1362 A
1698(;)S
2700 V
(26700)210 648 A
1362(})S
2790 V
(26701)210 648 A
(return)252 1362 A
(\(-1\);)210 1656 A
2880 V
(26702)210 648 A
1026(})S
3060 V
(26704)210 648 A
1026(/*)S
3150 V
(26705)210 648 A
1068(*)S
(Routines)336 1152 A
1530(to)S
(insert/extract)588 1656 A
(short/long's.)546 2286 A
(Must)168 2874 A
(account)294 3084 A
(for)126 3420 A
(byte)168 3588 A
3240 V
(26706)210 648 A
1068(*)S
(order)210 1152 A
(and)126 1404 A
(non-alignment)546 1572 A
(problems.)378 2160 A
(This)168 2580 A
(code)168 2790 A
3000(at)S
(least)210 3126 A
(has)126 3378 A
(the)126 3546 A
3330 V
(26707)210 648 A
1068(*)S
(advantage)378 1152 A
1572(of)S
(being)210 1698 A
(portable.)378 1950 A
3420 V
(26708)210 648 A
1068(*)S
3510 V
(26709)210 648 A
1068(*)S
(used)168 1152 A
1362(by)S
(sendmail.)378 1488 A
3600 V
(26710)210 648 A
1068(*/)S
3690 V
(26711)210 648 A
3780 V
(26712)210 648 A
(u16_t)210 1026 A
3870 V
(26713)210 648 A
(getshort\(msgp\))588 1026 A
3960 V
(26714)210 648 A
(CONST)210 1362 A
(u8_t)168 1614 A
(*msgp;)252 1824 A
4050 V
(26715)210 648 A
1026({)S
4140 V
(26716)210 648 A
(return)252 1362 A
(\(\(msgp[0])378 1656 A
2076(<<)S
2202(8\))S
2328(|)S
(\(msgp[1])336 2412 A
2790(<<)S
(0\)\);)168 2916 A
4230 V
(26717)210 648 A
1026(})S
4410 V
(26719)210 648 A
(u32_t)210 1026 A
4500 V
(26720)210 648 A
(getlong\(msgp\))546 1026 A
4590 V
(26721)210 648 A
(CONST)210 1362 A
(u8_t)168 1614 A
(*msgp;)252 1824 A
4680 V
(26722)210 648 A
1026({)S
4770 V
(26723)210 648 A
(return)252 1362 A
1656(\()S
(\(\(u32_t\))336 1782 A
(msgp[0])294 2160 A
2496(<<)S
(24\))126 2622 A
4860 V
(26724)210 648 A
1698(|)S
(\(\(u32_t\))336 1782 A
(msgp[1])294 2160 A
2496(<<)S
(16\))126 2622 A
4950 V
(26725)210 648 A
1698(|)S
(\(\(u32_t\))336 1782 A
(msgp[2])294 2160 A
2496(<<)S
2664(8\))S
5040 V
(26726)210 648 A
1698(|)S
(\(\(u32_t\))336 1782 A
(msgp[3])294 2160 A
2496(<<)S
(0\)\);)168 2664 A
5130 V
(26727)210 648 A
1026(})S
5400 V
(26730)210 648 A
(void)168 1026 A
5490 V
(26731)210 648 A
(putshort\(s,)462 1026 A
(msgp\))210 1530 A
5580 V
(26732)210 648 A
(register)336 1362 A
(U16_t)210 1740 A
1992(s;)S
5670 V
(26733)210 648 A
(register)336 1362 A
(u8_t)168 1740 A
(*msgp;)252 1950 A
5760 V
(26734)210 648 A
1026({)S
5850 V
(26735)210 648 A
5940 V
(26736)210 648 A
(msgp[1])294 1362 A
1698(=)S
1782(s;)S
6030 V
(26737)210 648 A
(msgp[0])294 1362 A
1698(=)S
1782(s)S
1866(>>)S
1992(8;)S
6120 V
(26738)210 648 A
1026(})S
8418 V
EP
%%Page: 250 250
BP
/slant 0 def
/height 0 def
630 V
12 B
(250)180 648 A
11 R
1954(File:)S
(src/lib/ip/res_comp.c)935 2187 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26740)210 648 A
(void)168 1026 A
990 V
(26741)210 648 A
(putlong\(l,)420 1026 A
(msgp\))210 1488 A
1080 V
(26742)210 648 A
(register)336 1362 A
(u32_t)210 1740 A
1992(l;)S
1170 V
(26743)210 648 A
(register)336 1362 A
(u8_t)168 1740 A
(*msgp;)252 1950 A
1260 V
(26744)210 648 A
1026({)S
1350 V
(26745)210 648 A
1440 V
(26746)210 648 A
(msgp[3])294 1362 A
1698(=)S
1782(l;)S
1530 V
(26747)210 648 A
(msgp[2])294 1362 A
1698(=)S
1782(\(l)S
(>>=)126 1908 A
(8\);)126 2076 A
1620 V
(26748)210 648 A
(msgp[1])294 1362 A
1698(=)S
1782(\(l)S
(>>=)126 1908 A
(8\);)126 2076 A
1710 V
(26749)210 648 A
(msgp[0])294 1362 A
1698(=)S
1782(l)S
1866(>>)S
1992(8;)S
1800 V
(26750)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/ip/res_init.c)882 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(26800)210 648 A
(/*-)126 1026 A
2790 V
(26801)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1985,)210 1740 A
(1989)168 1992 A
(Regents)294 2202 A
2538(of)S
(the)126 2664 A
(University)420 2832 A
3294(of)S
(California.)462 3420 A
2880 V
(26802)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
2970 V
(26803)210 648 A
1068(*)S
3060 V
(26804)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
(provided)336 3840 A
3150 V
(26805)210 648 A
1068(*)S
(that:)210 1152 A
(\(1\))126 1404 A
(source)252 1572 A
(distributions)546 1866 A
(retain)252 2454 A
(this)168 2748 A
(entire)252 2958 A
(copyright)378 3252 A
(notice)252 3672 A
(and)126 3966 A
3240 V
(26806)210 648 A
1068(*)S
(comment,)336 1152 A
(and)126 1530 A
(\(2\))126 1698 A
(distributions)546 1866 A
(including)378 2454 A
(binaries)336 2874 A
(display)294 3252 A
(the)126 3588 A
(following)378 3756 A
3330 V
(26807)210 648 A
1068(*)S
(acknowledgement:)672 1152 A
(`This)210 1908 A
(product)294 2160 A
(includes)336 2496 A
(software)336 2874 A
(developed)378 3252 A
3672(by)S
(the)126 3798 A
3420 V
(26808)210 648 A
1068(*)S
(University)420 1152 A
1614(of)S
(California,)462 1740 A
(Berkeley)336 2244 A
(and)126 2622 A
(its)126 2790 A
(contributors'')588 2958 A
3588(in)S
(the)126 3714 A
3510 V
(26809)210 648 A
1068(*)S
(documentation)546 1152 A
1740(or)S
(other)210 1866 A
(materials)378 2118 A
(provided)336 2538 A
(with)168 2916 A
(the)126 3126 A
(distribution)504 3294 A
(and)126 3840 A
4008(in)S
3600 V
(26810)210 648 A
1068(*)S
(all)126 1152 A
(advertising)462 1320 A
(materials)378 1824 A
(mentioning)420 2244 A
(features)336 2706 A
3084(or)S
(use)126 3210 A
3378(of)S
(this)168 3504 A
(software.)378 3714 A
3690 V
(26811)210 648 A
1068(*)S
(Neither)294 1152 A
(the)126 1488 A
(name)168 1656 A
1866(of)S
(the)126 1992 A
(University)420 2160 A
(nor)126 2622 A
(the)126 2790 A
(names)210 2958 A
3210(of)S
(its)126 3336 A
(contributors)504 3504 A
(may)126 4050 A
3780 V
(26812)210 648 A
1068(*)S
1152(be)S
(used)168 1278 A
1488(to)S
(endorse)294 1614 A
1950(or)S
(promote)294 2076 A
(products)336 2412 A
(derived)294 2790 A
(from)168 3126 A
(this)168 3336 A
(software)336 3546 A
(without)294 3924 A
3870 V
(26813)210 648 A
1068(*)S
(specific)336 1152 A
(prior)210 1530 A
(written)294 1782 A
(permission.)462 2118 A
3960 V
(26814)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
(IMPLIED)294 3756 A
4050 V
(26815)210 648 A
1068(*)S
(WARRANTIES,)462 1152 A
(INCLUDING,)420 1656 A
(WITHOUT)294 2118 A
(LIMITATION,)462 2454 A
(THE)126 2958 A
(IMPLIED)294 3126 A
(WARRANTIES)420 3462 A
3924(OF)S
4140 V
(26816)210 648 A
1068(*)S
(MERCHANTABILITY)630 1152 A
(AND)126 1824 A
(FITNESS)294 1992 A
(FOR)126 2328 A
2496(A)S
(PARTICULAR)420 2580 A
(PURPOSE.)336 3042 A
4230 V
(26817)210 648 A
1068(*/)S
4320 V
(26818)210 648 A
4410 V
(26819)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
4500 V
(26820)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)res_init.c)630 1992 A
(6.14)168 2706 A
(\(Berkeley\))420 2916 A
(6/27/90";)378 3378 A
4590 V
(26821)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
4680 V
(26822)210 648 A
4770 V
(26823)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
4860 V
(26824)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4950 V
(26825)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5040 V
(26826)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5130 V
(26827)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5220 V
(26828)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5310 V
(26829)210 648 A
5400 V
(26830)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
5490 V
(26831)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
5580 V
(26832)210 648 A
(#include)336 1026 A
(<net/gen/inet.h>)672 1404 A
5670 V
(26833)210 648 A
(#include)336 1026 A
(<net/gen/nameser.h>)798 1404 A
5760 V
(26834)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
5850 V
(26835)210 648 A
(#include)336 1026 A
(<net/gen/resolv.h>)756 1404 A
5940 V
(26836)210 648 A
(#include)336 1026 A
(<net/gen/socket.h>)756 1404 A
6030 V
(26837)210 648 A
6120 V
(26838)210 648 A
(#define)294 1026 A
(index\(s,c\))420 1362 A
(strchr\(s,c\))462 1824 A
6210 V
(26839)210 648 A
(#else)210 1026 A
8418 V
EP
%%Page: 251 251
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2003(File:)S
(src/lib/ip/res_init.c)837 2236 A
12 B
(251)180 4248 A
900 V
7 LST
(26840)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
990 V
(26841)210 648 A
(#include)336 1026 A
(<sys/socket.h>)588 1404 A
1080 V
(26842)210 648 A
(#include)336 1026 A
(<netinet/in.h>)588 1404 A
1170 V
(26843)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1260 V
(26844)210 648 A
(#include)336 1026 A
(<arpa/nameser.h>)672 1404 A
1350 V
(26845)210 648 A
(#include)336 1026 A
(<resolv.h>)420 1404 A
1440 V
(26846)210 648 A
(#endif)252 1026 A
1530 V
(26847)210 648 A
1620 V
(26848)210 648 A
1026(/*)S
1710 V
(26849)210 648 A
1068(*)S
(Resolver)336 1152 A
(state)210 1530 A
1800 V
(26850)210 648 A
1068(*/)S
1890 V
(26851)210 648 A
(struct)252 1026 A
(state)210 1320 A
(_res;)210 1572 A
1980 V
(26852)210 648 A
2070 V
(26853)210 648 A
1026(/*)S
2160 V
(26854)210 648 A
1068(*)S
(Set)126 1152 A
1320(up)S
(default)294 1446 A
(settings.)378 1782 A
2244(If)S
(the)126 2370 A
(configuration)546 2538 A
(file)168 3126 A
(exist,)252 3336 A
(the)126 3630 A
(values)252 3798 A
2250 V
(26855)210 648 A
1068(*)S
(there)210 1152 A
(will)168 1404 A
(have)168 1614 A
(precedence.)462 1824 A
(Otherwise,)420 2370 A
(the)126 2832 A
(server)252 3000 A
(address)294 3294 A
3630(is)S
(set)126 3756 A
3924(to)S
2340 V
(26856)210 648 A
1068(*)S
(127.0.0.1)378 1152 A
(\(localhost\))462 1572 A
(and)126 2076 A
(the)126 2244 A
(default)294 2412 A
(domain)252 2748 A
(name)168 3042 A
(comes)210 3252 A
(from)168 3504 A
(gethostname\(\).)588 3714 A
2430 V
(26857)210 648 A
1068(*)S
2520 V
(26858)210 648 A
1068(*)S
(The)126 1152 A
(configuration)546 1320 A
(file)168 1908 A
(should)252 2118 A
(only)168 2412 A
2622(be)S
(used)168 2748 A
2958(if)S
(you)126 3084 A
(want)168 3252 A
3462(to)S
(redefine)336 3588 A
(your)168 3966 A
2610 V
(26859)210 648 A
1068(*)S
(domain)252 1152 A
1446(or)S
(run)126 1572 A
(without)294 1740 A
2076(a)S
(server)252 2160 A
2454(on)S
(your)168 2580 A
(machine.)336 2790 A
2700 V
(26860)210 648 A
1068(*)S
2790 V
(26861)210 648 A
1068(*)S
(Return)252 1152 A
1446(0)S
1530(if)S
(completes)378 1656 A
(successfully,)546 2076 A
2664(-1)S
2790(on)S
(error)210 2916 A
2880 V
(26862)210 648 A
1068(*/)S
2970 V
(26863)210 648 A
(int)126 1026 A
3060 V
(26864)210 648 A
(res_init\(\))420 1026 A
3150 V
(26865)210 648 A
1026({)S
3240 V
(26866)210 648 A
(register)336 1362 A
(FILE)168 1740 A
(*fp;)168 1950 A
3330 V
(26867)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp,)168 1950 A
(**pp;)210 2160 A
3420 V
(26868)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n;)S
3510 V
(26869)210 648 A
(char)168 1362 A
(buf[BUFSIZ];)504 1572 A
3600 V
(26870)210 648 A
(int)126 1362 A
(haveenv)294 1530 A
1866(=)S
1950(0;)S
3690 V
(26871)210 648 A
(int)126 1362 A
(havesearch)420 1530 A
1992(=)S
2076(0;)S
3780 V
(26872)210 648 A
(struct)252 1362 A
(servent*)336 1656 A
(servent;)336 2034 A
3870 V
(26873)210 648 A
(u16_t)210 1362 A
(nameserver_port;)672 1614 A
3960 V
(26874)210 648 A
4050 V
(26875)210 648 A
1362(/*)S
(Resolver)336 1488 A
(state)210 1866 A
(default)294 2118 A
(settings)336 2454 A
2832(*/)S
4140 V
(26876)210 648 A
(_res.retrans)504 1362 A
1908(=)S
(RES_TIMEOUT;)504 1992 A
2706(/*)S
(retransmition)546 2832 A
(time)168 3420 A
(interval)336 3630 A
4008(*/)S
4230 V
(26877)210 648 A
(_res.retry)420 1362 A
1824(=)S
1908(4;)S
2706(/*)S
(number)252 2832 A
3126(of)S
(times)210 3252 A
3504(to)S
(retransmit)420 3630 A
4092(*/)S
4320 V
(26878)210 648 A
(_res.options)504 1362 A
1908(=)S
(RES_DEFAULT;)504 1992 A
2706(/*)S
(options)294 2832 A
(flags)210 3168 A
3420(*/)S
4410 V
(26879)210 648 A
(_res.nscount)504 1362 A
1908(=)S
1992(0;)S
2706(/*)S
(number)252 2832 A
3126(of)S
(name)168 3252 A
(servers)294 3462 A
3798(*/)S
4500 V
(26880)210 648 A
4590 V
(26881)210 648 A
(servent=)336 1362 A
(getservbyname\("domain",)966 1740 A
(NULL\);)252 2748 A
4680 V
(26882)210 648 A
1362(if)S
(\(!servent\))420 1488 A
4770 V
(26883)210 648 A
1362({)S
4860 V
(26884)210 648 A
(h_errno=)336 1698 A
(NO_RECOVERY;)504 2076 A
4950 V
(26885)210 648 A
(return)252 1698 A
(-1;)126 1992 A
5040 V
(26886)210 648 A
1362(})S
5130 V
(26887)210 648 A
(nameserver_port=)672 1362 A
(servent->s_port;)672 2076 A
5220 V
(26888)210 648 A
5310 V
(26889)210 648 A
1362(/*)S
(Allow)210 1488 A
(user)168 1740 A
1950(to)S
(override)336 2076 A
(the)126 2454 A
(local)210 2622 A
(domain)252 2874 A
(definition)420 3168 A
3630(*/)S
5400 V
(26890)210 648 A
1362(if)S
(\(\(cp)168 1488 A
1698(=)S
(getenv\("LOCALDOMAIN"\)\))924 1782 A
2748(!=)S
(NULL\))210 2874 A
3126({)S
5490 V
(26891)210 648 A
(\(void\)strncpy\(_res.defdname,)1176 1698 A
(cp,)126 2916 A
(sizeof\(_res.defdname\)\);)966 3084 A
5580 V
(26892)210 648 A
(haveenv++;)420 1698 A
5670 V
(26893)210 648 A
1362(})S
5760 V
(26894)210 648 A
5850 V
(26895)210 648 A
1362(if)S
(\(\(fp)168 1488 A
1698(=)S
(fopen\(_PATH_RESCONF,)840 1782 A
("r"\)\))210 2664 A
2916(!=)S
(NULL\))210 3042 A
3294({)S
5940 V
(26896)210 648 A
1530(/*)S
(read)168 1656 A
(the)126 1866 A
(config)252 2034 A
(file)168 2328 A
2538(*/)S
6030 V
(26897)210 648 A
(while)210 1530 A
(\(fgets\(buf,)462 1782 A
(sizeof\(buf\),)504 2286 A
(fp\))126 2832 A
3000(!=)S
(NULL\))210 3126 A
3378({)S
6120 V
(26898)210 648 A
1698(/*)S
(read)168 1824 A
(default)294 2034 A
(domain)252 2370 A
(name)168 2664 A
2874(*/)S
6210 V
(26899)210 648 A
1698(if)S
(\(!strncmp\(buf,)588 1824 A
("domain",)378 2454 A
(sizeof\("domain"\))672 2874 A
3588(-)S
(1\)\))126 3672 A
3840({)S
8418 V
EP
%%Page: 252 252
BP
/slant 0 def
/height 0 def
630 V
12 B
(252)180 648 A
11 R
2003(File:)S
(src/lib/ip/res_init.c)837 2236 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(26900)210 648 A
1866(if)S
(\(haveenv\))378 1992 A
2706(/*)S
(skip)168 2832 A
3042(if)S
(have)168 3168 A
(from)168 3378 A
(environ)294 3588 A
3924(*/)S
990 V
(26901)210 648 A
(continue;)378 2202 A
1080 V
(26902)210 648 A
1866(cp)S
1992(=)S
(buf)126 2076 A
2244(+)S
(sizeof\("domain"\))672 2328 A
3042(-)S
3126(1;)S
1170 V
(26903)210 648 A
(while)210 1866 A
(\(*cp)168 2118 A
2328(==)S
2454(')S
2538(')S
2622(||)S
(*cp)126 2748 A
2916(==)S
('\\t'\))210 3042 A
1260 V
(26904)210 648 A
(cp++;)210 2202 A
1350 V
(26905)210 648 A
1866(if)S
(\(\(*cp)210 1992 A
2244(==)S
('\\0'\))210 2370 A
2622(||)S
(\(*cp)168 2748 A
2958(==)S
('\\n'\)\))252 3084 A
1440 V
(26906)210 648 A
(continue;)378 2202 A
1530 V
(26907)210 648 A
(\(void\)strncpy\(_res.defdname,)1176 1866 A
(cp,)126 3084 A
(sizeof\(_res.defdname\))882 3252 A
4176(-)S
(1\);)126 4260 A
1620 V
(26908)210 648 A
1866(if)S
(\(\(cp)168 1992 A
2202(=)S
(index\(_res.defdname,)840 2286 A
('\\n'\)\))252 3168 A
3462(!=)S
(NULL\))210 3588 A
1710 V
(26909)210 648 A
(*cp)126 2202 A
2370(=)S
('\\0';)210 2454 A
1800 V
(26910)210 648 A
(havesearch)420 1866 A
2328(=)S
2412(0;)S
1890 V
(26911)210 648 A
(continue;)378 1866 A
1980 V
(26912)210 648 A
1698(})S
2070 V
(26913)210 648 A
1698(/*)S
(set)126 1824 A
(search)252 1992 A
(list)168 2286 A
2496(*/)S
2160 V
(26914)210 648 A
1698(if)S
(\(!strncmp\(buf,)588 1824 A
("search",)378 2454 A
(sizeof\("search"\))672 2874 A
3588(-)S
(1\)\))126 3672 A
3840({)S
2250 V
(26915)210 648 A
1866(if)S
(\(haveenv\))378 1992 A
2706(/*)S
(skip)168 2832 A
3042(if)S
(have)168 3168 A
(from)168 3378 A
(environ)294 3588 A
3924(*/)S
2340 V
(26916)210 648 A
(continue;)378 2202 A
2430 V
(26917)210 648 A
1866(cp)S
1992(=)S
(buf)126 2076 A
2244(+)S
(sizeof\("search"\))672 2328 A
3042(-)S
3126(1;)S
2520 V
(26918)210 648 A
(while)210 1866 A
(\(*cp)168 2118 A
2328(==)S
2454(')S
2538(')S
2622(||)S
(*cp)126 2748 A
2916(==)S
('\\t'\))210 3042 A
2610 V
(26919)210 648 A
(cp++;)210 2202 A
2700 V
(26920)210 648 A
1866(if)S
(\(\(*cp)210 1992 A
2244(==)S
('\\0'\))210 2370 A
2622(||)S
(\(*cp)168 2748 A
2958(==)S
('\\n'\)\))252 3084 A
2790 V
(26921)210 648 A
(continue;)378 2202 A
2880 V
(26922)210 648 A
(\(void\)strncpy\(_res.defdname,)1176 1866 A
(cp,)126 3084 A
(sizeof\(_res.defdname\))882 3252 A
4176(-)S
(1\);)126 4260 A
2970 V
(26923)210 648 A
1866(if)S
(\(\(cp)168 1992 A
2202(=)S
(index\(_res.defdname,)840 2286 A
('\\n'\)\))252 3168 A
3462(!=)S
(NULL\))210 3588 A
3060 V
(26924)210 648 A
(*cp)126 2202 A
2370(=)S
('\\0';)210 2454 A
3150 V
(26925)210 648 A
1866(/*)S
3240 V
(26926)210 648 A
1908(*)S
(Set)126 1992 A
(search)252 2160 A
(list)168 2454 A
2664(to)S
2790(be)S
(blank-separated)630 2916 A
(strings)294 3588 A
3330 V
(26927)210 648 A
1908(*)S
1992(on)S
(rest)168 2118 A
2328(of)S
(line.)210 2454 A
3420 V
(26928)210 648 A
1908(*/)S
3510 V
(26929)210 648 A
1866(cp)S
1992(=)S
(_res.defdname;)588 2076 A
3600 V
(26930)210 648 A
1866(pp)S
1992(=)S
(_res.dnsrch;)504 2076 A
3690 V
(26931)210 648 A
(*pp++)210 1866 A
2118(=)S
(cp;)126 2202 A
3780 V
(26932)210 648 A
(for)126 1866 A
2034(\(n)S
2160(=)S
2244(0;)S
(*cp)126 2370 A
2538(&&)S
2664(pp)S
2790(<)S
(_res.dnsrch)462 2874 A
3378(+)S
(MAXDNSRCH;)420 3462 A
(cp++\))210 3924 A
4176({)S
3870 V
(26933)210 648 A
2202(if)S
(\(*cp)168 2328 A
2538(==)S
2664(')S
2748(')S
2832(||)S
(*cp)126 2958 A
3126(==)S
('\\t'\))210 3252 A
3504({)S
3960 V
(26934)210 648 A
(*cp)126 2538 A
2706(=)S
2790(0;)S
4050 V
(26935)210 648 A
2538(n)S
2622(=)S
2706(1;)S
4140 V
(26936)210 648 A
2202(})S
(else)168 2286 A
2496(if)S
(\(n\))126 2622 A
2790({)S
4230 V
(26937)210 648 A
(*pp++)210 2538 A
2790(=)S
(cp;)126 2874 A
4320 V
(26938)210 648 A
2538(n)S
2622(=)S
2706(0;)S
4410 V
(26939)210 648 A
2202(})S
4500 V
(26940)210 648 A
1866(})S
4590 V
(26941)210 648 A
1866(/*)S
(null)168 1992 A
(terminate)378 2202 A
(last)168 2622 A
(domain)252 2832 A
3126(if)S
(there)210 3252 A
(are)126 3504 A
(excess)252 3672 A
3966(*/)S
4680 V
(26942)210 648 A
(while)210 1866 A
(\(*cp)168 2118 A
2328(!=)S
('\\0')168 2454 A
2664(&&)S
(*cp)126 2790 A
2958(!=)S
3084(')S
3168(')S
3252(&&)S
(*cp)126 3378 A
3546(!=)S
('\\t'\))210 3672 A
4770 V
(26943)210 648 A
(cp++;)210 2202 A
4860 V
(26944)210 648 A
(*cp)126 1866 A
2034(=)S
('\\0';)210 2118 A
4950 V
(26945)210 648 A
(*pp++)210 1866 A
2118(=)S
2202(0;)S
5040 V
(26946)210 648 A
(havesearch)420 1866 A
2328(=)S
2412(1;)S
5130 V
(26947)210 648 A
(continue;)378 1866 A
5220 V
(26948)210 648 A
1698(})S
5310 V
(26949)210 648 A
1698(/*)S
(read)168 1824 A
(nameservers)462 2034 A
2538(to)S
(query)210 2664 A
2916(*/)S
5400 V
(26950)210 648 A
1698(if)S
(\(!strncmp\(buf,)588 1824 A
("nameserver",)546 2454 A
(sizeof\("nameserver"\))840 3042 A
3924(-)S
4008(1\))S
4134(&&)S
5490 V
(26951)210 648 A
(_res.nscount)504 1824 A
2370(<)S
(MAXNS\))252 2454 A
2748({)S
5580 V
(26952)210 648 A
1866(cp)S
1992(=)S
(buf)126 2076 A
2244(+)S
(sizeof\("nameserver"\))840 2328 A
3210(-)S
3294(1;)S
5670 V
(26953)210 648 A
(while)210 1866 A
(\(*cp)168 2118 A
2328(==)S
2454(')S
2538(')S
2622(||)S
(*cp)126 2748 A
2916(==)S
('\\t'\))210 3042 A
5760 V
(26954)210 648 A
(cp++;)210 2202 A
5850 V
(26955)210 648 A
1866(if)S
(\(\(*cp)210 1992 A
2244(==)S
('\\0'\))210 2370 A
2622(||)S
(\(*cp)168 2748 A
2958(==)S
('\\n'\)\))252 3084 A
5940 V
(26956)210 648 A
(continue;)378 2202 A
6030 V
(26957)210 648 A
1866(if)S
(\(!inet_aton\(cp,)630 1992 A
(&_res.nsaddr_list[_res.nscount]\)\))1386 2664 A
6120 V
(26958)210 648 A
(continue;)378 2202 A
6210 V
(26959)210 648 A
(_res.nsport_list[_res.nscount]=)1302 1866 A
(nameserver_port;)672 3210 A
8418 V
EP
%%Page: 253 253
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2003(File:)S
(src/lib/ip/res_init.c)837 2236 A
12 B
(253)180 4248 A
900 V
7 LST
(26960)210 648 A
(_res.nscount++;)630 1866 A
990 V
(26961)210 648 A
(continue;)378 1866 A
1080 V
(26962)210 648 A
1698(})S
1170 V
(26963)210 648 A
1530(})S
1260 V
(26964)210 648 A
(\(void\))252 1530 A
(fclose\(fp\);)462 1824 A
1350 V
(26965)210 648 A
1362(})S
1440 V
(26966)210 648 A
1362(if)S
(\(_res.nscount)546 1488 A
2076(==)S
2202(0\))S
2328({)S
1530 V
(26967)210 648 A
1698(/*)S
("localhost")462 1824 A
2328(is)S
(the)126 2454 A
(default)294 2622 A
(nameserver.)462 2958 A
3462(*/)S
1620 V
(26968)210 648 A
(_res.nsaddr_list[0]=)840 1698 A
(HTONL\(0x7F000001\);)756 2580 A
1710 V
(26969)210 648 A
(_res.nsport_list[0]=)840 1698 A
(nameserver_port;)672 2580 A
1800 V
(26970)210 648 A
(_res.nscount=)546 1698 A
2286(1;)S
1890 V
(26971)210 648 A
1362(})S
1980 V
(26972)210 648 A
1362(if)S
(\(_res.defdname[0])714 1488 A
2244(==)S
2370(0\))S
2496({)S
2070 V
(26973)210 648 A
1698(if)S
(\(gethostname\(buf,)714 1824 A
(sizeof\(_res.defdname\)\))924 2580 A
3546(==)S
3672(0)S
3756(&&)S
2160 V
(26974)210 648 A
(\(cp)126 1824 A
1992(=)S
(index\(buf,)420 2076 A
('.'\)\)\))252 2538 A
2250 V
(26975)210 648 A
(\(void\)strcpy\(_res.defdname,)1134 2034 A
3210(cp)S
3336(+)S
(1\);)126 3420 A
2340 V
(26976)210 648 A
1362(})S
2430 V
(26977)210 648 A
2520 V
(26978)210 648 A
1362(/*)S
(find)168 1488 A
(components)420 1698 A
2160(of)S
(local)210 2286 A
(domain)252 2538 A
(that)168 2832 A
(might)210 3042 A
3294(be)S
(searched)336 3420 A
3798(*/)S
2610 V
(26979)210 648 A
1362(if)S
(\(havesearch)462 1488 A
1992(==)S
2118(0\))S
2244({)S
2700 V
(26980)210 648 A
1698(pp)S
1824(=)S
(_res.dnsrch;)504 1908 A
2790 V
(26981)210 648 A
(*pp++)210 1698 A
1950(=)S
(_res.defdname;)588 2034 A
2880 V
(26982)210 648 A
(for)126 1698 A
(\(cp)126 1866 A
2034(=)S
(_res.defdname,)588 2118 A
2748(n)S
2832(=)S
2916(0;)S
(*cp;)168 3042 A
(cp++\))210 3252 A
2970 V
(26983)210 648 A
2034(if)S
(\(*cp)168 2160 A
2370(==)S
('.'\))168 2496 A
3060 V
(26984)210 648 A
(n++;)168 2370 A
3150 V
(26985)210 648 A
1698(cp)S
1824(=)S
(_res.defdname;)588 1908 A
3240 V
(26986)210 648 A
(for)126 1698 A
1866(\(;)S
1992(n)S
2076(>=)S
(LOCALDOMAINPARTS)672 2202 A
2916(&&)S
3042(pp)S
3168(<)S
(_res.dnsrch)462 3252 A
3756(+)S
(MAXDFLSRCH;)462 3840 A
3330 V
(26987)210 648 A
(n--\))168 1866 A
2076({)S
3420 V
(26988)210 648 A
2034(cp)S
2160(=)S
(index\(cp,)378 2244 A
('.'\);)210 2664 A
3510 V
(26989)210 648 A
(*pp++)210 2034 A
2286(=)S
(++cp;)210 2370 A
3600 V
(26990)210 648 A
1698(})S
3690 V
(26991)210 648 A
(*pp++)210 1698 A
1950(=)S
2034(0;)S
3780 V
(26992)210 648 A
1362(})S
3870 V
(26993)210 648 A
(_res.options)504 1362 A
1908(|=)S
(RES_INIT;)378 2034 A
3960 V
(26994)210 648 A
(return)252 1362 A
(\(0\);)168 1656 A
4050 V
(26995)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/ip/res_mkquery.c)1008 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(27000)210 648 A
1026(/*)S
5040 V
(27001)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1985)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
5130 V
(27002)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
5220 V
(27003)210 648 A
1068(*)S
5310 V
(27004)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
5400 V
(27005)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
5490 V
(27006)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
5580 V
(27007)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
5670 V
(27008)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
5760 V
(27009)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
5850 V
(27010)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
5940 V
(27011)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
6030 V
(27012)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
6120 V
(27013)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
6210 V
(27014)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
8418 V
EP
%%Page: 254 254
BP
/slant 0 def
/height 0 def
630 V
12 B
(254)180 648 A
11 R
1880(File:)S
(src/lib/ip/res_mkquery.c)1082 2113 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(27015)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
990 V
(27016)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
1080 V
(27017)210 648 A
1068(*/)S
1170 V
(27018)210 648 A
1260 V
(27019)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
1350 V
(27020)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)res_mkquery.c)756 1992 A
(6.12)168 3042 A
(\(Berkeley\))420 3252 A
(6/1/90";)336 3714 A
1440 V
(27021)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
1530 V
(27022)210 648 A
1620 V
(27023)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
1710 V
(27024)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
1800 V
(27025)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1890 V
(27026)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
1980 V
(27027)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2070 V
(27028)210 648 A
2160 V
(27029)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
2250 V
(27030)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
2340 V
(27031)210 648 A
(#include)336 1026 A
(<net/gen/nameser.h>)798 1404 A
2430 V
(27032)210 648 A
(#include)336 1026 A
(<net/gen/resolv.h>)756 1404 A
2520 V
(27033)210 648 A
2610 V
(27034)210 648 A
(typedef)294 1026 A
(u16_t)210 1362 A
(u_short;)336 1614 A
2700 V
(27035)210 648 A
(typedef)294 1026 A
(unsigned)336 1362 A
(u_int;)252 1740 A
2790 V
(27036)210 648 A
(typedef)294 1026 A
(u32_t)210 1362 A
(u_long;)294 1614 A
2880 V
(27037)210 648 A
2970 V
(27038)210 648 A
(#define)294 1026 A
(bzero\(b,l\))420 1362 A
(memset\(b,0,l\))546 1824 A
3060 V
(27039)210 648 A
(#define)294 1026 A
(bcopy\(s,d,l\))504 1362 A
(memcpy\(d,s,l\))546 1908 A
3150 V
(27040)210 648 A
3240 V
(27041)210 648 A
(#define)294 1026 A
(putshort)336 1362 A
(__putshort)420 1740 A
3330 V
(27042)210 648 A
(#define)294 1026 A
(putlong)294 1362 A
(__putlong)378 1698 A
3420 V
(27043)210 648 A
(#else)210 1026 A
3510 V
(27044)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
3600 V
(27045)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
3690 V
(27046)210 648 A
(#include)336 1026 A
(<netinet/in.h>)588 1404 A
3780 V
(27047)210 648 A
(#include)336 1026 A
(<arpa/nameser.h>)672 1404 A
3870 V
(27048)210 648 A
(#include)336 1026 A
(<resolv.h>)420 1404 A
3960 V
(27049)210 648 A
(#endif)252 1026 A
4050 V
(27050)210 648 A
4140 V
(27051)210 648 A
(#ifdef)252 1026 A
(__STDC__)336 1320 A
4230 V
(27052)210 648 A
(#define)294 1026 A
(_CONST)252 1362 A
(const)210 1698 A
4320 V
(27053)210 648 A
(#else)210 1026 A
4410 V
(27054)210 648 A
(#define)294 1026 A
(_CONST)252 1362 A
4500 V
(27055)210 648 A
(#endif)252 1026 A
4590 V
(27056)210 648 A
4680 V
(27057)210 648 A
1026(/*)S
4770 V
(27058)210 648 A
1068(*)S
(Form)168 1152 A
(all)126 1362 A
(types)210 1530 A
1782(of)S
(queries.)336 1908 A
4860 V
(27059)210 648 A
1068(*)S
(Returns)294 1152 A
(the)126 1488 A
(size)168 1656 A
1866(of)S
(the)126 1992 A
(result)252 2160 A
2454(or)S
(-1.)126 2580 A
4950 V
(27060)210 648 A
1068(*/)S
5040 V
(27061)210 648 A
(res_mkquery\(op,)630 1026 A
(dname,)252 1698 A
(class,)252 1992 A
(type,)210 2286 A
(data,)210 2538 A
(datalen,)336 2790 A
(newrr,)252 3168 A
(buf,)168 3462 A
(buflen\))294 3672 A
5130 V
(27062)210 648 A
(int)126 1362 A
(op;)126 1530 A
2370(/*)S
(opcode)252 2496 A
2790(of)S
(query)210 2916 A
3168(*/)S
5220 V
(27063)210 648 A
(_CONST)252 1362 A
(char)168 1656 A
(*dname;)294 1866 A
2370(/*)S
(domain)252 2496 A
(name)168 2790 A
3000(*/)S
5310 V
(27064)210 648 A
(int)126 1362 A
(class,)252 1530 A
(type;)210 1824 A
2370(/*)S
(class)210 2496 A
(and)126 2748 A
(type)168 2916 A
3126(of)S
(query)210 3252 A
3504(*/)S
5400 V
(27065)210 648 A
(_CONST)252 1362 A
(char)168 1656 A
(*data;)252 1866 A
2370(/*)S
(resource)336 2496 A
(record)252 2874 A
(data)168 3168 A
3378(*/)S
5490 V
(27066)210 648 A
(int)126 1362 A
(datalen;)336 1530 A
2370(/*)S
(length)252 2496 A
2790(of)S
(data)168 2916 A
3126(*/)S
5580 V
(27067)210 648 A
(_CONST)252 1362 A
(struct)252 1656 A
(rrec)168 1950 A
(*newrr;)294 2160 A
2496(/*)S
(new)126 2622 A
2790(rr)S
(for)126 2916 A
(modify)252 3084 A
3378(or)S
(append)252 3504 A
3798(*/)S
5670 V
(27068)210 648 A
(char)168 1362 A
(*buf;)210 1572 A
2370(/*)S
(buffer)252 2496 A
2790(to)S
(put)126 2916 A
(query)210 3084 A
3336(*/)S
5760 V
(27069)210 648 A
(int)126 1362 A
(buflen;)294 1530 A
2370(/*)S
(size)168 2496 A
2706(of)S
(buffer)252 2832 A
3126(*/)S
5850 V
(27070)210 648 A
1026({)S
5940 V
(27071)210 648 A
(register)336 1362 A
(dns_hdr_t)378 1740 A
(*hp;)168 2160 A
6030 V
(27072)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp;)168 1950 A
6120 V
(27073)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n;)S
6210 V
(27074)210 648 A
(char)168 1362 A
(*dnptrs[10],)504 1572 A
(**dpp,)252 2118 A
(**lastdnptr;)504 2412 A
8418 V
EP
%%Page: 255 255
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1880(File:)S
(src/lib/ip/res_mkquery.c)1082 2113 A
12 B
(255)180 4248 A
900 V
7 LST
(27075)210 648 A
990 V
(27076)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1080 V
(27077)210 648 A
1362(if)S
(\(_res.options)546 1488 A
2076(&)S
(RES_DEBUG\))420 2160 A
1170 V
(27078)210 648 A
(printf\("res_mkquery\(%d,)966 1698 A
(%s,)126 2706 A
(%d,)126 2874 A
(%d\)\\n",)294 3042 A
(op,)126 3378 A
(dname,)252 3546 A
(class,)252 3840 A
(type\);)252 4134 A
1260 V
(27079)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1350 V
(27080)210 648 A
1362(/*)S
1440 V
(27081)210 648 A
1404(*)S
(Initialize)420 1488 A
(header)252 1950 A
(fields.)294 2244 A
1530 V
(27082)210 648 A
1404(*/)S
1620 V
(27083)210 648 A
1362(if)S
(\(\(buf)210 1488 A
1740(==)S
(NULL\))210 1866 A
2118(||)S
(\(buflen)294 2244 A
2580(<)S
(sizeof\(dns_hdr_t\)\)\))798 2664 A
1710 V
(27084)210 648 A
(return\(-1\);)462 1698 A
1800 V
(27085)210 648 A
(bzero\(buf,)420 1362 A
(sizeof\(dns_hdr_t\)\);)798 1824 A
1890 V
(27086)210 648 A
1362(hp)S
1488(=)S
(\(dns_hdr_t)420 1572 A
2034(*\))S
(buf;)168 2160 A
1980 V
(27087)210 648 A
(hp->dh_id)378 1362 A
1782(=)S
(htons\(++_res.id\);)714 1866 A
2070 V
(27088)210 648 A
(hp->dh_flag1=)546 1362 A
1950(0;)S
2160 V
(27089)210 648 A
(hp->dh_flag2=)546 1362 A
1950(0;)S
2250 V
(27090)210 648 A
(hp->dh_flag1)504 1362 A
1908(|=)S
(\(op)126 2034 A
2202(<<)S
2328(3\))S
2454(&)S
(DHF_OPCODE;)462 2538 A
2340 V
(27091)210 648 A
(hp->dh_flag2)504 1362 A
1908(|=)S
(\(\(_res.options)588 2034 A
2664(&)S
(RES_PRIMARY\))504 2748 A
3294(!=)S
3420(0)S
3504(?)S
3588(1)S
3672(:)S
3756(0\))S
3882(<<)S
4008(6;)S
2430 V
(27092)210 648 A
(hp->dh_flag1)504 1362 A
1908(|=)S
(\(_res.options)546 2034 A
2622(&)S
(RES_RECURSE\))504 2706 A
3252(!=)S
3378(0)S
3462(?)S
3546(1)S
3630(:)S
3714(0;)S
2520 V
(27093)210 648 A
(hp->dh_flag2)504 1362 A
1908(|=)S
(NOERROR)294 2034 A
2370(&)S
(DHF_RCODE;)420 2454 A
2610 V
(27094)210 648 A
1362(cp)S
1488(=)S
(buf)126 1572 A
1740(+)S
(sizeof\(dns_hdr_t\);)756 1824 A
2700 V
(27095)210 648 A
(buflen)252 1362 A
1656(-=)S
(sizeof\(dns_hdr_t\);)756 1782 A
2790 V
(27096)210 648 A
(dpp)126 1362 A
1530(=)S
(dnptrs;)294 1614 A
2880 V
(27097)210 648 A
(*dpp++)252 1362 A
1656(=)S
(buf;)168 1740 A
2970 V
(27098)210 648 A
(*dpp++)252 1362 A
1656(=)S
(NULL;)210 1740 A
3060 V
(27099)210 648 A
(lastdnptr)378 1362 A
1782(=)S
(dnptrs)252 1866 A
2160(+)S
(sizeof\(dnptrs\)/sizeof\(dnptrs[0]\);)1386 2244 A
3150 V
(27100)210 648 A
1362(/*)S
3240 V
(27101)210 648 A
1404(*)S
(perform)294 1488 A
(opcode)252 1824 A
(specific)336 2118 A
(processing)420 2496 A
3330 V
(27102)210 648 A
1404(*/)S
3420 V
(27103)210 648 A
(switch)252 1362 A
(\(op\))168 1656 A
1866({)S
3510 V
(27104)210 648 A
(case)168 1362 A
(QUERY:)252 1572 A
3600 V
(27105)210 648 A
1698(if)S
(\(\(buflen)336 1824 A
2202(-=)S
(QFIXEDSZ\))378 2328 A
2748(<)S
2832(0\))S
3690 V
(27106)210 648 A
(return\(-1\);)462 2034 A
3780 V
(27107)210 648 A
1698(if)S
(\(\(n)126 1824 A
1992(=)S
(dn_comp\(\(u8_t)546 2076 A
(*\)dname,)336 2664 A
(\(u8_t)210 3042 A
(*\)cp,)210 3294 A
(buflen,)294 3546 A
3870 V
(27108)210 648 A
(\(u8_t)210 2034 A
(**\)dnptrs,)420 2286 A
(\(u8_t)210 2748 A
(**\)lastdnptr\)\))588 3000 A
3630(<)S
3714(0\))S
3960 V
(27109)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
4050 V
(27110)210 648 A
1698(cp)S
1824(+=)S
1950(n;)S
4140 V
(27111)210 648 A
(buflen)252 1698 A
1992(-=)S
2118(n;)S
4230 V
(27112)210 648 A
(putshort\(type,)588 1698 A
(\(u8_t)210 2328 A
(*\)cp\);)252 2580 A
4320 V
(27113)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
4410 V
(27114)210 648 A
(putshort\(class,)630 1698 A
(\(u8_t)210 2370 A
(*\)cp\);)252 2622 A
4500 V
(27115)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
4590 V
(27116)210 648 A
(hp->dh_qdcount)588 1698 A
2328(=)S
(htons\(1\);)378 2412 A
4680 V
(27117)210 648 A
1698(if)S
(\(op)126 1824 A
1992(==)S
(QUERY)210 2118 A
2370(||)S
(data)168 2496 A
2706(==)S
(NULL\))210 2832 A
4770 V
(27118)210 648 A
(break;)252 2034 A
4860 V
(27119)210 648 A
1698(/*)S
4950 V
(27120)210 648 A
1740(*)S
(Make)168 1824 A
2034(an)S
(additional)420 2160 A
(record)252 2622 A
(for)126 2916 A
(completion)420 3084 A
(domain.)294 3546 A
5040 V
(27121)210 648 A
1740(*/)S
5130 V
(27122)210 648 A
(buflen)252 1698 A
1992(-=)S
(RRFIXEDSZ;)420 2118 A
5220 V
(27123)210 648 A
1698(if)S
(\(\(n)126 1824 A
1992(=)S
(dn_comp\(\(u8_t)546 2076 A
(*\)data,)294 2664 A
(\(u8_t)210 3000 A
(*\)cp,)210 3252 A
(buflen,)294 3504 A
5310 V
(27124)210 648 A
(\(u8_t)210 2034 A
(**\)dnptrs,)420 2286 A
(\(u8_t)210 2748 A
(**\)lastdnptr\)\))588 3000 A
3630(<)S
3714(0\))S
5400 V
(27125)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
5490 V
(27126)210 648 A
1698(cp)S
1824(+=)S
1950(n;)S
5580 V
(27127)210 648 A
(buflen)252 1698 A
1992(-=)S
2118(n;)S
5670 V
(27128)210 648 A
(putshort\(T_NULL,)672 1698 A
(\(u8_t)210 2412 A
(*\)cp\);)252 2664 A
5760 V
(27129)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
5850 V
(27130)210 648 A
(putshort\(class,)630 1698 A
(\(u8_t)210 2370 A
(*\)cp\);)252 2622 A
5940 V
(27131)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
6030 V
(27132)210 648 A
(putlong\(0,)420 1698 A
(\(u8_t)210 2160 A
(*\)cp\);)252 2412 A
6120 V
(27133)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_long\);)630 1950 A
6210 V
(27134)210 648 A
(putshort\(0,)462 1698 A
(\(u8_t)210 2202 A
(*\)cp\);)252 2454 A
8418 V
EP
%%Page: 256 256
BP
/slant 0 def
/height 0 def
630 V
12 B
(256)180 648 A
11 R
1880(File:)S
(src/lib/ip/res_mkquery.c)1082 2113 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(27135)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
990 V
(27136)210 648 A
(hp->dh_arcount)588 1698 A
2328(=)S
(htons\(1\);)378 2412 A
1080 V
(27137)210 648 A
(break;)252 1698 A
1170 V
(27138)210 648 A
1260 V
(27139)210 648 A
(case)168 1362 A
(IQUERY:)294 1572 A
1350 V
(27140)210 648 A
1698(/*)S
1440 V
(27141)210 648 A
1740(*)S
(Initialize)420 1824 A
(answer)252 2286 A
(section)294 2580 A
1530 V
(27142)210 648 A
1740(*/)S
1620 V
(27143)210 648 A
1698(if)S
(\(buflen)294 1824 A
2160(<)S
2244(1)S
2328(+)S
(RRFIXEDSZ)378 2412 A
2832(+)S
(datalen\))336 2916 A
1710 V
(27144)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
1800 V
(27145)210 648 A
(*cp++)210 1698 A
1950(=)S
('\\0';)210 2034 A
2370(/*)S
2496(no)S
(domain)252 2622 A
(name)168 2916 A
3126(*/)S
1890 V
(27146)210 648 A
(putshort\(type,)588 1698 A
(\(u8_t)210 2328 A
(*\)cp\);)252 2580 A
1980 V
(27147)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
2070 V
(27148)210 648 A
(putshort\(class,)630 1698 A
(\(u8_t)210 2370 A
(*\)cp\);)252 2622 A
2160 V
(27149)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
2250 V
(27150)210 648 A
(putlong\(0,)420 1698 A
(\(u8_t)210 2160 A
(*\)cp\);)252 2412 A
2340 V
(27151)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_long\);)630 1950 A
2430 V
(27152)210 648 A
(putshort\(datalen,)714 1698 A
(\(u8_t)210 2454 A
(*\)cp\);)252 2706 A
2520 V
(27153)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
2610 V
(27154)210 648 A
1698(if)S
(\(datalen\))378 1824 A
2244({)S
2700 V
(27155)210 648 A
(bcopy\(data,)462 2034 A
(cp,)126 2538 A
(datalen\);)378 2706 A
2790 V
(27156)210 648 A
2034(cp)S
2160(+=)S
(datalen;)336 2286 A
2880 V
(27157)210 648 A
1698(})S
2970 V
(27158)210 648 A
(hp->dh_ancount)588 1698 A
2328(=)S
(htons\(1\);)378 2412 A
3060 V
(27159)210 648 A
(break;)252 1698 A
3150 V
(27160)210 648 A
3240 V
(27161)210 648 A
(#ifdef)252 1026 A
(ALLOW_UPDATES)546 1320 A
3330 V
(27162)210 648 A
1362(/*)S
3420 V
(27163)210 648 A
1404(*)S
(For)126 1488 A
(UPDATEM/UPDATEMA,)714 1656 A
2412(do)S
(UPDATED/UPDATEDA)672 2538 A
(followed)336 3252 A
3630(by)S
(UPDATEA)294 3756 A
3510 V
(27164)210 648 A
1404(*)S
(\(Record)294 1488 A
1824(to)S
1950(be)S
(modified)336 2076 A
2454(is)S
(followed)336 2580 A
2958(by)S
(its)126 3084 A
(replacement)462 3252 A
3756(in)S
(msg.\))210 3882 A
3600 V
(27165)210 648 A
1404(*/)S
3690 V
(27166)210 648 A
(case)168 1362 A
(UPDATEM:)336 1572 A
3780 V
(27167)210 648 A
(case)168 1362 A
(UPDATEMA:)378 1572 A
3870 V
(27168)210 648 A
3960 V
(27169)210 648 A
(case)168 1362 A
(UPDATED:)336 1572 A
4050 V
(27170)210 648 A
1698(/*)S
4140 V
(27171)210 648 A
1740(*)S
(The)126 1824 A
(res)126 1992 A
(code)168 2160 A
(for)126 2370 A
(UPDATED)294 2538 A
(and)126 2874 A
(UPDATEDA)336 3042 A
3420(is)S
(the)126 3546 A
(same;)210 3714 A
(user)168 3966 A
4230 V
(27172)210 648 A
1740(*)S
(calls)210 1824 A
(them)168 2076 A
(differently:)504 2286 A
(specifies)378 2832 A
(data)168 3252 A
(for)126 3462 A
(UPDATED;)336 3630 A
(server)252 4008 A
4320 V
(27173)210 648 A
1740(*)S
(ignores)294 1824 A
(data)168 2160 A
2370(if)S
(specified)378 2496 A
(for)126 2916 A
(UPDATEDA.)378 3084 A
4410 V
(27174)210 648 A
1740(*/)S
4500 V
(27175)210 648 A
(case)168 1362 A
(UPDATEDA:)378 1572 A
4590 V
(27176)210 648 A
(buflen)252 1698 A
1992(-=)S
(RRFIXEDSZ)378 2118 A
2538(+)S
(datalen;)336 2622 A
4680 V
(27177)210 648 A
1698(if)S
(\(\(n)126 1824 A
1992(=)S
(dn_comp\(dname,)588 2076 A
(cp,)126 2706 A
(buflen,)294 2874 A
(dnptrs,)294 3210 A
(lastdnptr\)\))462 3546 A
4050(<)S
4134(0\))S
4770 V
(27178)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
4860 V
(27179)210 648 A
1698(cp)S
1824(+=)S
1950(n;)S
4950 V
(27180)210 648 A
(putshort\(type,)588 1698 A
(cp\);)168 2328 A
5040 V
(27181)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
5130 V
(27182)210 648 A
(putshort\(class,)630 1698 A
(cp\);)168 2370 A
5220 V
(27183)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
5310 V
(27184)210 648 A
(putlong\(0,)420 1698 A
(cp\);)168 2160 A
5400 V
(27185)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_long\);)630 1950 A
5490 V
(27186)210 648 A
(putshort\(datalen,)714 1698 A
(cp\);)168 2454 A
5580 V
(27187)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
5670 V
(27188)210 648 A
1698(if)S
(\(datalen\))378 1824 A
2244({)S
5760 V
(27189)210 648 A
(bcopy\(data,)462 2034 A
(cp,)126 2538 A
(datalen\);)378 2706 A
5850 V
(27190)210 648 A
2034(cp)S
2160(+=)S
(datalen;)336 2286 A
5940 V
(27191)210 648 A
1698(})S
6030 V
(27192)210 648 A
1698(if)S
1824(\()S
(\(op)126 1908 A
2076(==)S
(UPDATED\))336 2202 A
2580(||)S
(\(op)126 2706 A
2874(==)S
(UPDATEDA\))378 3000 A
3420(\))S
3504({)S
6120 V
(27193)210 648 A
(hp->ancount)462 2034 A
2538(=)S
(htons\(0\);)378 2622 A
6210 V
(27194)210 648 A
(break;)252 2034 A
8418 V
EP
%%Page: 257 257
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1880(File:)S
(src/lib/ip/res_mkquery.c)1082 2113 A
12 B
(257)180 4248 A
900 V
7 LST
(27195)210 648 A
1698(})S
990 V
(27196)210 648 A
1698(/*)S
(Else)168 1824 A
(UPDATEM/UPDATEMA,)714 2034 A
2790(so)S
(drop)168 2916 A
(into)168 3126 A
(code)168 3336 A
(for)126 3546 A
(UPDATEA)294 3714 A
4050(*/)S
1080 V
(27197)210 648 A
1170 V
(27198)210 648 A
(case)168 1362 A
(UPDATEA:)336 1572 A
2034(/*)S
(Add)126 2160 A
(new)126 2328 A
(resource)336 2496 A
(record)252 2874 A
3168(*/)S
1260 V
(27199)210 648 A
(buflen)252 1698 A
1992(-=)S
(RRFIXEDSZ)378 2118 A
2538(+)S
(datalen;)336 2622 A
1350 V
(27200)210 648 A
1698(if)S
(\(\(n)126 1824 A
1992(=)S
(dn_comp\(dname,)588 2076 A
(cp,)126 2706 A
(buflen,)294 2874 A
(dnptrs,)294 3210 A
(lastdnptr\)\))462 3546 A
4050(<)S
4134(0\))S
1440 V
(27201)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
1530 V
(27202)210 648 A
1698(cp)S
1824(+=)S
1950(n;)S
1620 V
(27203)210 648 A
(putshort\(newrr->r_type,)966 1698 A
(cp\);)168 2706 A
1710 V
(27204)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
1800 V
(27205)210 648 A
(putshort\(newrr->r_class,)1008 1698 A
(cp\);)168 2748 A
1890 V
(27206)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
1980 V
(27207)210 648 A
(putlong\(0,)420 1698 A
(cp\);)168 2160 A
2070 V
(27208)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_long\);)630 1950 A
2160 V
(27209)210 648 A
(putshort\(newrr->r_size,)966 1698 A
(cp\);)168 2706 A
2250 V
(27210)210 648 A
1698(cp)S
1824(+=)S
(sizeof\(u_short\);)672 1950 A
2340 V
(27211)210 648 A
1698(if)S
(\(newrr->r_size\))630 1824 A
2496({)S
2430 V
(27212)210 648 A
(bcopy\(newrr->r_data,)840 2034 A
(cp,)126 2916 A
(newrr->r_size\);)630 3084 A
2520 V
(27213)210 648 A
2034(cp)S
2160(+=)S
(newrr->r_size;)588 2286 A
2610 V
(27214)210 648 A
1698(})S
2700 V
(27215)210 648 A
(hp->ancount)462 1698 A
2202(=)S
(htons\(0\);)378 2286 A
2790 V
(27216)210 648 A
(break;)252 1698 A
2880 V
(27217)210 648 A
2970 V
(27218)210 648 A
(#endif)252 1026 A
1320(/*)S
(ALLOW_UPDATES)546 1446 A
2034(*/)S
3060 V
(27219)210 648 A
1362(})S
3150 V
(27220)210 648 A
(return)252 1362 A
(\(cp)126 1656 A
1824(-)S
(buf\);)210 1908 A
3240 V
(27221)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/ip/res_query.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(27300)210 648 A
1026(/*)S
4140 V
(27301)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1988)168 1740 A
(Regents)294 1950 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
3042(of)S
(California.)462 3168 A
4230 V
(27302)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
4320 V
(27303)210 648 A
1068(*)S
4410 V
(27304)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms)210 3000 A
(are)126 3252 A
(permitted)378 3420 A
4500 V
(27305)210 648 A
1068(*)S
(provided)336 1152 A
(that:)210 1530 A
(\(1\))126 1782 A
(source)252 1950 A
(distributions)546 2244 A
(retain)252 2832 A
(this)168 3126 A
(entire)252 3336 A
(copyright)378 3630 A
4590 V
(27306)210 648 A
1068(*)S
(notice)252 1152 A
(and)126 1446 A
(comment,)336 1614 A
(and)126 1992 A
(\(2\))126 2160 A
(distributions)546 2328 A
(including)378 2916 A
(binaries)336 3336 A
(display)294 3714 A
4680 V
(27307)210 648 A
1068(*)S
(the)126 1152 A
(following)378 1320 A
(acknowledgement:)672 1740 A
(`This)210 2496 A
(product)294 2748 A
(includes)336 3084 A
(software)336 3462 A
4770 V
(27308)210 648 A
1068(*)S
(developed)378 1152 A
1572(by)S
(the)126 1698 A
(University)420 1866 A
2328(of)S
(California,)462 2454 A
(Berkeley)336 2958 A
(and)126 3336 A
(its)126 3504 A
(contributors'')588 3672 A
4860 V
(27309)210 648 A
1068(*)S
1152(in)S
(the)126 1278 A
(documentation)546 1446 A
2034(or)S
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution)504 3588 A
4950 V
(27310)210 648 A
1068(*)S
(and)126 1152 A
1320(in)S
(all)126 1446 A
(advertising)462 1614 A
(materials)378 2118 A
(mentioning)420 2538 A
(features)336 3000 A
3378(or)S
(use)126 3504 A
3672(of)S
(this)168 3798 A
5040 V
(27311)210 648 A
1068(*)S
(software.)378 1152 A
(Neither)294 1572 A
(the)126 1908 A
(name)168 2076 A
2286(of)S
(the)126 2412 A
(University)420 2580 A
(nor)126 3042 A
(the)126 3210 A
(names)210 3378 A
3630(of)S
(its)126 3756 A
5130 V
(27312)210 648 A
1068(*)S
(contributors)504 1152 A
(may)126 1698 A
1866(be)S
(used)168 1992 A
2202(to)S
(endorse)294 2328 A
2664(or)S
(promote)294 2790 A
(products)336 3126 A
(derived)294 3504 A
5220 V
(27313)210 648 A
1068(*)S
(from)168 1152 A
(this)168 1362 A
(software)336 1572 A
(without)294 1950 A
(specific)336 2286 A
(prior)210 2664 A
(written)294 2916 A
(permission.)462 3252 A
5310 V
(27314)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
(`AS)126 2244 A
(IS'')168 2412 A
(AND)126 2622 A
(WITHOUT)294 2790 A
(ANY)126 3126 A
(EXPRESS)294 3294 A
3630(OR)S
5400 V
(27315)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES,)462 1488 A
(INCLUDING,)420 1992 A
(WITHOUT)294 2454 A
(LIMITATION,)462 2790 A
(THE)126 3294 A
(IMPLIED)294 3462 A
5490 V
(27316)210 648 A
1068(*)S
(WARRANTIES)420 1152 A
1614(OF)S
(MERCHANTABILITY)630 1740 A
(AND)126 2412 A
(FITNESS)294 2580 A
(FOR)126 2916 A
3084(A)S
(PARTICULAR)420 3168 A
(PURPOSE.)336 3630 A
5580 V
(27317)210 648 A
1068(*/)S
5670 V
(27318)210 648 A
5760 V
(27319)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
5850 V
(27320)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)res_query.c)672 1992 A
(5.7)126 2706 A
(\(Berkeley\))420 2874 A
(6/1/90";)336 3336 A
5940 V
(27321)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
6030 V
(27322)210 648 A
6120 V
(27323)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
6210 V
(27324)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
8418 V
EP
%%Page: 258 258
BP
/slant 0 def
/height 0 def
630 V
12 B
(258)180 648 A
11 R
1951(File:)S
(src/lib/ip/res_query.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(27325)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
990 V
(27326)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
1080 V
(27327)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1170 V
(27328)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
1260 V
(27329)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1350 V
(27330)210 648 A
1440 V
(27331)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
1530 V
(27332)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
1620 V
(27333)210 648 A
(#include)336 1026 A
(<net/gen/nameser.h>)798 1404 A
1710 V
(27334)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
1800 V
(27335)210 648 A
(#include)336 1026 A
(<net/gen/resolv.h>)756 1404 A
1890 V
(27336)210 648 A
1980 V
(27337)210 648 A
(typedef)294 1026 A
(u8_t)168 1362 A
(u_char;)294 1572 A
2070 V
(27338)210 648 A
2160 V
(27339)210 648 A
(#define)294 1026 A
(bcopy\(s,d,l\))504 1362 A
(memcpy\(d,s,l\))546 1908 A
2250 V
(27340)210 648 A
2340 V
(27341)210 648 A
(#define)294 1026 A
(hostalias)378 1362 A
(__hostalias)462 1782 A
2430 V
(27342)210 648 A
(#else)210 1026 A
2520 V
(27343)210 648 A
(#include)336 1026 A
(<sys/param.h>)546 1404 A
2610 V
(27344)210 648 A
(#include)336 1026 A
(<sys/socket.h>)588 1404 A
2700 V
(27345)210 648 A
(#include)336 1026 A
(<netinet/in.h>)588 1404 A
2790 V
(27346)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
2880 V
(27347)210 648 A
(#include)336 1026 A
(<netdb.h>)378 1404 A
2970 V
(27348)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
3060 V
(27349)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
3150 V
(27350)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
3240 V
(27351)210 648 A
(#include)336 1026 A
(<arpa/inet.h>)546 1404 A
3330 V
(27352)210 648 A
(#include)336 1026 A
(<arpa/nameser.h>)672 1404 A
3420 V
(27353)210 648 A
(#include)336 1026 A
(<resolv.h>)420 1404 A
3510 V
(27354)210 648 A
3600 V
(27355)210 648 A
(extern)252 1026 A
(int)126 1320 A
(errno;)252 1488 A
3690 V
(27356)210 648 A
(#endif)252 1026 A
3780 V
(27357)210 648 A
3870 V
(27358)210 648 A
(#if)126 1026 A
(__STDC__)336 1194 A
3960 V
(27359)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
(const)210 1698 A
4050 V
(27360)210 648 A
(#else)210 1026 A
4140 V
(27361)210 648 A
(#define)294 1026 A
(CONST)210 1362 A
4230 V
(27362)210 648 A
(#endif)252 1026 A
4320 V
(27363)210 648 A
4410 V
(27364)210 648 A
(#if)126 1026 A
(PACKETSZ)336 1194 A
1572(>)S
(1024)168 1656 A
4500 V
(27365)210 648 A
(#define)294 1026 A
(MAXPACKET)378 1362 A
(PACKETSZ)336 2034 A
4590 V
(27366)210 648 A
(#else)210 1026 A
4680 V
(27367)210 648 A
(#define)294 1026 A
(MAXPACKET)378 1362 A
(1024)168 2034 A
4770 V
(27368)210 648 A
(#endif)252 1026 A
4860 V
(27369)210 648 A
4950 V
(27370)210 648 A
(int)126 1026 A
(h_errno;)336 1194 A
5040 V
(27371)210 648 A
5130 V
(27372)210 648 A
1026(/*)S
5220 V
(27373)210 648 A
1068(*)S
(Formulate)378 1152 A
1572(a)S
(normal)252 1656 A
(query,)252 1950 A
(send,)210 2244 A
(and)126 2496 A
(await)210 2664 A
(answer.)294 2916 A
5310 V
(27374)210 648 A
1068(*)S
(Returned)336 1152 A
(answer)252 1530 A
1824(is)S
(placed)252 1950 A
2244(in)S
(supplied)336 2370 A
(buffer)252 2748 A
("answer".)378 3042 A
5400 V
(27375)210 648 A
1068(*)S
(Perform)294 1152 A
(preliminary)462 1488 A
(check)210 1992 A
2244(of)S
(answer,)294 2370 A
(returning)378 2706 A
(success)294 3126 A
(only)168 3462 A
5490 V
(27376)210 648 A
1068(*)S
1152(if)S
1278(no)S
(error)210 1404 A
1656(is)S
(indicated)378 1782 A
(and)126 2202 A
(the)126 2370 A
(answer)252 2538 A
(count)210 2832 A
3084(is)S
(nonzero.)336 3210 A
5580 V
(27377)210 648 A
1068(*)S
(Return)252 1152 A
(the)126 1446 A
(size)168 1614 A
1824(of)S
(the)126 1950 A
(response)336 2118 A
2496(on)S
(success,)336 2622 A
3000(-1)S
3126(on)S
(error.)252 3252 A
5670 V
(27378)210 648 A
1068(*)S
(Error)210 1152 A
(number)252 1404 A
1698(is)S
(left)168 1824 A
2034(in)S
(h_errno.)336 2160 A
5760 V
(27379)210 648 A
1068(*)S
(Caller)252 1152 A
(must)168 1446 A
(parse)210 1656 A
(answer)252 1908 A
(and)126 2202 A
(determine)378 2370 A
(whether)294 2790 A
3126(it)S
(answers)294 3252 A
(the)126 3588 A
(question.)378 3756 A
5850 V
(27380)210 648 A
1068(*/)S
5940 V
(27381)210 648 A
(int)126 1026 A
6030 V
(27382)210 648 A
(res_query\(name,)630 1026 A
(class,)252 1698 A
(type,)210 1992 A
(answer,)294 2244 A
(anslen\))294 2580 A
6120 V
(27383)210 648 A
(char)168 1362 A
(*name;)252 1572 A
2370(/*)S
(domain)252 2496 A
(name)168 2790 A
3000(*/)S
6210 V
(27384)210 648 A
(int)126 1362 A
(class,)252 1530 A
(type;)210 1824 A
2370(/*)S
(class)210 2496 A
(and)126 2748 A
(type)168 2916 A
3126(of)S
(query)210 3252 A
3504(*/)S
8418 V
EP
%%Page: 259 259
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/ip/res_query.c)941 2184 A
12 B
(259)180 4248 A
900 V
7 LST
(27385)210 648 A
(u_char)252 1362 A
(*answer;)336 1656 A
2370(/*)S
(buffer)252 2496 A
2790(to)S
(put)126 2916 A
(answer)252 3084 A
3378(*/)S
990 V
(27386)210 648 A
(int)126 1362 A
(anslen;)294 1530 A
2370(/*)S
(size)168 2496 A
2706(of)S
(answer)252 2832 A
(buffer)252 3126 A
3420(*/)S
1080 V
(27387)210 648 A
1026({)S
1170 V
(27388)210 648 A
(char)168 1362 A
(buf[MAXPACKET];)630 1572 A
1260 V
(27389)210 648 A
(dns_hdr_t)378 1362 A
(*hp;)168 1782 A
1350 V
(27390)210 648 A
(int)126 1362 A
1530(n;)S
1440 V
(27391)210 648 A
1530 V
(27392)210 648 A
1362(if)S
(\(\(_res.options)588 1488 A
2118(&)S
(RES_INIT\))378 2202 A
2622(==)S
2748(0)S
2832(&&)S
(res_init\(\))420 2958 A
3420(==)S
(-1\))126 3546 A
1620 V
(27393)210 648 A
(return)252 1698 A
(\(-1\);)210 1992 A
1710 V
(27394)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1800 V
(27395)210 648 A
1362(if)S
(\(_res.options)546 1488 A
2076(&)S
(RES_DEBUG\))420 2160 A
1890 V
(27396)210 648 A
(printf\("res_query\(%s,)882 1698 A
(%d,)126 2622 A
(%d\)\\n",)294 2790 A
(name,)210 3126 A
(class,)252 3378 A
(type\);)252 3672 A
1980 V
(27397)210 648 A
(#endif)252 1026 A
2070 V
(27398)210 648 A
1362(n)S
1446(=)S
(res_mkquery\(QUERY,)756 1530 A
(name,)210 2328 A
(class,)252 2580 A
(type,)210 2874 A
(\(char)210 3126 A
(*\)NULL,)294 3378 A
3714(0,)S
(NULL,)210 3840 A
2160 V
(27399)210 648 A
(buf,)168 1530 A
(sizeof\(buf\)\);)546 1740 A
2250 V
(27400)210 648 A
2340 V
(27401)210 648 A
1362(if)S
1488(\(n)S
1614(<=)S
1740(0\))S
1866({)S
2430 V
(27402)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2520 V
(27403)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
2610 V
(27404)210 648 A
(printf\("res_query:)756 2034 A
(mkquery)294 2832 A
(failed\\n"\);)462 3168 A
2700 V
(27405)210 648 A
(#endif)252 1026 A
2790 V
(27406)210 648 A
(h_errno)294 1698 A
2034(=)S
(NO_RECOVERY;)504 2118 A
2880 V
(27407)210 648 A
(return)252 1698 A
(\(n\);)168 1992 A
2970 V
(27408)210 648 A
1362(})S
3060 V
(27409)210 648 A
1362(n)S
1446(=)S
(res_send\(buf,)546 1530 A
2118(n,)S
(\(char)210 2244 A
(*\)answer,)378 2496 A
(anslen\);)336 2916 A
3150 V
(27410)210 648 A
1362(if)S
1488(\(n)S
1614(<)S
1698(0\))S
1824({)S
3240 V
(27411)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
3330 V
(27412)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
3420 V
(27413)210 648 A
(printf\("res_query:)756 2034 A
(send)168 2832 A
(error\(%d\)\\n",)546 3042 A
(errno\);)294 3630 A
3510 V
(27414)210 648 A
(#endif)252 1026 A
3600 V
(27415)210 648 A
(h_errno)294 1698 A
2034(=)S
(TRY_AGAIN;)420 2118 A
3690 V
(27416)210 648 A
(return\(n\);)420 1698 A
3780 V
(27417)210 648 A
1362(})S
3870 V
(27418)210 648 A
3960 V
(27419)210 648 A
1362(hp)S
1488(=)S
(\(dns_hdr_t)420 1572 A
2034(*\))S
(answer;)294 2160 A
4050 V
(27420)210 648 A
1362(if)S
(\(\(hp->dh_flag2)588 1488 A
2118(&)S
(DHF_RCODE\))420 2202 A
2664(!=)S
(NOERROR)294 2790 A
3126(||)S
4140 V
(27421)210 648 A
(ntohs\(hp->dh_ancount\))882 1698 A
2622(==)S
2748(0\))S
2874({)S
4230 V
(27422)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4320 V
(27423)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
4410 V
(27424)210 648 A
(printf\("rcode)546 2034 A
2622(=)S
(%d,)126 2706 A
(ancount=%d\\n",)588 2874 A
4500 V
(27425)210 648 A
(hp->dh_flag2)504 2370 A
2916(&)S
(DHF_RCODE,)420 3000 A
4590 V
(27426)210 648 A
(ntohs\(hp->dh_ancount\)\);)966 2202 A
4680 V
(27427)210 648 A
(#endif)252 1026 A
4770 V
(27428)210 648 A
(switch)252 1698 A
(\(hp->dh_flag2)546 1992 A
2580(&)S
(DHF_RCODE\))420 2664 A
3126({)S
4860 V
(27429)210 648 A
(case)168 2034 A
(NXDOMAIN:)378 2244 A
4950 V
(27430)210 648 A
(h_errno)294 2370 A
2706(=)S
(HOST_NOT_FOUND;)630 2790 A
5040 V
(27431)210 648 A
(break;)252 2370 A
5130 V
(27432)210 648 A
(case)168 2034 A
(SERVFAIL:)378 2244 A
5220 V
(27433)210 648 A
(h_errno)294 2370 A
2706(=)S
(TRY_AGAIN;)420 2790 A
5310 V
(27434)210 648 A
(break;)252 2370 A
5400 V
(27435)210 648 A
(case)168 2034 A
(NOERROR:)336 2244 A
5490 V
(27436)210 648 A
(h_errno)294 2370 A
2706(=)S
(NO_DATA;)336 2790 A
5580 V
(27437)210 648 A
(break;)252 2370 A
5670 V
(27438)210 648 A
(case)168 2034 A
(FORMERR:)336 2244 A
5760 V
(27439)210 648 A
(case)168 2034 A
(NOTIMP:)294 2244 A
5850 V
(27440)210 648 A
(case)168 2034 A
(REFUSED:)336 2244 A
5940 V
(27441)210 648 A
(default:)336 2034 A
6030 V
(27442)210 648 A
(h_errno)294 2370 A
2706(=)S
(NO_RECOVERY;)504 2790 A
6120 V
(27443)210 648 A
(break;)252 2370 A
6210 V
(27444)210 648 A
1698(})S
8418 V
EP
%%Page: 260 260
BP
/slant 0 def
/height 0 def
630 V
12 B
(260)180 648 A
11 R
1951(File:)S
(src/lib/ip/res_query.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(27445)210 648 A
(return)252 1698 A
(\(-1\);)210 1992 A
990 V
(27446)210 648 A
1362(})S
1080 V
(27447)210 648 A
(return\(n\);)420 1362 A
1170 V
(27448)210 648 A
1026(})S
1350 V
(27450)210 648 A
1026(/*)S
1440 V
(27451)210 648 A
1068(*)S
(Formulate)378 1152 A
1572(a)S
(normal)252 1656 A
(query,)252 1950 A
(send,)210 2244 A
(and)126 2496 A
(retrieve)336 2664 A
(answer)252 3042 A
3336(in)S
(supplied)336 3462 A
(buffer.)294 3840 A
1530 V
(27452)210 648 A
1068(*)S
(Return)252 1152 A
(the)126 1446 A
(size)168 1614 A
1824(of)S
(the)126 1950 A
(response)336 2118 A
2496(on)S
(success,)336 2622 A
3000(-1)S
3126(on)S
(error.)252 3252 A
1620 V
(27453)210 648 A
1068(*)S
1152(If)S
(enabled,)336 1278 A
(implement)378 1656 A
(search)252 2076 A
(rules)210 2370 A
(until)210 2622 A
(answer)252 2874 A
3168(or)S
(unrecoverable)546 3294 A
(failure)294 3882 A
1710 V
(27454)210 648 A
1068(*)S
1152(is)S
(detected.)378 1278 A
(Error)210 1740 A
(number)252 1992 A
2286(is)S
(left)168 2412 A
2622(in)S
(h_errno.)336 2748 A
1800 V
(27455)210 648 A
1068(*)S
(Only)168 1152 A
(useful)252 1362 A
(for)126 1656 A
(queries)294 1824 A
2160(in)S
(the)126 2286 A
(same)168 2454 A
(name)168 2664 A
(hierarchy)378 2874 A
3294(as)S
(the)126 3420 A
(local)210 3588 A
(host)168 3840 A
1890 V
(27456)210 648 A
1068(*)S
(\(not,)210 1152 A
(for)126 1404 A
(example,)336 1572 A
(for)126 1950 A
(host)168 2118 A
(address-to-name)630 2328 A
(lookups)294 3000 A
3336(in)S
(domain)252 3462 A
(in-addr.arpa\).)588 3756 A
1980 V
(27457)210 648 A
1068(*/)S
2070 V
(27458)210 648 A
(res_search\(name,)672 1026 A
(class,)252 1740 A
(type,)210 2034 A
(answer,)294 2286 A
(anslen\))294 2622 A
2160 V
(27459)210 648 A
(char)168 1362 A
(*name;)252 1572 A
2370(/*)S
(domain)252 2496 A
(name)168 2790 A
3000(*/)S
2250 V
(27460)210 648 A
(int)126 1362 A
(class,)252 1530 A
(type;)210 1824 A
2370(/*)S
(class)210 2496 A
(and)126 2748 A
(type)168 2916 A
3126(of)S
(query)210 3252 A
3504(*/)S
2340 V
(27461)210 648 A
(u_char)252 1362 A
(*answer;)336 1656 A
2370(/*)S
(buffer)252 2496 A
2790(to)S
(put)126 2916 A
(answer)252 3084 A
3378(*/)S
2430 V
(27462)210 648 A
(int)126 1362 A
(anslen;)294 1530 A
2370(/*)S
(size)168 2496 A
2706(of)S
(answer)252 2832 A
3126(*/)S
2520 V
(27463)210 648 A
1026({)S
2610 V
(27464)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp,)168 1950 A
(**domain;)378 2160 A
2700 V
(27465)210 648 A
(int)126 1362 A
1530(n,)S
(ret,)168 1656 A
(got_nodata)420 1866 A
2328(=)S
2412(0;)S
2790 V
(27466)210 648 A
2880 V
(27467)210 648 A
1362(if)S
(\(\(_res.options)588 1488 A
2118(&)S
(RES_INIT\))378 2202 A
2622(==)S
2748(0)S
2832(&&)S
(res_init\(\))420 2958 A
3420(==)S
(-1\))126 3546 A
2970 V
(27468)210 648 A
(return)252 1698 A
(\(-1\);)210 1992 A
3060 V
(27469)210 648 A
3150 V
(27470)210 648 A
(errno)210 1362 A
1614(=)S
1698(0;)S
3240 V
(27471)210 648 A
(h_errno)294 1362 A
1698(=)S
(HOST_NOT_FOUND;)630 1782 A
3042(/*)S
(default,)336 3168 A
3546(if)S
3672(we)S
(never)210 3798 A
(query)210 4050 A
4302(*/)S
3330 V
(27472)210 648 A
(for)126 1362 A
(\(cp)126 1530 A
1698(=)S
(name,)210 1782 A
2034(n)S
2118(=)S
2202(0;)S
(*cp;)168 2328 A
(cp++\))210 2538 A
3420 V
(27473)210 648 A
1698(if)S
(\(*cp)168 1824 A
2034(==)S
('.'\))168 2160 A
3510 V
(27474)210 648 A
(n++;)168 2034 A
3600 V
(27475)210 648 A
1362(if)S
1488(\(n)S
1614(==)S
1740(0)S
1824(&&)S
(\(cp)126 1950 A
2118(=)S
(hostalias\(name\)\)\))714 2202 A
3690 V
(27476)210 648 A
(return)252 1698 A
(\(res_query\(cp,)588 1992 A
(class,)252 2622 A
(type,)210 2916 A
(answer,)294 3168 A
(anslen\)\);)378 3504 A
3780 V
(27477)210 648 A
3870 V
(27478)210 648 A
1362(/*)S
3960 V
(27479)210 648 A
1404(*)S
1488(We)S
1614(do)S
1740(at)S
(least)210 1866 A
(one)126 2118 A
(level)210 2286 A
2538(of)S
(search)252 2664 A
2958(if)S
4050 V
(27480)210 648 A
1404(*)S
1698(-)S
(there)210 1782 A
2034(is)S
2160(no)S
(dot)126 2286 A
(and)126 2454 A
(RES_DEFNAME)462 2622 A
3126(is)S
(set,)168 3252 A
3462(or)S
4140 V
(27481)210 648 A
1404(*)S
1698(-)S
(there)210 1782 A
2034(is)S
2160(at)S
(least)210 2286 A
(one)126 2538 A
(dot,)168 2706 A
(there)210 2916 A
3168(is)S
3294(no)S
(trailing)336 3420 A
(dot,)168 3798 A
4230 V
(27482)210 648 A
1404(*)S
(and)126 1782 A
(RES_DNSRCH)420 1950 A
2412(is)S
(set.)168 2538 A
4320 V
(27483)210 648 A
1404(*/)S
4410 V
(27484)210 648 A
1362(if)S
(\(\(n)126 1488 A
1656(==)S
1782(0)S
1866(&&)S
(_res.options)504 1992 A
2538(&)S
(RES_DEFNAMES\))546 2622 A
3210(||)S
4500 V
(27485)210 648 A
1488(\(n)S
1614(!=)S
1740(0)S
1824(&&)S
(*--cp)210 1950 A
2202(!=)S
('.')126 2328 A
2496(&&)S
(_res.options)504 2622 A
3168(&)S
(RES_DNSRCH\)\))504 3252 A
4590 V
(27486)210 648 A
(for)126 1572 A
(\(domain)294 1740 A
2076(=)S
(_res.dnsrch;)504 2160 A
(*domain;)336 2706 A
(domain++\))378 3084 A
3504({)S
4680 V
(27487)210 648 A
(ret)126 1698 A
1866(=)S
(res_querydomain\(name,)882 1950 A
(*domain,)336 2874 A
(class,)252 3252 A
(type,)210 3546 A
4770 V
(27488)210 648 A
(answer,)294 1866 A
(anslen\);)336 2202 A
4860 V
(27489)210 648 A
1698(if)S
(\(ret)168 1824 A
2034(>)S
2118(0\))S
4950 V
(27490)210 648 A
(return)252 2034 A
(\(ret\);)252 2328 A
5040 V
(27491)210 648 A
1698(/*)S
5130 V
(27492)210 648 A
1740(*)S
1824(If)S
1950(no)S
(server)252 2076 A
(present,)336 2370 A
(give)168 2748 A
(up.)126 2958 A
5220 V
(27493)210 648 A
1740(*)S
1824(If)S
(name)168 1950 A
(isn't)210 2160 A
(found)210 2412 A
2664(in)S
(this)168 2790 A
(domain,)294 3000 A
5310 V
(27494)210 648 A
1740(*)S
(keep)168 1824 A
(trying)252 2034 A
(higher)252 2328 A
(domains)294 2622 A
2958(in)S
(the)126 3084 A
(search)252 3252 A
(list)168 3546 A
5400 V
(27495)210 648 A
1740(*)S
(\(if)126 1824 A
(that's)252 1992 A
(enabled\).)378 2286 A
5490 V
(27496)210 648 A
1740(*)S
1824(On)S
1950(a)S
(NO_DATA)294 2034 A
(error,)252 2370 A
(keep)168 2664 A
(trying,)294 2874 A
(otherwise)378 3210 A
5580 V
(27497)210 648 A
1740(*)S
1824(a)S
(wildcard)336 1908 A
(entry)210 2286 A
2538(of)S
(another)294 2664 A
(type)168 3000 A
(could)210 3210 A
(keep)168 3462 A
3672(us)S
5670 V
(27498)210 648 A
1740(*)S
(from)168 1824 A
(finding)294 2034 A
(this)168 2370 A
(entry)210 2580 A
(higher)252 2832 A
3126(in)S
(the)126 3252 A
(domain.)294 3420 A
5760 V
(27499)210 648 A
1740(*)S
1824(If)S
1950(we)S
(get)126 2076 A
(some)168 2244 A
(other)210 2454 A
(error)210 2706 A
(\(negative)378 2958 A
(answer)252 3378 A
3672(or)S
5850 V
(27500)210 648 A
1740(*)S
(server)252 1824 A
(failure\),)378 2118 A
(then)168 2538 A
(stop)168 2748 A
(searching)378 2958 A
(up,)126 3378 A
5940 V
(27501)210 648 A
1740(*)S
(but)126 1824 A
(try)126 1992 A
(the)126 2160 A
(input)210 2328 A
(name)168 2580 A
(below)210 2790 A
3042(in)S
(case)168 3168 A
(it's)168 3378 A
(fully-qualified.)672 3588 A
6030 V
(27502)210 648 A
1740(*/)S
6120 V
(27503)210 648 A
1698(if)S
(\(errno)252 1824 A
2118(==)S
(ECONNREFUSED\))546 2244 A
2832({)S
6210 V
(27504)210 648 A
(h_errno)294 2034 A
2370(=)S
(TRY_AGAIN;)420 2454 A
8418 V
EP
%%Page: 261 261
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/ip/res_query.c)941 2184 A
12 B
(261)180 4248 A
900 V
7 LST
(27505)210 648 A
(return)252 2034 A
(\(-1\);)210 2328 A
990 V
(27506)210 648 A
1698(})S
1080 V
(27507)210 648 A
1698(if)S
(\(h_errno)336 1824 A
2202(==)S
(NO_DATA\))336 2328 A
1170 V
(27508)210 648 A
(got_nodata++;)546 2034 A
1260 V
(27509)210 648 A
1698(if)S
(\(\(h_errno)378 1824 A
2244(!=)S
(HOST_NOT_FOUND)588 2370 A
3000(&&)S
(h_errno)294 3126 A
3462(!=)S
(NO_DATA\))336 3588 A
3966(||)S
1350 V
(27510)210 648 A
(\(_res.options)546 1866 A
2454(&)S
(RES_DNSRCH\))462 2538 A
3042(==)S
3168(0\))S
1440 V
(27511)210 648 A
(break;)252 2034 A
1530 V
(27512)210 648 A
1362(})S
1620 V
(27513)210 648 A
1362(/*)S
1710 V
(27514)210 648 A
1404(*)S
1488(If)S
(the)126 1614 A
(search/default)588 1782 A
(failed,)294 2412 A
(try)126 2748 A
(the)126 2916 A
(name)168 3084 A
3294(as)S
(fully-qualified,)672 3420 A
1800 V
(27515)210 648 A
1404(*)S
(but)126 1488 A
(only)168 1656 A
1866(if)S
1992(it)S
(contained)378 2118 A
2538(at)S
(least)210 2664 A
(one)126 2916 A
(dot)126 3084 A
(\(even)210 3252 A
(trailing\).)420 3504 A
1890 V
(27516)210 648 A
1404(*)S
(This)168 1488 A
1698(is)S
(purely)252 1824 A
2118(a)S
(heuristic;)420 2202 A
2664(we)S
(assume)252 2790 A
(that)168 3084 A
(any)126 3294 A
(reasonable)420 3462 A
(query)210 3924 A
1980 V
(27517)210 648 A
1404(*)S
(about)210 1488 A
1740(a)S
(top-level)378 1824 A
(domain)252 2244 A
(\(for)168 2538 A
(servers,)336 2748 A
(SOA,)168 3126 A
(etc\))168 3336 A
(will)168 3546 A
(not)126 3756 A
(use)126 3924 A
2070 V
(27518)210 648 A
1404(*)S
(res_search.)462 1488 A
2160 V
(27519)210 648 A
1404(*/)S
2250 V
(27520)210 648 A
1362(if)S
1488(\(n)S
1614(&&)S
(\(ret)168 1740 A
1950(=)S
(res_querydomain\(name,)882 2034 A
(\(char)210 2958 A
(*\)NULL,)294 3210 A
(class,)252 3546 A
(type,)210 3840 A
2340 V
(27521)210 648 A
(answer,)294 1530 A
(anslen\)\))336 1866 A
2244(>)S
2328(0\))S
2430 V
(27522)210 648 A
(return)252 1698 A
(\(ret\);)252 1992 A
2520 V
(27523)210 648 A
1362(if)S
(\(got_nodata\))504 1488 A
2610 V
(27524)210 648 A
(h_errno)294 1698 A
2034(=)S
(NO_DATA;)336 2118 A
2700 V
(27525)210 648 A
(return)252 1362 A
(\(-1\);)210 1656 A
2790 V
(27526)210 648 A
1026(})S
2970 V
(27528)210 648 A
1026(/*)S
3060 V
(27529)210 648 A
1068(*)S
(Perform)294 1152 A
1488(a)S
(call)168 1572 A
1782(on)S
(res_query)378 1908 A
2328(on)S
(the)126 2454 A
(concatenation)546 2622 A
3210(of)S
(name)168 3336 A
(and)126 3546 A
(domain,)294 3714 A
3150 V
(27530)210 648 A
1068(*)S
(removing)336 1152 A
1530(a)S
(trailing)336 1614 A
(dot)126 1992 A
(from)168 2160 A
(name)168 2370 A
2580(if)S
(domain)252 2706 A
3000(is)S
(NULL.)210 3126 A
3240 V
(27531)210 648 A
1068(*/)S
3330 V
(27532)210 648 A
(int)126 1026 A
3420 V
(27533)210 648 A
(res_querydomain\(name,)882 1026 A
(domain,)294 1950 A
(class,)252 2286 A
(type,)210 2580 A
(answer,)294 2832 A
(anslen\))294 3168 A
3510 V
(27534)210 648 A
(char)168 1362 A
(*name,)252 1572 A
(*domain;)336 1866 A
3600 V
(27535)210 648 A
(int)126 1362 A
(class,)252 1530 A
(type;)210 1824 A
2370(/*)S
(class)210 2496 A
(and)126 2748 A
(type)168 2916 A
3126(of)S
(query)210 3252 A
3504(*/)S
3690 V
(27536)210 648 A
(u_char)252 1362 A
(*answer;)336 1656 A
2370(/*)S
(buffer)252 2496 A
2790(to)S
(put)126 2916 A
(answer)252 3084 A
3378(*/)S
3780 V
(27537)210 648 A
(int)126 1362 A
(anslen;)294 1530 A
2370(/*)S
(size)168 2496 A
2706(of)S
(answer)252 2832 A
3126(*/)S
3870 V
(27538)210 648 A
1026({)S
3960 V
(27539)210 648 A
(char)168 1362 A
(nbuf[2*MAXDNAME+2];)798 1572 A
4050 V
(27540)210 648 A
(char)168 1362 A
(*longname)378 1572 A
1992(=)S
(nbuf;)210 2076 A
4140 V
(27541)210 648 A
(int)126 1362 A
1530(n;)S
4230 V
(27542)210 648 A
4320 V
(27543)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4410 V
(27544)210 648 A
1362(if)S
(\(_res.options)546 1488 A
2076(&)S
(RES_DEBUG\))420 2160 A
4500 V
(27545)210 648 A
(printf\("res_querydomain\(%s,)1134 1698 A
(%s,)126 2874 A
(%d,)126 3042 A
(%d\)\\n",)294 3210 A
4590 V
(27546)210 648 A
(name,)210 1866 A
(domain,)294 2118 A
(class,)252 2454 A
(type\);)252 2748 A
4680 V
(27547)210 648 A
(#endif)252 1026 A
4770 V
(27548)210 648 A
1362(if)S
(\(domain)294 1488 A
1824(==)S
(NULL\))210 1950 A
2202({)S
4860 V
(27549)210 648 A
1698(/*)S
4950 V
(27550)210 648 A
1740(*)S
(Check)210 1824 A
(for)126 2076 A
(trailing)336 2244 A
('.';)168 2622 A
5040 V
(27551)210 648 A
1740(*)S
(copy)168 1824 A
(without)294 2034 A
('.')126 2370 A
2538(if)S
(present.)336 2664 A
5130 V
(27552)210 648 A
1740(*/)S
5220 V
(27553)210 648 A
1698(n)S
1782(=)S
(strlen\(name\))504 1866 A
2412(-)S
2496(1;)S
5310 V
(27554)210 648 A
1698(if)S
(\(name[n])336 1824 A
2202(==)S
('.')126 2328 A
2496(&&)S
2622(n)S
2706(<)S
(sizeof\(nbuf\))504 2790 A
3336(-)S
3420(1\))S
3546({)S
5400 V
(27555)210 648 A
(bcopy\(name,)462 2034 A
(nbuf,)210 2538 A
(n\);)126 2790 A
5490 V
(27556)210 648 A
(nbuf[n])294 2034 A
2370(=)S
('\\0';)210 2454 A
5580 V
(27557)210 648 A
1698(})S
(else)168 1782 A
5670 V
(27558)210 648 A
(longname)336 2034 A
2412(=)S
(name;)210 2496 A
5760 V
(27559)210 648 A
1362(})S
(else)168 1446 A
5850 V
(27560)210 648 A
(\(void\)sprintf\(nbuf,)798 1698 A
("%.*s.%.*s",)504 2538 A
5940 V
(27561)210 648 A
(MAXDNAME,)378 1866 A
(name,)210 2286 A
(MAXDNAME,)378 2538 A
(domain\);)336 2958 A
6030 V
(27562)210 648 A
6120 V
(27563)210 648 A
(return)252 1362 A
(\(res_query\(longname,)840 1656 A
(class,)252 2538 A
(type,)210 2832 A
(answer,)294 3084 A
(anslen\)\);)378 3420 A
6210 V
(27564)210 648 A
1026(})S
8418 V
EP
%%Page: 262 262
BP
/slant 0 def
/height 0 def
630 V
12 B
(262)180 648 A
11 R
1951(File:)S
(src/lib/ip/res_query.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(27566)210 648 A
(char)168 1026 A
1236(*)S
1080 V
(27567)210 648 A
(hostalias\(name\))630 1026 A
1170 V
(27568)210 648 A
(register)336 1362 A
(CONST)210 1740 A
(char)168 1992 A
(*name;)252 2202 A
1260 V
(27569)210 648 A
1026({)S
1350 V
(27570)210 648 A
(register)336 1362 A
(char)168 1740 A
(*C1,)168 1950 A
(*C2;)168 2160 A
1440 V
(27571)210 648 A
(FILE)168 1362 A
(*fp;)168 1572 A
1530 V
(27572)210 648 A
(char)168 1362 A
(*file;)252 1572 A
1620 V
(27573)210 648 A
(char)168 1362 A
(buf[BUFSIZ];)504 1572 A
1710 V
(27574)210 648 A
(static)252 1362 A
(char)168 1656 A
(abuf[MAXDNAME];)630 1866 A
1800 V
(27575)210 648 A
1890 V
(27576)210 648 A
(file)168 1362 A
1572(=)S
(getenv\("HOSTALIASES"\);)924 1656 A
1980 V
(27577)210 648 A
1362(if)S
(\(file)210 1488 A
1740(==)S
(NULL)168 1866 A
2076(||)S
(\(fp)126 2202 A
2370(=)S
(fopen\(file,)462 2454 A
("r"\)\))210 2958 A
3210(==)S
(NULL\))210 3336 A
2070 V
(27578)210 648 A
(return)252 1698 A
(\(NULL\);)294 1992 A
2160 V
(27579)210 648 A
(buf[sizeof\(buf\))630 1362 A
2034(-)S
2118(1])S
2244(=)S
('\\0';)210 2328 A
2250 V
(27580)210 648 A
(while)210 1362 A
(\(fgets\(buf,)462 1614 A
(sizeof\(buf\),)504 2118 A
(fp\)\))168 2664 A
2874({)S
2340 V
(27581)210 648 A
(for)126 1698 A
(\(C1)126 1866 A
2034(=)S
(buf;)168 2118 A
(*C1)126 2328 A
2496(&&)S
(!isspace\(*C1\);)588 2622 A
(++C1\);)252 3252 A
2430 V
(27582)210 648 A
1698(if)S
(\(!*C1\))252 1824 A
2520 V
(27583)210 648 A
(break;)252 2034 A
2610 V
(27584)210 648 A
(*C1)126 1698 A
1866(=)S
('\\0';)210 1950 A
2700 V
(27585)210 648 A
1698(if)S
(\(!strcasecmp\(buf,)714 1824 A
(name\)\))252 2580 A
2874({)S
2790 V
(27586)210 648 A
(while)210 2034 A
(\(isspace\(*++C1\)\);)714 2286 A
2880 V
(27587)210 648 A
2034(if)S
(\(!*C1\))252 2160 A
2970 V
(27588)210 648 A
(break;)252 2370 A
3060 V
(27589)210 648 A
(for)126 2034 A
(\(C2)126 2202 A
2370(=)S
2454(C1)S
2580(+)S
2664(1;)S
(*C2)126 2790 A
2958(&&)S
(!isspace\(*C2\);)588 3084 A
(++C2\);)252 3714 A
3150 V
(27590)210 648 A
(abuf[sizeof\(abuf\))714 2034 A
2790(-)S
2874(1])S
3000(=)S
(*C2)126 3084 A
3252(=)S
('\\0';)210 3336 A
3240 V
(27591)210 648 A
(\(void\)strncpy\(abuf,)798 2034 A
(C1,)126 2874 A
(sizeof\(abuf\))504 3042 A
3588(-)S
(1\);)126 3672 A
3330 V
(27592)210 648 A
(fclose\(fp\);)462 2034 A
3420 V
(27593)210 648 A
(return)252 2034 A
(\(abuf\);)294 2328 A
3510 V
(27594)210 648 A
1698(})S
3600 V
(27595)210 648 A
1362(})S
3690 V
(27596)210 648 A
(fclose\(fp\);)462 1362 A
3780 V
(27597)210 648 A
(return)252 1362 A
(\(NULL\);)294 1656 A
3870 V
(27598)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/ip/res_send.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(27600)210 648 A
1026(/*)S
4590 V
(27601)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1985,)210 1740 A
(1989)168 1992 A
(Regents)294 2202 A
2538(of)S
(the)126 2664 A
(University)420 2832 A
3294(of)S
(California.)462 3420 A
4680 V
(27602)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
4770 V
(27603)210 648 A
1068(*)S
4860 V
(27604)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms,)252 3000 A
(with)168 3294 A
3504(or)S
(without)294 3630 A
4950 V
(27605)210 648 A
1068(*)S
(modification,)546 1152 A
(are)126 1740 A
(permitted)378 1908 A
(provided)336 2328 A
(that)168 2706 A
(the)126 2916 A
(following)378 3084 A
(conditions)420 3504 A
5040 V
(27606)210 648 A
1068(*)S
(are)126 1152 A
(met:)168 1320 A
5130 V
(27607)210 648 A
1068(*)S
1152(1.)S
(Redistributions)630 1278 A
1950(of)S
(source)252 2076 A
(code)168 2370 A
(must)168 2580 A
(retain)252 2790 A
(the)126 3084 A
(above)210 3252 A
(copyright)378 3504 A
5220 V
(27608)210 648 A
1068(*)S
(notice,)294 1278 A
(this)168 1614 A
(list)168 1824 A
2034(of)S
(conditions)420 2160 A
(and)126 2622 A
(the)126 2790 A
(following)378 2958 A
(disclaimer.)462 3378 A
5310 V
(27609)210 648 A
1068(*)S
1152(2.)S
(Redistributions)630 1278 A
1950(in)S
(binary)252 2076 A
(form)168 2370 A
(must)168 2580 A
(reproduce)378 2790 A
(the)126 3210 A
(above)210 3378 A
(copyright)378 3630 A
5400 V
(27610)210 648 A
1068(*)S
(notice,)294 1278 A
(this)168 1614 A
(list)168 1824 A
2034(of)S
(conditions)420 2160 A
(and)126 2622 A
(the)126 2790 A
(following)378 2958 A
(disclaimer)420 3378 A
3840(in)S
(the)126 3966 A
5490 V
(27611)210 648 A
1068(*)S
(documentation)546 1278 A
(and/or)252 1866 A
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution.)546 3588 A
5580 V
(27612)210 648 A
1068(*)S
1152(3.)S
(All)126 1278 A
(advertising)462 1446 A
(materials)378 1950 A
(mentioning)420 2370 A
(features)336 2832 A
3210(or)S
(use)126 3336 A
3504(of)S
(this)168 3630 A
(software)336 3840 A
5670 V
(27613)210 648 A
1068(*)S
(must)168 1278 A
(display)294 1488 A
(the)126 1824 A
(following)378 1992 A
(acknowledgement:)672 2412 A
5760 V
(27614)210 648 A
1068(*)S
(This)168 1362 A
(product)294 1572 A
(includes)336 1908 A
(software)336 2286 A
(developed)378 2664 A
3084(by)S
(the)126 3210 A
(University)420 3378 A
3840(of)S
5850 V
(27615)210 648 A
1068(*)S
(California,)462 1362 A
(Berkeley)336 1866 A
(and)126 2244 A
(its)126 2412 A
(contributors.)546 2580 A
5940 V
(27616)210 648 A
1068(*)S
1152(4.)S
(Neither)294 1278 A
(the)126 1614 A
(name)168 1782 A
1992(of)S
(the)126 2118 A
(University)420 2286 A
(nor)126 2748 A
(the)126 2916 A
(names)210 3084 A
3336(of)S
(its)126 3462 A
(contributors)504 3630 A
6030 V
(27617)210 648 A
1068(*)S
(may)126 1278 A
1446(be)S
(used)168 1572 A
1782(to)S
(endorse)294 1908 A
2244(or)S
(promote)294 2370 A
(products)336 2706 A
(derived)294 3084 A
(from)168 3420 A
(this)168 3630 A
(software)336 3840 A
6120 V
(27618)210 648 A
1068(*)S
(without)294 1278 A
(specific)336 1614 A
(prior)210 1992 A
(written)294 2244 A
(permission.)462 2580 A
6210 V
(27619)210 648 A
1068(*)S
8418 V
EP
%%Page: 263 263
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(263)180 4248 A
900 V
7 LST
(27620)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
2244(BY)S
(THE)126 2370 A
(REGENTS)294 2538 A
(AND)126 2874 A
(CONTRIBUTORS)504 3042 A
(`AS)126 3588 A
(IS'')168 3756 A
(AND)126 3966 A
990 V
(27621)210 648 A
1068(*)S
(ANY)126 1152 A
(EXPRESS)294 1320 A
1656(OR)S
(IMPLIED)294 1782 A
(WARRANTIES,)462 2118 A
(INCLUDING,)420 2622 A
(BUT)126 3084 A
(NOT)126 3252 A
(LIMITED)294 3420 A
(TO,)126 3756 A
(THE)126 3924 A
1080 V
(27622)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES)420 1488 A
1950(OF)S
(MERCHANTABILITY)630 2076 A
(AND)126 2748 A
(FITNESS)294 2916 A
(FOR)126 3252 A
3420(A)S
(PARTICULAR)420 3504 A
(PURPOSE)294 3966 A
1170 V
(27623)210 648 A
1068(*)S
(ARE)126 1152 A
(DISCLAIMED.)462 1320 A
1866(IN)S
1992(NO)S
(EVENT)210 2118 A
(SHALL)210 2370 A
(THE)126 2622 A
(REGENTS)294 2790 A
3126(OR)S
(CONTRIBUTORS)504 3252 A
3798(BE)S
(LIABLE)252 3924 A
1260 V
(27624)210 648 A
1068(*)S
(FOR)126 1152 A
(ANY)126 1320 A
(DIRECT,)294 1488 A
(INDIRECT,)378 1824 A
(INCIDENTAL,)462 2244 A
(SPECIAL,)336 2748 A
(EXEMPLARY,)420 3126 A
3588(OR)S
(CONSEQUENTIAL)546 3714 A
1350 V
(27625)210 648 A
1068(*)S
(DAMAGES)294 1152 A
(\(INCLUDING,)462 1488 A
(BUT)126 1992 A
(NOT)126 2160 A
(LIMITED)294 2328 A
(TO,)126 2664 A
(PROCUREMENT)462 2832 A
3336(OF)S
(SUBSTITUTE)420 3462 A
(GOODS)210 3924 A
1440 V
(27626)210 648 A
1068(*)S
1152(OR)S
(SERVICES;)378 1278 A
(LOSS)168 1698 A
1908(OF)S
(USE,)168 2034 A
(DATA,)210 2244 A
2496(OR)S
(PROFITS;)336 2622 A
3000(OR)S
(BUSINESS)336 3126 A
(INTERRUPTION\))546 3504 A
1530 V
(27627)210 648 A
1068(*)S
(HOWEVER)294 1152 A
(CAUSED)252 1488 A
(AND)126 1782 A
1950(ON)S
(ANY)126 2076 A
(THEORY)252 2244 A
2538(OF)S
(LIABILITY,)420 2664 A
(WHETHER)294 3126 A
3462(IN)S
(CONTRACT,)378 3588 A
(STRICT)252 4008 A
1620 V
(27628)210 648 A
1068(*)S
(LIABILITY,)420 1152 A
1614(OR)S
(TORT)168 1740 A
(\(INCLUDING)420 1950 A
(NEGLIGENCE)420 2412 A
2874(OR)S
(OTHERWISE\))420 3000 A
(ARISING)294 3462 A
3798(IN)S
(ANY)126 3924 A
(WAY)126 4092 A
1710 V
(27629)210 648 A
1068(*)S
(OUT)126 1152 A
1320(OF)S
(THE)126 1446 A
(USE)126 1614 A
1782(OF)S
(THIS)168 1908 A
(SOFTWARE,)378 2118 A
(EVEN)168 2538 A
2748(IF)S
(ADVISED)294 2874 A
3210(OF)S
(THE)126 3336 A
(POSSIBILITY)462 3504 A
4008(OF)S
1800 V
(27630)210 648 A
1068(*)S
(SUCH)168 1152 A
(DAMAGE.)294 1362 A
1890 V
(27631)210 648 A
1068(*/)S
1980 V
(27632)210 648 A
2070 V
(27633)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
2160 V
(27634)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)res_send.c)630 1992 A
(6.27)168 2706 A
(\(Berkeley\))420 2916 A
(2/24/91";)378 3378 A
2250 V
(27635)210 648 A
(#endif)252 1026 A
1320(/*)S
(LIBC_SCCS)378 1446 A
(and)126 1866 A
(not)126 2034 A
(lint)168 2202 A
2412(*/)S
2340 V
(27636)210 648 A
2430 V
(27637)210 648 A
1026(/*)S
2520 V
(27638)210 648 A
1068(*)S
(Send)168 1152 A
(query)210 1362 A
1614(to)S
(name)168 1740 A
(server)252 1950 A
(and)126 2244 A
(wait)168 2412 A
(for)126 2622 A
(reply.)252 2790 A
2610 V
(27639)210 648 A
1068(*/)S
2700 V
(27640)210 648 A
2790 V
(27641)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
2880 V
(27642)210 648 A
(#include)336 1026 A
(<sys/param.h>)546 1404 A
2970 V
(27643)210 648 A
(#include)336 1026 A
(<sys/time.h>)504 1404 A
3060 V
(27644)210 648 A
(#include)336 1026 A
(<sys/socket.h>)588 1404 A
3150 V
(27645)210 648 A
(#include)336 1026 A
(<sys/uio.h>)462 1404 A
3240 V
(27646)210 648 A
(#include)336 1026 A
(<netinet/in.h>)588 1404 A
3330 V
(27647)210 648 A
(#include)336 1026 A
(<arpa/nameser.h>)672 1404 A
3420 V
(27648)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
3510 V
(27649)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
3600 V
(27650)210 648 A
(#include)336 1026 A
(<resolv.h>)420 1404 A
3690 V
(27651)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3780 V
(27652)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
3870 V
(27653)210 648 A
3960 V
(27654)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
4050 V
(27655)210 648 A
4140 V
(27656)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4230 V
(27657)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
4320 V
(27658)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
4410 V
(27659)210 648 A
(#include)336 1026 A
(<assert.h>)420 1404 A
4500 V
(27660)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
4590 V
(27661)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
4680 V
(27662)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
4770 V
(27663)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
4860 V
(27664)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4950 V
(27665)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5040 V
(27666)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5130 V
(27667)210 648 A
5220 V
(27668)210 648 A
(#include)336 1026 A
(<net/hton.h>)504 1404 A
5310 V
(27669)210 648 A
5400 V
(27670)210 648 A
(#include)336 1026 A
(<net/netlib.h>)588 1404 A
5490 V
(27671)210 648 A
(#include)336 1026 A
(<net/gen/in.h>)588 1404 A
5580 V
(27672)210 648 A
(#include)336 1026 A
(<net/gen/inet.h>)672 1404 A
5670 V
(27673)210 648 A
(#include)336 1026 A
(<net/gen/netdb.h>)714 1404 A
5760 V
(27674)210 648 A
(#include)336 1026 A
(<net/gen/nameser.h>)798 1404 A
5850 V
(27675)210 648 A
(#include)336 1026 A
(<net/gen/resolv.h>)756 1404 A
5940 V
(27676)210 648 A
(#include)336 1026 A
(<net/gen/tcp.h>)630 1404 A
6030 V
(27677)210 648 A
(#include)336 1026 A
(<net/gen/tcp_io.h>)756 1404 A
6120 V
(27678)210 648 A
(#include)336 1026 A
(<net/gen/udp.h>)630 1404 A
6210 V
(27679)210 648 A
(#include)336 1026 A
(<net/gen/udp_hdr.h>)798 1404 A
8418 V
EP
%%Page: 264 264
BP
/slant 0 def
/height 0 def
630 V
12 B
(264)180 648 A
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(27680)210 648 A
(#include)336 1026 A
(<net/gen/udp_io.h>)756 1404 A
990 V
(27681)210 648 A
1080 V
(27682)210 648 A
(typedef)294 1026 A
(u16_t)210 1362 A
(u_short;)336 1614 A
1170 V
(27683)210 648 A
1260 V
(27684)210 648 A
(static)252 1026 A
(int)126 1320 A
(tcp_connect)462 1488 A
(_ARGS\(\()294 1992 A
(ipaddr_t)336 2328 A
(host,)210 2706 A
(Tcpport_t)378 2958 A
(port,)210 3378 A
(int)126 3630 A
(*terrno)294 3798 A
(\)\);)126 4134 A
1350 V
(27685)210 648 A
(static)252 1026 A
(int)126 1320 A
(tcpip_writeall)588 1488 A
(_ARGS\(\()294 2118 A
(int)126 2454 A
(fd,)126 2622 A
(const)210 2790 A
(char)168 3042 A
(*buf,)210 3252 A
(size_t)252 3504 A
(siz)126 3798 A
(\)\);)126 3966 A
1440 V
(27686)210 648 A
(static)252 1026 A
(int)126 1320 A
(udp_connect)462 1488 A
(_ARGS\(\()294 1992 A
(void)168 2328 A
(\)\);)126 2538 A
1530 V
(27687)210 648 A
(static)252 1026 A
(int)126 1320 A
(udp_sendto)420 1488 A
(_ARGS\(\()294 1950 A
(int)126 2286 A
(fd,)126 2454 A
(const)210 2622 A
(char)168 2874 A
(*buf,)210 3084 A
(unsigned)336 3336 A
(buflen,)294 3714 A
1620 V
(27688)210 648 A
(ipaddr_t)336 2370 A
(addr,)210 2748 A
(Udpport_t)378 3000 A
(port)168 3420 A
(\)\);)126 3630 A
1710 V
(27689)210 648 A
(static)252 1026 A
(int)126 1320 A
(udp_receive)462 1488 A
(_ARGS\(\()294 1992 A
(int)126 2328 A
(fd,)126 2496 A
(char)168 2664 A
(*buf,)210 2874 A
(unsigned)336 3126 A
(buflen,)294 3504 A
1800 V
(27690)210 648 A
(time_t)252 2370 A
(timeout)294 2664 A
(\)\);)126 3000 A
1890 V
(27691)210 648 A
(static)252 1026 A
(void)168 1320 A
(alarm_handler)546 1530 A
(_ARGS\(\()294 2118 A
(int)126 2454 A
(sig)126 2622 A
(\)\);)126 2790 A
1980 V
(27692)210 648 A
2070 V
(27693)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
2160 V
(27694)210 648 A
2250 V
(27695)210 648 A
(static)252 1026 A
(int)126 1320 A
1488(s)S
1572(=)S
(-1;)126 1656 A
2034(/*)S
(socket)252 2160 A
(used)168 2454 A
(for)126 2664 A
(communications)588 2832 A
3462(*/)S
2340 V
(27696)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
2430 V
(27697)210 648 A
(static)252 1026 A
(struct)252 1320 A
(sockaddr)336 1614 A
(no_addr;)336 1992 A
2520 V
(27698)210 648 A
2610 V
(27699)210 648 A
(#ifndef)294 1026 A
(FD_SET)252 1362 A
2700 V
(27700)210 648 A
(#define)294 1026 A
(NFDBITS)294 1362 A
2034(32)S
2790 V
(27701)210 648 A
(#define)294 1026 A
(FD_SETSIZE)420 1362 A
2034(32)S
2880 V
(27702)210 648 A
(#define)294 1026 A
(FD_SET\(n,)378 1362 A
1782(p\))S
(\(\(p\)->fds_bits[\(n\)/NFDBITS])1134 2034 A
3210(|=)S
3336(\(1)S
3462(<<)S
(\(\(n\))168 3588 A
3798(%)S
(NFDBITS\)\)\))420 3882 A
2970 V
(27703)210 648 A
(#define)294 1026 A
(FD_CLR\(n,)378 1362 A
1782(p\))S
(\(\(p\)->fds_bits[\(n\)/NFDBITS])1134 2034 A
3210(&=)S
(\304\(1)126 3336 A
3504(<<)S
(\(\(n\))168 3630 A
3840(%)S
(NFDBITS\)\)\))420 3924 A
3060 V
(27704)210 648 A
(#define)294 1026 A
(FD_ISSET\(n,)462 1362 A
1866(p\))S
(\(\(p\)->fds_bits[\(n\)/NFDBITS])1134 2034 A
3210(&)S
3294(\(1)S
3420(<<)S
(\(\(n\))168 3546 A
3756(%)S
(NFDBITS\)\)\))420 3840 A
3150 V
(27705)210 648 A
(#define)294 1026 A
(FD_ZERO\(p\))420 1362 A
(bzero\(\(char)462 2034 A
(*\)\(p\),)252 2538 A
(sizeof\(*\(p\)\)\))546 2832 A
3240 V
(27706)210 648 A
(#endif)252 1026 A
1320(/*)S
(FD_SET)252 1446 A
1740(*/)S
3330 V
(27707)210 648 A
(#endif)252 1026 A
1320(/*)S
(_MINIX)252 1446 A
1740(*/)S
3420 V
(27708)210 648 A
3510 V
(27709)210 648 A
(res_send\(buf,)546 1026 A
(buflen,)294 1614 A
(answer,)294 1950 A
(anslen\))294 2286 A
3600 V
(27710)210 648 A
(const)210 1362 A
(char)168 1614 A
(*buf;)210 1824 A
3690 V
(27711)210 648 A
(int)126 1362 A
(buflen;)294 1530 A
3780 V
(27712)210 648 A
(char)168 1362 A
(*answer;)336 1572 A
3870 V
(27713)210 648 A
(int)126 1362 A
(anslen;)294 1530 A
3960 V
(27714)210 648 A
1026({)S
4050 V
(27715)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(n;)S
4140 V
(27716)210 648 A
(int)126 1362 A
(try,)168 1530 A
(v_circuit,)420 1740 A
(resplen,)336 2202 A
(ns;)126 2580 A
4230 V
(27717)210 648 A
(int)126 1362 A
(gotsomewhere)504 1530 A
2076(=)S
2160(0,)S
(connected)378 2286 A
2706(=)S
2790(0;)S
4320 V
(27718)210 648 A
(int)126 1362 A
(connreset)378 1530 A
1950(=)S
2034(0;)S
4410 V
(27719)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
4500 V
(27720)210 648 A
(u_short)294 1362 A
(id,)126 1698 A
(len;)168 1866 A
4590 V
(27721)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
4680 V
(27722)210 648 A
(u16_t)210 1362 A
(id,)126 1614 A
(len;)168 1782 A
4770 V
(27723)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
4860 V
(27724)210 648 A
(char)168 1362 A
(*cp;)168 1572 A
4950 V
(27725)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
5040 V
(27726)210 648 A
(fd_set)252 1362 A
(dsmask;)294 1656 A
5130 V
(27727)210 648 A
(struct)252 1362 A
(timeval)294 1656 A
(timeout;)336 1992 A
5220 V
(27728)210 648 A
(HEADER)252 1362 A
(*hp)126 1656 A
1824(=)S
(\(HEADER)294 1908 A
2244(*\))S
(buf;)168 2370 A
5310 V
(27729)210 648 A
(HEADER)252 1362 A
(*anhp)210 1656 A
1908(=)S
(\(HEADER)294 1992 A
2328(*\))S
(answer;)294 2454 A
5400 V
(27730)210 648 A
(struct)252 1362 A
(iovec)210 1656 A
(iov[2];)294 1908 A
5490 V
(27731)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
5580 V
(27732)210 648 A
(time_t)252 1362 A
(timeout;)336 1656 A
5670 V
(27733)210 648 A
(dns_hdr_t)378 1362 A
(*hp)126 1782 A
1950(=)S
(\(dns_hdr_t)420 2034 A
2496(*\))S
(buf;)168 2622 A
5760 V
(27734)210 648 A
(dns_hdr_t)378 1362 A
(*anhp)210 1782 A
2034(=)S
(\(dns_hdr_t)420 2118 A
2580(*\))S
(answer;)294 2706 A
5850 V
(27735)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
5940 V
(27736)210 648 A
(int)126 1362 A
(terrno)252 1530 A
1824(=)S
(ETIMEDOUT;)420 1908 A
6030 V
(27737)210 648 A
(char)168 1362 A
(junk[512];)420 1572 A
6120 V
(27738)210 648 A
6210 V
(27739)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
8418 V
EP
%%Page: 265 265
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(265)180 4248 A
900 V
7 LST
(27740)210 648 A
1362(if)S
(\(_res.options)546 1488 A
2076(&)S
(RES_DEBUG\))420 2160 A
2622({)S
990 V
(27741)210 648 A
(printf\("res_send\(\)\\n"\);)966 1698 A
1080 V
(27742)210 648 A
(__p_query\(buf\);)630 1698 A
1170 V
(27743)210 648 A
1362(})S
1260 V
(27744)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1350 V
(27745)210 648 A
1362(if)S
(\(!\(_res.options)630 1488 A
2160(&)S
(RES_INIT\)\))420 2244 A
1440 V
(27746)210 648 A
1698(if)S
(\(res_init\(\))462 1824 A
2328(==)S
(-1\))126 2454 A
2622({)S
1530 V
(27747)210 648 A
(return\(-1\);)462 2034 A
1620 V
(27748)210 648 A
1698(})S
1710 V
(27749)210 648 A
1800 V
(27750)210 648 A
(v_circuit)378 1362 A
1782(=)S
(\(_res.options)546 1866 A
2454(&)S
(RES_USEVC\))420 2538 A
3000(||)S
(buflen)252 3126 A
3420(>)S
(PACKETSZ;)378 3504 A
1890 V
(27751)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
1980 V
(27752)210 648 A
1362(id)S
1488(=)S
(hp->id;)294 1572 A
2070 V
(27753)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
2160 V
(27754)210 648 A
1362(id)S
1488(=)S
(hp->dh_id;)420 1572 A
2250 V
(27755)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
2340 V
(27756)210 648 A
1362(/*)S
2430 V
(27757)210 648 A
1404(*)S
(Send)168 1488 A
(request,)336 1698 A
(RETRY)210 2076 A
(times,)252 2328 A
2622(or)S
(until)210 2748 A
(successful)420 3000 A
2520 V
(27758)210 648 A
1404(*/)S
2610 V
(27759)210 648 A
(for)126 1362 A
(\(try)168 1530 A
1740(=)S
1824(0;)S
(try)126 1950 A
2118(<)S
(_res.retry;)462 2202 A
(try++\))252 2706 A
3000({)S
2700 V
(27760)210 648 A
(for)126 1488 A
(\(ns)126 1656 A
1824(=)S
1908(0;)S
2034(ns)S
2160(<)S
(_res.nscount;)546 2244 A
(ns++\))210 2832 A
3084({)S
2790 V
(27761)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2880 V
(27762)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
2970 V
(27763)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
3060 V
(27764)210 648 A
(printf\("Querying)672 2034 A
(server)252 2748 A
3042(\(#)S
(%d\))126 3168 A
(address)294 3336 A
3672(=)S
(%s\\n",)252 3756 A
(ns+1,)210 4050 A
3150 V
(27765)210 648 A
(inet_ntoa\(_res.nsaddr_list[ns].sin_addr\)\);)1764 2286 A
3240 V
(27766)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
3330 V
(27767)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
3420 V
(27768)210 648 A
(printf\("Querying)672 2034 A
(server)252 2748 A
3042(\(#)S
(%d\))126 3168 A
(address)294 3336 A
3672(=)S
(%s\\n",)252 3756 A
(ns+1,)210 4050 A
3510 V
(27769)210 648 A
(inet_ntoa\(_res.nsaddr_list[ns]\)\);)1386 2286 A
3600 V
(27770)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
3690 V
(27771)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
3780 V
(27772)210 648 A
(usevc:)252 1362 A
3870 V
(27773)210 648 A
1698(if)S
(\(v_circuit\))462 1824 A
2328({)S
3960 V
(27774)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
4050 V
(27775)210 648 A
(int)126 2034 A
(truncated)378 2202 A
2622(=)S
2706(0;)S
4140 V
(27776)210 648 A
4230 V
(27777)210 648 A
2034(/*)S
4320 V
(27778)210 648 A
2076(*)S
(Use)126 2160 A
(virtual)294 2328 A
(circuit;)336 2664 A
4410 V
(27779)210 648 A
2076(*)S
2160(at)S
(most)168 2286 A
(one)126 2496 A
(attempt)294 2664 A
(per)126 3000 A
(server.)294 3168 A
4500 V
(27780)210 648 A
2076(*/)S
4590 V
(27781)210 648 A
(try)126 2034 A
2202(=)S
(_res.retry;)462 2286 A
4680 V
(27782)210 648 A
2034(if)S
2160(\(s)S
2286(<)S
2370(0\))S
2496({)S
4770 V
(27783)210 648 A
2370(s)S
2454(=)S
(socket\(AF_INET,)630 2538 A
(SOCK_STREAM,)504 3210 A
(0\);)126 3756 A
4860 V
(27784)210 648 A
2370(if)S
2496(\(s)S
2622(<)S
2706(0\))S
2832({)S
4950 V
(27785)210 648 A
(terrno)252 2706 A
3000(=)S
(errno;)252 3084 A
5040 V
(27786)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
5130 V
(27787)210 648 A
2706(if)S
(\(_res.options)546 2832 A
3420(&)S
(RES_DEBUG\))420 3504 A
5220 V
(27788)210 648 A
(perror\("socket)588 2874 A
(\(vc\))168 3504 A
(failed"\);)378 3714 A
5310 V
(27789)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
5400 V
(27790)210 648 A
(continue;)378 2706 A
5490 V
(27791)210 648 A
2370(})S
5580 V
(27792)210 648 A
2370(if)S
(\(connect\(s,)462 2496 A
5670 V
(27793)210 648 A
(\(struct)294 2538 A
(sockaddr)336 2874 A
(*\)&\(_res.nsaddr_list[ns]\),)1092 3252 A
5760 V
(27794)210 648 A
(sizeof\(struct)546 2538 A
(sockaddr\)\))420 3126 A
3588(<)S
3672(0\))S
3798({)S
5850 V
(27795)210 648 A
(terrno)252 2706 A
3000(=)S
(errno;)252 3084 A
5940 V
(27796)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
6030 V
(27797)210 648 A
2706(if)S
(\(_res.options)546 2832 A
3420(&)S
(RES_DEBUG\))420 3504 A
6120 V
(27798)210 648 A
(perror\("connect)630 2874 A
(failed"\);)378 3546 A
6210 V
(27799)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
8418 V
EP
%%Page: 266 266
BP
/slant 0 def
/height 0 def
630 V
12 B
(266)180 648 A
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(27800)210 648 A
(\(void\))252 2706 A
(close\(s\);)378 3000 A
990 V
(27801)210 648 A
2706(s)S
2790(=)S
(-1;)126 2874 A
1080 V
(27802)210 648 A
(continue;)378 2706 A
1170 V
(27803)210 648 A
2370(})S
1260 V
(27804)210 648 A
2034(})S
1350 V
(27805)210 648 A
2034(/*)S
1440 V
(27806)210 648 A
2076(*)S
(Send)168 2160 A
(length)252 2370 A
2664(&)S
(message)294 2748 A
1530 V
(27807)210 648 A
2076(*/)S
1620 V
(27808)210 648 A
(len)126 2034 A
2202(=)S
(htons\(\(u_short\)buflen\);)966 2286 A
1710 V
(27809)210 648 A
(iov[0].iov_base)630 2034 A
2706(=)S
(\(caddr_t\)&len;)588 2790 A
1800 V
(27810)210 648 A
(iov[0].iov_len)588 2034 A
2664(=)S
(sizeof\(len\);)504 2748 A
1890 V
(27811)210 648 A
(iov[1].iov_base)630 2034 A
2706(=)S
(\(char)210 2790 A
(*\)buf;)252 3042 A
1980 V
(27812)210 648 A
(iov[1].iov_len)588 2034 A
2664(=)S
(buflen;)294 2748 A
2070 V
(27813)210 648 A
2034(if)S
(\(writev\(s,)420 2160 A
(iov,)168 2622 A
2832(2\))S
2958(!=)S
(sizeof\(len\))462 3084 A
3588(+)S
(buflen\))294 3672 A
4008({)S
2160 V
(27814)210 648 A
(terrno)252 2370 A
2664(=)S
(errno;)252 2748 A
2250 V
(27815)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2340 V
(27816)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
2430 V
(27817)210 648 A
(perror\("write)546 2706 A
(failed"\);)378 3294 A
2520 V
(27818)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
2610 V
(27819)210 648 A
(\(void\))252 2370 A
(close\(s\);)378 2664 A
2700 V
(27820)210 648 A
2370(s)S
2454(=)S
(-1;)126 2538 A
2790 V
(27821)210 648 A
(continue;)378 2370 A
2880 V
(27822)210 648 A
2034(})S
2970 V
(27823)210 648 A
2034(/*)S
3060 V
(27824)210 648 A
2076(*)S
(Receive)294 2160 A
(length)252 2496 A
2790(&)S
(response)336 2874 A
3150 V
(27825)210 648 A
2076(*/)S
3240 V
(27826)210 648 A
2034(cp)S
2160(=)S
(answer;)294 2244 A
3330 V
(27827)210 648 A
(len)126 2034 A
2202(=)S
(sizeof\(short\);)588 2286 A
3420 V
(27828)210 648 A
(while)210 2034 A
(\(len)168 2286 A
2496(!=)S
2622(0)S
2706(&&)S
3510 V
(27829)210 648 A
2202(\(n)S
2328(=)S
(read\(s,)294 2412 A
(\(char)210 2748 A
(*\)cp,)210 3000 A
(\(int\)len\)\))420 3252 A
3714(>)S
3798(0\))S
3924({)S
3600 V
(27830)210 648 A
2370(cp)S
2496(+=)S
2622(n;)S
3690 V
(27831)210 648 A
(len)126 2370 A
2538(-=)S
2664(n;)S
3780 V
(27832)210 648 A
2034(})S
3870 V
(27833)210 648 A
2034(if)S
2160(\(n)S
2286(<=)S
2412(0\))S
2538({)S
3960 V
(27834)210 648 A
(terrno)252 2370 A
2664(=)S
(errno;)252 2748 A
4050 V
(27835)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4140 V
(27836)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
4230 V
(27837)210 648 A
(perror\("read)504 2706 A
(failed"\);)378 3252 A
4320 V
(27838)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
4410 V
(27839)210 648 A
(\(void\))252 2370 A
(close\(s\);)378 2664 A
4500 V
(27840)210 648 A
2370(s)S
2454(=)S
(-1;)126 2538 A
4590 V
(27841)210 648 A
2370(/*)S
4680 V
(27842)210 648 A
2412(*)S
2496(A)S
(long)168 2580 A
(running)294 2790 A
(process)294 3126 A
(might)210 3462 A
(get)126 3714 A
(its)126 3882 A
(TCP)126 4050 A
4770 V
(27843)210 648 A
2412(*)S
(connection)420 2496 A
(reset)210 2958 A
3210(if)S
(the)126 3336 A
(remote)252 3504 A
(server)252 3798 A
(was)126 4092 A
4860 V
(27844)210 648 A
2412(*)S
(restarted.)420 2496 A
(Requery)294 3000 A
(the)126 3336 A
(server)252 3504 A
(instead)294 3798 A
4134(of)S
4950 V
(27845)210 648 A
2412(*)S
(trying)252 2496 A
2790(a)S
(new)126 2874 A
(one.)168 3042 A
(When)168 3294 A
(there)210 3504 A
3756(is)S
(only)168 3882 A
(one)126 4092 A
5040 V
(27846)210 648 A
2412(*)S
(server,)294 2496 A
(this)168 2832 A
(means)210 3042 A
(that)168 3294 A
3504(a)S
(query)210 3588 A
(might)210 3840 A
(work)168 4092 A
5130 V
(27847)210 648 A
2412(*)S
(instead)294 2496 A
2832(of)S
(failing.)336 2958 A
3378(We)S
(only)168 3504 A
(allow)210 3714 A
(one)126 3966 A
(reset)210 4134 A
5220 V
(27848)210 648 A
2412(*)S
(per)126 2496 A
(query)210 2664 A
2916(to)S
(prevent)294 3042 A
(looping.)336 3378 A
5310 V
(27849)210 648 A
2412(*/)S
5400 V
(27850)210 648 A
2370(if)S
(\(terrno)294 2496 A
2832(==)S
(ECONNRESET)420 2958 A
3420(&&)S
(!connreset\))462 3546 A
4050({)S
5490 V
(27851)210 648 A
(connreset)378 2706 A
3126(=)S
3210(1;)S
5580 V
(27852)210 648 A
(ns--;)210 2706 A
5670 V
(27853)210 648 A
2370(})S
5760 V
(27854)210 648 A
(continue;)378 2370 A
5850 V
(27855)210 648 A
2034(})S
5940 V
(27856)210 648 A
2034(cp)S
2160(=)S
(answer;)294 2244 A
6030 V
(27857)210 648 A
2034(if)S
(\(\(resplen)378 2160 A
2580(=)S
(ntohs\(*\(u_short)630 2664 A
(*\)cp\)\))252 3336 A
3630(>)S
(anslen\))294 3714 A
4050({)S
6120 V
(27858)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
6210 V
(27859)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
8418 V
EP
%%Page: 267 267
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(267)180 4248 A
900 V
7 LST
(27860)210 648 A
(fprintf\(stderr,)630 2706 A
("response)378 3378 A
(truncated\\n"\);)588 3798 A
990 V
(27861)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1080 V
(27862)210 648 A
(len)126 2370 A
2538(=)S
(anslen;)294 2622 A
1170 V
(27863)210 648 A
(truncated)378 2370 A
2790(=)S
2874(1;)S
1260 V
(27864)210 648 A
2034(})S
(else)168 2118 A
1350 V
(27865)210 648 A
(len)126 2370 A
2538(=)S
(resplen;)336 2622 A
1440 V
(27866)210 648 A
(while)210 2034 A
(\(len)168 2286 A
2496(!=)S
2622(0)S
2706(&&)S
1530 V
(27867)210 648 A
2160(\(n)S
2286(=)S
(read\(s,)294 2370 A
(\(char)210 2706 A
(*\)cp,)210 2958 A
(\(int\)len\)\))420 3210 A
3672(>)S
3756(0\))S
3882({)S
1620 V
(27868)210 648 A
2370(cp)S
2496(+=)S
2622(n;)S
1710 V
(27869)210 648 A
(len)126 2370 A
2538(-=)S
2664(n;)S
1800 V
(27870)210 648 A
2034(})S
1890 V
(27871)210 648 A
2034(if)S
2160(\(n)S
2286(<=)S
2412(0\))S
2538({)S
1980 V
(27872)210 648 A
(terrno)252 2370 A
2664(=)S
(errno;)252 2748 A
2070 V
(27873)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2160 V
(27874)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
2250 V
(27875)210 648 A
(perror\("read)504 2706 A
(failed"\);)378 3252 A
2340 V
(27876)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
2430 V
(27877)210 648 A
(\(void\))252 2370 A
(close\(s\);)378 2664 A
2520 V
(27878)210 648 A
2370(s)S
2454(=)S
(-1;)126 2538 A
2610 V
(27879)210 648 A
(continue;)378 2370 A
2700 V
(27880)210 648 A
2034(})S
2790 V
(27881)210 648 A
2034(if)S
(\(truncated\))462 2160 A
2664({)S
2880 V
(27882)210 648 A
2370(/*)S
2970 V
(27883)210 648 A
2412(*)S
(Flush)210 2496 A
(rest)168 2748 A
2958(of)S
(answer)252 3084 A
3060 V
(27884)210 648 A
2412(*)S
2496(so)S
(connection)420 2622 A
(stays)210 3084 A
3336(in)S
(synch.)252 3462 A
3150 V
(27885)210 648 A
2412(*/)S
3240 V
(27886)210 648 A
(anhp->tc)336 2370 A
2748(=)S
2832(1;)S
3330 V
(27887)210 648 A
(len)126 2370 A
2538(=)S
(resplen)294 2622 A
2958(-)S
(anslen;)294 3042 A
3420 V
(27888)210 648 A
(while)210 2370 A
(\(len)168 2622 A
2832(!=)S
2958(0\))S
3084({)S
3510 V
(27889)210 648 A
2706(n)S
2790(=)S
(\(len)168 2874 A
3084(>)S
(sizeof\(junk\))504 3168 A
3714(?)S
3600 V
(27890)210 648 A
(sizeof\(junk\))504 2874 A
3420(:)S
(len\);)210 3504 A
3690 V
(27891)210 648 A
2706(if)S
(\(\(n)126 2832 A
3000(=)S
(read\(s,)294 3084 A
(junk,)210 3420 A
(n\)\))126 3672 A
3840(>)S
3924(0\))S
3780 V
(27892)210 648 A
(len)126 3042 A
3210(-=)S
3336(n;)S
3870 V
(27893)210 648 A
(else)168 2706 A
3960 V
(27894)210 648 A
(break;)252 3042 A
4050 V
(27895)210 648 A
2370(})S
4140 V
(27896)210 648 A
2034(})S
4230 V
(27897)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
4320 V
(27898)210 648 A
(int)126 2034 A
(truncated)378 2202 A
2622(=)S
2706(0;)S
4410 V
(27899)210 648 A
(int)126 2034 A
(nbytes;)294 2202 A
4500 V
(27900)210 648 A
4590 V
(27901)210 648 A
2034(/*)S
4680 V
(27902)210 648 A
2076(*)S
(Use)126 2160 A
(virtual)294 2328 A
(circuit;)336 2664 A
4770 V
(27903)210 648 A
2076(*)S
2160(at)S
(most)168 2286 A
(one)126 2496 A
(attempt)294 2664 A
(per)126 3000 A
(server.)294 3168 A
4860 V
(27904)210 648 A
2076(*/)S
4950 V
(27905)210 648 A
(try)126 2034 A
2202(=)S
(_res.retry;)462 2286 A
5040 V
(27906)210 648 A
2034(if)S
2160(\(s)S
2286(<)S
2370(0\))S
5130 V
(27907)210 648 A
2034({)S
5220 V
(27908)210 648 A
2370(s=)S
(tcp_connect\(_res.nsaddr_list[ns],)1386 2496 A
5310 V
(27909)210 648 A
(_res.nsport_list[ns],)882 2706 A
(&terrno\);)378 3630 A
5400 V
(27910)210 648 A
2370(if)S
2496(\(s)S
2622(==)S
(-1\))126 2748 A
5490 V
(27911)210 648 A
(continue;)378 2706 A
5580 V
(27912)210 648 A
2034(})S
5670 V
(27913)210 648 A
2034(/*)S
5760 V
(27914)210 648 A
2076(*)S
(Send)168 2160 A
(length)252 2370 A
2664(&)S
(message)294 2748 A
5850 V
(27915)210 648 A
2076(*/)S
5940 V
(27916)210 648 A
(len)126 2034 A
2202(=)S
(htons\(\(u_short\)buflen\);)966 2286 A
6030 V
(27917)210 648 A
(nbytes=)294 2034 A
(tcpip_writeall\(s,)714 2370 A
(\(char)210 3126 A
(*\)&len,)294 3378 A
6120 V
(27918)210 648 A
(sizeof\(len\)\);)546 2370 A
6210 V
(27919)210 648 A
2034(if)S
(\(nbytes)294 2160 A
2496(!=)S
(sizeof\(len\)\))504 2622 A
8418 V
EP
%%Page: 268 268
BP
/slant 0 def
/height 0 def
630 V
12 B
(268)180 648 A
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(27920)210 648 A
2034({)S
990 V
(27921)210 648 A
(terrno=)294 2370 A
(errno;)252 2706 A
1080 V
(27922)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1170 V
(27923)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
1260 V
(27924)210 648 A
(fprintf\(stderr,)630 2706 A
("write)252 3378 A
(failed:)294 3672 A
(%s\\n",)252 4008 A
1350 V
(27925)210 648 A
(strerror\(terrno\)\);)756 2706 A
1440 V
(27926)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1530 V
(27927)210 648 A
(close\(s\);)378 2370 A
1620 V
(27928)210 648 A
2370(s=)S
(-1;)126 2496 A
1710 V
(27929)210 648 A
(continue;)378 2370 A
1800 V
(27930)210 648 A
2034(})S
1890 V
(27931)210 648 A
(nbytes=)294 2034 A
(tcpip_writeall\(s,)714 2370 A
(buf,)168 3126 A
(buflen\);)336 3336 A
1980 V
(27932)210 648 A
2034(if)S
(\(nbytes)294 2160 A
2496(!=)S
(buflen\))294 2622 A
2070 V
(27933)210 648 A
2034({)S
2160 V
(27934)210 648 A
(terrno=)294 2370 A
(errno;)252 2706 A
2250 V
(27935)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2340 V
(27936)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
2430 V
(27937)210 648 A
(fprintf\(stderr,)630 2706 A
("write)252 3378 A
(failed:)294 3672 A
(%s\\n",)252 4008 A
2520 V
(27938)210 648 A
(strerror\(terrno\)\);)756 2706 A
2610 V
(27939)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
2700 V
(27940)210 648 A
(close\(s\);)378 2370 A
2790 V
(27941)210 648 A
2370(s=)S
(-1;)126 2496 A
2880 V
(27942)210 648 A
(continue;)378 2370 A
2970 V
(27943)210 648 A
2034(})S
3060 V
(27944)210 648 A
2034(/*)S
3150 V
(27945)210 648 A
2076(*)S
(Receive)294 2160 A
(length)252 2496 A
2790(&)S
(response)336 2874 A
3240 V
(27946)210 648 A
2076(*/)S
3330 V
(27947)210 648 A
2034(cp)S
2160(=)S
(answer;)294 2244 A
3420 V
(27948)210 648 A
(len)126 2034 A
2202(=)S
(sizeof\(short\);)588 2286 A
3510 V
(27949)210 648 A
(while)210 2034 A
(\(len)168 2286 A
2496(!=)S
2622(0\))S
3600 V
(27950)210 648 A
2034({)S
3690 V
(27951)210 648 A
2370(n)S
2454(=)S
(read\(s,)294 2538 A
(\(char)210 2874 A
(*\)cp,)210 3126 A
(\(int\)len\);)420 3378 A
3780 V
(27952)210 648 A
2370(if)S
2496(\(n)S
2622(<=)S
2748(0\))S
3870 V
(27953)210 648 A
(break;)252 2706 A
3960 V
(27954)210 648 A
2370(cp)S
2496(+=)S
2622(n;)S
4050 V
(27955)210 648 A
(assert\(len)420 2370 A
2832(>=)S
(n\);)126 2958 A
4140 V
(27956)210 648 A
(len)126 2370 A
2538(-=)S
2664(n;)S
4230 V
(27957)210 648 A
2034(})S
4320 V
(27958)210 648 A
2034(if)S
(\(len\))210 2160 A
2412({)S
4410 V
(27959)210 648 A
(terrno)252 2370 A
2664(=)S
(errno;)252 2748 A
4500 V
(27960)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4590 V
(27961)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
4680 V
(27962)210 648 A
(fprintf\(stderr,)630 2706 A
("read)210 3378 A
(failed:)294 3630 A
(%s\\n",)252 3966 A
4770 V
(27963)210 648 A
(strerror\(terrno\)\);)756 3042 A
4860 V
(27964)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
4950 V
(27965)210 648 A
(close\(s\);)378 2370 A
5040 V
(27966)210 648 A
2370(s=)S
(-1;)126 2496 A
5130 V
(27967)210 648 A
2370(/*)S
5220 V
(27968)210 648 A
2412(*)S
2496(A)S
(long)168 2580 A
(running)294 2790 A
(process)294 3126 A
(might)210 3462 A
(get)126 3714 A
(its)126 3882 A
(TCP)126 4050 A
5310 V
(27969)210 648 A
2412(*)S
(connection)420 2496 A
(reset)210 2958 A
3210(if)S
(the)126 3336 A
(remote)252 3504 A
(server)252 3798 A
(was)126 4092 A
5400 V
(27970)210 648 A
2412(*)S
(restarted.)420 2496 A
(Requery)294 3000 A
(the)126 3336 A
(server)252 3504 A
(instead)294 3798 A
4134(of)S
5490 V
(27971)210 648 A
2412(*)S
(trying)252 2496 A
2790(a)S
(new)126 2874 A
(one.)168 3042 A
(When)168 3294 A
(there)210 3504 A
3756(is)S
(only)168 3882 A
(one)126 4092 A
5580 V
(27972)210 648 A
2412(*)S
(server,)294 2496 A
(this)168 2832 A
(means)210 3042 A
(that)168 3294 A
3504(a)S
(query)210 3588 A
(might)210 3840 A
(work)168 4092 A
5670 V
(27973)210 648 A
2412(*)S
(instead)294 2496 A
2832(of)S
(failing.)336 2958 A
3378(We)S
(only)168 3504 A
(allow)210 3714 A
(one)126 3966 A
(reset)210 4134 A
5760 V
(27974)210 648 A
2412(*)S
(per)126 2496 A
(query)210 2664 A
2916(to)S
(prevent)294 3042 A
(looping.)336 3378 A
5850 V
(27975)210 648 A
2412(*/)S
5940 V
(27976)210 648 A
2370(if)S
(\(terrno)294 2496 A
2832(==)S
(ECONNRESET)420 2958 A
3420(&&)S
(!connreset\))462 3546 A
4050({)S
6030 V
(27977)210 648 A
(connreset)378 2706 A
3126(=)S
3210(1;)S
6120 V
(27978)210 648 A
(ns--;)210 2706 A
6210 V
(27979)210 648 A
2370(})S
8418 V
EP
%%Page: 269 269
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(269)180 4248 A
900 V
7 LST
(27980)210 648 A
(continue;)378 2370 A
990 V
(27981)210 648 A
2034(})S
1080 V
(27982)210 648 A
2034(cp)S
2160(=)S
(answer;)294 2244 A
1170 V
(27983)210 648 A
2034(if)S
(\(\(resplen)378 2160 A
2580(=)S
(ntohs\(*\(u_short)630 2664 A
(*\)cp\)\))252 3336 A
3630(>)S
(anslen\))294 3714 A
4050({)S
1260 V
(27984)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1350 V
(27985)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
1440 V
(27986)210 648 A
(fprintf\(stderr,)630 2706 A
("response)378 3378 A
(truncated\\n"\);)588 3798 A
1530 V
(27987)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1620 V
(27988)210 648 A
(len)126 2370 A
2538(=)S
(anslen;)294 2622 A
1710 V
(27989)210 648 A
(truncated)378 2370 A
2790(=)S
2874(1;)S
1800 V
(27990)210 648 A
2034(})S
(else)168 2118 A
1890 V
(27991)210 648 A
(len)126 2370 A
2538(=)S
(resplen;)336 2622 A
1980 V
(27992)210 648 A
(while)210 2034 A
(\(len)168 2286 A
2496(!=)S
2622(0\))S
2070 V
(27993)210 648 A
2034({)S
2160 V
(27994)210 648 A
2370(n=)S
(read\(s,)294 2496 A
(\(char)210 2832 A
(*\)cp,)210 3084 A
(\(int\)len\);)420 3336 A
2250 V
(27995)210 648 A
2370(if)S
2496(\(n)S
2622(<=)S
2748(0\))S
2340 V
(27996)210 648 A
(break;)252 2706 A
2430 V
(27997)210 648 A
2370(cp)S
2496(+=)S
2622(n;)S
2520 V
(27998)210 648 A
(assert\(len)420 2370 A
2832(>=)S
(n\);)126 2958 A
2610 V
(27999)210 648 A
(len)126 2370 A
2538(-=)S
2664(n;)S
2700 V
(28000)210 648 A
2034(})S
2790 V
(28001)210 648 A
2034(if)S
(\(len\))210 2160 A
2412({)S
2880 V
(28002)210 648 A
(terrno)252 2370 A
2664(=)S
(errno;)252 2748 A
2970 V
(28003)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
3060 V
(28004)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
3150 V
(28005)210 648 A
(fprintf\(stderr,)630 2706 A
("read)210 3378 A
(failed:)294 3630 A
(%s\\n",)252 3966 A
3240 V
(28006)210 648 A
(strerror\(terrno\)\);)756 3042 A
3330 V
(28007)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
3420 V
(28008)210 648 A
(close\(s\);)378 2370 A
3510 V
(28009)210 648 A
2370(s=)S
(-1;)126 2496 A
3600 V
(28010)210 648 A
(continue;)378 2370 A
3690 V
(28011)210 648 A
2034(})S
3780 V
(28012)210 648 A
2034(if)S
(\(truncated\))462 2160 A
2664({)S
3870 V
(28013)210 648 A
2370(/*)S
3960 V
(28014)210 648 A
2412(*)S
(Flush)210 2496 A
(rest)168 2748 A
2958(of)S
(answer)252 3084 A
4050 V
(28015)210 648 A
2412(*)S
2496(so)S
(connection)420 2622 A
(stays)210 3084 A
3336(in)S
(synch.)252 3462 A
4140 V
(28016)210 648 A
2412(*/)S
4230 V
(28017)210 648 A
(anhp->dh_flag1)588 2370 A
3000(|=)S
(DHF_TC;)294 3126 A
4320 V
(28018)210 648 A
(len)126 2370 A
2538(=)S
(resplen)294 2622 A
2958(-)S
(anslen;)294 3042 A
4410 V
(28019)210 648 A
(while)210 2370 A
(\(len)168 2622 A
2832(!=)S
2958(0\))S
3084({)S
4500 V
(28020)210 648 A
2706(n)S
2790(=)S
(\(len)168 2874 A
3084(>)S
(sizeof\(junk\))504 3168 A
3714(?)S
4590 V
(28021)210 648 A
(sizeof\(junk\))504 2874 A
3420(:)S
(len\);)210 3504 A
4680 V
(28022)210 648 A
2706(n)S
2790(=)S
(read\(s,)294 2874 A
(junk,)210 3210 A
(n\);)126 3462 A
4770 V
(28023)210 648 A
2706(if)S
2832(\(n)S
2958(<=)S
3084(0\))S
4860 V
(28024)210 648 A
2706({)S
4950 V
(28025)210 648 A
(assert\(len)420 3042 A
3504(>=)S
(n\);)126 3630 A
5040 V
(28026)210 648 A
(len)126 3042 A
3210(-=)S
3336(n;)S
5130 V
(28027)210 648 A
2706(})S
5220 V
(28028)210 648 A
(else)168 2706 A
5310 V
(28029)210 648 A
(break;)252 3042 A
5400 V
(28030)210 648 A
2370(})S
5490 V
(28031)210 648 A
2034(})S
5580 V
(28032)210 648 A
(#endif)252 1026 A
1320(/*)S
(_MINIX)252 1446 A
1740(*/)S
5670 V
(28033)210 648 A
1698(})S
(else)168 1782 A
1992({)S
5760 V
(28034)210 648 A
(#if)126 1026 A
(!_MINIX)294 1194 A
5850 V
(28035)210 648 A
2034(/*)S
5940 V
(28036)210 648 A
2076(*)S
(Use)126 2160 A
(datagrams.)420 2328 A
6030 V
(28037)210 648 A
2076(*/)S
6120 V
(28038)210 648 A
2034(if)S
2160(\(s)S
2286(<)S
2370(0\))S
2496({)S
6210 V
(28039)210 648 A
2370(s)S
2454(=)S
(socket\(AF_INET,)630 2538 A
(SOCK_DGRAM,)462 3210 A
(0\);)126 3714 A
8418 V
EP
%%Page: 270 270
BP
/slant 0 def
/height 0 def
630 V
12 B
(270)180 648 A
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(28040)210 648 A
2370(if)S
2496(\(s)S
2622(<)S
2706(0\))S
2832({)S
990 V
(28041)210 648 A
(terrno)252 2706 A
3000(=)S
(errno;)252 3084 A
1080 V
(28042)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1170 V
(28043)210 648 A
2706(if)S
(\(_res.options)546 2832 A
3420(&)S
(RES_DEBUG\))420 3504 A
1260 V
(28044)210 648 A
(perror\("socket)588 2874 A
(\(dg\))168 3504 A
(failed"\);)378 3714 A
1350 V
(28045)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1440 V
(28046)210 648 A
(continue;)378 2706 A
1530 V
(28047)210 648 A
2370(})S
1620 V
(28048)210 648 A
2034(})S
1710 V
(28049)210 648 A
(#if)126 1026 A
(BSD)126 1362 A
1530(>=)S
1656(43)S
1800 V
(28050)210 648 A
2034(/*)S
1890 V
(28051)210 648 A
2076(*)S
(I'm)126 2160 A
(tired)210 2328 A
2580(of)S
(answering)378 2706 A
(this)168 3126 A
(question,)378 3336 A
(so:)126 3756 A
1980 V
(28052)210 648 A
2076(*)S
2160(On)S
2286(a)S
(4.3BSD+)294 2370 A
(machine)294 2706 A
(\(client)294 3042 A
(and)126 3378 A
(server,)294 3546 A
2070 V
(28053)210 648 A
2076(*)S
(actually\),)420 2160 A
(sending)294 2622 A
2958(to)S
3084(a)S
(nameserver)420 3168 A
(datagram)336 3630 A
2160 V
(28054)210 648 A
2076(*)S
(port)168 2160 A
(with)168 2370 A
2580(no)S
(nameserver)420 2706 A
(will)168 3168 A
(cause)210 3378 A
3630(an)S
2250 V
(28055)210 648 A
2076(*)S
(ICMP)168 2160 A
(port)168 2370 A
(unreachable)462 2580 A
(message)294 3084 A
3420(to)S
3546(be)S
(returned.)378 3672 A
2340 V
(28056)210 648 A
2076(*)S
2160(If)S
(our)126 2286 A
(datagram)336 2454 A
(socket)252 2832 A
3126(is)S
("connected")462 3252 A
3756(to)S
(the)126 3882 A
2430 V
(28057)210 648 A
2076(*)S
(server,)294 2160 A
2496(we)S
(get)126 2622 A
2790(an)S
(ECONNREFUSED)504 2916 A
(error)210 3462 A
3714(on)S
(the)126 3840 A
(next)168 4008 A
2520 V
(28058)210 648 A
2076(*)S
(socket)252 2160 A
(operation,)420 2454 A
(and)126 2916 A
(select)252 3084 A
(returns)294 3378 A
3714(if)S
(the)126 3840 A
2610 V
(28059)210 648 A
2076(*)S
(error)210 2160 A
(message)294 2412 A
2748(is)S
(received.)378 2874 A
3336(We)S
(can)126 3462 A
(thus)168 3630 A
(detect)252 3840 A
2700 V
(28060)210 648 A
2076(*)S
(the)126 2160 A
(absence)294 2328 A
2664(of)S
2790(a)S
(nameserver)420 2874 A
(without)294 3336 A
(timing)252 3672 A
(out.)168 3966 A
2790 V
(28061)210 648 A
2076(*)S
2160(If)S
2286(we)S
(have)168 2412 A
(sent)168 2622 A
(queries)294 2832 A
3168(to)S
3294(at)S
(least)210 3420 A
(two)126 3672 A
(servers,)336 3840 A
2880 V
(28062)210 648 A
2076(*)S
(however,)336 2160 A
2538(we)S
(don't)210 2664 A
(want)168 2916 A
3126(to)S
(remain)252 3252 A
(connected,)420 3546 A
2970 V
(28063)210 648 A
2076(*)S
2160(as)S
2286(we)S
(wish)168 2412 A
2622(to)S
(receive)294 2748 A
(answers)294 3084 A
(from)168 3420 A
(the)126 3630 A
(first)210 3798 A
3060 V
(28064)210 648 A
2076(*)S
(server)252 2160 A
2454(to)S
(respond.)336 2580 A
3150 V
(28065)210 648 A
2076(*/)S
3240 V
(28066)210 648 A
2034(if)S
(\(_res.nscount)546 2160 A
2748(==)S
2874(1)S
2958(||)S
(\(try)168 3084 A
3294(==)S
3420(0)S
3504(&&)S
3630(ns)S
3756(==)S
(0\)\))126 3882 A
4050({)S
3330 V
(28067)210 648 A
2370(/*)S
3420 V
(28068)210 648 A
2412(*)S
(Don't)210 2496 A
(use)126 2748 A
(connect)294 2916 A
3252(if)S
3378(we)S
(might)210 3504 A
3510 V
(28069)210 648 A
2412(*)S
(still)210 2496 A
(receive)294 2748 A
3084(a)S
(response)336 3168 A
3600 V
(28070)210 648 A
2412(*)S
(from)168 2496 A
(another)294 2706 A
(server.)294 3042 A
3690 V
(28071)210 648 A
2412(*/)S
3780 V
(28072)210 648 A
2370(if)S
(\(connected)420 2496 A
2958(==)S
3084(0\))S
3210({)S
3870 V
(28073)210 648 A
2034(if)S
(\(connect\(s,)462 2160 A
(\(struct)294 2664 A
(sockaddr)336 3000 A
(*\)&_res.nsaddr_list[ns],)1008 3378 A
3960 V
(28074)210 648 A
(sizeof\(struct)546 2874 A
(sockaddr\)\))420 3462 A
3924(<)S
4008(0\))S
4134({)S
4050 V
(28075)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4140 V
(28076)210 648 A
3042(if)S
(\(_res.options)546 3168 A
3756(&)S
(RES_DEBUG\))420 3840 A
4230 V
(28077)210 648 A
(perror\("connect"\);)756 3378 A
4320 V
(28078)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
4410 V
(28079)210 648 A
(continue;)378 3042 A
4500 V
(28080)210 648 A
2706(})S
4590 V
(28081)210 648 A
(connected)378 2706 A
3126(=)S
3210(1;)S
4680 V
(28082)210 648 A
2370(})S
4770 V
(28083)210 648 A
2370(if)S
(\(send\(s,)336 2496 A
(buf,)168 2874 A
(buflen,)294 3084 A
3420(0\))S
3546(!=)S
(buflen\))294 3672 A
4008({)S
4860 V
(28084)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4950 V
(28085)210 648 A
2706(if)S
(\(_res.options)546 2832 A
3420(&)S
(RES_DEBUG\))420 3504 A
5040 V
(28086)210 648 A
(perror\("send"\);)630 3042 A
5130 V
(28087)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
5220 V
(28088)210 648 A
(continue;)378 2706 A
5310 V
(28089)210 648 A
2370(})S
5400 V
(28090)210 648 A
2034(})S
(else)168 2118 A
2328({)S
5490 V
(28091)210 648 A
2370(/*)S
5580 V
(28092)210 648 A
2412(*)S
(Disconnect)420 2496 A
2958(if)S
3084(we)S
(want)168 3210 A
3420(to)S
(listen)252 3546 A
5670 V
(28093)210 648 A
2412(*)S
(for)126 2496 A
(responses)378 2664 A
(from)168 3084 A
(more)168 3294 A
(than)168 3504 A
(one)126 3714 A
(server.)294 3882 A
5760 V
(28094)210 648 A
2412(*/)S
5850 V
(28095)210 648 A
2370(if)S
(\(connected\))462 2496 A
3000({)S
5940 V
(28096)210 648 A
(\(void\))252 2706 A
(connect\(s,)420 3000 A
(&no_addr,)378 3462 A
6030 V
(28097)210 648 A
(sizeof\(no_addr\)\);)714 2874 A
6120 V
(28098)210 648 A
(connected)378 2706 A
3126(=)S
3210(0;)S
6210 V
(28099)210 648 A
2370(})S
8418 V
EP
%%Page: 271 271
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(271)180 4248 A
900 V
7 LST
(28100)210 648 A
(#endif)252 1026 A
1320(/*)S
(BSD)126 1446 A
1614(*/)S
990 V
(28101)210 648 A
2370(if)S
(\(sendto\(s,)420 2496 A
(buf,)168 2958 A
(buflen,)294 3168 A
3504(0,)S
1080 V
(28102)210 648 A
(\(struct)294 2538 A
(sockaddr)336 2874 A
(*\)&_res.nsaddr_list[ns],)1008 3252 A
1170 V
(28103)210 648 A
(sizeof\(struct)546 2538 A
(sockaddr\)\))420 3126 A
3588(!=)S
(buflen\))294 3714 A
4050({)S
1260 V
(28104)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1350 V
(28105)210 648 A
2706(if)S
(\(_res.options)546 2832 A
3420(&)S
(RES_DEBUG\))420 3504 A
1440 V
(28106)210 648 A
(perror\("sendto"\);)714 3042 A
1530 V
(28107)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1620 V
(28108)210 648 A
(continue;)378 2706 A
1710 V
(28109)210 648 A
2370(})S
1800 V
(28110)210 648 A
(#if)126 1026 A
(BSD)126 1362 A
1530(>=)S
1656(43)S
1890 V
(28111)210 648 A
2034(})S
1980 V
(28112)210 648 A
(#endif)252 1026 A
1320(/*)S
(BSD)126 1446 A
1614(*/)S
2070 V
(28113)210 648 A
2160 V
(28114)210 648 A
2034(/*)S
2250 V
(28115)210 648 A
2076(*)S
(Wait)168 2160 A
(for)126 2370 A
(reply)210 2538 A
2340 V
(28116)210 648 A
2076(*/)S
2430 V
(28117)210 648 A
(timeout.tv_sec)588 2034 A
2664(=)S
(\(_res.retrans)546 2748 A
3336(<<)S
(try\);)210 3462 A
2520 V
(28118)210 648 A
2034(if)S
(\(try)168 2160 A
2370(>)S
2454(0\))S
2610 V
(28119)210 648 A
(timeout.tv_sec)588 2370 A
3000(/=)S
(_res.nscount;)546 3126 A
2700 V
(28120)210 648 A
2034(if)S
(\(timeout.tv_sec)630 2160 A
2832(<=)S
2958(0\))S
2790 V
(28121)210 648 A
(timeout.tv_sec)588 2370 A
3000(=)S
3084(1;)S
2880 V
(28122)210 648 A
(timeout.tv_usec)630 2034 A
2706(=)S
2790(0;)S
2970 V
(28123)210 648 A
(wait:)210 1026 A
3060 V
(28124)210 648 A
(FD_ZERO\(&dsmask\);)714 2034 A
3150 V
(28125)210 648 A
(FD_SET\(s,)378 2034 A
(&dsmask\);)378 2454 A
3240 V
(28126)210 648 A
2034(n)S
2118(=)S
(select\(s+1,)462 2202 A
(&dsmask,)336 2706 A
(\(fd_set)294 3084 A
(*\)NULL,)294 3420 A
3330 V
(28127)210 648 A
(\(fd_set)294 2370 A
(*\)NULL,)294 2706 A
(&timeout\);)420 3042 A
3420 V
(28128)210 648 A
2034(if)S
2160(\(n)S
2286(<)S
2370(0\))S
2496({)S
3510 V
(28129)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
3600 V
(28130)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
3690 V
(28131)210 648 A
(perror\("select"\);)714 2706 A
3780 V
(28132)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
3870 V
(28133)210 648 A
(continue;)378 2370 A
3960 V
(28134)210 648 A
2034(})S
4050 V
(28135)210 648 A
2034(if)S
2160(\(n)S
2286(==)S
2412(0\))S
2538({)S
4140 V
(28136)210 648 A
2370(/*)S
4230 V
(28137)210 648 A
2412(*)S
(timeout)294 2496 A
4320 V
(28138)210 648 A
2412(*/)S
4410 V
(28139)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4500 V
(28140)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
4590 V
(28141)210 648 A
(printf\("timeout\\n"\);)840 2706 A
4680 V
(28142)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
4770 V
(28143)210 648 A
(#if)126 1026 A
(BSD)126 1194 A
1362(>=)S
1488(43)S
4860 V
(28144)210 648 A
(gotsomewhere)504 2370 A
2916(=)S
3000(1;)S
4950 V
(28145)210 648 A
(#endif)252 1026 A
5040 V
(28146)210 648 A
(continue;)378 2370 A
5130 V
(28147)210 648 A
2034(})S
5220 V
(28148)210 648 A
2034(if)S
(\(\(resplen)378 2160 A
2580(=)S
(recv\(s,)294 2664 A
(answer,)294 3000 A
(anslen,)294 3336 A
(0\)\))126 3672 A
3840(<=)S
3966(0\))S
4092({)S
5310 V
(28149)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
5400 V
(28150)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
5490 V
(28151)210 648 A
(perror\("recvfrom"\);)798 2706 A
5580 V
(28152)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
5670 V
(28153)210 648 A
(continue;)378 2370 A
5760 V
(28154)210 648 A
2034(})S
5850 V
(28155)210 648 A
(gotsomewhere)504 2034 A
2580(=)S
2664(1;)S
5940 V
(28156)210 648 A
2034(if)S
(\(id)126 2160 A
2328(!=)S
(anhp->id\))378 2454 A
2874({)S
6030 V
(28157)210 648 A
2370(/*)S
6120 V
(28158)210 648 A
2412(*)S
(response)336 2496 A
(from)168 2874 A
(old)126 3084 A
(query,)252 3252 A
(ignore)252 3546 A
3840(it)S
6210 V
(28159)210 648 A
2412(*/)S
8418 V
EP
%%Page: 272 272
BP
/slant 0 def
/height 0 def
630 V
12 B
(272)180 648 A
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(28160)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
990 V
(28161)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
3630({)S
1080 V
(28162)210 648 A
(printf\("old)462 2706 A
(answer:\\n"\);)504 3210 A
1170 V
(28163)210 648 A
(__p_query\(answer\);)756 2706 A
1260 V
(28164)210 648 A
2370(})S
1350 V
(28165)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1440 V
(28166)210 648 A
(goto)168 2370 A
(wait;)210 2580 A
1530 V
(28167)210 648 A
2034(})S
1620 V
(28168)210 648 A
2034(if)S
(\(!\(_res.options)630 2160 A
2832(&)S
(RES_IGNTC\))420 2916 A
3378(&&)S
(anhp->tc\))378 3504 A
3924({)S
1710 V
(28169)210 648 A
2370(/*)S
1800 V
(28170)210 648 A
2412(*)S
(get)126 2496 A
(rest)168 2664 A
2874(of)S
(answer;)294 3000 A
1890 V
(28171)210 648 A
2412(*)S
(use)126 2496 A
(TCP)126 2664 A
(with)168 2832 A
(same)168 3042 A
(server.)294 3252 A
1980 V
(28172)210 648 A
2412(*/)S
2070 V
(28173)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2160 V
(28174)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
2250 V
(28175)210 648 A
(printf\("truncated)714 2706 A
(answer\\n"\);)462 3462 A
2340 V
(28176)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
2430 V
(28177)210 648 A
(\(void\))252 2370 A
(close\(s\);)378 2664 A
2520 V
(28178)210 648 A
2370(s)S
2454(=)S
(-1;)126 2538 A
2610 V
(28179)210 648 A
(v_circuit)378 2370 A
2790(=)S
2874(1;)S
2700 V
(28180)210 648 A
(goto)168 2370 A
(usevc;)252 2580 A
2790 V
(28181)210 648 A
2034(})S
2880 V
(28182)210 648 A
(#else)210 1026 A
1278(/*)S
(_MINIX)252 1404 A
1698(*/)S
2970 V
(28183)210 648 A
2034(/*)S
3060 V
(28184)210 648 A
2076(*)S
(Use)126 2160 A
(datagrams.)420 2328 A
3150 V
(28185)210 648 A
2076(*/)S
3240 V
(28186)210 648 A
2034(if)S
2160(\(s)S
2286(<)S
2370(0\))S
2496({)S
3330 V
(28187)210 648 A
2370(s)S
2454(=)S
(udp_connect\(\);)588 2538 A
3420 V
(28188)210 648 A
2370(if)S
2496(\(s)S
2622(<)S
2706(0\))S
2832({)S
3510 V
(28189)210 648 A
(terrno)252 2706 A
3000(=)S
(errno;)252 3084 A
3600 V
(28190)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
3690 V
(28191)210 648 A
2706(if)S
(\(_res.options)546 2832 A
3420(&)S
(RES_DEBUG\))420 3504 A
3780 V
(28192)210 648 A
(perror\("udp_connect)798 2874 A
(failed"\);)378 3714 A
3870 V
(28193)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
3960 V
(28194)210 648 A
(continue;)378 2706 A
4050 V
(28195)210 648 A
2370(})S
4140 V
(28196)210 648 A
2034(})S
4230 V
(28197)210 648 A
2034(if)S
(\(udp_sendto\(s,)588 2160 A
(buf,)168 2790 A
(buflen,)294 3000 A
(_res.nsaddr_list[ns],)882 3336 A
4320 V
(28198)210 648 A
(_res.nsport_list[ns]\))882 2370 A
3294(!=)S
(buflen\))294 3420 A
3756({)S
4410 V
(28199)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4500 V
(28200)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
4590 V
(28201)210 648 A
(perror\("sendto"\);)714 2706 A
4680 V
(28202)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
4770 V
(28203)210 648 A
(continue;)378 2370 A
4860 V
(28204)210 648 A
2034(})S
4950 V
(28205)210 648 A
5040 V
(28206)210 648 A
2034(/*)S
5130 V
(28207)210 648 A
2076(*)S
(Wait)168 2160 A
(for)126 2370 A
(reply)210 2538 A
5220 V
(28208)210 648 A
2076(*/)S
5310 V
(28209)210 648 A
(timeout=)336 2034 A
(\(_res.retrans)546 2412 A
3000(<<)S
(try\);)210 3126 A
5400 V
(28210)210 648 A
2034(if)S
(\(try)168 2160 A
2370(>)S
2454(0\))S
5490 V
(28211)210 648 A
(timeout)294 2370 A
2706(/=)S
(_res.nscount;)546 2832 A
5580 V
(28212)210 648 A
2034(if)S
(\(timeout)336 2160 A
2538(<=)S
2664(0\))S
5670 V
(28213)210 648 A
(timeout=)336 2370 A
2748(1;)S
5760 V
(28214)210 648 A
(wait:)210 1026 A
5850 V
(28215)210 648 A
2034(if)S
(\(\(resplen=)420 2160 A
(udp_receive\(s,)588 2622 A
(answer,)294 3252 A
(anslen,)294 3588 A
(timeout\)\))378 3924 A
5940 V
(28216)210 648 A
2370(==)S
(-1\))126 2496 A
6030 V
(28217)210 648 A
2034({)S
6120 V
(28218)210 648 A
2370(if)S
(\(errno)252 2496 A
2790(==)S
(EINTR\))252 2916 A
6210 V
(28219)210 648 A
2370({)S
8418 V
EP
%%Page: 273 273
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(273)180 4248 A
900 V
7 LST
(28220)210 648 A
2370(/*)S
990 V
(28221)210 648 A
2412(*)S
(timeout)294 2496 A
1080 V
(28222)210 648 A
2412(*/)S
1170 V
(28223)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1260 V
(28224)210 648 A
2706(if)S
(\(_res.options)546 2832 A
3420(&)S
(RES_DEBUG\))420 3504 A
1350 V
(28225)210 648 A
(printf\("timeout\\n"\);)840 3042 A
1440 V
(28226)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
1530 V
(28227)210 648 A
(gotsomewhere)504 2706 A
3252(=)S
3336(1;)S
1620 V
(28228)210 648 A
2370(})S
1710 V
(28229)210 648 A
(else)168 2370 A
1800 V
(28230)210 648 A
2370({)S
1890 V
(28231)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1980 V
(28232)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
2070 V
(28233)210 648 A
(perror\("udp_receive"\);)924 2706 A
2160 V
(28234)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
2250 V
(28235)210 648 A
2370(})S
2340 V
(28236)210 648 A
(continue;)378 2370 A
2430 V
(28237)210 648 A
2034(})S
2520 V
(28238)210 648 A
(gotsomewhere)504 2034 A
2580(=)S
2664(1;)S
2610 V
(28239)210 648 A
2034(if)S
(\(id)126 2160 A
2328(!=)S
(anhp->dh_id\))504 2454 A
3000({)S
2700 V
(28240)210 648 A
2370(/*)S
2790 V
(28241)210 648 A
2412(*)S
(response)336 2496 A
(from)168 2874 A
(old)126 3084 A
(query,)252 3252 A
(ignore)252 3546 A
3840(it)S
2880 V
(28242)210 648 A
2412(*/)S
2970 V
(28243)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
3060 V
(28244)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
3630({)S
3150 V
(28245)210 648 A
(printf\("old)462 2706 A
(answer:\\n"\);)504 3210 A
3240 V
(28246)210 648 A
(__p_query\(answer\);)756 2706 A
3330 V
(28247)210 648 A
2370(})S
3420 V
(28248)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
3510 V
(28249)210 648 A
(goto)168 2370 A
(wait;)210 2580 A
3600 V
(28250)210 648 A
2034(})S
3690 V
(28251)210 648 A
2034(if)S
(\(!\(_res.options)630 2160 A
2832(&)S
(RES_IGNTC\))420 2916 A
3378(&&)S
3780 V
(28252)210 648 A
(\(anhp->dh_flag1)630 2370 A
3042(&)S
(DHF_TC\)\))336 3126 A
3504({)S
3870 V
(28253)210 648 A
2370(/*)S
3960 V
(28254)210 648 A
2412(*)S
(get)126 2496 A
(rest)168 2664 A
2874(of)S
(answer;)294 3000 A
4050 V
(28255)210 648 A
2412(*)S
(use)126 2496 A
(TCP)126 2664 A
(with)168 2832 A
(same)168 3042 A
(server.)294 3252 A
4140 V
(28256)210 648 A
2412(*/)S
4230 V
(28257)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
4320 V
(28258)210 648 A
2370(if)S
(\(_res.options)546 2496 A
3084(&)S
(RES_DEBUG\))420 3168 A
4410 V
(28259)210 648 A
(printf\("truncated)714 2706 A
(answer\\n"\);)462 3462 A
4500 V
(28260)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
4590 V
(28261)210 648 A
(\(void\))252 2370 A
(close\(s\);)378 2664 A
4680 V
(28262)210 648 A
2370(s)S
2454(=)S
(-1;)126 2538 A
4770 V
(28263)210 648 A
(v_circuit)378 2370 A
2790(=)S
2874(1;)S
4860 V
(28264)210 648 A
(goto)168 2370 A
(usevc;)252 2580 A
4950 V
(28265)210 648 A
2034(})S
5040 V
(28266)210 648 A
(#endif)252 1026 A
1320(/*)S
(!_MINIX)294 1446 A
1782(*/)S
5130 V
(28267)210 648 A
1698(})S
5220 V
(28268)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
5310 V
(28269)210 648 A
1698(if)S
(\(_res.options)546 1824 A
2412(&)S
(RES_DEBUG\))420 2496 A
2958({)S
5400 V
(28270)210 648 A
(printf\("got)462 2034 A
(answer:\\n"\);)504 2538 A
5490 V
(28271)210 648 A
(__p_query\(answer\);)756 2034 A
5580 V
(28272)210 648 A
1698(})S
5670 V
(28273)210 648 A
(#endif)252 1026 A
1320(/*)S
(DEBUG)210 1446 A
1698(*/)S
5760 V
(28274)210 648 A
1698(/*)S
5850 V
(28275)210 648 A
1740(*)S
1824(If)S
(using)210 1950 A
(virtual)294 2202 A
(circuits,)378 2538 A
2958(we)S
(assume)252 3084 A
(that)168 3378 A
(the)126 3588 A
(first)210 3756 A
(server)252 4008 A
5940 V
(28276)210 648 A
1740(*)S
1824(is)S
(preferred)378 1950 A
2370(*)S
(over)168 2454 A
(the)126 2664 A
(rest)168 2832 A
(\(i.e.)210 3042 A
3294(it)S
3420(is)S
3546(on)S
(the)126 3672 A
(local)210 3840 A
6030 V
(28277)210 648 A
1740(*)S
(machine\))336 1824 A
(and)126 2202 A
(only)168 2370 A
(keep)168 2580 A
(that)168 2790 A
(one)126 3000 A
(open.)210 3168 A
6120 V
(28278)210 648 A
1740(*)S
1824(If)S
1950(we)S
(have)168 2076 A
(temporarily)462 2286 A
(opened)252 2790 A
3084(a)S
(virtual)294 3168 A
(circuit,)336 3504 A
6210 V
(28279)210 648 A
1740(*)S
1824(or)S
1950(if)S
2076(we)S
(haven't)294 2202 A
(been)168 2538 A
(asked)210 2748 A
3000(to)S
(keep)168 3126 A
3336(a)S
(socket)252 3420 A
(open,)210 3714 A
8418 V
EP
%%Page: 274 274
BP
/slant 0 def
/height 0 def
630 V
12 B
(274)180 648 A
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(28280)210 648 A
1740(*)S
(close)210 1824 A
(the)126 2076 A
(socket.)294 2244 A
990 V
(28281)210 648 A
1740(*/)S
1080 V
(28282)210 648 A
1698(if)S
(\(\(v_circuit)462 1824 A
2328(&&)S
1170 V
(28283)210 648 A
(\(\(_res.options)588 1866 A
2496(&)S
(RES_USEVC\))420 2580 A
3042(==)S
3168(0)S
3252(||)S
3378(ns)S
3504(!=)S
(0\)\))126 3630 A
3798(||)S
1260 V
(28284)210 648 A
(\(_res.options)546 1866 A
2454(&)S
(RES_STAYOPEN\))546 2538 A
3126(==)S
3252(0\))S
3378({)S
1350 V
(28285)210 648 A
(\(void\))252 2034 A
(close\(s\);)378 2328 A
1440 V
(28286)210 648 A
2034(s)S
2118(=)S
(-1;)126 2202 A
1530 V
(28287)210 648 A
1698(})S
1620 V
(28288)210 648 A
(return)252 1698 A
(\(resplen\);)420 1992 A
1710 V
(28289)210 648 A
1488(})S
1800 V
(28290)210 648 A
1362(})S
1890 V
(28291)210 648 A
1362(if)S
1488(\(s)S
1614(>=)S
1740(0\))S
1866({)S
1980 V
(28292)210 648 A
(\(void\))252 1698 A
(close\(s\);)378 1992 A
2070 V
(28293)210 648 A
1698(s)S
1782(=)S
(-1;)126 1866 A
2160 V
(28294)210 648 A
1362(})S
2250 V
(28295)210 648 A
1362(if)S
(\(v_circuit)420 1488 A
1950(==)S
2076(0\))S
2340 V
(28296)210 648 A
1698(if)S
(\(gotsomewhere)546 1824 A
2412(==)S
2538(0\))S
2430 V
(28297)210 648 A
(errno)210 2034 A
2286(=)S
(ECONNREFUSED;)546 2370 A
3042(/*)S
3168(no)S
(nameservers)462 3294 A
(found)210 3798 A
4050(*/)S
2520 V
(28298)210 648 A
(else)168 1698 A
2610 V
(28299)210 648 A
(errno)210 2034 A
2286(=)S
(ETIMEDOUT;)420 2370 A
3042(/*)S
3168(no)S
(answer)252 3294 A
(obtained)336 3588 A
3966(*/)S
2700 V
(28300)210 648 A
(else)168 1362 A
2790 V
(28301)210 648 A
(errno)210 1698 A
1950(=)S
(terrno;)294 2034 A
2880 V
(28302)210 648 A
(return)252 1362 A
(\(-1\);)210 1656 A
2970 V
(28303)210 648 A
1026(})S
3150 V
(28305)210 648 A
1026(/*)S
3240 V
(28306)210 648 A
1068(*)S
(This)168 1152 A
(routine)294 1362 A
1698(is)S
(for)126 1824 A
(closing)294 1992 A
(the)126 2328 A
(socket)252 2496 A
2790(if)S
2916(a)S
(virtual)294 3000 A
(circuit)294 3336 A
3672(is)S
(used)168 3798 A
(and)126 4008 A
3330 V
(28307)210 648 A
1068(*)S
(the)126 1152 A
(program)294 1320 A
(wants)210 1656 A
1908(to)S
(close)210 2034 A
(it.)126 2286 A
(This)168 2496 A
(provides)336 2706 A
(support)294 3084 A
(for)126 3420 A
(endhostent\(\))504 3588 A
3420 V
(28308)210 648 A
1068(*)S
(which)210 1152 A
(expects)294 1404 A
1740(to)S
(close)210 1866 A
(the)126 2118 A
(socket.)294 2286 A
3510 V
(28309)210 648 A
1068(*)S
3600 V
(28310)210 648 A
1068(*)S
(This)168 1152 A
(routine)294 1362 A
1698(is)S
(not)126 1824 A
(expected)336 1992 A
2370(to)S
2496(be)S
(user)168 2622 A
(visible.)336 2832 A
3690 V
(28311)210 648 A
1068(*/)S
3780 V
(28312)210 648 A
(void)168 1026 A
3870 V
(28313)210 648 A
(_res_close\(\))504 1026 A
3960 V
(28314)210 648 A
1026({)S
4050 V
(28315)210 648 A
1362(if)S
1488(\(s)S
1614(!=)S
(-1\))126 1740 A
1908({)S
4140 V
(28316)210 648 A
(\(void\))252 1698 A
(close\(s\);)378 1992 A
4230 V
(28317)210 648 A
1698(s)S
1782(=)S
(-1;)126 1866 A
4320 V
(28318)210 648 A
1362(})S
4410 V
(28319)210 648 A
1026(})S
4590 V
(28321)210 648 A
(#if)126 1026 A
(_MINIX)252 1194 A
4680 V
(28322)210 648 A
(static)252 1026 A
(int)126 1320 A
(tcp_connect\(host,)714 1488 A
(port,)210 2244 A
(terrno\))294 2496 A
4770 V
(28323)210 648 A
(ipaddr_t)336 1026 A
(host;)210 1404 A
4860 V
(28324)210 648 A
(tcpport_t)378 1026 A
(port;)210 1446 A
4950 V
(28325)210 648 A
(int)126 1026 A
(*terrno;)336 1194 A
5040 V
(28326)210 648 A
1026({)S
5130 V
(28327)210 648 A
(char)168 1362 A
(*dev_name;)420 1572 A
5220 V
(28328)210 648 A
(int)126 1362 A
(fd;)126 1530 A
5310 V
(28329)210 648 A
(int)126 1362 A
(error;)252 1530 A
5400 V
(28330)210 648 A
(nwio_tcpconf_t)588 1362 A
(tcpconf;)336 1992 A
5490 V
(28331)210 648 A
(nwio_tcpcl_t)504 1362 A
(clopt;)252 1908 A
5580 V
(28332)210 648 A
5670 V
(28333)210 648 A
(dev_name=)378 1362 A
(getenv\("TCP_DEVICE"\);)882 1782 A
5760 V
(28334)210 648 A
1362(if)S
(\(!dev_name\))462 1488 A
5850 V
(28335)210 648 A
(dev_name=)378 1698 A
(TCP_DEVICE;)462 2118 A
5940 V
(28336)210 648 A
(fd=)126 1362 A
(open\(dev_name,)588 1530 A
(O_RDWR\);)336 2160 A
6030 V
(28337)210 648 A
1362(if)S
(\(fd)126 1488 A
1656(==)S
(-1\))126 1782 A
6120 V
(28338)210 648 A
1362({)S
6210 V
(28339)210 648 A
(*terrno=)336 1698 A
(errno;)252 2076 A
8418 V
EP
%%Page: 275 275
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(275)180 4248 A
900 V
7 LST
(28340)210 648 A
(return)252 1698 A
(-1;)126 1992 A
990 V
(28341)210 648 A
1362(})S
1080 V
(28342)210 648 A
(tcpconf.nwtc_flags=)798 1362 A
(NWTC_EXCL)378 2202 A
2622(|)S
(NWTC_LP_SEL)462 2706 A
3210(|)S
(NWTC_SET_RA)462 3294 A
3798(|)S
(NWTC_SET_RP;)504 3882 A
1170 V
(28343)210 648 A
(tcpconf.nwtc_remaddr=)882 1362 A
(host;)210 2286 A
1260 V
(28344)210 648 A
(tcpconf.nwtc_remport=)882 1362 A
(port;)210 2286 A
1350 V
(28345)210 648 A
(error=)252 1362 A
(ioctl\(fd,)378 1656 A
(NWIOSTCPCONF,)546 2076 A
(&tcpconf\);)420 2664 A
1440 V
(28346)210 648 A
1362(if)S
(\(error)252 1488 A
1782(==)S
(-1\))126 1908 A
1530 V
(28347)210 648 A
1362({)S
1620 V
(28348)210 648 A
(*terrno=)336 1698 A
(errno;)252 2076 A
1710 V
(28349)210 648 A
(close\(fd\);)420 1698 A
1800 V
(28350)210 648 A
(return)252 1698 A
(-1;)126 1992 A
1890 V
(28351)210 648 A
1362(})S
1980 V
(28352)210 648 A
(clopt.nwtcl_flags=)756 1362 A
2160(0;)S
2070 V
(28353)210 648 A
(error=)252 1362 A
(ioctl\(fd,)378 1656 A
(NWIOTCPCONN,)504 2076 A
(&clopt\);)336 2622 A
2160 V
(28354)210 648 A
1362(if)S
(\(error)252 1488 A
1782(==)S
(-1\))126 1908 A
2250 V
(28355)210 648 A
1362({)S
2340 V
(28356)210 648 A
(*terrno=)336 1698 A
(errno;)252 2076 A
2430 V
(28357)210 648 A
(close\(fd\);)420 1698 A
2520 V
(28358)210 648 A
(return)252 1698 A
(-1;)126 1992 A
2610 V
(28359)210 648 A
1362(})S
2700 V
(28360)210 648 A
(*terrno=)336 1362 A
1740(0;)S
2790 V
(28361)210 648 A
(return)252 1362 A
(fd;)126 1656 A
2880 V
(28362)210 648 A
1026(})S
3060 V
(28364)210 648 A
(static)252 1026 A
(int)126 1320 A
(tcpip_writeall\(fd,)756 1488 A
(buf,)168 2286 A
(siz\))168 2496 A
3150 V
(28365)210 648 A
(int)126 1026 A
(fd;)126 1194 A
3240 V
(28366)210 648 A
(const)210 1026 A
(char)168 1278 A
(*buf;)210 1488 A
3330 V
(28367)210 648 A
(size_t)252 1026 A
(siz;)168 1320 A
3420 V
(28368)210 648 A
1026({)S
3510 V
(28369)210 648 A
(size_t)252 1362 A
(siz_org;)336 1656 A
3600 V
(28370)210 648 A
(int)126 1362 A
(nbytes;)294 1530 A
3690 V
(28371)210 648 A
3780 V
(28372)210 648 A
(siz_org=)336 1362 A
(siz;)168 1740 A
3870 V
(28373)210 648 A
3960 V
(28374)210 648 A
(while)210 1362 A
(\(siz\))210 1614 A
4050 V
(28375)210 648 A
1362({)S
4140 V
(28376)210 648 A
(nbytes=)294 1698 A
(write\(fd,)378 2034 A
(buf,)168 2454 A
(siz\);)210 2664 A
4230 V
(28377)210 648 A
1698(if)S
(\(nbytes)294 1824 A
2160(<=)S
2286(0\))S
4320 V
(28378)210 648 A
(return)252 2034 A
(siz_org-siz;)504 2328 A
4410 V
(28379)210 648 A
(assert\(siz)420 1698 A
2160(>=)S
(nbytes\);)336 2286 A
4500 V
(28380)210 648 A
(buf)126 1698 A
1866(+=)S
(nbytes;)294 1992 A
4590 V
(28381)210 648 A
(siz)126 1698 A
1866(-=)S
(nbytes;)294 1992 A
4680 V
(28382)210 648 A
1362(})S
4770 V
(28383)210 648 A
(return)252 1362 A
(siz_org;)336 1656 A
4860 V
(28384)210 648 A
1026(})S
5130 V
(28387)210 648 A
(static)252 1026 A
(int)126 1320 A
(udp_connect\(\))546 1488 A
5220 V
(28388)210 648 A
1026({)S
5310 V
(28389)210 648 A
(nwio_udpopt_t)546 1362 A
(udpopt;)294 1950 A
5400 V
(28390)210 648 A
(char)168 1362 A
(*dev_name;)420 1572 A
5490 V
(28391)210 648 A
(int)126 1362 A
(fd,)126 1530 A
1698(r,)S
(terrno;)294 1824 A
5580 V
(28392)210 648 A
5670 V
(28393)210 648 A
(dev_name=)378 1362 A
(getenv\("UDP_DEVICE"\);)882 1782 A
5760 V
(28394)210 648 A
1362(if)S
(\(!dev_name\))462 1488 A
5850 V
(28395)210 648 A
(dev_name=)378 1698 A
(UDP_DEVICE;)462 2118 A
5940 V
(28396)210 648 A
(fd=)126 1362 A
(open\(dev_name,)588 1530 A
(O_RDWR\);)336 2160 A
6030 V
(28397)210 648 A
1362(if)S
(\(fd)126 1488 A
1656(==)S
(-1\))126 1782 A
6120 V
(28398)210 648 A
(return)252 1698 A
(-1;)126 1992 A
6210 V
(28399)210 648 A
8418 V
EP
%%Page: 276 276
BP
/slant 0 def
/height 0 def
630 V
12 B
(276)180 648 A
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(28400)210 648 A
(udpopt.nwuo_flags=)756 1362 A
(NWUO_COPY)378 2160 A
2580(|)S
(NWUO_LP_SEL)462 2664 A
3168(|)S
(NWUO_EN_LOC)462 3252 A
3756(|)S
990 V
(28401)210 648 A
(NWUO_EN_BROAD)546 1698 A
2286(|)S
(NWUO_RP_ANY)462 2370 A
2874(|)S
(NWUO_RA_ANY)462 2958 A
3462(|)S
(NWUO_RWDATALL)546 3546 A
4134(|)S
1080 V
(28402)210 648 A
(NWUO_DI_IPOPT;)588 1698 A
1170 V
(28403)210 648 A
1362(r=)S
(ioctl\(fd,)378 1488 A
(NWIOSUDPOPT,)504 1908 A
(&udpopt\);)378 2454 A
1260 V
(28404)210 648 A
1362(if)S
1488(\(r)S
1614(==)S
(-1\))126 1740 A
1350 V
(28405)210 648 A
1362({)S
1440 V
(28406)210 648 A
(terrno=)294 1698 A
(errno;)252 2034 A
1530 V
(28407)210 648 A
(close\(fd\);)420 1698 A
1620 V
(28408)210 648 A
(errno=)252 1698 A
(terrno;)294 1992 A
1710 V
(28409)210 648 A
(return)252 1698 A
(-1;)126 1992 A
1800 V
(28410)210 648 A
1362(})S
1890 V
(28411)210 648 A
(return)252 1362 A
(fd;)126 1656 A
1980 V
(28412)210 648 A
1026(})S
2160 V
(28414)210 648 A
(static)252 1026 A
(int)126 1320 A
(udp_sendto\(fd,)588 1488 A
(buf,)168 2118 A
(buflen,)294 2328 A
(addr,)210 2664 A
(port\))210 2916 A
2250 V
(28415)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2340 V
(28416)210 648 A
(const)210 1026 A
(char)168 1278 A
(*buf;)210 1488 A
2430 V
(28417)210 648 A
(unsigned)336 1026 A
(buflen;)294 1404 A
2520 V
(28418)210 648 A
(ipaddr_t)336 1026 A
(addr;)210 1404 A
2610 V
(28419)210 648 A
(udpport_t)378 1026 A
(port;)210 1446 A
2700 V
(28420)210 648 A
1026({)S
2790 V
(28421)210 648 A
(char)168 1362 A
(*newbuf;)336 1572 A
2880 V
(28422)210 648 A
(udp_io_hdr_t)504 1362 A
(*udp_io_hdr;)504 1908 A
2970 V
(28423)210 648 A
(int)126 1362 A
1530(r,)S
(terrno;)294 1656 A
3060 V
(28424)210 648 A
3150 V
(28425)210 648 A
(newbuf=)294 1362 A
(malloc\(sizeof\(*udp_io_hdr\))1092 1698 A
2832(+)S
(buflen\);)336 2916 A
3240 V
(28426)210 648 A
1362(if)S
(\(newbuf)294 1488 A
1824(==)S
(NULL\))210 1950 A
3330 V
(28427)210 648 A
1362({)S
3420 V
(28428)210 648 A
(errno=)252 1698 A
(ENOMEM;)294 1992 A
3510 V
(28429)210 648 A
(return)252 1698 A
(-1;)126 1992 A
3600 V
(28430)210 648 A
1362(})S
3690 V
(28431)210 648 A
(udp_io_hdr=)462 1362 A
(\(udp_io_hdr_t)546 1866 A
(*\)newbuf;)378 2454 A
3780 V
(28432)210 648 A
(udp_io_hdr->uih_dst_addr=)1050 1362 A
(addr;)210 2454 A
3870 V
(28433)210 648 A
(udp_io_hdr->uih_dst_port=)1050 1362 A
(port;)210 2454 A
3960 V
(28434)210 648 A
(udp_io_hdr->uih_ip_opt_len=)1134 1362 A
2538(0;)S
4050 V
(28435)210 648 A
(udp_io_hdr->uih_data_len=)1050 1362 A
(buflen;)294 2454 A
4140 V
(28436)210 648 A
4230 V
(28437)210 648 A
(memcpy\(newbuf)546 1362 A
1950(+)S
(sizeof\(*udp_io_hdr\),)840 2034 A
(buf,)168 2916 A
(buflen\);)336 3126 A
4320 V
(28438)210 648 A
1362(r=)S
(write\(fd,)378 1488 A
(newbuf,)294 1908 A
(sizeof\(*udp_io_hdr\))798 2244 A
3084(+)S
(buflen\);)336 3168 A
4410 V
(28439)210 648 A
(terrno=)294 1362 A
(errno;)252 1698 A
4500 V
(28440)210 648 A
(free\(newbuf\);)546 1362 A
4590 V
(28441)210 648 A
1362(if)S
1488(\(r)S
1614(>=)S
(sizeof\(*udp_io_hdr\)\))840 1740 A
4680 V
(28442)210 648 A
1698(r)S
1782(-=)S
(sizeof\(*udp_io_hdr\);)840 1908 A
4770 V
(28443)210 648 A
(errno=)252 1362 A
(terrno;)294 1656 A
4860 V
(28444)210 648 A
(return)252 1362 A
1656(r;)S
4950 V
(28445)210 648 A
1026(})S
5130 V
(28447)210 648 A
(static)252 1026 A
(void)168 1320 A
(alarm_handler\(sig\))756 1530 A
5220 V
(28448)210 648 A
(int)126 1026 A
(sig;)168 1194 A
5310 V
(28449)210 648 A
1026({)S
5400 V
(28450)210 648 A
(signal\(SIGALRM,)630 1362 A
(alarm_handler\);)630 2034 A
5490 V
(28451)210 648 A
(alarm\(1\);)378 1362 A
5580 V
(28452)210 648 A
1026(})S
5760 V
(28454)210 648 A
(static)252 1026 A
(int)126 1320 A
(udp_receive\(fd,)630 1488 A
(buf,)168 2160 A
(buflen,)294 2370 A
(timeout\))336 2706 A
5850 V
(28455)210 648 A
(int)126 1026 A
(fd;)126 1194 A
5940 V
(28456)210 648 A
(char)168 1026 A
(*buf;)210 1236 A
6030 V
(28457)210 648 A
(unsigned)336 1026 A
(buflen;)294 1404 A
6120 V
(28458)210 648 A
(time_t)252 1026 A
(timeout;)336 1320 A
6210 V
(28459)210 648 A
1026({)S
8418 V
EP
%%Page: 277 277
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/ip/res_send.c)892 2208 A
12 B
(277)180 4248 A
900 V
7 LST
(28460)210 648 A
(char)168 1362 A
(*newbuf;)336 1572 A
990 V
(28461)210 648 A
(udp_io_hdr_t)504 1362 A
(*udp_io_hdr;)504 1908 A
1080 V
(28462)210 648 A
(int)126 1362 A
1530(r,)S
(terrno;)294 1656 A
1170 V
(28463)210 648 A
(void)168 1362 A
(\(*u_handler\))504 1572 A
(_ARGS\(\()294 2118 A
(int)126 2454 A
(sig)126 2622 A
(\)\);)126 2790 A
1260 V
(28464)210 648 A
(time_t)252 1362 A
(u_timeout;)420 1656 A
1350 V
(28465)210 648 A
1440 V
(28466)210 648 A
(newbuf=)294 1362 A
(malloc\(sizeof\(*udp_io_hdr\))1092 1698 A
2832(+)S
(buflen\);)336 2916 A
1530 V
(28467)210 648 A
1362(if)S
(\(newbuf)294 1488 A
1824(==)S
(NULL\))210 1950 A
1620 V
(28468)210 648 A
1362({)S
1710 V
(28469)210 648 A
(errno=)252 1698 A
(ENOMEM;)294 1992 A
1800 V
(28470)210 648 A
(return)252 1698 A
(-1;)126 1992 A
1890 V
(28471)210 648 A
1362(})S
1980 V
(28472)210 648 A
2070 V
(28473)210 648 A
(u_handler=)420 1362 A
(signal\(SIGALRM,)630 1824 A
(alarm_handler\);)630 2496 A
2160 V
(28474)210 648 A
(u_timeout=)420 1362 A
(alarm\(timeout\);)630 1824 A
2250 V
(28475)210 648 A
2340 V
(28476)210 648 A
1362(r=)S
(read\(fd,)336 1488 A
(newbuf,)294 1866 A
(sizeof\(*udp_io_hdr\))798 2202 A
3042(+)S
(buflen\);)336 3126 A
2430 V
(28477)210 648 A
(terrno=)294 1362 A
(errno;)252 1698 A
2520 V
(28478)210 648 A
2610 V
(28479)210 648 A
1362(if)S
1488(\(r)S
1614(<)S
1698(0)S
1782(||)S
1908(r)S
1992(<=)S
(sizeof\(*udp_io_hdr\)\))840 2118 A
2700 V
(28480)210 648 A
1362({)S
2790 V
(28481)210 648 A
1698(if)S
1824(\(r)S
1950(>)S
2034(0\))S
2880 V
(28482)210 648 A
2034(r=)S
2160(0;)S
2970 V
(28483)210 648 A
(free\(newbuf\);)546 1698 A
3060 V
(28484)210 648 A
3150 V
(28485)210 648 A
3240 V
(28486)210 648 A
(alarm\(0\);)378 1698 A
3330 V
(28487)210 648 A
(signal\(SIGALRM,)630 1698 A
(u_handler\);)462 2370 A
3420 V
(28488)210 648 A
(alarm\(u_timeout\);)714 1698 A
3510 V
(28489)210 648 A
3600 V
(28490)210 648 A
(errno=)252 1698 A
(terrno;)294 1992 A
3690 V
(28491)210 648 A
(return)252 1698 A
1992(r;)S
3780 V
(28492)210 648 A
1362(})S
3870 V
(28493)210 648 A
3960 V
(28494)210 648 A
(memcpy\(buf,)462 1362 A
(newbuf)252 1866 A
2160(+)S
(sizeof\(*udp_io_hdr\),)840 2244 A
3126(r)S
3210(-)S
(sizeof\(*udp_io_hdr\)\);)882 3294 A
4050 V
(28495)210 648 A
(free\(newbuf\);)546 1362 A
4140 V
(28496)210 648 A
4230 V
(28497)210 648 A
(alarm\(0\);)378 1362 A
4320 V
(28498)210 648 A
(signal\(SIGALRM,)630 1362 A
(u_handler\);)462 2034 A
4410 V
(28499)210 648 A
(alarm\(u_timeout\);)714 1362 A
4500 V
(28500)210 648 A
4590 V
(28501)210 648 A
(return)252 1362 A
(r-sizeof\(*udp_io_hdr\);)924 1656 A
4680 V
(28502)210 648 A
1026(})S
4860 V
(28504)210 648 A
(#endif)252 1026 A
8418 V
EP
%%Page: 278 278
BP
/slant 0 def
/height 0 def
630 V
12 B
(278)180 648 A
11 R
1922(File:)S
(src/lib/ip/strcasecmp.c)999 2155 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/ip/strcasecmp.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(28600)210 648 A
1026(/*)S
1440 V
(28601)210 648 A
(strcasecmp.c)504 1026 A
1530 V
(28602)210 648 A
1620 V
(28603)210 648 A
(Created)294 1026 A
(Oct)126 1362 A
(14,)126 1530 A
(1991)168 1698 A
1908(by)S
(Philip)252 2034 A
(Homburg)294 2328 A
1710 V
(28604)210 648 A
1026(*/)S
1800 V
(28605)210 648 A
1890 V
(28606)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
1980 V
(28607)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2070 V
(28608)210 648 A
2160 V
(28609)210 648 A
(#ifdef)252 1026 A
(__STDC__)336 1320 A
2250 V
(28610)210 648 A
(#define)294 1026 A
(_CONST)252 1362 A
(const)210 1698 A
2340 V
(28611)210 648 A
(#else)210 1026 A
2430 V
(28612)210 648 A
(#define)294 1026 A
(_CONST)252 1362 A
2520 V
(28613)210 648 A
(#endif)252 1026 A
2610 V
(28614)210 648 A
2700 V
(28615)210 648 A
(int)126 1026 A
2790 V
(28616)210 648 A
(strcasecmp\(s1,)588 1026 A
(s2\))126 1656 A
2880 V
(28617)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*s1,)168 1530 A
(*s2;)168 1740 A
2970 V
(28618)210 648 A
1026({)S
3060 V
(28619)210 648 A
(int)126 1362 A
(c1,)126 1530 A
(c2;)126 1698 A
3150 V
(28620)210 648 A
(while)210 1362 A
(\(c1=)168 1614 A
(toupper\(*s1++\),)630 1824 A
(c2=)126 2496 A
(toupper\(*s2++\),)630 2664 A
3336(c1)S
3462(==)S
3588(c2)S
3714(&&)S
(\(c1)126 3840 A
4008(&)S
(c2\)\))168 4092 A
3240 V
(28621)210 648 A
1698(;)S
3330 V
(28622)210 648 A
1362(if)S
(\(c1)126 1488 A
1656(&)S
(c2\))126 1740 A
3420 V
(28623)210 648 A
(return)252 1698 A
1992(c1)S
2118(<)S
2202(c2)S
2328(?)S
2412(-1)S
2538(:)S
2622(1;)S
3510 V
(28624)210 648 A
(return)252 1362 A
1656(c1)S
1782(?)S
1866(1)S
1950(:)S
(\(c2)126 2034 A
2202(?)S
2286(-1)S
2412(:)S
(0\);)126 2496 A
3600 V
(28625)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/liby/main.c)798 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(28700)210 648 A
(/*-)126 1026 A
4590 V
(28701)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1990)168 1740 A
(The)126 1950 A
(Regents)294 2118 A
2454(of)S
(the)126 2580 A
(University)420 2748 A
3210(of)S
(California.)462 3336 A
4680 V
(28702)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
4770 V
(28703)210 648 A
1068(*)S
4860 V
(28704)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms,)252 3000 A
(with)168 3294 A
3504(or)S
(without)294 3630 A
4950 V
(28705)210 648 A
1068(*)S
(modification,)546 1152 A
(are)126 1740 A
(permitted)378 1908 A
(provided)336 2328 A
(that)168 2706 A
(the)126 2916 A
(following)378 3084 A
(conditions)420 3504 A
5040 V
(28706)210 648 A
1068(*)S
(are)126 1152 A
(met:)168 1320 A
5130 V
(28707)210 648 A
1068(*)S
1152(1.)S
(Redistributions)630 1278 A
1950(of)S
(source)252 2076 A
(code)168 2370 A
(must)168 2580 A
(retain)252 2790 A
(the)126 3084 A
(above)210 3252 A
(copyright)378 3504 A
5220 V
(28708)210 648 A
1068(*)S
(notice,)294 1278 A
(this)168 1614 A
(list)168 1824 A
2034(of)S
(conditions)420 2160 A
(and)126 2622 A
(the)126 2790 A
(following)378 2958 A
(disclaimer.)462 3378 A
5310 V
(28709)210 648 A
1068(*)S
1152(2.)S
(Redistributions)630 1278 A
1950(in)S
(binary)252 2076 A
(form)168 2370 A
(must)168 2580 A
(reproduce)378 2790 A
(the)126 3210 A
(above)210 3378 A
(copyright)378 3630 A
5400 V
(28710)210 648 A
1068(*)S
(notice,)294 1278 A
(this)168 1614 A
(list)168 1824 A
2034(of)S
(conditions)420 2160 A
(and)126 2622 A
(the)126 2790 A
(following)378 2958 A
(disclaimer)420 3378 A
3840(in)S
(the)126 3966 A
5490 V
(28711)210 648 A
1068(*)S
(documentation)546 1278 A
(and/or)252 1866 A
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution.)546 3588 A
5580 V
(28712)210 648 A
1068(*)S
1152(3.)S
(All)126 1278 A
(advertising)462 1446 A
(materials)378 1950 A
(mentioning)420 2370 A
(features)336 2832 A
3210(or)S
(use)126 3336 A
3504(of)S
(this)168 3630 A
(software)336 3840 A
5670 V
(28713)210 648 A
1068(*)S
(must)168 1278 A
(display)294 1488 A
(the)126 1824 A
(following)378 1992 A
(acknowledgement:)672 2412 A
5760 V
(28714)210 648 A
1068(*)S
(This)168 1362 A
(product)294 1572 A
(includes)336 1908 A
(software)336 2286 A
(developed)378 2664 A
3084(by)S
(the)126 3210 A
(University)420 3378 A
3840(of)S
5850 V
(28715)210 648 A
1068(*)S
(California,)462 1362 A
(Berkeley)336 1866 A
(and)126 2244 A
(its)126 2412 A
(contributors.)546 2580 A
5940 V
(28716)210 648 A
1068(*)S
1152(4.)S
(Neither)294 1278 A
(the)126 1614 A
(name)168 1782 A
1992(of)S
(the)126 2118 A
(University)420 2286 A
(nor)126 2748 A
(the)126 2916 A
(names)210 3084 A
3336(of)S
(its)126 3462 A
(contributors)504 3630 A
6030 V
(28717)210 648 A
1068(*)S
(may)126 1278 A
1446(be)S
(used)168 1572 A
1782(to)S
(endorse)294 1908 A
2244(or)S
(promote)294 2370 A
(products)336 2706 A
(derived)294 3084 A
(from)168 3420 A
(this)168 3630 A
(software)336 3840 A
6120 V
(28718)210 648 A
1068(*)S
(without)294 1278 A
(specific)336 1614 A
(prior)210 1992 A
(written)294 2244 A
(permission.)462 2580 A
6210 V
(28719)210 648 A
1068(*)S
8418 V
EP
%%Page: 279 279
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2015(File:)S
(src/lib/liby/main.c)812 2248 A
12 B
(279)180 4248 A
900 V
7 LST
(28720)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
2244(BY)S
(THE)126 2370 A
(REGENTS)294 2538 A
(AND)126 2874 A
(CONTRIBUTORS)504 3042 A
(`AS)126 3588 A
(IS'')168 3756 A
(AND)126 3966 A
990 V
(28721)210 648 A
1068(*)S
(ANY)126 1152 A
(EXPRESS)294 1320 A
1656(OR)S
(IMPLIED)294 1782 A
(WARRANTIES,)462 2118 A
(INCLUDING,)420 2622 A
(BUT)126 3084 A
(NOT)126 3252 A
(LIMITED)294 3420 A
(TO,)126 3756 A
(THE)126 3924 A
1080 V
(28722)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES)420 1488 A
1950(OF)S
(MERCHANTABILITY)630 2076 A
(AND)126 2748 A
(FITNESS)294 2916 A
(FOR)126 3252 A
3420(A)S
(PARTICULAR)420 3504 A
(PURPOSE)294 3966 A
1170 V
(28723)210 648 A
1068(*)S
(ARE)126 1152 A
(DISCLAIMED.)462 1320 A
1866(IN)S
1992(NO)S
(EVENT)210 2118 A
(SHALL)210 2370 A
(THE)126 2622 A
(REGENTS)294 2790 A
3126(OR)S
(CONTRIBUTORS)504 3252 A
3798(BE)S
(LIABLE)252 3924 A
1260 V
(28724)210 648 A
1068(*)S
(FOR)126 1152 A
(ANY)126 1320 A
(DIRECT,)294 1488 A
(INDIRECT,)378 1824 A
(INCIDENTAL,)462 2244 A
(SPECIAL,)336 2748 A
(EXEMPLARY,)420 3126 A
3588(OR)S
(CONSEQUENTIAL)546 3714 A
1350 V
(28725)210 648 A
1068(*)S
(DAMAGES)294 1152 A
(\(INCLUDING,)462 1488 A
(BUT)126 1992 A
(NOT)126 2160 A
(LIMITED)294 2328 A
(TO,)126 2664 A
(PROCUREMENT)462 2832 A
3336(OF)S
(SUBSTITUTE)420 3462 A
(GOODS)210 3924 A
1440 V
(28726)210 648 A
1068(*)S
1152(OR)S
(SERVICES;)378 1278 A
(LOSS)168 1698 A
1908(OF)S
(USE,)168 2034 A
(DATA,)210 2244 A
2496(OR)S
(PROFITS;)336 2622 A
3000(OR)S
(BUSINESS)336 3126 A
(INTERRUPTION\))546 3504 A
1530 V
(28727)210 648 A
1068(*)S
(HOWEVER)294 1152 A
(CAUSED)252 1488 A
(AND)126 1782 A
1950(ON)S
(ANY)126 2076 A
(THEORY)252 2244 A
2538(OF)S
(LIABILITY,)420 2664 A
(WHETHER)294 3126 A
3462(IN)S
(CONTRACT,)378 3588 A
(STRICT)252 4008 A
1620 V
(28728)210 648 A
1068(*)S
(LIABILITY,)420 1152 A
1614(OR)S
(TORT)168 1740 A
(\(INCLUDING)420 1950 A
(NEGLIGENCE)420 2412 A
2874(OR)S
(OTHERWISE\))420 3000 A
(ARISING)294 3462 A
3798(IN)S
(ANY)126 3924 A
(WAY)126 4092 A
1710 V
(28729)210 648 A
1068(*)S
(OUT)126 1152 A
1320(OF)S
(THE)126 1446 A
(USE)126 1614 A
1782(OF)S
(THIS)168 1908 A
(SOFTWARE,)378 2118 A
(EVEN)168 2538 A
2748(IF)S
(ADVISED)294 2874 A
3210(OF)S
(THE)126 3336 A
(POSSIBILITY)462 3504 A
4008(OF)S
1800 V
(28730)210 648 A
1068(*)S
(SUCH)168 1152 A
(DAMAGE.)294 1362 A
1890 V
(28731)210 648 A
1068(*/)S
1980 V
(28732)210 648 A
2070 V
(28733)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
2160 V
(28734)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)main.c)462 1992 A
(5.3)126 2706 A
(\(Berkeley\))420 2874 A
(1/13/91";)378 3336 A
2250 V
(28735)210 648 A
(#endif)252 1026 A
1320(/*)S
(not)126 1446 A
(lint)168 1614 A
1824(*/)S
2340 V
(28736)210 648 A
2430 V
(28737)210 648 A
(main\(\))252 1026 A
2520 V
(28738)210 648 A
1026({)S
2610 V
(28739)210 648 A
(exit\(yyparse\(\)\);)672 1362 A
2700 V
(28740)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/liby/yyerror.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(28800)210 648 A
(/*-)126 1026 A
3690 V
(28801)210 648 A
1068(*)S
(Copyright)378 1152 A
(\(c\))126 1572 A
(1990)168 1740 A
(The)126 1950 A
(Regents)294 2118 A
2454(of)S
(the)126 2580 A
(University)420 2748 A
3210(of)S
(California.)462 3336 A
3780 V
(28802)210 648 A
1068(*)S
(All)126 1152 A
(rights)252 1320 A
(reserved.)378 1614 A
3870 V
(28803)210 648 A
1068(*)S
3960 V
(28804)210 648 A
1068(*)S
(Redistribution)588 1152 A
(and)126 1782 A
(use)126 1950 A
2118(in)S
(source)252 2244 A
(and)126 2538 A
(binary)252 2706 A
(forms,)252 3000 A
(with)168 3294 A
3504(or)S
(without)294 3630 A
4050 V
(28805)210 648 A
1068(*)S
(modification,)546 1152 A
(are)126 1740 A
(permitted)378 1908 A
(provided)336 2328 A
(that)168 2706 A
(the)126 2916 A
(following)378 3084 A
(conditions)420 3504 A
4140 V
(28806)210 648 A
1068(*)S
(are)126 1152 A
(met:)168 1320 A
4230 V
(28807)210 648 A
1068(*)S
1152(1.)S
(Redistributions)630 1278 A
1950(of)S
(source)252 2076 A
(code)168 2370 A
(must)168 2580 A
(retain)252 2790 A
(the)126 3084 A
(above)210 3252 A
(copyright)378 3504 A
4320 V
(28808)210 648 A
1068(*)S
(notice,)294 1278 A
(this)168 1614 A
(list)168 1824 A
2034(of)S
(conditions)420 2160 A
(and)126 2622 A
(the)126 2790 A
(following)378 2958 A
(disclaimer.)462 3378 A
4410 V
(28809)210 648 A
1068(*)S
1152(2.)S
(Redistributions)630 1278 A
1950(in)S
(binary)252 2076 A
(form)168 2370 A
(must)168 2580 A
(reproduce)378 2790 A
(the)126 3210 A
(above)210 3378 A
(copyright)378 3630 A
4500 V
(28810)210 648 A
1068(*)S
(notice,)294 1278 A
(this)168 1614 A
(list)168 1824 A
2034(of)S
(conditions)420 2160 A
(and)126 2622 A
(the)126 2790 A
(following)378 2958 A
(disclaimer)420 3378 A
3840(in)S
(the)126 3966 A
4590 V
(28811)210 648 A
1068(*)S
(documentation)546 1278 A
(and/or)252 1866 A
(other)210 2160 A
(materials)378 2412 A
(provided)336 2832 A
(with)168 3210 A
(the)126 3420 A
(distribution.)546 3588 A
4680 V
(28812)210 648 A
1068(*)S
1152(3.)S
(All)126 1278 A
(advertising)462 1446 A
(materials)378 1950 A
(mentioning)420 2370 A
(features)336 2832 A
3210(or)S
(use)126 3336 A
3504(of)S
(this)168 3630 A
(software)336 3840 A
4770 V
(28813)210 648 A
1068(*)S
(must)168 1278 A
(display)294 1488 A
(the)126 1824 A
(following)378 1992 A
(acknowledgement:)672 2412 A
4860 V
(28814)210 648 A
1068(*)S
(This)168 1362 A
(product)294 1572 A
(includes)336 1908 A
(software)336 2286 A
(developed)378 2664 A
3084(by)S
(the)126 3210 A
(University)420 3378 A
3840(of)S
4950 V
(28815)210 648 A
1068(*)S
(California,)462 1362 A
(Berkeley)336 1866 A
(and)126 2244 A
(its)126 2412 A
(contributors.)546 2580 A
5040 V
(28816)210 648 A
1068(*)S
1152(4.)S
(Neither)294 1278 A
(the)126 1614 A
(name)168 1782 A
1992(of)S
(the)126 2118 A
(University)420 2286 A
(nor)126 2748 A
(the)126 2916 A
(names)210 3084 A
3336(of)S
(its)126 3462 A
(contributors)504 3630 A
5130 V
(28817)210 648 A
1068(*)S
(may)126 1278 A
1446(be)S
(used)168 1572 A
1782(to)S
(endorse)294 1908 A
2244(or)S
(promote)294 2370 A
(products)336 2706 A
(derived)294 3084 A
(from)168 3420 A
(this)168 3630 A
(software)336 3840 A
5220 V
(28818)210 648 A
1068(*)S
(without)294 1278 A
(specific)336 1614 A
(prior)210 1992 A
(written)294 2244 A
(permission.)462 2580 A
5310 V
(28819)210 648 A
1068(*)S
5400 V
(28820)210 648 A
1068(*)S
(THIS)168 1152 A
(SOFTWARE)336 1362 A
1740(IS)S
(PROVIDED)336 1866 A
2244(BY)S
(THE)126 2370 A
(REGENTS)294 2538 A
(AND)126 2874 A
(CONTRIBUTORS)504 3042 A
(`AS)126 3588 A
(IS'')168 3756 A
(AND)126 3966 A
5490 V
(28821)210 648 A
1068(*)S
(ANY)126 1152 A
(EXPRESS)294 1320 A
1656(OR)S
(IMPLIED)294 1782 A
(WARRANTIES,)462 2118 A
(INCLUDING,)420 2622 A
(BUT)126 3084 A
(NOT)126 3252 A
(LIMITED)294 3420 A
(TO,)126 3756 A
(THE)126 3924 A
5580 V
(28822)210 648 A
1068(*)S
(IMPLIED)294 1152 A
(WARRANTIES)420 1488 A
1950(OF)S
(MERCHANTABILITY)630 2076 A
(AND)126 2748 A
(FITNESS)294 2916 A
(FOR)126 3252 A
3420(A)S
(PARTICULAR)420 3504 A
(PURPOSE)294 3966 A
5670 V
(28823)210 648 A
1068(*)S
(ARE)126 1152 A
(DISCLAIMED.)462 1320 A
1866(IN)S
1992(NO)S
(EVENT)210 2118 A
(SHALL)210 2370 A
(THE)126 2622 A
(REGENTS)294 2790 A
3126(OR)S
(CONTRIBUTORS)504 3252 A
3798(BE)S
(LIABLE)252 3924 A
5760 V
(28824)210 648 A
1068(*)S
(FOR)126 1152 A
(ANY)126 1320 A
(DIRECT,)294 1488 A
(INDIRECT,)378 1824 A
(INCIDENTAL,)462 2244 A
(SPECIAL,)336 2748 A
(EXEMPLARY,)420 3126 A
3588(OR)S
(CONSEQUENTIAL)546 3714 A
5850 V
(28825)210 648 A
1068(*)S
(DAMAGES)294 1152 A
(\(INCLUDING,)462 1488 A
(BUT)126 1992 A
(NOT)126 2160 A
(LIMITED)294 2328 A
(TO,)126 2664 A
(PROCUREMENT)462 2832 A
3336(OF)S
(SUBSTITUTE)420 3462 A
(GOODS)210 3924 A
5940 V
(28826)210 648 A
1068(*)S
1152(OR)S
(SERVICES;)378 1278 A
(LOSS)168 1698 A
1908(OF)S
(USE,)168 2034 A
(DATA,)210 2244 A
2496(OR)S
(PROFITS;)336 2622 A
3000(OR)S
(BUSINESS)336 3126 A
(INTERRUPTION\))546 3504 A
6030 V
(28827)210 648 A
1068(*)S
(HOWEVER)294 1152 A
(CAUSED)252 1488 A
(AND)126 1782 A
1950(ON)S
(ANY)126 2076 A
(THEORY)252 2244 A
2538(OF)S
(LIABILITY,)420 2664 A
(WHETHER)294 3126 A
3462(IN)S
(CONTRACT,)378 3588 A
(STRICT)252 4008 A
6120 V
(28828)210 648 A
1068(*)S
(LIABILITY,)420 1152 A
1614(OR)S
(TORT)168 1740 A
(\(INCLUDING)420 1950 A
(NEGLIGENCE)420 2412 A
2874(OR)S
(OTHERWISE\))420 3000 A
(ARISING)294 3462 A
3798(IN)S
(ANY)126 3924 A
(WAY)126 4092 A
6210 V
(28829)210 648 A
1068(*)S
(OUT)126 1152 A
1320(OF)S
(THE)126 1446 A
(USE)126 1614 A
1782(OF)S
(THIS)168 1908 A
(SOFTWARE,)378 2118 A
(EVEN)168 2538 A
2748(IF)S
(ADVISED)294 2874 A
3210(OF)S
(THE)126 3336 A
(POSSIBILITY)462 3504 A
4008(OF)S
8418 V
EP
%%Page: 280 280
BP
/slant 0 def
/height 0 def
630 V
12 B
(280)180 648 A
11 R
1963(File:)S
(src/lib/liby/yyerror.c)916 2196 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(28830)210 648 A
1068(*)S
(SUCH)168 1152 A
(DAMAGE.)294 1362 A
990 V
(28831)210 648 A
1068(*/)S
1080 V
(28832)210 648 A
1170 V
(28833)210 648 A
(#if)126 1026 A
(defined\(LIBC_SCCS\))756 1194 A
1992(&&)S
(!defined\(lint\))588 2118 A
1260 V
(28834)210 648 A
(static)252 1026 A
(char)168 1320 A
(sccsid[])336 1530 A
1908(=)S
("@\(#\)yyerror.c)588 1992 A
(5.2)126 2706 A
(\(Berkeley\))420 2874 A
(5/15/90";)378 3336 A
1350 V
(28835)210 648 A
(#endif)252 1026 A
1320(/*)S
(not)126 1446 A
(lint)168 1614 A
1824(*/)S
1440 V
(28836)210 648 A
1530 V
(28837)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1620 V
(28838)210 648 A
1710 V
(28839)210 648 A
(yyerror\(msg\))504 1026 A
1800 V
(28840)210 648 A
(char)168 1026 A
(*msg;)210 1236 A
1890 V
(28841)210 648 A
1026({)S
1980 V
(28842)210 648 A
(\(void\)fprintf\(stderr,)882 1362 A
("%s\\n",)294 2286 A
(msg\);)210 2622 A
2070 V
(28843)210 648 A
(return\(0\);)420 1362 A
2160 V
(28844)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/math/localmath.h)1008 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(28900)210 648 A
1026(/*)S
3240 V
(28901)210 648 A
1068(*)S
(localmath.h)462 1152 A
1656(-)S
(This)168 1740 A
(header)252 1950 A
2244(is)S
(used)168 2370 A
2580(by)S
(the)126 2706 A
(mathematical)504 2874 A
(library.)336 3420 A
3330 V
(28902)210 648 A
1068(*/)S
3420 V
(28903)210 648 A
1026(/*)S
($Header:)336 1152 A
(localmath.h,v)546 1530 A
(1.2)126 2118 A
(89/12/18)336 2286 A
(15:43:05)336 2664 A
(eck)126 3042 A
(Exp)126 3210 A
3378($)S
3462(*/)S
3510 V
(28904)210 648 A
3600 V
(28905)210 648 A
1026(/*)S
(some)168 1152 A
(constants)378 1362 A
(\(Hart)210 1782 A
2034(&)S
(Cheney\))294 2118 A
2454(*/)S
3690 V
(28906)210 648 A
(#define)294 1026 A
(M_PI)168 1362 A
(3.14159265358979323846264338327950288)1554 2034 A
3780 V
(28907)210 648 A
(#define)294 1026 A
(M_2PI)210 1362 A
(6.28318530717958647692528676655900576)1554 2034 A
3870 V
(28908)210 648 A
(#define)294 1026 A
(M_3PI_4)294 1362 A
(2.35619449019234492884698253745962716)1554 2034 A
3960 V
(28909)210 648 A
(#define)294 1026 A
(M_PI_2)252 1362 A
(1.57079632679489661923132169163975144)1554 2034 A
4050 V
(28910)210 648 A
(#define)294 1026 A
(M_3PI_8)294 1362 A
(1.17809724509617246442349126872981358)1554 2034 A
4140 V
(28911)210 648 A
(#define)294 1026 A
(M_PI_4)252 1362 A
(0.78539816339744830961566084581987572)1554 2034 A
4230 V
(28912)210 648 A
(#define)294 1026 A
(M_PI_8)252 1362 A
(0.39269908169872415480783042290993786)1554 2034 A
4320 V
(28913)210 648 A
(#define)294 1026 A
(M_1_PI)252 1362 A
(0.31830988618379067153776752674502872)1554 2034 A
4410 V
(28914)210 648 A
(#define)294 1026 A
(M_2_PI)252 1362 A
(0.63661977236758134307553505349005744)1554 2034 A
4500 V
(28915)210 648 A
(#define)294 1026 A
(M_4_PI)252 1362 A
(1.27323954473516268615107010698011488)1554 2034 A
4590 V
(28916)210 648 A
(#define)294 1026 A
(M_E)126 1362 A
(2.71828182845904523536028747135266250)1554 2034 A
4680 V
(28917)210 648 A
(#define)294 1026 A
(M_LOG2E)294 1362 A
(1.44269504088896340735992468100189213)1554 2034 A
4770 V
(28918)210 648 A
(#define)294 1026 A
(M_LOG10E)336 1362 A
(0.43429448190325182765112891891660508)1554 2034 A
4860 V
(28919)210 648 A
(#define)294 1026 A
(M_LN2)210 1362 A
(0.69314718055994530941723212145817657)1554 2034 A
4950 V
(28920)210 648 A
(#define)294 1026 A
(M_LN10)252 1362 A
(2.30258509299404568401799145468436421)1554 2034 A
5040 V
(28921)210 648 A
(#define)294 1026 A
(M_SQRT2)294 1362 A
(1.41421356237309504880168872420969808)1554 2034 A
5130 V
(28922)210 648 A
(#define)294 1026 A
(M_1_SQRT2)378 1362 A
(0.70710678118654752440084436210484904)1554 2034 A
5220 V
(28923)210 648 A
(#define)294 1026 A
(M_EULER)294 1362 A
(0.57721566490153286060651209008240243)1554 2034 A
5310 V
(28924)210 648 A
5400 V
(28925)210 648 A
1026(/*)S
(macros)252 1152 A
(for)126 1446 A
(constructing)504 1614 A
(polynomials)462 2160 A
2664(*/)S
5490 V
(28926)210 648 A
(#define)294 1026 A
(POLYNOM1\(x,)462 1362 A
1866(a\))S
(\(\(a\)[1]*\(x\)+\(a\)[0]\))798 2034 A
5580 V
(28927)210 648 A
(#define)294 1026 A
(POLYNOM2\(x,)462 1362 A
1866(a\))S
(\(POLYNOM1\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
5670 V
(28928)210 648 A
(#define)294 1026 A
(POLYNOM3\(x,)462 1362 A
1866(a\))S
(\(POLYNOM2\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
5760 V
(28929)210 648 A
(#define)294 1026 A
(POLYNOM4\(x,)462 1362 A
1866(a\))S
(\(POLYNOM3\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
5850 V
(28930)210 648 A
(#define)294 1026 A
(POLYNOM5\(x,)462 1362 A
1866(a\))S
(\(POLYNOM4\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
5940 V
(28931)210 648 A
(#define)294 1026 A
(POLYNOM6\(x,)462 1362 A
1866(a\))S
(\(POLYNOM5\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
6030 V
(28932)210 648 A
(#define)294 1026 A
(POLYNOM7\(x,)462 1362 A
1866(a\))S
(\(POLYNOM6\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
6120 V
(28933)210 648 A
(#define)294 1026 A
(POLYNOM8\(x,)462 1362 A
1866(a\))S
(\(POLYNOM7\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
6210 V
(28934)210 648 A
(#define)294 1026 A
(POLYNOM9\(x,)462 1362 A
1866(a\))S
(\(POLYNOM8\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
8418 V
EP
%%Page: 281 281
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1879(File:)S
(src/lib/math/localmath.h)1084 2112 A
12 B
(281)180 4248 A
900 V
7 LST
(28935)210 648 A
(#define)294 1026 A
(POLYNOM10\(x,)504 1362 A
1908(a\))S
(\(POLYNOM9\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1344 2034 A
990 V
(28936)210 648 A
(#define)294 1026 A
(POLYNOM11\(x,)504 1362 A
1908(a\))S
(\(POLYNOM10\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1386 2034 A
1080 V
(28937)210 648 A
(#define)294 1026 A
(POLYNOM12\(x,)504 1362 A
1908(a\))S
(\(POLYNOM11\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1386 2034 A
1170 V
(28938)210 648 A
(#define)294 1026 A
(POLYNOM13\(x,)504 1362 A
1908(a\))S
(\(POLYNOM12\(\(x\),\(a\)+1\)*\(x\)+\(a\)[0]\))1386 2034 A
1260 V
(28939)210 648 A
1350 V
(28940)210 648 A
(#define)294 1026 A
(M_LN_MAX_D)420 1362 A
(\(M_LN2)252 2034 A
2328(*)S
(DBL_MAX_EXP\))504 2412 A
1440 V
(28941)210 648 A
(#define)294 1026 A
(M_LN_MIN_D)420 1362 A
(\(M_LN2)252 2034 A
2328(*)S
(\(DBL_MIN_EXP)504 2412 A
2958(-)S
(1\)\))126 3042 A
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/math/asin.c)798 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(29000)210 648 A
1026(/*)S
2340 V
(29001)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(29002)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(29003)210 648 A
1068(*)S
2610 V
(29004)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
2700 V
(29005)210 648 A
1068(*/)S
2790 V
(29006)210 648 A
1026(/*)S
($Header:)336 1152 A
(asin.c,v)336 1530 A
(1.3)126 1908 A
(91/03/19)336 2076 A
(16:38:12)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2880 V
(29007)210 648 A
2970 V
(29008)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
3060 V
(29009)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
3150 V
(29010)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
3240 V
(29011)210 648 A
3330 V
(29012)210 648 A
(static)252 1026 A
(double)252 1320 A
3420 V
(29013)210 648 A
(asin_acos\(double)672 1026 A
1740(x,)S
(int)126 1866 A
(cosfl\))252 2034 A
3510 V
(29014)210 648 A
1026({)S
3600 V
(29015)210 648 A
(int)126 1362 A
(negative)336 1530 A
1908(=)S
1992(x)S
2076(<)S
2160(0;)S
3690 V
(29016)210 648 A
(int)126 1362 A
1698(i;)S
3780 V
(29017)210 648 A
(double)252 1362 A
1698(g;)S
3870 V
(29018)210 648 A
(static)252 1362 A
(double)252 1656 A
(p[])126 1950 A
2118(=)S
2202({)S
3960 V
(29019)210 648 A
(-0.27368494524164255994e+2,)1134 1698 A
4050 V
(29020)210 648 A
(0.57208227877891731407e+2,)1092 1740 A
4140 V
(29021)210 648 A
(-0.39688862997540877339e+2,)1134 1698 A
4230 V
(29022)210 648 A
(0.10152522233806463645e+2,)1092 1740 A
4320 V
(29023)210 648 A
(-0.69674573447350646411e+0)1092 1698 A
4410 V
(29024)210 648 A
1362(};)S
4500 V
(29025)210 648 A
(static)252 1362 A
(double)252 1656 A
(q[])126 1950 A
2118(=)S
2202({)S
4590 V
(29026)210 648 A
(-0.16421096714498560795e+3,)1134 1698 A
4680 V
(29027)210 648 A
(0.41714430248260412556e+3,)1092 1740 A
4770 V
(29028)210 648 A
(-0.38186303361750149284e+3,)1134 1698 A
4860 V
(29029)210 648 A
(0.15095270841030604719e+3,)1092 1740 A
4950 V
(29030)210 648 A
(-0.23823859153670238830e+2,)1134 1698 A
5040 V
(29031)210 648 A
(1.0)126 1740 A
5130 V
(29032)210 648 A
1362(};)S
5220 V
(29033)210 648 A
5310 V
(29034)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
5400 V
(29035)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
5490 V
(29036)210 648 A
(return)252 1698 A
1992(x;)S
5580 V
(29037)210 648 A
1362(})S
5670 V
(29038)210 648 A
5760 V
(29039)210 648 A
1362(if)S
(\(negative\))420 1488 A
1950({)S
5850 V
(29040)210 648 A
1698(x)S
1782(=)S
(-x;)126 1866 A
5940 V
(29041)210 648 A
1362(})S
6030 V
(29042)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(0.5\))168 1698 A
1908({)S
6120 V
(29043)210 648 A
1698(i)S
1782(=)S
1866(1;)S
6210 V
(29044)210 648 A
1698(if)S
1824(\(x)S
1950(>)S
2034(1\))S
2160({)S
8418 V
EP
%%Page: 282 282
BP
/slant 0 def
/height 0 def
630 V
12 B
(282)180 648 A
11 R
2012(File:)S
(src/lib/math/asin.c)819 2245 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(29045)210 648 A
(errno)210 2034 A
2286(=)S
(EDOM;)210 2370 A
990 V
(29046)210 648 A
(return)252 2034 A
2328(0;)S
1080 V
(29047)210 648 A
1698(})S
1170 V
(29048)210 648 A
1698(g)S
1782(=)S
(0.5)126 1866 A
2034(-)S
(0.5)126 2118 A
2286(*)S
2370(x;)S
1260 V
(29049)210 648 A
1698(x)S
1782(=)S
1866(-)S
(sqrt\(g\);)336 1950 A
1350 V
(29050)210 648 A
1698(x)S
1782(+=)S
1908(x;)S
1440 V
(29051)210 648 A
1362(})S
1530 V
(29052)210 648 A
(else)168 1362 A
1572({)S
1620 V
(29053)210 648 A
1698(/*)S
(???)126 1824 A
(avoid)210 1992 A
(underflow)378 2244 A
(???)126 2664 A
2832(*/)S
1710 V
(29054)210 648 A
1698(i)S
1782(=)S
1866(0;)S
1800 V
(29055)210 648 A
1698(g)S
1782(=)S
1866(x)S
1950(*)S
2034(x;)S
1890 V
(29056)210 648 A
1362(})S
1980 V
(29057)210 648 A
1362(x)S
1446(+=)S
1572(x)S
1656(*)S
1740(g)S
1824(*)S
(POLYNOM4\(g,)462 1908 A
2412(p\))S
2538(/)S
(POLYNOM5\(g,)462 2622 A
(q\);)126 3126 A
2070 V
(29058)210 648 A
1362(if)S
(\(cosfl\))294 1488 A
1824({)S
2160 V
(29059)210 648 A
1698(if)S
1824(\(!)S
(negative\))378 1950 A
2370(x)S
2454(=)S
(-x;)126 2538 A
2250 V
(29060)210 648 A
1362(})S
2340 V
(29061)210 648 A
1362(if)S
(\(\(cosfl)294 1488 A
1824(==)S
1950(0\))S
2076(==)S
2202(\(i)S
2328(==)S
(1\)\))126 2454 A
2622({)S
2430 V
(29062)210 648 A
1698(x)S
1782(=)S
1866(\(x)S
1992(+)S
(M_PI_4\))294 2076 A
2412(+)S
(M_PI_4;)294 2496 A
2520 V
(29063)210 648 A
1362(})S
2610 V
(29064)210 648 A
(else)168 1362 A
1572(if)S
(\(cosfl)252 1698 A
1992(&&)S
(negative)336 2118 A
2496(&&)S
2622(i)S
2706(==)S
2832(1\))S
2958({)S
2700 V
(29065)210 648 A
1698(x)S
1782(=)S
1866(\(x)S
1992(+)S
(M_PI_2\))294 2076 A
2412(+)S
(M_PI_2;)294 2496 A
2790 V
(29066)210 648 A
1362(})S
2880 V
(29067)210 648 A
1362(if)S
1488(\(!)S
(cosfl)210 1614 A
1866(&&)S
(negative\))378 1992 A
2412(x)S
2496(=)S
(-x;)126 2580 A
2970 V
(29068)210 648 A
(return)252 1362 A
1656(x;)S
3060 V
(29069)210 648 A
1026(})S
3240 V
(29071)210 648 A
(double)252 1026 A
3330 V
(29072)210 648 A
(asin\(double)462 1026 A
1530(x\))S
3420 V
(29073)210 648 A
1026({)S
3510 V
(29074)210 648 A
(return)252 1362 A
(asin_acos\(x,)504 1656 A
(0\);)126 2202 A
3600 V
(29075)210 648 A
1026(})S
3780 V
(29077)210 648 A
(double)252 1026 A
3870 V
(29078)210 648 A
(acos\(double)462 1026 A
1530(x\))S
3960 V
(29079)210 648 A
1026({)S
4050 V
(29080)210 648 A
(return)252 1362 A
(asin_acos\(x,)504 1656 A
(1\);)126 2202 A
4140 V
(29081)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/math/atan.c)798 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(29100)210 648 A
1026(/*)S
5040 V
(29101)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(29102)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(29103)210 648 A
1068(*)S
5310 V
(29104)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
5400 V
(29105)210 648 A
1068(*/)S
5490 V
(29106)210 648 A
1026(/*)S
($Header:)336 1152 A
(atan.c,v)336 1530 A
(1.3)126 1908 A
(91/03/19)336 2076 A
(16:38:21)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5580 V
(29107)210 648 A
5670 V
(29108)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
5760 V
(29109)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
5850 V
(29110)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
5940 V
(29111)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
6030 V
(29112)210 648 A
6120 V
(29113)210 648 A
(double)252 1026 A
6210 V
(29114)210 648 A
(atan\(double)462 1026 A
1530(x\))S
8418 V
EP
%%Page: 283 283
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2008(File:)S
(src/lib/math/atan.c)826 2241 A
12 B
(283)180 4248 A
900 V
7 LST
(29115)210 648 A
1026({)S
990 V
(29116)210 648 A
1362(/*)S
(Algorithm)378 1698 A
(and)126 2118 A
(coefficients)504 2286 A
(from:)210 2832 A
1080 V
(29117)210 648 A
("Software)378 2034 A
(manual)252 2454 A
(for)126 2748 A
(the)126 2916 A
(elementary)420 3084 A
(functions")420 3546 A
1170 V
(29118)210 648 A
2034(by)S
(W.J.)168 2160 A
(Cody)168 2370 A
(and)126 2580 A
2748(W.)S
(Waite,)252 2874 A
(Prentice-Hall,)588 3168 A
(1980)168 3798 A
1260 V
(29119)210 648 A
1362(*/)S
1350 V
(29120)210 648 A
1440 V
(29121)210 648 A
(static)252 1362 A
(double)252 1656 A
(p[])126 1950 A
2118(=)S
2202({)S
1530 V
(29122)210 648 A
(-0.13688768894191926929e+2,)1134 1698 A
1620 V
(29123)210 648 A
(-0.20505855195861651981e+2,)1134 1698 A
1710 V
(29124)210 648 A
(-0.84946240351320683534e+1,)1134 1698 A
1800 V
(29125)210 648 A
(-0.83758299368150059274e+0)1092 1698 A
1890 V
(29126)210 648 A
1362(};)S
1980 V
(29127)210 648 A
(static)252 1362 A
(double)252 1656 A
(q[])126 1950 A
2118(=)S
2202({)S
2070 V
(29128)210 648 A
(0.41066306682575781263e+2,)1092 1740 A
2160 V
(29129)210 648 A
(0.86157349597130242515e+2,)1092 1740 A
2250 V
(29130)210 648 A
(0.59578436142597344465e+2,)1092 1740 A
2340 V
(29131)210 648 A
(0.15024001160028576121e+2,)1092 1740 A
2430 V
(29132)210 648 A
(1.0)126 1740 A
2520 V
(29133)210 648 A
1362(};)S
2610 V
(29134)210 648 A
(static)252 1362 A
(double)252 1656 A
(a[])126 1950 A
2118(=)S
2202({)S
2700 V
(29135)210 648 A
(0.0,)168 1698 A
2790 V
(29136)210 648 A
(0.52359877559829887307710723554658381,)1596 1698 A
3378(/*)S
(pi/6)168 3504 A
3714(*/)S
2880 V
(29137)210 648 A
(M_PI_2,)294 1698 A
2970 V
(29138)210 648 A
(1.04719755119659774615421446109316763)1554 1698 A
3378(/*)S
(pi/3)168 3504 A
3714(*/)S
3060 V
(29139)210 648 A
1362(};)S
3150 V
(29140)210 648 A
3240 V
(29141)210 648 A
(int)126 1362 A
(neg)126 1698 A
1866(=)S
1950(x)S
2034(<)S
2118(0;)S
3330 V
(29142)210 648 A
(int)126 1362 A
1698(n;)S
3420 V
(29143)210 648 A
(double)252 1362 A
1698(g;)S
3510 V
(29144)210 648 A
3600 V
(29145)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
3690 V
(29146)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
3780 V
(29147)210 648 A
(return)252 1698 A
1992(x;)S
3870 V
(29148)210 648 A
1362(})S
3960 V
(29149)210 648 A
1362(if)S
(\(neg\))210 1488 A
1740({)S
4050 V
(29150)210 648 A
1698(x)S
1782(=)S
(-x;)126 1866 A
4140 V
(29151)210 648 A
1362(})S
4230 V
(29152)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(1.0\))168 1698 A
1908({)S
4320 V
(29153)210 648 A
1698(x)S
1782(=)S
(1.0/x;)252 1866 A
4410 V
(29154)210 648 A
1698(n)S
1782(=)S
1866(2;)S
4500 V
(29155)210 648 A
1362(})S
4590 V
(29156)210 648 A
(else)168 1362 A
1698(n)S
1782(=)S
1866(0;)S
4680 V
(29157)210 648 A
4770 V
(29158)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(0.26794919243112270647\))966 1698 A
2706({)S
3042(/*)S
(2-sqtr\(3\))378 3168 A
3588(*/)S
4860 V
(29159)210 648 A
1698(n)S
1782(=)S
1866(n)S
1950(+)S
2034(1;)S
4950 V
(29160)210 648 A
1698(x)S
1782(=)S
(\(\(\(0.73205080756887729353*x-0.5\)-0.5\)+x\)/)1722 1866 A
5040 V
(29161)210 648 A
(\(1.73205080756887729353+x\);)1134 2034 A
5130 V
(29162)210 648 A
1362(})S
5220 V
(29163)210 648 A
5310 V
(29164)210 648 A
1362(/*)S
(???)126 1488 A
(avoid)210 1656 A
(underflow)378 1908 A
(???)126 2328 A
2496(*/)S
5400 V
(29165)210 648 A
5490 V
(29166)210 648 A
1362(g)S
1446(=)S
1530(x)S
1614(*)S
1698(x;)S
5580 V
(29167)210 648 A
1362(x)S
1446(+=)S
1572(x)S
1656(*)S
1740(g)S
1824(*)S
(POLYNOM3\(g,)462 1908 A
2412(p\))S
2538(/)S
(POLYNOM4\(g,)462 2622 A
(q\);)126 3126 A
5670 V
(29168)210 648 A
1362(if)S
1488(\(n)S
1614(>)S
1698(1\))S
1824(x)S
1908(=)S
(-x;)126 1992 A
5760 V
(29169)210 648 A
1362(x)S
1446(+=)S
(a[n];)210 1572 A
5850 V
(29170)210 648 A
(return)252 1362 A
(neg)126 1656 A
1824(?)S
1908(-x)S
2034(:)S
2118(x;)S
5940 V
(29171)210 648 A
1026(})S
8418 V
EP
%%Page: 284 284
BP
/slant 0 def
/height 0 def
630 V
12 B
(284)180 648 A
11 R
1981(File:)S
(src/lib/math/atan2.c)881 2214 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/math/atan2.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(29200)210 648 A
1026(/*)S
1440 V
(29201)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(29202)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(29203)210 648 A
1068(*)S
1710 V
(29204)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
1800 V
(29205)210 648 A
1068(*/)S
1890 V
(29206)210 648 A
1026(/*)S
($Header:)336 1152 A
(atan2.c,v)378 1530 A
(1.2)126 1950 A
(89/12/18)336 2118 A
(15:42:35)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
1980 V
(29207)210 648 A
2070 V
(29208)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
2160 V
(29209)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2250 V
(29210)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
2340 V
(29211)210 648 A
2430 V
(29212)210 648 A
(double)252 1026 A
2520 V
(29213)210 648 A
(atan2\(double)504 1026 A
1572(y,)S
(double)252 1698 A
1992(x\))S
2610 V
(29214)210 648 A
1026({)S
2700 V
(29215)210 648 A
(double)252 1362 A
(absx,)210 1656 A
(absy,)210 1908 A
(val;)168 2160 A
2790 V
(29216)210 648 A
2880 V
(29217)210 648 A
1362(if)S
1488(\(x)S
1614(==)S
1740(0)S
1824(&&)S
1950(y)S
2034(==)S
2160(0\))S
2286({)S
2970 V
(29218)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
3060 V
(29219)210 648 A
(return)252 1698 A
1992(0;)S
3150 V
(29220)210 648 A
1362(})S
3240 V
(29221)210 648 A
(absy)168 1362 A
1572(=)S
1656(y)S
1740(<)S
1824(0)S
1908(?)S
1992(-y)S
2118(:)S
2202(y;)S
3330 V
(29222)210 648 A
(absx)168 1362 A
1572(=)S
1656(x)S
1740(<)S
1824(0)S
1908(?)S
1992(-x)S
2118(:)S
2202(x;)S
3420 V
(29223)210 648 A
1362(if)S
(\(absy)210 1488 A
1740(-)S
(absx)168 1824 A
2034(==)S
(absy\))210 2160 A
2412({)S
3510 V
(29224)210 648 A
1698(/*)S
1824(x)S
(negligible)420 1908 A
(compared)336 2370 A
2748(to)S
2874(y)S
2958(*/)S
3600 V
(29225)210 648 A
(return)252 1698 A
1992(y)S
2076(<)S
2160(0)S
2244(?)S
(-M_PI_2)294 2328 A
2664(:)S
(M_PI_2;)294 2748 A
3690 V
(29226)210 648 A
1362(})S
3780 V
(29227)210 648 A
1362(if)S
(\(absx)210 1488 A
1740(-)S
(absy)168 1824 A
2034(==)S
(absx\))210 2160 A
2412({)S
3870 V
(29228)210 648 A
1698(/*)S
1824(y)S
(negligible)420 1908 A
(compared)336 2370 A
2748(to)S
2874(x)S
2958(*/)S
3960 V
(29229)210 648 A
(val)126 1698 A
1866(=)S
(0.0;)168 1950 A
4050 V
(29230)210 648 A
1362(})S
4140 V
(29231)210 648 A
(else)168 1362 A
(val)126 1698 A
1866(=)S
(atan\(y/x\);)420 1950 A
4230 V
(29232)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
1698(0\))S
1824({)S
4320 V
(29233)210 648 A
1698(/*)S
(first)210 1824 A
2076(or)S
(fourth)252 2202 A
(quadrant;)378 2496 A
(already)294 2916 A
(correct)294 3252 A
3588(*/)S
4410 V
(29234)210 648 A
(return)252 1698 A
(val;)168 1992 A
4500 V
(29235)210 648 A
1362(})S
4590 V
(29236)210 648 A
1362(if)S
1488(\(y)S
1614(<)S
1698(0\))S
1824({)S
4680 V
(29237)210 648 A
1698(/*)S
(third)210 1824 A
(quadrant)336 2076 A
2454(*/)S
4770 V
(29238)210 648 A
(return)252 1698 A
(val)126 1992 A
2160(-)S
(M_PI;)210 2244 A
4860 V
(29239)210 648 A
1362(})S
4950 V
(29240)210 648 A
(return)252 1362 A
(val)126 1656 A
1824(+)S
(M_PI;)210 1908 A
5040 V
(29241)210 648 A
1026(})S
8418 V
EP
%%Page: 285 285
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2020(File:)S
(src/lib/math/ceil.c)802 2253 A
12 B
(285)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/math/ceil.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(29300)210 648 A
1026(/*)S
1440 V
(29301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(29302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(29303)210 648 A
1068(*)S
1710 V
(29304)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
1800 V
(29305)210 648 A
1068(*/)S
1890 V
(29306)210 648 A
1026(/*)S
($Header:)336 1152 A
(ceil.c,v)336 1530 A
(1.1)126 1908 A
(89/05/10)336 2076 A
(16:00:46)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
1980 V
(29307)210 648 A
2070 V
(29308)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
2160 V
(29309)210 648 A
2250 V
(29310)210 648 A
(double)252 1026 A
2340 V
(29311)210 648 A
(ceil\(double)462 1026 A
1530(x\))S
2430 V
(29312)210 648 A
1026({)S
2520 V
(29313)210 648 A
(double)252 1362 A
(val;)168 1656 A
2610 V
(29314)210 648 A
2700 V
(29315)210 648 A
(return)252 1362 A
(modf\(x,)294 1656 A
(&val\))210 1992 A
2244(>)S
2328(0)S
2412(?)S
(val)126 2496 A
2664(+)S
(1.0)126 2748 A
2916(:)S
(val)126 3000 A
3168(;)S
2790 V
(29316)210 648 A
1362(/*)S
(this)168 1698 A
(also)168 1908 A
(works)210 2118 A
2370(if)S
(modf)168 2496 A
(always)252 2706 A
(returns)294 3000 A
3336(a)S
(positive)336 3420 A
2880 V
(29317)210 648 A
(fractional)420 1698 A
(part)168 2160 A
2970 V
(29318)210 648 A
1362(*/)S
3060 V
(29319)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/math/exp.c)756 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(29400)210 648 A
1026(/*)S
4140 V
(29401)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(29402)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(29403)210 648 A
1068(*)S
4410 V
(29404)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
4500 V
(29405)210 648 A
1068(*/)S
4590 V
(29406)210 648 A
1026(/*)S
($Header:)336 1152 A
(exp.c,v)294 1530 A
(1.5)126 1866 A
(91/03/19)336 2034 A
(16:38:29)336 2412 A
(ceriel)252 2790 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4680 V
(29407)210 648 A
4770 V
(29408)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
4860 V
(29409)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
4950 V
(29410)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
5040 V
(29411)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
5130 V
(29412)210 648 A
5220 V
(29413)210 648 A
5310 V
(29414)210 648 A
(double)252 1026 A
5400 V
(29415)210 648 A
(exp\(double)420 1026 A
1488(x\))S
5490 V
(29416)210 648 A
1026({)S
5580 V
(29417)210 648 A
1362(/*)S
(Algorithm)378 1698 A
(and)126 2118 A
(coefficients)504 2286 A
(from:)210 2832 A
5670 V
(29418)210 648 A
("Software)378 2034 A
(manual)252 2454 A
(for)126 2748 A
(the)126 2916 A
(elementary)420 3084 A
(functions")420 3546 A
5760 V
(29419)210 648 A
2034(by)S
(W.J.)168 2160 A
(Cody)168 2370 A
(and)126 2580 A
2748(W.)S
(Waite,)252 2874 A
(Prentice-Hall,)588 3168 A
(1980)168 3798 A
5850 V
(29420)210 648 A
1362(*/)S
5940 V
(29421)210 648 A
6030 V
(29422)210 648 A
(static)252 1362 A
(double)252 1656 A
(p[])126 1950 A
2118(=)S
2202({)S
6120 V
(29423)210 648 A
(0.25000000000000000000e+0,)1092 1698 A
6210 V
(29424)210 648 A
(0.75753180159422776666e-2,)1092 1698 A
8418 V
EP
%%Page: 286 286
BP
/slant 0 def
/height 0 def
630 V
12 B
(286)180 648 A
11 R
2021(File:)S
(src/lib/math/exp.c)800 2254 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(29425)210 648 A
(0.31555192765684646356e-4)1050 1698 A
990 V
(29426)210 648 A
1362(};)S
1080 V
(29427)210 648 A
1170 V
(29428)210 648 A
(static)252 1362 A
(double)252 1656 A
(q[])126 1950 A
2118(=)S
2202({)S
1260 V
(29429)210 648 A
(0.50000000000000000000e+0,)1092 1698 A
1350 V
(29430)210 648 A
(0.56817302698551221787e-1,)1092 1698 A
1440 V
(29431)210 648 A
(0.63121894374398503557e-3,)1092 1698 A
1530 V
(29432)210 648 A
(0.75104028399870046114e-6)1050 1698 A
1620 V
(29433)210 648 A
1362(};)S
1710 V
(29434)210 648 A
(double)252 1362 A
(xn,)126 1698 A
1866(g;)S
1800 V
(29435)210 648 A
(int)126 1362 A
1698(n;)S
1890 V
(29436)210 648 A
(int)126 1362 A
(negative)336 1698 A
2076(=)S
2160(x)S
2244(<)S
2328(0;)S
1980 V
(29437)210 648 A
2070 V
(29438)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
2160 V
(29439)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
2250 V
(29440)210 648 A
(return)252 1698 A
1992(x;)S
2340 V
(29441)210 648 A
1362(})S
2430 V
(29442)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
(M_LN_MIN_D\))462 1698 A
2202({)S
2520 V
(29443)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
2610 V
(29444)210 648 A
(return)252 1698 A
(0.0;)168 1992 A
2700 V
(29445)210 648 A
1362(})S
2790 V
(29446)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(M_LN_MAX_D\))462 1698 A
2202({)S
2880 V
(29447)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
2970 V
(29448)210 648 A
(return)252 1698 A
(HUGE_VAL;)378 1992 A
3060 V
(29449)210 648 A
1362(})S
3150 V
(29450)210 648 A
3240 V
(29451)210 648 A
1362(if)S
(\(negative\))420 1488 A
1950(x)S
2034(=)S
(-x;)126 2118 A
3330 V
(29452)210 648 A
3420 V
(29453)210 648 A
1362(/*)S
(???)126 1488 A
(avoid)210 1656 A
(underflow)378 1908 A
(???)126 2328 A
2496(*/)S
3510 V
(29454)210 648 A
3600 V
(29455)210 648 A
1362(n)S
1446(=)S
1530(x)S
1614(*)S
(M_LOG2E)294 1698 A
2034(+)S
(0.5;)168 2118 A
2370(/*)S
(1/ln\(2\))294 2496 A
2832(=)S
(log2\(e\),)336 2916 A
(0.5)126 3294 A
(added)210 3462 A
(for)126 3714 A
(rounding)336 3882 A
4260(*/)S
3690 V
(29456)210 648 A
1362(xn)S
1488(=)S
1572(n;)S
3780 V
(29457)210 648 A
1362({)S
3870 V
(29458)210 648 A
(double)252 1698 A
2034(x1)S
2160(=)S
(\(long\))252 2244 A
2538(x;)S
3960 V
(29459)210 648 A
(double)252 1698 A
2034(x2)S
2160(=)S
2244(x)S
2328(-)S
(x1;)126 2412 A
4050 V
(29460)210 648 A
4140 V
(29461)210 648 A
1698(g)S
1782(=)S
(\(\(x1-xn*0.693359375\)+x2\))1008 1866 A
2916(-)S
(xn*\(-2.1219444005469058277e-4\);)1302 3000 A
4230 V
(29462)210 648 A
1362(})S
4320 V
(29463)210 648 A
1362(if)S
(\(negative\))420 1488 A
1950({)S
4410 V
(29464)210 648 A
1698(g)S
1782(=)S
(-g;)126 1866 A
4500 V
(29465)210 648 A
1698(n)S
1782(=)S
(-n;)126 1866 A
4590 V
(29466)210 648 A
1362(})S
4680 V
(29467)210 648 A
1362(xn)S
1488(=)S
1572(g)S
1656(*)S
1740(g;)S
4770 V
(29468)210 648 A
1362(x)S
1446(=)S
1530(g)S
1614(*)S
(POLYNOM2\(xn,)504 1698 A
(p\);)126 2244 A
4860 V
(29469)210 648 A
1362(n)S
1446(+=)S
1572(1;)S
4950 V
(29470)210 648 A
(return)252 1362 A
(\(ldexp\(0.5)420 1656 A
2118(+)S
(x/\(POLYNOM3\(xn,)630 2202 A
2874(q\))S
3000(-)S
(x\),)126 3084 A
(n\)\);)168 3252 A
5040 V
(29471)210 648 A
1026(})S
8418 V
EP
%%Page: 287 287
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2009(File:)S
(src/lib/math/fabs.c)825 2242 A
12 B
(287)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/math/fabs.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(29500)210 648 A
1026(/*)S
1440 V
(29501)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(29502)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(29503)210 648 A
1068(*)S
1710 V
(29504)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
1800 V
(29505)210 648 A
1068(*/)S
1890 V
(29506)210 648 A
1026(/*)S
($Header:)336 1152 A
(fabs.c,v)336 1530 A
(1.1)126 1908 A
(89/05/10)336 2076 A
(16:01:17)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
1980 V
(29507)210 648 A
2070 V
(29508)210 648 A
(double)252 1026 A
2160 V
(29509)210 648 A
(fabs\(double)462 1026 A
1530(x\))S
2250 V
(29510)210 648 A
1026({)S
2340 V
(29511)210 648 A
(return)252 1362 A
1698(x)S
1782(<)S
1866(0)S
1950(?)S
2034(-x)S
2160(:)S
2244(x;)S
2430 V
(29512)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/math/floor.c)840 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(29600)210 648 A
1026(/*)S
3240 V
(29601)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
3330 V
(29602)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
3420 V
(29603)210 648 A
1068(*)S
3510 V
(29604)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
3600 V
(29605)210 648 A
1068(*/)S
3690 V
(29606)210 648 A
1026(/*)S
($Header:)336 1152 A
(floor.c,v)378 1530 A
(1.1)126 1950 A
(89/05/10)336 2118 A
(16:01:29)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
3780 V
(29607)210 648 A
3870 V
(29608)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
3960 V
(29609)210 648 A
4050 V
(29610)210 648 A
(double)252 1026 A
4140 V
(29611)210 648 A
(floor\(double)504 1026 A
1572(x\))S
4230 V
(29612)210 648 A
1026({)S
4320 V
(29613)210 648 A
(double)252 1362 A
(val;)168 1656 A
4410 V
(29614)210 648 A
4500 V
(29615)210 648 A
(return)252 1362 A
(modf\(x,)294 1656 A
(&val\))210 1992 A
2244(<)S
2328(0)S
2412(?)S
(val)126 2496 A
2664(-)S
(1.0)126 2748 A
2916(:)S
(val)126 3000 A
3168(;)S
4590 V
(29616)210 648 A
1362(/*)S
(this)168 1698 A
(also)168 1908 A
(works)210 2118 A
2370(if)S
(modf)168 2496 A
(always)252 2706 A
(returns)294 3000 A
3336(a)S
(positive)336 3420 A
4680 V
(29617)210 648 A
(fractional)420 1698 A
(part)168 2160 A
4770 V
(29618)210 648 A
1362(*/)S
4860 V
(29619)210 648 A
1026(})S
8418 V
EP
%%Page: 288 288
BP
/slant 0 def
/height 0 def
630 V
12 B
(288)180 648 A
11 R
1985(File:)S
(src/lib/math/fmod.c)873 2218 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/math/fmod.c)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(29700)210 648 A
1026(/*)S
1440 V
(29701)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(29702)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(29703)210 648 A
1068(*)S
1710 V
(29704)210 648 A
1068(*)S
(Author:)294 1152 A
(Hans)168 1488 A
(van)126 1698 A
(Eck)126 1866 A
1800 V
(29705)210 648 A
1068(*/)S
1890 V
(29706)210 648 A
1026(/*)S
($Header:)336 1152 A
(fmod.c,v)336 1530 A
(1.1)126 1908 A
(89/12/18)336 2076 A
(15:41:53)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
1980 V
(29707)210 648 A
2070 V
(29708)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
2160 V
(29709)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2250 V
(29710)210 648 A
2340 V
(29711)210 648 A
(double)252 1026 A
2430 V
(29712)210 648 A
(fmod\(double)462 1026 A
1530(x,)S
(double)252 1656 A
1950(y\))S
2520 V
(29713)210 648 A
1026({)S
2610 V
(29714)210 648 A
(long)168 1362 A
1698(i;)S
2700 V
(29715)210 648 A
(double)252 1362 A
(val;)168 1656 A
2790 V
(29716)210 648 A
(double)252 1362 A
(frac;)210 1656 A
2880 V
(29717)210 648 A
2970 V
(29718)210 648 A
1362(if)S
1488(\(y)S
1614(==)S
1740(0\))S
1866({)S
3060 V
(29719)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
3150 V
(29720)210 648 A
(return)252 1698 A
1992(0;)S
3240 V
(29721)210 648 A
1362(})S
3330 V
(29722)210 648 A
(frac)168 1362 A
1572(=)S
(modf\()210 1656 A
1908(x)S
1992(/)S
2076(y,)S
(&val\);)252 2202 A
3420 V
(29723)210 648 A
3510 V
(29724)210 648 A
(return)252 1362 A
(frac)168 1656 A
1866(*)S
1950(y;)S
3600 V
(29725)210 648 A
3690 V
(29726)210 648 A
1026(/*)S
3780 V
(29727)210 648 A
(val)126 1362 A
1530(=)S
1614(x)S
1698(/)S
1782(y;)S
3870 V
(29728)210 648 A
1362(if)S
(\(val)168 1488 A
1698(>)S
(LONG_MIN)336 1782 A
2160(&&)S
(val)126 2286 A
2454(<)S
(LONG_MAX\))378 2538 A
2958({)S
3960 V
(29729)210 648 A
1698(i)S
1782(=)S
(val;)168 1866 A
4050 V
(29730)210 648 A
(return)252 1698 A
1992(x)S
2076(-)S
2160(i)S
2244(*)S
2328(y;)S
4140 V
(29731)210 648 A
1362(})S
4230 V
(29732)210 648 A
1026(*/)S
4320 V
(29733)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/math/frexp.s)840 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(29800)210 648 A
1026(#)S
5040 V
(29801)210 648 A
(.sect)210 1026 A
(.text;)252 1278 A
(.sect)210 1572 A
(.rom;)210 1824 A
(.sect)210 2076 A
(.data;)252 2328 A
(.sect)210 2622 A
(.bss)168 2874 A
5130 V
(29802)210 648 A
(.extern)294 1026 A
(_frexp)252 1362 A
5220 V
(29803)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5310 V
(29804)210 648 A
(_frexp:)294 1026 A
5400 V
(29805)210 648 A
(#if)126 1026 A
(__i386)252 1194 A
5490 V
(29806)210 648 A
(push)168 1362 A
(ebp)126 1698 A
5580 V
(29807)210 648 A
(mov)126 1362 A
(ebp,)168 1698 A
(esp)126 1908 A
5670 V
(29808)210 648 A
(push)168 1362 A
(12\(ebp\))294 1698 A
5760 V
(29809)210 648 A
(push)168 1362 A
(8\(ebp\))252 1698 A
5850 V
(29810)210 648 A
(mov)126 1362 A
(eax,)168 1698 A
(esp)126 1908 A
5940 V
(29811)210 648 A
(add)126 1362 A
(eax,)168 1698 A
1908(-4)S
6030 V
(29812)210 648 A
(push)168 1362 A
(eax)126 1698 A
6120 V
(29813)210 648 A
(call)168 1362 A
(.fef8)210 1698 A
6210 V
(29814)210 648 A
(mov)126 1362 A
(eax,)168 1698 A
(16\(ebp\))294 1908 A
8418 V
EP
%%Page: 289 289
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1988(File:)S
(src/lib/math/frexp.s)867 2221 A
12 B
(289)180 4248 A
900 V
7 LST
(29815)210 648 A
(pop)126 1362 A
(\(eax\))210 1698 A
990 V
(29816)210 648 A
(pop)126 1362 A
(eax)126 1698 A
1080 V
(29817)210 648 A
(pop)126 1362 A
(edx)126 1698 A
1170 V
(29818)210 648 A
(leave)210 1362 A
1260 V
(29819)210 648 A
(ret)126 1362 A
1350 V
(29820)210 648 A
(#else)210 1026 A
1278(/*)S
(i86)126 1404 A
1572(*/)S
1440 V
(29821)210 648 A
(push)168 1362 A
1698(bp)S
1530 V
(29822)210 648 A
(mov)126 1362 A
(bp,)126 1698 A
1866(sp)S
1620 V
(29823)210 648 A
(lea)126 1362 A
(bx,)126 1698 A
(4\(bp\))210 1866 A
1710 V
(29824)210 648 A
(mov)126 1362 A
(cx,)126 1698 A
1866(#8)S
1800 V
(29825)210 648 A
(call)168 1362 A
(.loi)168 1698 A
1890 V
(29826)210 648 A
(mov)126 1362 A
(ax,)126 1698 A
1866(sp)S
1980 V
(29827)210 648 A
(add)126 1362 A
(ax,)126 1698 A
(#-2)126 1866 A
2070 V
(29828)210 648 A
(push)168 1362 A
1698(ax)S
2160 V
(29829)210 648 A
(call)168 1362 A
(.fef8)210 1698 A
2250 V
(29830)210 648 A
(mov)126 1362 A
(bx,)126 1698 A
(12\(bp\))252 1866 A
2340 V
(29831)210 648 A
(pop)126 1362 A
(\(bx\))168 1698 A
2430 V
(29832)210 648 A
(call)168 1362 A
(.ret8)210 1698 A
2520 V
(29833)210 648 A
(jmp)126 1362 A
(.cret)210 1698 A
2610 V
(29834)210 648 A
(#endif)252 1026 A
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/math/hugeval.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(29900)210 648 A
1026(/*)S
3690 V
(29901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1990)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
3780 V
(29902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
3870 V
(29903)210 648 A
1068(*)S
3960 V
(29904)210 648 A
1068(*)S
(Author:)294 1152 A
(Hans)168 1488 A
(van)126 1698 A
(Eck)126 1866 A
4050 V
(29905)210 648 A
1068(*/)S
4140 V
(29906)210 648 A
1026(/*)S
($Header:)336 1152 A
(hugeval.c,v)462 1530 A
(1.1)126 2034 A
(90/10/24)336 2202 A
(14:29:42)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4230 V
(29907)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
4320 V
(29908)210 648 A
4410 V
(29909)210 648 A
(double)252 1026 A
4500 V
(29910)210 648 A
(__huge_val\(void\))672 1026 A
4590 V
(29911)210 648 A
1026({)S
4680 V
(29912)210 648 A
(return)252 1362 A
(1.0e+1000;)420 1656 A
2370(/*)S
(This)168 2496 A
(will)168 2706 A
(generate)336 2916 A
3294(a)S
(warning)294 3378 A
3714(*/)S
4770 V
(29913)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/math/isnan.c)840 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(30000)210 648 A
(int)126 1026 A
(__IsNan\(double)588 1194 A
1824(d\))S
5490 V
(30001)210 648 A
1026({)S
5580 V
(30002)210 648 A
(#if)126 1026 A
(defined\(vax\))504 1194 A
1740(||)S
(defined\(pdp\))504 1866 A
5670 V
(30003)210 648 A
(#else)210 1026 A
5760 V
(30004)210 648 A
(float)210 1362 A
1614(f)S
1698(=)S
1782(d;)S
5850 V
(30005)210 648 A
5940 V
(30006)210 648 A
1362(if)S
(\(\(*\(\(long)378 1488 A
1908(*\))S
(&f\))126 2034 A
2202(&)S
(0x7f800000\))462 2286 A
2790(==)S
(0x7f800000)420 2916 A
3378(&&)S
6030 V
(30007)210 648 A
(\(*\(\(long)336 1530 A
1908(*\))S
(&f\))126 2034 A
2202(&)S
(0x007fffff\))462 2286 A
2790(!=)S
2916(0\))S
(return)252 3042 A
3336(1;)S
6120 V
(30008)210 648 A
(#endif)252 1026 A
6210 V
(30009)210 648 A
(return)252 1362 A
1656(0;)S
8418 V
EP
%%Page: 290 290
BP
/slant 0 def
/height 0 def
630 V
12 B
(290)180 648 A
11 R
1984(File:)S
(src/lib/math/isnan.c)874 2217 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(30010)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/math/ldexp.c)840 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(30100)210 648 A
1026(/*)S
1890 V
(30101)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1987)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1980 V
(30102)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2070 V
(30103)210 648 A
1068(*/)S
2160 V
(30104)210 648 A
1026(/*)S
($Header:)336 1152 A
(ldexp.c,v)378 1530 A
(1.5)126 1950 A
(91/03/19)336 2118 A
(16:38:37)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
2250 V
(30105)210 648 A
2340 V
(30106)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
2430 V
(30107)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
2520 V
(30108)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2610 V
(30109)210 648 A
2700 V
(30110)210 648 A
(double)252 1026 A
2790 V
(30111)210 648 A
(ldexp\(double)504 1026 A
(fl,)126 1572 A
(int)126 1740 A
(exp\))168 1908 A
2880 V
(30112)210 648 A
1026({)S
2970 V
(30113)210 648 A
(int)126 1362 A
(sign)168 1530 A
1740(=)S
1824(1;)S
3060 V
(30114)210 648 A
(int)126 1362 A
(currexp;)336 1530 A
3150 V
(30115)210 648 A
3240 V
(30116)210 648 A
1362(if)S
(\(__IsNan\(fl\)\))546 1488 A
2076({)S
3330 V
(30117)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
3420 V
(30118)210 648 A
(return)252 1698 A
(fl;)126 1992 A
3510 V
(30119)210 648 A
1362(})S
3600 V
(30120)210 648 A
1362(if)S
(\(fl)126 1488 A
1656(==)S
(0.0\))168 1782 A
(return)252 1992 A
(0.0;)168 2286 A
3690 V
(30121)210 648 A
1362(if)S
(\(fl<0\))252 1488 A
1782({)S
3780 V
(30122)210 648 A
1698(fl)S
1824(=)S
(-fl;)168 1908 A
3870 V
(30123)210 648 A
(sign)168 1698 A
1908(=)S
(-1;)126 1992 A
3960 V
(30124)210 648 A
1362(})S
4050 V
(30125)210 648 A
1362(if)S
(\(fl)126 1488 A
1656(>)S
(DBL_MAX\))336 1740 A
2118({)S
2706(/*)S
(for)126 2832 A
(infinity)336 3000 A
3378(*/)S
4140 V
(30126)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
4230 V
(30127)210 648 A
(return)252 1698 A
(sign)168 1992 A
2202(*)S
(fl;)126 2286 A
4320 V
(30128)210 648 A
1362(})S
4410 V
(30129)210 648 A
1362(fl)S
1488(=)S
(frexp\(fl,&currexp\);)798 1572 A
4500 V
(30130)210 648 A
(exp)126 1362 A
1530(+=)S
(currexp;)336 1656 A
4590 V
(30131)210 648 A
1362(if)S
(\(exp)168 1488 A
1698(>)S
1782(0\))S
1908({)S
4680 V
(30132)210 648 A
1698(if)S
(\(exp)168 1824 A
2034(>)S
(DBL_MAX_EXP\))504 2118 A
2664({)S
4770 V
(30133)210 648 A
(errno)210 2034 A
2286(=)S
(ERANGE;)294 2370 A
4860 V
(30134)210 648 A
(return)252 2034 A
(sign)168 2328 A
2538(*)S
(HUGE_VAL;)378 2622 A
4950 V
(30135)210 648 A
1698(})S
5040 V
(30136)210 648 A
(while)210 1698 A
(\(exp>30\))336 1950 A
2328({)S
5130 V
(30137)210 648 A
2034(fl)S
2160(*=)S
(\(double\))336 2286 A
(\(1L)126 2664 A
2832(<<)S
(30\);)168 2958 A
5220 V
(30138)210 648 A
(exp)126 2034 A
2202(-=)S
(30;)126 2328 A
5310 V
(30139)210 648 A
1698(})S
5400 V
(30140)210 648 A
1698(fl)S
1824(*=)S
(\(double\))336 1950 A
(\(1L)126 2328 A
2496(<<)S
(exp\);)210 2622 A
5490 V
(30141)210 648 A
1362(})S
5580 V
(30142)210 648 A
(else)168 1362 A
1698({)S
5670 V
(30143)210 648 A
1698(/*)S
(number)252 1824 A
(need)168 2118 A
(not)126 2328 A
2496(be)S
(normalized)420 2622 A
3084(*/)S
5760 V
(30144)210 648 A
1698(if)S
(\(exp)168 1824 A
2034(<)S
(DBL_MIN_EXP)462 2118 A
2622(-)S
(DBL_MANT_DIG\))546 2706 A
3294({)S
5850 V
(30145)210 648 A
(return)252 2034 A
(0.0;)168 2328 A
5940 V
(30146)210 648 A
1698(})S
6030 V
(30147)210 648 A
(while)210 1698 A
(\(exp<-30\))378 1950 A
2370({)S
6120 V
(30148)210 648 A
2034(fl)S
2160(/=)S
(\(double\))336 2286 A
(\(1L)126 2664 A
2832(<<)S
(30\);)168 2958 A
6210 V
(30149)210 648 A
(exp)126 2034 A
2202(+=)S
(30;)126 2328 A
8418 V
EP
%%Page: 291 291
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1978(File:)S
(src/lib/math/ldexp.c)886 2211 A
12 B
(291)180 4248 A
900 V
7 LST
(30150)210 648 A
1698(})S
990 V
(30151)210 648 A
1698(fl)S
1824(/=)S
(\(double\))336 1950 A
(\(1L)126 2328 A
2496(<<)S
(-exp\);)252 2622 A
1080 V
(30152)210 648 A
1362(})S
1170 V
(30153)210 648 A
(return)252 1362 A
(sign)168 1656 A
1866(*)S
(fl;)126 1950 A
1260 V
(30154)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/math/log.c)756 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(30200)210 648 A
1026(/*)S
2340 V
(30201)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2430 V
(30202)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2520 V
(30203)210 648 A
1068(*)S
2610 V
(30204)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
2700 V
(30205)210 648 A
1068(*/)S
2790 V
(30206)210 648 A
1026(/*)S
($Header:)336 1152 A
(log.c,v)294 1530 A
(1.3)126 1866 A
(91/03/19)336 2034 A
(16:38:45)336 2412 A
(ceriel)252 2790 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2880 V
(30207)210 648 A
2970 V
(30208)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
3060 V
(30209)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
3150 V
(30210)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
3240 V
(30211)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
3330 V
(30212)210 648 A
3420 V
(30213)210 648 A
(double)252 1026 A
3510 V
(30214)210 648 A
(log\(double)420 1026 A
1488(x\))S
3600 V
(30215)210 648 A
1026({)S
3690 V
(30216)210 648 A
1362(/*)S
(Algorithm)378 1698 A
(and)126 2118 A
(coefficients)504 2286 A
(from:)210 2832 A
3780 V
(30217)210 648 A
("Software)378 2034 A
(manual)252 2454 A
(for)126 2748 A
(the)126 2916 A
(elementary)420 3084 A
(functions")420 3546 A
3870 V
(30218)210 648 A
2034(by)S
(W.J.)168 2160 A
(Cody)168 2370 A
(and)126 2580 A
2748(W.)S
(Waite,)252 2874 A
(Prentice-Hall,)588 3168 A
(1980)168 3798 A
3960 V
(30219)210 648 A
1362(*/)S
4050 V
(30220)210 648 A
(static)252 1362 A
(double)252 1656 A
(a[])126 1950 A
2118(=)S
2202({)S
4140 V
(30221)210 648 A
(-0.64124943423745581147e2,)1092 1698 A
4230 V
(30222)210 648 A
(0.16383943563021534222e2,)1050 1740 A
4320 V
(30223)210 648 A
(-0.78956112887491257267e0)1050 1698 A
4410 V
(30224)210 648 A
1362(};)S
4500 V
(30225)210 648 A
(static)252 1362 A
(double)252 1656 A
(b[])126 1950 A
2118(=)S
2202({)S
4590 V
(30226)210 648 A
(-0.76949932108494879777e3,)1092 1698 A
4680 V
(30227)210 648 A
(0.31203222091924532844e3,)1050 1740 A
4770 V
(30228)210 648 A
(-0.35667977739034646171e2,)1092 1698 A
4860 V
(30229)210 648 A
(1.0)126 1740 A
4950 V
(30230)210 648 A
1362(};)S
5040 V
(30231)210 648 A
5130 V
(30232)210 648 A
(double)252 1362 A
(znum,)210 1698 A
(zden,)210 1950 A
2202(z,)S
2328(w;)S
5220 V
(30233)210 648 A
(int)126 1362 A
(exponent;)378 1698 A
5310 V
(30234)210 648 A
5400 V
(30235)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
5490 V
(30236)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
5580 V
(30237)210 648 A
(return)252 1698 A
1992(x;)S
5670 V
(30238)210 648 A
1362(})S
5760 V
(30239)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824({)S
5850 V
(30240)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
5940 V
(30241)210 648 A
(return)252 1698 A
(-HUGE_VAL;)420 1992 A
6030 V
(30242)210 648 A
1362(})S
6120 V
(30243)210 648 A
(else)168 1362 A
1572(if)S
1698(\(x)S
1824(==)S
1950(0\))S
2076({)S
6210 V
(30244)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
8418 V
EP
%%Page: 292 292
BP
/slant 0 def
/height 0 def
630 V
12 B
(292)180 648 A
11 R
2031(File:)S
(src/lib/math/log.c)781 2264 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(30245)210 648 A
(return)252 1698 A
(-HUGE_VAL;)420 1992 A
990 V
(30246)210 648 A
1362(})S
1080 V
(30247)210 648 A
1170 V
(30248)210 648 A
1362(if)S
1488(\(x)S
1614(<=)S
(DBL_MAX\))336 1740 A
2118({)S
1260 V
(30249)210 648 A
1362(})S
1350 V
(30250)210 648 A
(else)168 1362 A
(return)252 1572 A
1866(x;)S
2034(/*)S
(for)126 2160 A
(infinity)336 2328 A
(and)126 2706 A
(Nan)126 2874 A
3042(*/)S
1440 V
(30251)210 648 A
1362(x)S
1446(=)S
(frexp\(x,)336 1530 A
(&exponent\);)462 1908 A
1530 V
(30252)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(M_1_SQRT2\))420 1698 A
2160({)S
1620 V
(30253)210 648 A
(znum)168 1698 A
1908(=)S
1992(\(x)S
2118(-)S
(0.5\))168 2202 A
2412(-)S
(0.5;)168 2496 A
1710 V
(30254)210 648 A
(zden)168 1698 A
1908(=)S
1992(x)S
2076(*)S
(0.5)126 2160 A
2328(+)S
(0.5;)168 2412 A
1800 V
(30255)210 648 A
1362(})S
1890 V
(30256)210 648 A
(else)168 1362 A
1572({)S
1980 V
(30257)210 648 A
(znum)168 1698 A
1908(=)S
1992(x)S
2076(-)S
(0.5;)168 2160 A
2070 V
(30258)210 648 A
(zden)168 1698 A
1908(=)S
(znum)168 1992 A
2202(*)S
(0.5)126 2286 A
2454(+)S
(0.5;)168 2538 A
2160 V
(30259)210 648 A
(exponent--;)462 1698 A
2250 V
(30260)210 648 A
1362(})S
2340 V
(30261)210 648 A
1362(z)S
1446(=)S
(znum/zden;)420 1530 A
1992(w)S
2076(=)S
2160(z)S
2244(*)S
2328(z;)S
2430 V
(30262)210 648 A
1362(x)S
1446(=)S
1530(z)S
1614(+)S
1698(z)S
1782(*)S
1866(w)S
1950(*)S
(\(POLYNOM2\(w,a\)/POLYNOM3\(w,b\)\);)1260 2034 A
2520 V
(30263)210 648 A
1362(z)S
1446(=)S
(exponent;)378 1530 A
2610 V
(30264)210 648 A
1362(x)S
1446(+=)S
1572(z)S
1656(*)S
(\(-2.121944400546905827679e-4\);)1260 1740 A
2700 V
(30265)210 648 A
(return)252 1362 A
1656(x)S
1740(+)S
1824(z)S
1908(*)S
(0.693359375;)504 1992 A
2790 V
(30266)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/math/log10.c)840 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(30300)210 648 A
1026(/*)S
3690 V
(30301)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
3780 V
(30302)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
3870 V
(30303)210 648 A
1068(*)S
3960 V
(30304)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
4050 V
(30305)210 648 A
1068(*/)S
4140 V
(30306)210 648 A
1026(/*)S
($Header:)336 1152 A
(log10.c,v)378 1530 A
(1.3)126 1950 A
(91/03/19)336 2118 A
(16:38:55)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
4230 V
(30307)210 648 A
4320 V
(30308)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
4410 V
(30309)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
4500 V
(30310)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
4590 V
(30311)210 648 A
4680 V
(30312)210 648 A
(double)252 1026 A
4770 V
(30313)210 648 A
(log10\(double)504 1026 A
1572(x\))S
4860 V
(30314)210 648 A
1026({)S
4950 V
(30315)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
5040 V
(30316)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
5130 V
(30317)210 648 A
(return)252 1698 A
1992(x;)S
5220 V
(30318)210 648 A
1362(})S
5310 V
(30319)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824({)S
5400 V
(30320)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
5490 V
(30321)210 648 A
(return)252 1698 A
(-HUGE_VAL;)420 1992 A
5580 V
(30322)210 648 A
1362(})S
5670 V
(30323)210 648 A
(else)168 1362 A
1572(if)S
1698(\(x)S
1824(==)S
1950(0\))S
2076({)S
5760 V
(30324)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
5850 V
(30325)210 648 A
(return)252 1698 A
(-HUGE_VAL;)420 1992 A
5940 V
(30326)210 648 A
1362(})S
6030 V
(30327)210 648 A
6120 V
(30328)210 648 A
(return)252 1362 A
(log\(x\))252 1656 A
1950(/)S
(M_LN10;)294 2034 A
6210 V
(30329)210 648 A
1026(})S
8418 V
EP
%%Page: 293 293
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1988(File:)S
(src/lib/math/modf.s)866 2221 A
12 B
(293)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/math/modf.s)798 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(30400)210 648 A
1026(#)S
1440 V
(30401)210 648 A
(.sect)210 1026 A
(.text;)252 1278 A
(.sect)210 1572 A
(.rom;)210 1824 A
(.sect)210 2076 A
(.data;)252 2328 A
(.sect)210 2622 A
(.bss)168 2874 A
1530 V
(30402)210 648 A
(.extern)294 1026 A
(_modf)210 1362 A
1620 V
(30403)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1710 V
(30404)210 648 A
(_modf:)252 1026 A
1800 V
(30405)210 648 A
(#if)126 1026 A
(__i386)252 1194 A
1890 V
(30406)210 648 A
(push)168 1362 A
(ebp)126 1698 A
1980 V
(30407)210 648 A
(mov)126 1362 A
(ebp,)168 1698 A
(esp)126 1908 A
2070 V
(30408)210 648 A
(push)168 1362 A
(12\(ebp\))294 1698 A
2160 V
(30409)210 648 A
(push)168 1362 A
(8\(ebp\))252 1698 A
2250 V
(30410)210 648 A
(push)168 1362 A
1698(1)S
2340 V
(30411)210 648 A
(push)168 1362 A
1698(4)S
2430 V
(30412)210 648 A
(call)168 1362 A
(.cif8)210 1698 A
2520 V
(30413)210 648 A
(mov)126 1362 A
(eax,)168 1698 A
(esp)126 1908 A
2610 V
(30414)210 648 A
(push)168 1362 A
(eax)126 1698 A
2700 V
(30415)210 648 A
(call)168 1362 A
(.fif8)210 1698 A
2790 V
(30416)210 648 A
(pop)126 1362 A
(ecx)126 1698 A
2880 V
(30417)210 648 A
(mov)126 1362 A
(edx,)168 1698 A
(16\(ebp\))294 1908 A
2970 V
(30418)210 648 A
(pop)126 1362 A
(ecx)126 1698 A
3060 V
(30419)210 648 A
(pop)126 1362 A
(ebx)126 1698 A
3150 V
(30420)210 648 A
(mov)126 1362 A
(0\(edx\),)294 1698 A
(ecx)126 2034 A
3240 V
(30421)210 648 A
(mov)126 1362 A
(4\(edx\),)294 1698 A
(ebx)126 2034 A
3330 V
(30422)210 648 A
(pop)126 1362 A
(eax)126 1698 A
3420 V
(30423)210 648 A
(pop)126 1362 A
(edx)126 1698 A
3510 V
(30424)210 648 A
(leave)210 1362 A
3600 V
(30425)210 648 A
(ret)126 1362 A
3690 V
(30426)210 648 A
(#else)210 1026 A
1278(/*)S
(i86)126 1404 A
1572(*/)S
3780 V
(30427)210 648 A
(push)168 1362 A
1698(bp)S
3870 V
(30428)210 648 A
(mov)126 1362 A
(bp,)126 1698 A
1866(sp)S
3960 V
(30429)210 648 A
(lea)126 1362 A
(bx,)126 1698 A
(4\(bp\))210 1866 A
4050 V
(30430)210 648 A
(mov)126 1362 A
(cx,)126 1698 A
1866(#8)S
4140 V
(30431)210 648 A
(call)168 1362 A
(.loi)168 1698 A
4230 V
(30432)210 648 A
(mov)126 1362 A
(dx,)126 1698 A
1866(#1)S
4320 V
(30433)210 648 A
(push)168 1362 A
1698(dx)S
4410 V
(30434)210 648 A
(push)168 1362 A
1698(dx)S
4500 V
(30435)210 648 A
(push)168 1362 A
1698(dx)S
4590 V
(30436)210 648 A
(mov)126 1362 A
(ax,)126 1698 A
1866(#2)S
4680 V
(30437)210 648 A
(push)168 1362 A
1698(ax)S
4770 V
(30438)210 648 A
(call)168 1362 A
(.cif8)210 1698 A
4860 V
(30439)210 648 A
(mov)126 1362 A
(ax,)126 1698 A
1866(sp)S
4950 V
(30440)210 648 A
(push)168 1362 A
1698(ax)S
5040 V
(30441)210 648 A
(call)168 1362 A
(.fif8)210 1698 A
5130 V
(30442)210 648 A
(pop)126 1362 A
1698(bx)S
5220 V
(30443)210 648 A
(mov)126 1362 A
(bx,)126 1698 A
(12\(bp\))252 1866 A
5310 V
(30444)210 648 A
(mov)126 1362 A
(cx,)126 1698 A
1866(#8)S
5400 V
(30445)210 648 A
(call)168 1362 A
(.sti)168 1698 A
5490 V
(30446)210 648 A
(call)168 1362 A
(.ret8)210 1698 A
5580 V
(30447)210 648 A
(jmp)126 1362 A
(.cret)210 1698 A
5670 V
(30448)210 648 A
(#endif)252 1026 A
8418 V
EP
%%Page: 294 294
BP
/slant 0 def
/height 0 def
630 V
12 B
(294)180 648 A
11 R
2006(File:)S
(src/lib/math/pow.c)830 2239 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/math/pow.c)756 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(30500)210 648 A
1026(/*)S
1440 V
(30501)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(30502)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(30503)210 648 A
1068(*)S
1710 V
(30504)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
1800 V
(30505)210 648 A
1068(*/)S
1890 V
(30506)210 648 A
1026(/*)S
($Header:)336 1152 A
(pow.c,v)294 1530 A
(1.3)126 1866 A
(90/08/28)336 2034 A
(13:59:36)336 2412 A
(eck)126 2790 A
(Exp)126 2958 A
3126($)S
3210(*/)S
1980 V
(30507)210 648 A
2070 V
(30508)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
2160 V
(30509)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
2250 V
(30510)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2340 V
(30511)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
2430 V
(30512)210 648 A
2520 V
(30513)210 648 A
(double)252 1026 A
2610 V
(30514)210 648 A
(pow\(double)420 1026 A
1488(x,)S
(double)252 1614 A
1908(y\))S
2700 V
(30515)210 648 A
1026({)S
2790 V
(30516)210 648 A
1362(/*)S
(Simple)252 1698 A
(version)294 1992 A
(for)126 2328 A
(now.)168 2496 A
(The)126 2706 A
(Cody)168 2874 A
(and)126 3084 A
(Waite)210 3252 A
(book)168 3504 A
(has)126 3714 A
2880 V
(30517)210 648 A
1698(a)S
(very)168 1782 A
(complicated,)504 1992 A
(much)168 2538 A
(more)168 2748 A
(precise)294 2958 A
(version,)336 3294 A
(but)126 3672 A
2970 V
(30518)210 648 A
(this)168 1698 A
(version)294 1908 A
(has)126 2244 A
(machine-dependent)714 2412 A
(arrays)252 3168 A
3462(A1)S
(and)126 3588 A
(A2,)126 3756 A
3060 V
(30519)210 648 A
(and)126 1698 A
1866(I)S
(don't)210 1950 A
(know)168 2202 A
(yet)126 2412 A
(how)126 2580 A
2748(to)S
(solve)210 2874 A
(this)168 3126 A
(???)126 3336 A
3150 V
(30520)210 648 A
1362(*/)S
3240 V
(30521)210 648 A
(double)252 1362 A
(dummy;)252 1656 A
3330 V
(30522)210 648 A
(int)126 1362 A
(result_neg)420 1698 A
2160(=)S
2244(0;)S
3420 V
(30523)210 648 A
3510 V
(30524)210 648 A
1362(if)S
(\(\(x)126 1488 A
1656(==)S
1782(0)S
1866(&&)S
1992(y)S
2076(==)S
2202(0\))S
2328(||)S
3600 V
(30525)210 648 A
1530(\(x)S
1656(<)S
1740(0)S
1824(&&)S
(modf\(y,)294 1950 A
(&dummy\))294 2286 A
2622(!=)S
(0\)\))126 2748 A
2916({)S
3690 V
(30526)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
3780 V
(30527)210 648 A
(return)252 1698 A
1992(0;)S
3870 V
(30528)210 648 A
1362(})S
3960 V
(30529)210 648 A
4050 V
(30530)210 648 A
1362(if)S
1488(\(x)S
1614(==)S
1740(0\))S
(return)252 1866 A
2160(x;)S
4140 V
(30531)210 648 A
4230 V
(30532)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824({)S
4320 V
(30533)210 648 A
1698(if)S
(\(modf\(y/2.0,)504 1824 A
(&dummy\))294 2370 A
2706(!=)S
2832(0\))S
2958({)S
4410 V
(30534)210 648 A
2034(/*)S
2160(y)S
(was)126 2244 A
(odd)126 2412 A
2580(*/)S
4500 V
(30535)210 648 A
(result_neg)420 2034 A
2496(=)S
2580(1;)S
4590 V
(30536)210 648 A
1698(})S
4680 V
(30537)210 648 A
1698(x)S
1782(=)S
(-x;)126 1866 A
4770 V
(30538)210 648 A
1362(})S
4860 V
(30539)210 648 A
1362(x)S
1446(=)S
(log\(x\);)294 1530 A
4950 V
(30540)210 648 A
5040 V
(30541)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824({)S
5130 V
(30542)210 648 A
1698(x)S
1782(=)S
(-x;)126 1866 A
5220 V
(30543)210 648 A
1698(y)S
1782(=)S
(-y;)126 1866 A
5310 V
(30544)210 648 A
1362(})S
5400 V
(30545)210 648 A
1362(/*)S
(Beware)252 1488 A
1782(of)S
(overflow)336 1908 A
2286(in)S
(the)126 2412 A
(multiplication)588 2580 A
3210(*/)S
5490 V
(30546)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(1.0)126 1698 A
1866(&&)S
1992(y)S
2076(>)S
(DBL_MAX/x\))420 2160 A
2622({)S
5580 V
(30547)210 648 A
(errno)210 1698 A
1950(=)S
(ERANGE;)294 2034 A
5670 V
(30548)210 648 A
(return)252 1698 A
(result_neg)420 1992 A
2454(?)S
(-HUGE_VAL)378 2538 A
2958(:)S
(HUGE_VAL;)378 3042 A
5760 V
(30549)210 648 A
1362(})S
5850 V
(30550)210 648 A
5940 V
(30551)210 648 A
1362(x)S
1446(=)S
(exp\(x)210 1530 A
1782(*)S
(y\);)126 1866 A
6030 V
(30552)210 648 A
(return)252 1362 A
(result_neg)420 1656 A
2118(?)S
2202(-x)S
2328(:)S
2412(x;)S
6120 V
(30553)210 648 A
1026(})S
8418 V
EP
%%Page: 295 295
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2037(File:)S
(src/lib/math/sin.c)769 2270 A
12 B
(295)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/math/sin.c)756 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(30600)210 648 A
1026(/*)S
1440 V
(30601)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1530 V
(30602)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
1620 V
(30603)210 648 A
1068(*)S
1710 V
(30604)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
1800 V
(30605)210 648 A
1068(*/)S
1890 V
(30606)210 648 A
1026(/*)S
($Header:)336 1152 A
(sin.c,v)294 1530 A
(1.3)126 1866 A
(91/03/19)336 2034 A
(16:39:04)336 2412 A
(ceriel)252 2790 A
(Exp)126 3084 A
3252($)S
3336(*/)S
1980 V
(30607)210 648 A
2070 V
(30608)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
2160 V
(30609)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
2250 V
(30610)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2340 V
(30611)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
2430 V
(30612)210 648 A
2520 V
(30613)210 648 A
(static)252 1026 A
(double)252 1320 A
2610 V
(30614)210 648 A
(sinus\(double)504 1026 A
1572(x,)S
(int)126 1698 A
(cos_flag\))378 1866 A
2700 V
(30615)210 648 A
1026({)S
2790 V
(30616)210 648 A
1362(/*)S
(Algorithm)378 1698 A
(and)126 2118 A
(coefficients)504 2286 A
(from:)210 2832 A
2880 V
(30617)210 648 A
("Software)378 2034 A
(manual)252 2454 A
(for)126 2748 A
(the)126 2916 A
(elementary)420 3084 A
(functions")420 3546 A
2970 V
(30618)210 648 A
2034(by)S
(W.J.)168 2160 A
(Cody)168 2370 A
(and)126 2580 A
2748(W.)S
(Waite,)252 2874 A
(Prentice-Hall,)588 3168 A
(1980)168 3798 A
3060 V
(30619)210 648 A
1362(*/)S
3150 V
(30620)210 648 A
3240 V
(30621)210 648 A
(static)252 1362 A
(double)252 1656 A
(r[])126 1950 A
2118(=)S
2202({)S
3330 V
(30622)210 648 A
(-0.16666666666666665052e+0,)1134 1698 A
3420 V
(30623)210 648 A
(0.83333333333331650314e-2,)1092 1740 A
3510 V
(30624)210 648 A
(-0.19841269841201840457e-3,)1134 1698 A
3600 V
(30625)210 648 A
(0.27557319210152756119e-5,)1092 1740 A
3690 V
(30626)210 648 A
(-0.25052106798274584544e-7,)1134 1698 A
3780 V
(30627)210 648 A
(0.16058936490371589114e-9,)1092 1740 A
3870 V
(30628)210 648 A
(-0.76429178068910467734e-12,)1176 1698 A
3960 V
(30629)210 648 A
(0.27204790957888846175e-14)1092 1740 A
4050 V
(30630)210 648 A
1362(};)S
4140 V
(30631)210 648 A
4230 V
(30632)210 648 A
(double)252 1362 A
1698(y;)S
4320 V
(30633)210 648 A
(int)126 1362 A
(neg)126 1698 A
1866(=)S
1950(1;)S
4410 V
(30634)210 648 A
4500 V
(30635)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
4590 V
(30636)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
4680 V
(30637)210 648 A
(return)252 1698 A
1992(x;)S
4770 V
(30638)210 648 A
1362(})S
4860 V
(30639)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824({)S
4950 V
(30640)210 648 A
1698(x)S
1782(=)S
(-x;)126 1866 A
5040 V
(30641)210 648 A
(neg)126 1698 A
1866(=)S
(-1;)126 1950 A
5130 V
(30642)210 648 A
1362(})S
5220 V
(30643)210 648 A
1362(if)S
(\(cos_flag\))420 1488 A
1950({)S
5310 V
(30644)210 648 A
(neg)126 1698 A
1866(=)S
1950(1;)S
5400 V
(30645)210 648 A
1698(y)S
1782(=)S
(M_PI_2)252 1866 A
2160(+)S
2244(x;)S
5490 V
(30646)210 648 A
1362(})S
5580 V
(30647)210 648 A
(else)168 1362 A
1698(y)S
1782(=)S
1866(x;)S
5670 V
(30648)210 648 A
5760 V
(30649)210 648 A
1362(/*)S
(???)126 1488 A
(avoid)210 1656 A
(loss)168 1908 A
2118(of)S
(significance,)546 2244 A
2832(if)S
2958(y)S
3042(is)S
(too)126 3168 A
(large,)252 3336 A
(error)210 3630 A
(???)126 3882 A
4050(*/)S
5850 V
(30650)210 648 A
5940 V
(30651)210 648 A
1362(y)S
1446(=)S
1530(y)S
1614(*)S
(M_1_PI)252 1698 A
1992(+)S
(0.5;)168 2076 A
6030 V
(30652)210 648 A
6120 V
(30653)210 648 A
1362(if)S
1488(\(y)S
1614(>=)S
(DBL_MAX/M_PI\))546 1740 A
(return)252 2328 A
(0.0;)168 2622 A
6210 V
(30654)210 648 A
8418 V
EP
%%Page: 296 296
BP
/slant 0 def
/height 0 def
630 V
12 B
(296)180 648 A
11 R
2037(File:)S
(src/lib/math/sin.c)769 2270 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(30655)210 648 A
1362(/*)S
(Use)126 1698 A
(extended)336 1866 A
(precision)378 2244 A
2664(to)S
(calculate)378 2790 A
(reduced)294 3210 A
(argument.)378 3546 A
990 V
(30656)210 648 A
(Here)168 1698 A
1908(we)S
(used)168 2034 A
2244(12)S
(bits)168 2370 A
2580(of)S
(the)126 2706 A
(mantissa)336 2874 A
(for)126 3252 A
(a1.)126 3420 A
1080 V
(30657)210 648 A
(Also)168 1698 A
(split)210 1908 A
2160(x)S
2244(in)S
(integer)294 2370 A
(part)168 2706 A
2916(x1)S
(and)126 3042 A
(fraction)336 3210 A
(part)168 3588 A
(x2.)126 3798 A
1170 V
(30658)210 648 A
1362(*/)S
1260 V
(30659)210 648 A
(#define)294 1026 A
1362(A1)S
(3.1416015625)504 1488 A
1350 V
(30660)210 648 A
(#define)294 1026 A
1362(A2)S
(-8.908910206761537356617e-6)1134 1488 A
1440 V
(30661)210 648 A
1362({)S
1530 V
(30662)210 648 A
(double)252 1698 A
(x1,)126 1992 A
(x2;)126 2160 A
1620 V
(30663)210 648 A
1710 V
(30664)210 648 A
(modf\(y,)294 1698 A
(&y\);)168 2034 A
1800 V
(30665)210 648 A
1698(if)S
(\(modf\(0.5*y,)504 1824 A
(&x1\)\))210 2370 A
(neg)126 2622 A
2790(=)S
(-neg;)210 2874 A
1890 V
(30666)210 648 A
1698(if)S
(\(cos_flag\))420 1824 A
2286(y)S
2370(-=)S
(0.5;)168 2496 A
1980 V
(30667)210 648 A
1698(x2)S
1824(=)S
(modf\(x,)294 1908 A
(&x1\);)210 2244 A
2070 V
(30668)210 648 A
1698(x)S
1782(=)S
1866(x1)S
1992(-)S
2076(y)S
2160(*)S
(A1;)126 2244 A
2160 V
(30669)210 648 A
1698(x)S
1782(+=)S
(x2;)126 1908 A
2250 V
(30670)210 648 A
1698(x)S
1782(-=)S
1908(y)S
1992(*)S
(A2;)126 2076 A
2340 V
(30671)210 648 A
(#undef)252 1026 A
1320(A1)S
2430 V
(30672)210 648 A
(#undef)252 1026 A
1320(A2)S
2520 V
(30673)210 648 A
1362(})S
2610 V
(30674)210 648 A
2700 V
(30675)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824({)S
2790 V
(30676)210 648 A
(neg)126 1698 A
1866(=)S
(-neg;)210 1950 A
2880 V
(30677)210 648 A
1698(x)S
1782(=)S
(-x;)126 1866 A
2970 V
(30678)210 648 A
1362(})S
3060 V
(30679)210 648 A
3150 V
(30680)210 648 A
1362(/*)S
(???)126 1488 A
(avoid)210 1656 A
(underflow)378 1908 A
(???)126 2328 A
2496(*/)S
3240 V
(30681)210 648 A
3330 V
(30682)210 648 A
1362(y)S
1446(=)S
1530(x)S
1614(*)S
1698(x;)S
3420 V
(30683)210 648 A
1362(x)S
1446(+=)S
1572(x)S
1656(*)S
1740(y)S
1824(*)S
(POLYNOM7\(y,)462 1908 A
(r\);)126 2412 A
3510 V
(30684)210 648 A
(return)252 1362 A
(neg==-1)294 1656 A
1992(?)S
2076(-x)S
2202(:)S
2286(x;)S
3600 V
(30685)210 648 A
1026(})S
3780 V
(30687)210 648 A
(double)252 1026 A
3870 V
(30688)210 648 A
(sin\(double)420 1026 A
1488(x\))S
3960 V
(30689)210 648 A
1026({)S
4050 V
(30690)210 648 A
(return)252 1362 A
(sinus\(x,)336 1656 A
(0\);)126 2034 A
4140 V
(30691)210 648 A
1026(})S
4320 V
(30693)210 648 A
(double)252 1026 A
4410 V
(30694)210 648 A
(cos\(double)420 1026 A
1488(x\))S
4500 V
(30695)210 648 A
1026({)S
4590 V
(30696)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824(x)S
1908(=)S
(-x;)126 1992 A
4680 V
(30697)210 648 A
(return)252 1362 A
(sinus\(x,)336 1656 A
(1\);)126 2034 A
4770 V
(30698)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/math/sinh.c)798 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(30700)210 648 A
1026(/*)S
5490 V
(30701)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5580 V
(30702)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5670 V
(30703)210 648 A
1068(*)S
5760 V
(30704)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
5850 V
(30705)210 648 A
1068(*/)S
5940 V
(30706)210 648 A
1026(/*)S
($Header:)336 1152 A
(sinh.c,v)336 1530 A
(1.3)126 1908 A
(91/03/19)336 2076 A
(16:39:12)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
6030 V
(30707)210 648 A
6120 V
(30708)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
6210 V
(30709)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
8418 V
EP
%%Page: 297 297
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2009(File:)S
(src/lib/math/sinh.c)824 2242 A
12 B
(297)180 4248 A
900 V
7 LST
(30710)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
990 V
(30711)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
1080 V
(30712)210 648 A
1170 V
(30713)210 648 A
(static)252 1026 A
(double)252 1320 A
1260 V
(30714)210 648 A
(sinh_cosh\(double)672 1026 A
1740(x,)S
(int)126 1866 A
(cosh_flag\))420 2034 A
1350 V
(30715)210 648 A
1026({)S
1440 V
(30716)210 648 A
1362(/*)S
(Algorithm)378 1698 A
(and)126 2118 A
(coefficients)504 2286 A
(from:)210 2832 A
1530 V
(30717)210 648 A
("Software)378 2034 A
(manual)252 2454 A
(for)126 2748 A
(the)126 2916 A
(elementary)420 3084 A
(functions")420 3546 A
1620 V
(30718)210 648 A
2034(by)S
(W.J.)168 2160 A
(Cody)168 2370 A
(and)126 2580 A
2748(W.)S
(Waite,)252 2874 A
(Prentice-Hall,)588 3168 A
(1980)168 3798 A
1710 V
(30719)210 648 A
1362(*/)S
1800 V
(30720)210 648 A
1890 V
(30721)210 648 A
(static)252 1362 A
(double)252 1656 A
(p[])126 1950 A
2118(=)S
2202({)S
1980 V
(30722)210 648 A
(-0.35181283430177117881e+6,)1134 1698 A
2070 V
(30723)210 648 A
(-0.11563521196851768270e+5,)1134 1698 A
2160 V
(30724)210 648 A
(-0.16375798202630751372e+3,)1134 1698 A
2250 V
(30725)210 648 A
(-0.78966127417357099479e+0)1092 1698 A
2340 V
(30726)210 648 A
1362(};)S
2430 V
(30727)210 648 A
(static)252 1362 A
(double)252 1656 A
(q[])126 1950 A
2118(=)S
2202({)S
2520 V
(30728)210 648 A
(-0.21108770058106271242e+7,)1134 1698 A
2610 V
(30729)210 648 A
(0.36162723109421836460e+5,)1092 1740 A
2700 V
(30730)210 648 A
(-0.27773523119650701167e+3,)1134 1698 A
2790 V
(30731)210 648 A
(1.0)126 1740 A
2880 V
(30732)210 648 A
1362(};)S
2970 V
(30733)210 648 A
(int)126 1362 A
(negative)336 1698 A
2076(=)S
2160(x)S
2244(<)S
2328(0;)S
3060 V
(30734)210 648 A
(double)252 1362 A
1698(y)S
1782(=)S
(negative)336 1866 A
2244(?)S
2328(-x)S
2454(:)S
2538(x;)S
3150 V
(30735)210 648 A
3240 V
(30736)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
3330 V
(30737)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
3420 V
(30738)210 648 A
(return)252 1698 A
1992(x;)S
3510 V
(30739)210 648 A
1362(})S
3600 V
(30740)210 648 A
1362(if)S
1488(\(!)S
(cosh_flag)378 1614 A
2034(&&)S
2160(y)S
2244(<=)S
(1.0\))168 2370 A
2580({)S
3690 V
(30741)210 648 A
1698(/*)S
(???)126 1824 A
(check)210 1992 A
(for)126 2244 A
(underflow)378 2412 A
(???)126 2832 A
3000(*/)S
3780 V
(30742)210 648 A
1698(y)S
1782(=)S
1866(y)S
1950(*)S
2034(y;)S
3870 V
(30743)210 648 A
(return)252 1698 A
1992(x)S
2076(+)S
2160(x)S
2244(*)S
2328(y)S
2412(*)S
(POLYNOM3\(y,)462 2496 A
(p\)/POLYNOM3\(y,q\);)714 3000 A
3960 V
(30744)210 648 A
1362(})S
4050 V
(30745)210 648 A
4140 V
(30746)210 648 A
1362(if)S
1488(\(y)S
1614(>=)S
(M_LN_MAX_D\))462 1740 A
2244({)S
4230 V
(30747)210 648 A
1698(/*)S
(exp\(y\))252 1824 A
(would)210 2118 A
(cause)210 2370 A
(overflow)336 2622 A
3000(*/)S
4320 V
(30748)210 648 A
(#define)294 1026 A
(LNV)126 1362 A
(0.69316101074218750000e+0)1050 1698 A
4410 V
(30749)210 648 A
(#define)294 1026 A
(VD2M1)210 1362 A
(0.52820835025874852469e-4)1050 1698 A
4500 V
(30750)210 648 A
(double)252 1698 A
2034(w)S
2118(=)S
2202(y)S
2286(-)S
(LNV;)168 2370 A
4590 V
(30751)210 648 A
4680 V
(30752)210 648 A
1698(if)S
1824(\(w)S
1950(<)S
(M_LN_MAX_D+M_LN2-LNV\))882 2034 A
2958({)S
4770 V
(30753)210 648 A
2034(x)S
2118(=)S
(exp\(w\);)294 2202 A
4860 V
(30754)210 648 A
2034(x)S
2118(+=)S
(VD2M1)210 2244 A
2496(*)S
2580(x;)S
4950 V
(30755)210 648 A
1698(})S
5040 V
(30756)210 648 A
(else)168 1698 A
1908({)S
5130 V
(30757)210 648 A
(errno)210 2034 A
2286(=)S
(ERANGE;)294 2370 A
5220 V
(30758)210 648 A
2034(x)S
2118(=)S
(HUGE_VAL;)378 2202 A
5310 V
(30759)210 648 A
1698(})S
5400 V
(30760)210 648 A
1362(})S
5490 V
(30761)210 648 A
(else)168 1362 A
1572({)S
5580 V
(30762)210 648 A
(double)252 1698 A
2034(z)S
2118(=)S
(exp\(y\);)294 2202 A
5670 V
(30763)210 648 A
5760 V
(30764)210 648 A
1698(x)S
1782(=)S
(0.5)126 1866 A
2034(*)S
2118(\(z)S
2244(+)S
(\(cosh_flag)420 2328 A
2790(?)S
(1.0)126 2874 A
3042(:)S
(-1.0\)/z\);)378 3126 A
5850 V
(30765)210 648 A
1362(})S
5940 V
(30766)210 648 A
(return)252 1362 A
(negative)336 1656 A
2034(?)S
2118(-x)S
2244(:)S
2328(x;)S
6030 V
(30767)210 648 A
1026(})S
6210 V
(30769)210 648 A
(double)252 1026 A
8418 V
EP
%%Page: 298 298
BP
/slant 0 def
/height 0 def
630 V
12 B
(298)180 648 A
11 R
2009(File:)S
(src/lib/math/sinh.c)824 2242 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(30770)210 648 A
(sinh\(double)462 1026 A
1530(x\))S
990 V
(30771)210 648 A
1026({)S
1080 V
(30772)210 648 A
(return)252 1362 A
(sinh_cosh\(x,)504 1656 A
(0\);)126 2202 A
1170 V
(30773)210 648 A
1026(})S
1350 V
(30775)210 648 A
(double)252 1026 A
1440 V
(30776)210 648 A
(cosh\(double)462 1026 A
1530(x\))S
1530 V
(30777)210 648 A
1026({)S
1620 V
(30778)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824(x)S
1908(=)S
(-x;)126 1992 A
1710 V
(30779)210 648 A
(return)252 1362 A
(sinh_cosh\(x,)504 1656 A
(1\);)126 2202 A
1800 V
(30780)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/math/sqrt.c)798 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(30800)210 648 A
1026(/*)S
2790 V
(30801)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
2880 V
(30802)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2970 V
(30803)210 648 A
1068(*)S
3060 V
(30804)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
3150 V
(30805)210 648 A
1068(*/)S
3240 V
(30806)210 648 A
1026(/*)S
($Header:)336 1152 A
(sqrt.c,v)336 1530 A
(1.3)126 1908 A
(91/03/19)336 2076 A
(16:39:21)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
3330 V
(30807)210 648 A
3420 V
(30808)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
3510 V
(30809)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
3600 V
(30810)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
3690 V
(30811)210 648 A
3780 V
(30812)210 648 A
(#define)294 1026 A
(NITER)210 1362 A
1698(5)S
3870 V
(30813)210 648 A
3960 V
(30814)210 648 A
(double)252 1026 A
4050 V
(30815)210 648 A
(sqrt\(double)462 1026 A
1530(x\))S
4140 V
(30816)210 648 A
1026({)S
4230 V
(30817)210 648 A
(int)126 1362 A
(exponent;)378 1530 A
4320 V
(30818)210 648 A
(double)252 1362 A
(val;)168 1656 A
4410 V
(30819)210 648 A
4500 V
(30820)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
4590 V
(30821)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
4680 V
(30822)210 648 A
(return)252 1698 A
1992(x;)S
4770 V
(30823)210 648 A
1362(})S
4860 V
(30824)210 648 A
1362(if)S
1488(\(x)S
1614(<=)S
1740(0\))S
1866({)S
4950 V
(30825)210 648 A
1698(if)S
1824(\(x)S
1950(<)S
2034(0\))S
(errno)210 2160 A
2412(=)S
(EDOM;)210 2496 A
5040 V
(30826)210 648 A
(return)252 1698 A
1992(0;)S
5130 V
(30827)210 648 A
1362(})S
5220 V
(30828)210 648 A
5310 V
(30829)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
(DBL_MAX\))336 1698 A
(return)252 2076 A
2370(x;)S
2706(/*)S
(for)126 2832 A
(infinity)336 3000 A
3378(*/)S
5400 V
(30830)210 648 A
5490 V
(30831)210 648 A
(val)126 1362 A
1530(=)S
(frexp\(x,)336 1614 A
(&exponent\);)462 1992 A
5580 V
(30832)210 648 A
1362(if)S
(\(exponent)378 1488 A
1908(&)S
1992(1\))S
2118({)S
5670 V
(30833)210 648 A
(exponent--;)462 1698 A
5760 V
(30834)210 648 A
(val)126 1698 A
1866(*=)S
1992(2;)S
5850 V
(30835)210 648 A
1362(})S
5940 V
(30836)210 648 A
(val)126 1362 A
1530(=)S
(ldexp\(val)378 1614 A
2034(+)S
(1.0,)168 2118 A
(exponent/2)420 2328 A
2790(-)S
(1\);)126 2874 A
6030 V
(30837)210 648 A
1362(/*)S
(was:)168 1488 A
(val)126 1698 A
1866(=)S
(\(val)168 1950 A
2160(+)S
(1.0\)/2.0;)378 2244 A
(val)126 2664 A
2832(=)S
(ldexp\(val,)420 2916 A
(exponent/2\);)504 3378 A
3924(*/)S
6120 V
(30838)210 648 A
(for)126 1362 A
(\(exponent)378 1530 A
1950(=)S
(NITER)210 2034 A
2286(-)S
2370(1;)S
(exponent)336 2496 A
2874(>=)S
3000(0;)S
(exponent--\))462 3126 A
3630({)S
6210 V
(30839)210 648 A
(val)126 1698 A
1866(=)S
(\(val)168 1950 A
2160(+)S
2244(x)S
2328(/)S
(val\))168 2412 A
2622(/)S
(2.0;)168 2706 A
8418 V
EP
%%Page: 299 299
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2018(File:)S
(src/lib/math/sqrt.c)806 2251 A
12 B
(299)180 4248 A
900 V
7 LST
(30840)210 648 A
1362(})S
990 V
(30841)210 648 A
(return)252 1362 A
(val;)168 1656 A
1080 V
(30842)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/math/tan.c)756 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(30900)210 648 A
1026(/*)S
1890 V
(30901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
1980 V
(30902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
2070 V
(30903)210 648 A
1068(*)S
2160 V
(30904)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
2250 V
(30905)210 648 A
1068(*/)S
2340 V
(30906)210 648 A
1026(/*)S
($Header:)336 1152 A
(tan.c,v)294 1530 A
(1.3)126 1866 A
(91/03/19)336 2034 A
(16:39:30)336 2412 A
(ceriel)252 2790 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2430 V
(30907)210 648 A
2520 V
(30908)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
2610 V
(30909)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
2700 V
(30910)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2790 V
(30911)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
2880 V
(30912)210 648 A
2970 V
(30913)210 648 A
(double)252 1026 A
3060 V
(30914)210 648 A
(tan\(double)420 1026 A
1488(x\))S
3150 V
(30915)210 648 A
1026({)S
3240 V
(30916)210 648 A
1362(/*)S
(Algorithm)378 1698 A
(and)126 2118 A
(coefficients)504 2286 A
(from:)210 2832 A
3330 V
(30917)210 648 A
("Software)378 2034 A
(manual)252 2454 A
(for)126 2748 A
(the)126 2916 A
(elementary)420 3084 A
(functions")420 3546 A
3420 V
(30918)210 648 A
2034(by)S
(W.J.)168 2160 A
(Cody)168 2370 A
(and)126 2580 A
2748(W.)S
(Waite,)252 2874 A
(Prentice-Hall,)588 3168 A
(1980)168 3798 A
3510 V
(30919)210 648 A
1362(*/)S
3600 V
(30920)210 648 A
3690 V
(30921)210 648 A
(int)126 1362 A
(negative)336 1530 A
1908(=)S
1992(x)S
2076(<)S
2160(0;)S
3780 V
(30922)210 648 A
(int)126 1362 A
(invert)252 1530 A
1824(=)S
1908(0;)S
3870 V
(30923)210 648 A
(double)252 1362 A
1698(y;)S
3960 V
(30924)210 648 A
(static)252 1362 A
(double)252 1656 A
(p[])126 2034 A
2202(=)S
2286({)S
4050 V
(30925)210 648 A
(1.0,)168 1740 A
4140 V
(30926)210 648 A
(-0.13338350006421960681e+0,)1134 1698 A
4230 V
(30927)210 648 A
(0.34248878235890589960e-2,)1092 1740 A
4320 V
(30928)210 648 A
(-0.17861707342254426711e-4)1092 1698 A
4410 V
(30929)210 648 A
1362(};)S
4500 V
(30930)210 648 A
(static)252 1362 A
(double)252 1656 A
(q[])126 2034 A
2202(=)S
2286({)S
4590 V
(30931)210 648 A
(1.0,)168 1740 A
4680 V
(30932)210 648 A
(-0.46671683339755294240e+0,)1134 1698 A
4770 V
(30933)210 648 A
(0.25663832289440112864e-1,)1092 1740 A
4860 V
(30934)210 648 A
(-0.31181531907010027307e-3,)1134 1698 A
4950 V
(30935)210 648 A
(0.49819433993786512270e-6)1050 1740 A
5040 V
(30936)210 648 A
1362(};)S
5130 V
(30937)210 648 A
5220 V
(30938)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
5310 V
(30939)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
5400 V
(30940)210 648 A
(return)252 1698 A
1992(x;)S
5490 V
(30941)210 648 A
1362(})S
5580 V
(30942)210 648 A
1362(if)S
(\(negative\))420 1488 A
1950(x)S
2034(=)S
(-x;)126 2118 A
5670 V
(30943)210 648 A
5760 V
(30944)210 648 A
1362(/*)S
(???)126 1488 A
(avoid)210 1656 A
(loss)168 1908 A
2118(of)S
(significance,)546 2244 A
(error)210 2832 A
3084(if)S
3210(x)S
3294(is)S
(too)126 3420 A
(large)210 3588 A
(???)126 3840 A
4008(*/)S
5850 V
(30945)210 648 A
5940 V
(30946)210 648 A
1362(y)S
1446(=)S
1530(x)S
1614(*)S
(M_2_PI)252 1698 A
1992(+)S
(0.5;)168 2076 A
6030 V
(30947)210 648 A
6120 V
(30948)210 648 A
1362(if)S
1488(\(y)S
1614(>=)S
(DBL_MAX/M_PI_2\))630 1740 A
(return)252 2412 A
(0.0;)168 2706 A
6210 V
(30949)210 648 A
8418 V
EP
%%Page: 300 300
BP
/slant 0 def
/height 0 def
630 V
12 B
(300)180 648 A
11 R
2033(File:)S
(src/lib/math/tan.c)776 2266 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(30950)210 648 A
1362(/*)S
(Use)126 1698 A
(extended)336 1866 A
(precision)378 2244 A
2664(to)S
(calculate)378 2790 A
(reduced)294 3210 A
(argument.)378 3546 A
990 V
(30951)210 648 A
(Here)168 1698 A
1908(we)S
(used)168 2034 A
2244(12)S
(bits)168 2370 A
2580(of)S
(the)126 2706 A
(mantissa)336 2874 A
(for)126 3252 A
(a1.)126 3420 A
1080 V
(30952)210 648 A
(Also)168 1698 A
(split)210 1908 A
2160(x)S
2244(in)S
(integer)294 2370 A
(part)168 2706 A
2916(x1)S
(and)126 3042 A
(fraction)336 3210 A
(part)168 3588 A
(x2.)126 3798 A
1170 V
(30953)210 648 A
1362(*/)S
1260 V
(30954)210 648 A
(#define)294 1194 A
1530(A1)S
(1.57080078125)546 1656 A
1350 V
(30955)210 648 A
(#define)294 1194 A
1530(A2)S
(-4.454455103380768678308e-6)1134 1656 A
1440 V
(30956)210 648 A
1362({)S
1530 V
(30957)210 648 A
(double)252 1698 A
(x1,)126 1992 A
(x2;)126 2160 A
1620 V
(30958)210 648 A
1710 V
(30959)210 648 A
(modf\(y,)294 1698 A
(&y\);)168 2034 A
1800 V
(30960)210 648 A
1698(if)S
(\(modf\(0.5*y,)504 1824 A
(&x1\)\))210 2370 A
(invert)252 2622 A
2916(=)S
3000(1;)S
1890 V
(30961)210 648 A
1698(x2)S
1824(=)S
(modf\(x,)294 1908 A
(&x1\);)210 2244 A
1980 V
(30962)210 648 A
1698(x)S
1782(=)S
1866(x1)S
1992(-)S
2076(y)S
2160(*)S
(A1;)126 2244 A
2070 V
(30963)210 648 A
1698(x)S
1782(+=)S
(x2;)126 1908 A
2160 V
(30964)210 648 A
1698(x)S
1782(-=)S
1908(y)S
1992(*)S
(A2;)126 2076 A
2250 V
(30965)210 648 A
(#undef)252 1194 A
1488(A1)S
2340 V
(30966)210 648 A
(#undef)252 1194 A
1488(A2)S
2430 V
(30967)210 648 A
1362(})S
2520 V
(30968)210 648 A
2610 V
(30969)210 648 A
1362(/*)S
(???)126 1488 A
(avoid)210 1656 A
(underflow)378 1908 A
(???)126 2328 A
2496(*/)S
2700 V
(30970)210 648 A
1362(y)S
1446(=)S
1530(x)S
1614(*)S
1698(x;)S
2790 V
(30971)210 648 A
1362(x)S
1446(+=)S
1572(x)S
1656(*)S
1740(y)S
1824(*)S
(POLYNOM2\(y,)462 1908 A
(p+1\);)210 2412 A
2880 V
(30972)210 648 A
1362(y)S
1446(=)S
(POLYNOM4\(y,)462 1530 A
(q\);)126 2034 A
2970 V
(30973)210 648 A
1362(if)S
(\(negative\))420 1488 A
1950(x)S
2034(=)S
(-x;)126 2118 A
3060 V
(30974)210 648 A
(return)252 1362 A
(invert)252 1656 A
1950(?)S
(-y/x)168 2034 A
2244(:)S
(x/y;)168 2328 A
3150 V
(30975)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/math/tanh.c)798 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(31000)210 648 A
1026(/*)S
4140 V
(31001)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
4230 V
(31002)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
4320 V
(31003)210 648 A
1068(*)S
4410 V
(31004)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
4500 V
(31005)210 648 A
1068(*/)S
4590 V
(31006)210 648 A
1026(/*)S
($Header:)336 1152 A
(tanh.c,v)336 1530 A
(1.3)126 1908 A
(91/03/19)336 2076 A
(16:39:40)336 2454 A
(ceriel)252 2832 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4680 V
(31007)210 648 A
4770 V
(31008)210 648 A
(#include)336 1026 A
(<float.h>)378 1698 A
4860 V
(31009)210 648 A
(#include)336 1026 A
(<math.h>)336 1698 A
4950 V
(31010)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
5040 V
(31011)210 648 A
(#include)336 1026 A
("localmath.h")546 1698 A
5130 V
(31012)210 648 A
5220 V
(31013)210 648 A
(double)252 1026 A
5310 V
(31014)210 648 A
(tanh\(double)462 1026 A
1530(x\))S
5400 V
(31015)210 648 A
1026({)S
5490 V
(31016)210 648 A
1362(/*)S
(Algorithm)378 1698 A
(and)126 2118 A
(coefficients)504 2286 A
(from:)210 2832 A
5580 V
(31017)210 648 A
("Software)378 2034 A
(manual)252 2454 A
(for)126 2748 A
(the)126 2916 A
(elementary)420 3084 A
(functions")420 3546 A
5670 V
(31018)210 648 A
2034(by)S
(W.J.)168 2160 A
(Cody)168 2370 A
(and)126 2580 A
2748(W.)S
(Waite,)252 2874 A
(Prentice-Hall,)588 3168 A
(1980)168 3798 A
5760 V
(31019)210 648 A
1362(*/)S
5850 V
(31020)210 648 A
5940 V
(31021)210 648 A
(static)252 1362 A
(double)252 1656 A
(p[])126 1950 A
2118(=)S
2202({)S
6030 V
(31022)210 648 A
(-0.16134119023996228053e+4,)1134 1698 A
6120 V
(31023)210 648 A
(-0.99225929672236083313e+2,)1134 1698 A
6210 V
(31024)210 648 A
(-0.96437492777225469787e+0)1092 1698 A
8418 V
EP
%%Page: 301 301
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2006(File:)S
(src/lib/math/tanh.c)831 2239 A
12 B
(301)180 4248 A
900 V
7 LST
(31025)210 648 A
1362(};)S
990 V
(31026)210 648 A
(static)252 1362 A
(double)252 1656 A
(q[])126 1950 A
2118(=)S
2202({)S
1080 V
(31027)210 648 A
(0.48402357071988688686e+4,)1092 1740 A
1170 V
(31028)210 648 A
(0.22337720718962312926e+4,)1092 1740 A
1260 V
(31029)210 648 A
(0.11274474380534949335e+3,)1092 1740 A
1350 V
(31030)210 648 A
(1.0)126 1740 A
1440 V
(31031)210 648 A
1362(};)S
1530 V
(31032)210 648 A
(int)126 1362 A
(negative)336 1698 A
2076(=)S
2160(x)S
2244(<)S
2328(0;)S
1620 V
(31033)210 648 A
1710 V
(31034)210 648 A
1362(if)S
(\(__IsNan\(x\)\))504 1488 A
2034({)S
1800 V
(31035)210 648 A
(errno)210 1698 A
1950(=)S
(EDOM;)210 2034 A
1890 V
(31036)210 648 A
(return)252 1698 A
1992(x;)S
1980 V
(31037)210 648 A
1362(})S
2070 V
(31038)210 648 A
1362(if)S
(\(negative\))420 1488 A
1950(x)S
2034(=)S
(-x;)126 2118 A
2160 V
(31039)210 648 A
2250 V
(31040)210 648 A
1362(if)S
1488(\(x)S
1614(>=)S
(0.5*M_LN_MAX_D\))630 1740 A
2412({)S
2340 V
(31041)210 648 A
1698(x)S
1782(=)S
(1.0;)168 1866 A
2430 V
(31042)210 648 A
1362(})S
2520 V
(31043)210 648 A
(#define)294 1026 A
(LN3D2)210 1362 A
(0.54930614433405484570e+0)1050 1698 A
3042(/*)S
(ln\(3\)/2)294 3168 A
3504(*/)S
2610 V
(31044)210 648 A
(else)168 1362 A
1572(if)S
1698(\(x)S
1824(>)S
(LN3D2\))252 1908 A
2202({)S
2700 V
(31045)210 648 A
1698(x)S
1782(=)S
(0.5)126 1866 A
2034(-)S
(1.0/\(exp\(x+x\)+1.0\);)798 2118 A
2790 V
(31046)210 648 A
1698(x)S
1782(+=)S
1908(x;)S
2880 V
(31047)210 648 A
1362(})S
2970 V
(31048)210 648 A
(else)168 1362 A
1572({)S
3060 V
(31049)210 648 A
1698(/*)S
(???)126 1824 A
(avoid)210 1992 A
(underflow)378 2244 A
(???)126 2664 A
2832(*/)S
3150 V
(31050)210 648 A
(double)252 1698 A
1992(g)S
2076(=)S
(x*x;)168 2160 A
3240 V
(31051)210 648 A
1698(x)S
1782(+=)S
1908(x)S
1992(*)S
2076(g)S
2160(*)S
(POLYNOM2\(g,)462 2244 A
(p\)/POLYNOM3\(g,)588 2748 A
(q\);)126 3378 A
3330 V
(31052)210 648 A
1362(})S
3420 V
(31053)210 648 A
(return)252 1362 A
(negative)336 1656 A
2034(?)S
2118(-x)S
2244(:)S
2328(x;)S
3510 V
(31054)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/other/_brk.c)840 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(31100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4590 V
(31101)210 648 A
(#define)294 1026 A
(brk)126 1362 A
(_brk)168 1698 A
4680 V
(31102)210 648 A
(#define)294 1026 A
(sbrk)168 1362 A
(_sbrk)210 1698 A
4770 V
(31103)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4860 V
(31104)210 648 A
4950 V
(31105)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*_brksize;)420 1530 A
5040 V
(31106)210 648 A
5130 V
(31107)210 648 A
1026(/*)S
(Both)168 1152 A
(OSF/1)210 1362 A
(and)126 1614 A
(SYSVR4)252 1782 A
(man)126 2076 A
(pages)210 2244 A
(specify)294 2496 A
(that)168 2832 A
(brk\(2\))252 3042 A
(returns)294 3336 A
(int.)168 3672 A
5220 V
(31108)210 648 A
1068(*)S
(However,)336 1152 A
(BSD4.3)252 1530 A
(specifies)378 1824 A
(that)168 2244 A
(brk\(\))210 2454 A
(returns)294 2706 A
(char*.)252 3042 A
(POSIX)210 3378 A
(omits)210 3630 A
5310 V
(31109)210 648 A
1068(*)S
(brk\(\))210 1152 A
1404(on)S
(the)126 1530 A
(grounds)294 1698 A
(that)168 2034 A
2244(it)S
(imposes)294 2370 A
2706(a)S
(memory)252 2790 A
(model)210 3084 A
3336(on)S
3462(an)S
(architecture.)546 3588 A
5400 V
(31110)210 648 A
1068(*)S
(For)126 1152 A
(this)168 1320 A
(reason,)294 1530 A
(brk\(\))210 1866 A
(and)126 2118 A
(sbrk\(\))252 2286 A
(are)126 2580 A
(not)126 2748 A
2916(in)S
(the)126 3042 A
(lib/posix)378 3210 A
(directory.)420 3630 A
5490 V
(31111)210 648 A
1068(*)S
1152(On)S
(the)126 1278 A
(other)210 1446 A
(hand,)210 1698 A
(they)168 1950 A
(are)126 2160 A
2328(so)S
(crucial)294 2454 A
2790(to)S
(correct)294 2916 A
(operation)378 3252 A
3672(of)S
3798(so)S
(many)168 3924 A
5580 V
(31112)210 648 A
1068(*)S
(parts)210 1152 A
1404(of)S
(the)126 1530 A
(system,)294 1698 A
(that)168 2034 A
2244(we)S
(have)168 2370 A
(chosen)252 2580 A
2874(to)S
(hide)168 3000 A
(the)126 3210 A
(name)168 3378 A
(brk)126 3588 A
(using)210 3756 A
(_brk,)210 4008 A
5670 V
(31113)210 648 A
1068(*)S
1152(as)S
(with)168 1278 A
(system)252 1488 A
(calls.)252 1782 A
2118(In)S
(this)168 2244 A
(way,)168 2454 A
2664(if)S
2790(a)S
(user)168 2874 A
(inadvertently)546 3084 A
(defines)294 3672 A
4008(a)S
5760 V
(31114)210 648 A
1068(*)S
(procedure)378 1152 A
(brk,)168 1572 A
(MINIX)210 1782 A
(may)126 2034 A
(continue)336 2202 A
2580(to)S
(work)168 2706 A
(because)294 2916 A
(the)126 3252 A
(true)168 3420 A
(call)168 3630 A
3840(is)S
(_brk.)210 3966 A
5850 V
(31115)210 648 A
1068(*/)S
5940 V
(31116)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(brk\(addr\))378 1488 A
6030 V
(31117)210 648 A
(char)168 1026 A
(*addr;)252 1236 A
6120 V
(31118)210 648 A
1026({)S
6210 V
(31119)210 648 A
(message)294 1110 A
1446(m;)S
8418 V
EP
%%Page: 302 302
BP
/slant 0 def
/height 0 def
630 V
12 B
(302)180 648 A
11 R
1997(File:)S
(src/lib/other/_brk.c)848 2230 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(31120)210 648 A
990 V
(31121)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(addr;)210 1530 A
1080 V
(31122)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(BRK,)168 1824 A
(&m\))126 2034 A
2202(<)S
2286(0\))S
(return\(-1\);)462 2412 A
1170 V
(31123)210 648 A
(_brksize)336 1110 A
1488(=)S
(m.m2_p1;)336 1572 A
1260 V
(31124)210 648 A
(return\(0\);)420 1110 A
1350 V
(31125)210 648 A
1026(})S
1620 V
(31128)210 648 A
(PUBLIC)252 1026 A
(char)168 1320 A
(*sbrk\(incr\))462 1530 A
1710 V
(31129)210 648 A
(int)126 1026 A
(incr;)210 1194 A
1800 V
(31130)210 648 A
1026({)S
1890 V
(31131)210 648 A
(char)168 1110 A
(*newsize,)378 1320 A
(*oldsize;)378 1740 A
1980 V
(31132)210 648 A
2070 V
(31133)210 648 A
(oldsize)294 1110 A
1446(=)S
(_brksize;)378 1530 A
2160 V
(31134)210 648 A
(newsize)294 1110 A
1446(=)S
(_brksize)336 1530 A
1908(+)S
(incr;)210 1992 A
2250 V
(31135)210 648 A
1110(if)S
(\(incr)210 1236 A
1488(>)S
1572(0)S
1656(&&)S
(newsize)294 1782 A
2118(<)S
(oldsize)294 2202 A
2538(||)S
(incr)168 2664 A
2874(<)S
2958(0)S
3042(&&)S
(newsize)294 3168 A
3504(>)S
(oldsize\))336 3588 A
2340 V
(31136)210 648 A
(return\()294 1362 A
(\(char)210 1698 A
1950(*\))S
(-1\);)168 2076 A
2430 V
(31137)210 648 A
1110(if)S
(\(brk\(newsize\))546 1236 A
1824(==)S
1950(0\))S
2520 V
(31138)210 648 A
(return\(oldsize\);)672 1362 A
2610 V
(31139)210 648 A
(else)168 1110 A
2700 V
(31140)210 648 A
(return\()294 1362 A
(\(char)210 1698 A
1950(*\))S
(-1\);)168 2076 A
2790 V
(31141)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/other/_longjerr.c)1050 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(31200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(31201)210 648 A
(#define)294 1026 A
(longjerr)336 1362 A
(_longjerr)378 2034 A
3780 V
(31202)210 648 A
(#define)294 1026 A
(write)210 1362 A
(_write)252 2034 A
3870 V
(31203)210 648 A
(#include)336 1026 A
(<minix/minlib.h>)672 1404 A
3960 V
(31204)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4050 V
(31205)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4140 V
(31206)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4230 V
(31207)210 648 A
4320 V
(31208)210 648 A
4410 V
(31209)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(longjerr,)378 1740 A
(\(void\)\);)336 2160 A
4500 V
(31210)210 648 A
4590 V
(31211)210 648 A
(PUBLIC)252 1026 A
(void)168 1320 A
(longjerr\(\))420 1530 A
4680 V
(31212)210 648 A
1026({)S
4770 V
(31213)210 648 A
(static)252 1110 A
(char)168 1404 A
(errmsg[])336 1614 A
1992(=)S
("longj)252 2076 A
(error\\n";)378 2370 A
4860 V
(31214)210 648 A
4950 V
(31215)210 648 A
(write\(2,)336 1110 A
(errmsg,)294 1488 A
(strlen\(errmsg\)\);)672 1824 A
2706(/*)S
(hope)168 2832 A
(it's)168 3042 A
(stderr)252 3252 A
3546(*/)S
5040 V
(31216)210 648 A
(while\(1\))336 1110 A
(abort\(\);)336 1488 A
2370(/*)S
(XXX)126 2496 A
2664(-)S
(maybe)210 2748 A
(just)168 3000 A
(exit)168 3210 A
3420(*/)S
5130 V
(31217)210 648 A
1026(})S
8418 V
EP
%%Page: 303 303
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1929(File:)S
(src/lib/other/_reboot.c)984 2162 A
12 B
(303)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/_reboot.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(31300)210 648 A
1026(/*)S
(reboot.c)336 1152 A
1530(-)S
(Systemcall)420 1614 A
(interface)378 2076 A
2496(to)S
(mm/signal.c::do_reboot\(\))1008 2622 A
1440 V
(31301)210 648 A
1530 V
(31302)210 648 A
(author:)294 1152 A
(Edvard)252 1488 A
(Tuinder)294 1782 A
(v892231@si.hhs.NL)714 2160 A
1620 V
(31303)210 648 A
1068(*/)S
1710 V
(31304)210 648 A
1800 V
(31305)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1890 V
(31306)210 648 A
(#define)294 1026 A
(reboot)252 1362 A
(_reboot)294 1698 A
1980 V
(31307)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2070 V
(31308)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1404 A
2160 V
(31309)210 648 A
2250 V
(31310)210 648 A
(int)126 1026 A
(reboot\(int)420 1194 A
(how,)168 1656 A
(...\))168 1866 A
2340 V
(31311)210 648 A
1026({)S
2430 V
(31312)210 648 A
(message)294 1110 A
1446(m;)S
2520 V
(31313)210 648 A
(va_list)294 1110 A
(ap;)126 1446 A
2610 V
(31314)210 648 A
2700 V
(31315)210 648 A
(va_start\(ap,)504 1110 A
(how\);)210 1656 A
2790 V
(31316)210 648 A
1110(if)S
(\(\(m.m1_i1)378 1236 A
1656(=)S
(how\))168 1740 A
1950(==)S
(RBT_MONITOR\))504 2076 A
2622({)S
2880 V
(31317)210 648 A
(m.m1_p1)294 1362 A
1698(=)S
(va_arg\(ap,)420 1782 A
(char)168 2244 A
(*\);)126 2454 A
2970 V
(31318)210 648 A
(m.m1_i2)294 1362 A
1698(=)S
(va_arg\(ap,)420 1782 A
(size_t\);)336 2244 A
3060 V
(31319)210 648 A
1110(})S
3150 V
(31320)210 648 A
(va_end\(ap\);)462 1110 A
3240 V
(31321)210 648 A
3330 V
(31322)210 648 A
(return)252 1110 A
(_syscall\(MM,)504 1404 A
(REBOOT,)294 1950 A
(&m\);)168 2286 A
3420 V
(31323)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/other/_seekdir.c)1008 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(31400)210 648 A
1026(/*)S
(seekdir\(\))378 1362 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
4140 V
(31401)210 648 A
1068(*)S
3714(24)S
(Apr)126 3840 A
(1989)168 4008 A
4230 V
(31402)210 648 A
1068(*/)S
4320 V
(31403)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
4410 V
(31404)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4500 V
(31405)210 648 A
(#define)294 1026 A
(lseek)210 1362 A
(_lseek)252 1698 A
4590 V
(31406)210 648 A
(#define)294 1026 A
(readdir)294 1362 A
(_readdir)336 1698 A
4680 V
(31407)210 648 A
(#define)294 1026 A
(seekdir)294 1362 A
(_seekdir)336 1698 A
4770 V
(31408)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4860 V
(31409)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
4950 V
(31410)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5040 V
(31411)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
5130 V
(31412)210 648 A
5220 V
(31413)210 648 A
(int)126 1026 A
(seekdir\(DIR)462 1194 A
(*dp,)168 1698 A
(off_t)210 1908 A
(pos\))168 2160 A
5310 V
(31414)210 648 A
1026(/*)S
(Seek)168 1152 A
1362(to)S
(position)336 1488 A
(pos)126 1866 A
2034(in)S
2160(a)S
(directory.)420 2244 A
2706(*/)S
5400 V
(31415)210 648 A
1026({)S
5490 V
(31416)210 648 A
(int)126 1362 A
(off;)168 1530 A
5580 V
(31417)210 648 A
5670 V
(31418)210 648 A
1362(if)S
(\(dp)126 1488 A
1656(==)S
(nil\))168 1782 A
1992({)S
(errno=)252 2076 A
(EBADF;)252 2370 A
(return)252 2664 A
(-1;)126 2958 A
3126(})S
5760 V
(31419)210 648 A
5850 V
(31420)210 648 A
(dp->_count=)462 1362 A
1866(0;)S
5940 V
(31421)210 648 A
(dp->_ptr=)378 1362 A
(dp->_buf;)378 1782 A
6030 V
(31422)210 648 A
6120 V
(31423)210 648 A
(off=)168 1362 A
(pos)126 1572 A
1740(&)S
(\(sizeof\(dp->_buf\))714 1824 A
2580(-)S
(1\);)126 2664 A
6210 V
(31424)210 648 A
(dp->_pos=)378 1362 A
(pos)126 1782 A
1950(-)S
(off;)168 2034 A
8418 V
EP
%%Page: 304 304
BP
/slant 0 def
/height 0 def
630 V
12 B
(304)180 648 A
11 R
1910(File:)S
(src/lib/other/_seekdir.c)1022 2143 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(31425)210 648 A
990 V
(31426)210 648 A
1362(if)S
(\(lseek\(dp->_fd,)630 1488 A
(dp->_pos,)378 2160 A
(SEEK_SET\))378 2580 A
3000(==)S
(-1\))126 3126 A
(return)252 3294 A
(-1;)126 3588 A
1080 V
(31427)210 648 A
1170 V
(31428)210 648 A
(while)210 1362 A
(\(dp->_pos)378 1614 A
2034(<)S
(pos)126 2118 A
2286(&&)S
(readdir\(dp\))462 2412 A
2916(!=)S
(nil\))168 3042 A
3252({})S
1260 V
(31429)210 648 A
1350 V
(31430)210 648 A
(return)252 1362 A
1656(0;)S
1440 V
(31431)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/other/asynchio.c)1008 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(31500)210 648 A
1026(/*)S
(asyn_init\(\),)504 1362 A
(asyn_read\(\),)504 1908 A
(asyn_write\(\),)546 2454 A
(asyn_ioctl\(\),)546 3042 A
2340 V
(31501)210 648 A
1068(*)S
(asyn_wait\(\),)504 1362 A
(asyn_synch\(\),)546 1908 A
(asyn_close\(\))504 2496 A
2430 V
(31502)210 648 A
1068(*)S
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
2520 V
(31503)210 648 A
1068(*)S
3714(26)S
(Jan)126 3840 A
(1995)168 4008 A
2610 V
(31504)210 648 A
1068(*)S
(Thise)210 1152 A
(are)126 1404 A
(just)168 1572 A
(stub)168 1782 A
(routines)336 1992 A
(that)168 2370 A
(are)126 2580 A
(call)168 2748 A
(compatible)420 2958 A
(with)168 3420 A
2700 V
(31505)210 648 A
1068(*)S
(the)126 1152 A
(asynchio\(3\))462 1320 A
(library)294 1824 A
2160(of)S
(Minix-vmd.)420 2286 A
(See)126 2790 A
(asynchio.h.)462 2958 A
2790 V
(31506)210 648 A
1068(*/)S
2880 V
(31507)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
2970 V
(31508)210 648 A
(#define)294 1026 A
(alarm)210 1362 A
(_alarm)252 1698 A
3060 V
(31509)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1698 A
3150 V
(31510)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1698 A
3240 V
(31511)210 648 A
(#define)294 1026 A
(sigaction)378 1362 A
(_sigaction)420 1782 A
3330 V
(31512)210 648 A
(#define)294 1026 A
(sigfillset)420 1362 A
(_sigfillset)462 1824 A
3420 V
(31513)210 648 A
(#define)294 1026 A
(time)168 1362 A
(_time)210 1698 A
3510 V
(31514)210 648 A
(#define)294 1026 A
(write)210 1362 A
(_write)252 1698 A
3600 V
(31515)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(31516)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
3780 V
(31517)210 648 A
(#include)336 1026 A
(<sys/asynchio.h>)672 1404 A
3870 V
(31518)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
3960 V
(31519)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4050 V
(31520)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4140 V
(31521)210 648 A
(#include)336 1026 A
(<time.h>)336 1404 A
4230 V
(31522)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
4320 V
(31523)210 648 A
4410 V
(31524)210 648 A
(#define)294 1026 A
(IDLE)168 1362 A
2034(0)S
4500 V
(31525)210 648 A
(#define)294 1026 A
(INPROGRESS)420 1362 A
2034(1)S
4590 V
(31526)210 648 A
(#define)294 1026 A
(RESULT)252 1362 A
2034(2)S
4680 V
(31527)210 648 A
4770 V
(31528)210 648 A
(#define)294 1026 A
(OP_READ)294 1362 A
2034(0)S
4860 V
(31529)210 648 A
(#define)294 1026 A
(OP_WRITE)336 1362 A
2034(1)S
4950 V
(31530)210 648 A
(#define)294 1026 A
(OP_IOCTL)336 1362 A
2034(2)S
5040 V
(31531)210 648 A
5130 V
(31532)210 648 A
(static)252 1026 A
(int)126 1320 A
(*asyn_current;)588 1488 A
5220 V
(31533)210 648 A
(static)252 1026 A
(int)126 1320 A
(asyn_op;)336 1488 A
5310 V
(31534)210 648 A
(static)252 1026 A
(int)126 1320 A
(asyn_fd;)336 1488 A
5400 V
(31535)210 648 A
(static)252 1026 A
(int)126 1320 A
(asyn_req;)378 1488 A
5490 V
(31536)210 648 A
(static)252 1026 A
(void)168 1320 A
(*asyn_data;)462 1530 A
5580 V
(31537)210 648 A
(static)252 1026 A
(ssize_t)294 1320 A
(asyn_count;)462 1656 A
5670 V
(31538)210 648 A
(static)252 1026 A
(int)126 1320 A
(asyn_errno;)462 1488 A
5760 V
(31539)210 648 A
5850 V
(31540)210 648 A
(void)168 1026 A
(asyn_init\(asynchio_t)840 1236 A
(*asyn\))252 2118 A
5940 V
(31541)210 648 A
1026({)S
6030 V
(31542)210 648 A
(*asyn=)252 1362 A
(IDLE;)210 1656 A
6120 V
(31543)210 648 A
1026(})S
8418 V
EP
%%Page: 305 305
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1901(File:)S
(src/lib/other/asynchio.c)1040 2134 A
12 B
(305)180 4248 A
900 V
7 LST
(31545)210 648 A
(static)252 1026 A
(ssize_t)294 1320 A
(operation\(int)546 1656 A
(op,)126 2244 A
(asynchio_t)420 2412 A
(*asyn,)252 2874 A
(int)126 3168 A
(fd,)126 3336 A
(int)126 3504 A
(req,)168 3672 A
990 V
(31546)210 648 A
(void)168 3042 A
(*data,)252 3252 A
(ssize_t)294 3546 A
(count\))252 3882 A
1080 V
(31547)210 648 A
1026({)S
1170 V
(31548)210 648 A
(switch)252 1362 A
(\(*asyn\))294 1656 A
1992({)S
1260 V
(31549)210 648 A
(case)168 1362 A
(INPROGRESS:)462 1572 A
1350 V
(31550)210 648 A
1698(if)S
(\(asyn_current)546 1824 A
2412(!=)S
(asyn)168 2538 A
2748(&&)S
(asyn_op)294 2874 A
3210(!=)S
(op\))126 3336 A
(abort\(\);)336 3504 A
1440 V
(31551)210 648 A
(/*FALL)252 1698 A
(THROUGH*/)378 1992 A
1530 V
(31552)210 648 A
(case)168 1362 A
(IDLE:)210 1572 A
1620 V
(31553)210 648 A
(asyn_current=)546 1698 A
(asyn;)210 2286 A
1710 V
(31554)210 648 A
(asyn_op=)336 1698 A
(op;)126 2076 A
1800 V
(31555)210 648 A
(asyn_fd=)336 1698 A
(fd;)126 2076 A
1890 V
(31556)210 648 A
(asyn_req=)378 1698 A
(req;)168 2118 A
1980 V
(31557)210 648 A
(asyn_data=)420 1698 A
(data;)210 2160 A
2070 V
(31558)210 648 A
(asyn_count=)462 1698 A
(count;)252 2202 A
2160 V
(31559)210 648 A
(*asyn=)252 1698 A
(INPROGRESS;)462 1992 A
2250 V
(31560)210 648 A
(errno=)252 1698 A
(EINPROGRESS;)504 1992 A
2340 V
(31561)210 648 A
(return)252 1698 A
(-1;)126 1992 A
2430 V
(31562)210 648 A
(case)168 1362 A
(RESULT:)294 1572 A
2520 V
(31563)210 648 A
1698(if)S
(\(asyn_current)546 1824 A
2412(!=)S
(asyn)168 2538 A
2748(&&)S
(asyn_op)294 2874 A
3210(!=)S
(op\))126 3336 A
(abort\(\);)336 3504 A
2610 V
(31564)210 648 A
(*asyn=)252 1698 A
(IDLE;)210 1992 A
2700 V
(31565)210 648 A
(errno=)252 1698 A
(asyn_errno;)462 1992 A
2790 V
(31566)210 648 A
(return)252 1698 A
(asyn_count;)462 1992 A
2880 V
(31567)210 648 A
1362(})S
2970 V
(31568)210 648 A
1026(})S
3150 V
(31570)210 648 A
(ssize_t)294 1026 A
(asyn_read\(asynchio_t)840 1362 A
(*asyn,)252 2244 A
(int)126 2538 A
(fd,)126 2706 A
(void)168 2874 A
(*buf,)210 3084 A
(size_t)252 3336 A
(len\))168 3630 A
3240 V
(31571)210 648 A
1026({)S
3330 V
(31572)210 648 A
(return)252 1362 A
(operation\(OP_READ,)756 1656 A
(asyn,)210 2454 A
(fd,)126 2706 A
2874(0,)S
(buf,)168 3000 A
(len\);)210 3210 A
3420 V
(31573)210 648 A
1026(})S
3600 V
(31575)210 648 A
(ssize_t)294 1026 A
(asyn_write\(asynchio_t)882 1362 A
(*asyn,)252 2286 A
(int)126 2580 A
(fd,)126 2748 A
(const)210 2916 A
(void)168 3168 A
(*buf,)210 3378 A
(size_t)252 3630 A
(len\))168 3924 A
3690 V
(31576)210 648 A
1026({)S
3780 V
(31577)210 648 A
(return)252 1362 A
(operation\(OP_WRITE,)798 1656 A
(asyn,)210 2496 A
(fd,)126 2748 A
2916(0,)S
(\(void)210 3042 A
3294(*\))S
(buf,)168 3420 A
(len\);)210 3630 A
3870 V
(31578)210 648 A
1026(})S
4050 V
(31580)210 648 A
(int)126 1026 A
(asyn_ioctl\(asynchio_t)882 1194 A
(*asyn,)252 2118 A
(int)126 2412 A
(fd,)126 2580 A
(unsigned)336 2748 A
(long)168 3126 A
(request,)336 3336 A
(void)168 3714 A
(*data\))252 3924 A
4140 V
(31581)210 648 A
1026({)S
4230 V
(31582)210 648 A
(return)252 1362 A
(operation\(OP_IOCTL,)798 1656 A
(asyn,)210 2496 A
(fd,)126 2748 A
(request,)336 2916 A
(data,)210 3294 A
(0\);)126 3546 A
4320 V
(31583)210 648 A
1026(})S
4500 V
(31585)210 648 A
(static)252 1026 A
(void)168 1320 A
(time_out\(int)504 1530 A
(sig\))168 2076 A
4590 V
(31586)210 648 A
1026({)S
4680 V
(31587)210 648 A
(alarm\(1\);)378 1362 A
4770 V
(31588)210 648 A
1026(})S
4950 V
(31590)210 648 A
(int)126 1026 A
(asyn_wait\(asynchio_t)840 1194 A
(*asyn,)252 2076 A
(int)126 2370 A
(flags,)252 2538 A
(struct)252 2832 A
(timeval)294 3126 A
(*to\))168 3462 A
5040 V
(31591)210 648 A
1026({)S
5130 V
(31592)210 648 A
(time_t)252 1362 A
(now;)168 1656 A
5220 V
(31593)210 648 A
(unsigned)336 1362 A
(old_timer,)420 1740 A
(new_timer;)420 2202 A
5310 V
(31594)210 648 A
(struct)252 1362 A
(sigaction)378 1656 A
(old_sa,)294 2076 A
(new_sa;)294 2412 A
5400 V
(31595)210 648 A
5490 V
(31596)210 648 A
1362(if)S
(\(*asyn)252 1488 A
1782(==)S
(IDLE\))210 1908 A
(return)252 2160 A
2454(0;)S
5580 V
(31597)210 648 A
1362(if)S
(\(asyn_current)546 1488 A
2076(!=)S
(asyn)168 2202 A
2412(||)S
(*asyn)210 2538 A
2790(!=)S
(INPROGRESS\))462 2916 A
(abort\(\);)336 3420 A
5670 V
(31598)210 648 A
1362(if)S
(\(flags)252 1488 A
1782(&)S
(ASYN_NONBLOCK\))588 1866 A
(abort\(\);)336 2496 A
5760 V
(31599)210 648 A
5850 V
(31600)210 648 A
1362(if)S
(\(to)126 1488 A
1656(!=)S
(nil\))168 1782 A
1992({)S
5940 V
(31601)210 648 A
(now=)168 1698 A
(time\(nil\);)420 1908 A
6030 V
(31602)210 648 A
1698(if)S
(\(to->tv_sec)462 1824 A
2328(<=)S
(now\))168 2454 A
2664({)S
(errno=)252 2748 A
(EINTR;)252 3042 A
(return)252 3336 A
(-1;)126 3630 A
3798(})S
6120 V
(31603)210 648 A
(old_timer=)420 1698 A
(alarm\(0\);)378 2160 A
6210 V
(31604)210 648 A
(new_sa.sa_handler=)756 1698 A
(time_out;)378 2496 A
8418 V
EP
%%Page: 306 306
BP
/slant 0 def
/height 0 def
630 V
12 B
(306)180 648 A
11 R
1901(File:)S
(src/lib/other/asynchio.c)1040 2134 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(31605)210 648 A
(sigfillset\(&new_sa.sa_mask\);)1176 1698 A
990 V
(31606)210 648 A
(new_sa.sa_flags=)672 1698 A
2412(0;)S
1080 V
(31607)210 648 A
(sigaction\(SIGALRM,)756 1698 A
(&new_sa,)336 2496 A
(&old_sa\);)378 2874 A
1170 V
(31608)210 648 A
(new_timer=)420 1698 A
(to->tv_sec)420 2160 A
2622(-)S
(now;)168 2706 A
1260 V
(31609)210 648 A
1698(if)S
(\(new_timer)420 1824 A
2286(<)S
(old_timer\))420 2370 A
2832({)S
1350 V
(31610)210 648 A
(new_timer=)420 2034 A
(old_timer;)420 2496 A
1440 V
(31611)210 648 A
1698(})S
1530 V
(31612)210 648 A
(alarm\(new_timer\);)714 1698 A
1620 V
(31613)210 648 A
1362(})S
1710 V
(31614)210 648 A
(switch)252 1362 A
(\(asyn_op\))378 1656 A
2076({)S
1800 V
(31615)210 648 A
(case)168 1362 A
(OP_READ:)336 1572 A
1890 V
(31616)210 648 A
(asyn_count=)462 1698 A
(read\(asyn_fd,)546 2202 A
(asyn_data,)420 2790 A
(asyn_count\);)504 3252 A
1980 V
(31617)210 648 A
(asyn_errno=)462 1698 A
(errno;)252 2202 A
2070 V
(31618)210 648 A
(break;)252 1698 A
2160 V
(31619)210 648 A
(case)168 1362 A
(OP_WRITE:)378 1572 A
2250 V
(31620)210 648 A
(asyn_count=)462 1698 A
(write\(asyn_fd,)588 2202 A
(asyn_data,)420 2832 A
(asyn_count\);)504 3294 A
2340 V
(31621)210 648 A
(asyn_errno=)462 1698 A
(errno;)252 2202 A
2430 V
(31622)210 648 A
(break;)252 1698 A
2520 V
(31623)210 648 A
(case)168 1362 A
(OP_IOCTL:)378 1572 A
2610 V
(31624)210 648 A
(asyn_count=)462 1698 A
(ioctl\(asyn_fd,)588 2202 A
(asyn_req,)378 2832 A
(asyn_data\);)462 3252 A
2700 V
(31625)210 648 A
(asyn_errno=)462 1698 A
(errno;)252 2202 A
2790 V
(31626)210 648 A
(break;)252 1698 A
2880 V
(31627)210 648 A
1362(})S
2970 V
(31628)210 648 A
1362(if)S
(\(to)126 1488 A
1656(!=)S
(nil\))168 1782 A
1992({)S
3060 V
(31629)210 648 A
(alarm\(0\);)378 1698 A
3150 V
(31630)210 648 A
(sigaction\(SIGALRM,)756 1698 A
(&old_sa,)336 2496 A
(\(struct)294 2874 A
(sigaction)378 3210 A
(*\)0\);)210 3630 A
3240 V
(31631)210 648 A
(alarm\(old_timer\);)714 1698 A
3330 V
(31632)210 648 A
1362(})S
3420 V
(31633)210 648 A
3510 V
(31634)210 648 A
1362(if)S
(\(asyn_count)462 1488 A
1992(==)S
2118(-1)S
2244(&&)S
(asyn_errno)420 2370 A
2832(==)S
(EINTR\))252 2958 A
3252({)S
3600 V
(31635)210 648 A
(errno=)252 1698 A
(EINTR;)252 1992 A
3690 V
(31636)210 648 A
(return)252 1698 A
(-1;)126 1992 A
3780 V
(31637)210 648 A
1362(})S
(else)168 1446 A
1656({)S
3870 V
(31638)210 648 A
(*asyn=)252 1698 A
(RESULT;)294 1992 A
3960 V
(31639)210 648 A
(return)252 1698 A
1992(0;)S
4050 V
(31640)210 648 A
1362(})S
4140 V
(31641)210 648 A
1026(})S
4320 V
(31643)210 648 A
(int)126 1026 A
(asyn_synch\(asynchio_t)882 1194 A
(*asyn,)252 2118 A
(int)126 2412 A
(fd\))126 2580 A
4410 V
(31644)210 648 A
1026({)S
4500 V
(31645)210 648 A
1026(})S
4680 V
(31647)210 648 A
(int)126 1026 A
(asyn_close\(asynchio_t)882 1194 A
(*asyn,)252 2118 A
(int)126 2412 A
(fd\))126 2580 A
4770 V
(31648)210 648 A
1026({)S
4860 V
(31649)210 648 A
(*asyn=)252 1362 A
(IDLE;)210 1656 A
4950 V
(31650)210 648 A
1026(})S
8418 V
EP
%%Page: 307 307
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1975(File:)S
(src/lib/other/bcmp.c)892 2208 A
12 B
(307)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/bcmp.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(31700)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(31701)210 648 A
1026(/*)S
(bcmp)168 1152 A
1362(-)S
(Berklix)294 1446 A
(equivalent)420 1782 A
2244(of)S
(memcmp)252 2370 A
2706(*/)S
1530 V
(31702)210 648 A
1620 V
(31703)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1710 V
(31704)210 648 A
1800 V
(31705)210 648 A
(int)126 1026 A
(bcmp\(s1,)336 1194 A
(s2,)126 1572 A
(length\))294 1740 A
2370(/*)S
2496(==)S
2622(0)S
2706(or)S
2832(!=)S
2958(0)S
(for)126 3042 A
(equality)336 3210 A
(and)126 3588 A
(inequality)420 3756 A
4218(*/)S
1890 V
(31706)210 648 A
(_CONST)252 1026 A
(void)168 1320 A
(*s1;)168 1530 A
1980 V
(31707)210 648 A
(_CONST)252 1026 A
(void)168 1320 A
(*s2;)168 1530 A
2070 V
(31708)210 648 A
(int)126 1026 A
(length;)294 1194 A
2160 V
(31709)210 648 A
1026({)S
2250 V
(31710)210 648 A
(return\(memcmp\(\(_CONST)882 1110 A
(_VOIDSTAR\))420 2034 A
(s1,)126 2496 A
(\(_CONST)294 2664 A
(_VOIDSTAR\))420 3000 A
(s2,)126 3462 A
(\(_SIZET\))336 3630 A
(length\)\);)378 4008 A
2340 V
(31711)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/other/bcopy.c)882 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(31800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(31801)210 648 A
1026(/*)S
(bcopy)210 1152 A
1404(-)S
(Berklix)294 1488 A
(equivalent)420 1824 A
2286(of)S
(memcpy)252 2412 A
2748(*/)S
3330 V
(31802)210 648 A
3420 V
(31803)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
3510 V
(31804)210 648 A
3600 V
(31805)210 648 A
(void)168 1026 A
(bcopy\(src,)420 1236 A
(dst,)168 1698 A
(length\))294 1908 A
3690 V
(31806)210 648 A
(_CONST)252 1026 A
(void)168 1320 A
(*src;)210 1530 A
3780 V
(31807)210 648 A
(void)168 1026 A
(*dst;)210 1236 A
3870 V
(31808)210 648 A
(int)126 1026 A
(length;)294 1194 A
3960 V
(31809)210 648 A
1026({)S
4050 V
(31810)210 648 A
(\(void\))252 1110 A
(memcpy\(\(_VOIDSTAR\))756 1404 A
(dst,)168 2202 A
(\(_CONST)294 2412 A
(_VOIDSTAR\))420 2748 A
(src,)168 3210 A
(\(_SIZET\))336 3420 A
(length\);)336 3798 A
4140 V
(31811)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/bzero.c)882 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(31900)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5040 V
(31901)210 648 A
1026(/*)S
(bzero)210 1152 A
1404(-)S
(Berklix)294 1488 A
(subset)252 1824 A
2118(of)S
(memset)252 2244 A
2580(*/)S
5130 V
(31902)210 648 A
5220 V
(31903)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5310 V
(31904)210 648 A
5400 V
(31905)210 648 A
(void)168 1026 A
(bzero\(dst,)420 1236 A
(length\))294 1698 A
5490 V
(31906)210 648 A
(void)168 1026 A
(*dst;)210 1236 A
5580 V
(31907)210 648 A
(int)126 1026 A
(length;)294 1194 A
5670 V
(31908)210 648 A
1026({)S
5760 V
(31909)210 648 A
(\(void\))252 1110 A
(memset\(\(_VOIDSTAR\))756 1404 A
(dst,)168 2202 A
2412(0,)S
(\(_SIZET\))336 2538 A
(length\);)336 2916 A
5850 V
(31910)210 648 A
1026(})S
8418 V
EP
%%Page: 308 308
BP
/slant 0 def
/height 0 def
630 V
12 B
(308)180 648 A
11 R
1984(File:)S
(src/lib/other/crypt.c)874 2217 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/crypt.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(32000)210 648 A
1026(/*)S
(crypt\(\))294 1362 A
1698(-)S
(one-way)294 1782 A
(password)336 2118 A
(encryption)420 2496 A
(function)336 2958 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
1440 V
(32001)210 648 A
1068(*)S
3714(7)S
(Feb)126 3798 A
(1994)168 3966 A
1530 V
(32002)210 648 A
1068(*)S
(This)168 1152 A
(routine)294 1362 A
(does)168 1698 A
(not)126 1908 A
(encrypt)294 2076 A
(anything,)378 2412 A
2832(it)S
(uses)168 2958 A
(the)126 3168 A
(pwdauth)294 3336 A
1620 V
(32003)210 648 A
1068(*)S
(program)294 1152 A
1488(to)S
1614(do)S
(the)126 1740 A
(hard)168 1908 A
(work.)210 2118 A
1710 V
(32004)210 648 A
1068(*/)S
1800 V
(32005)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
1890 V
(32006)210 648 A
(#define)294 1026 A
(pipe)168 1362 A
(_pipe)210 1572 A
1980 V
(32007)210 648 A
(#define)294 1026 A
(fork)168 1362 A
(_fork)210 1572 A
2070 V
(32008)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1614 A
2160 V
(32009)210 648 A
(#define)294 1026 A
(dup2)168 1362 A
(_dup2)210 1572 A
2250 V
(32010)210 648 A
(#define)294 1026 A
(execl)210 1362 A
(_execl)252 1614 A
2340 V
(32011)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1572 A
2430 V
(32012)210 648 A
(#define)294 1026 A
(_exit)210 1362 A
(__exit)252 1614 A
2520 V
(32013)210 648 A
(#define)294 1026 A
(write)210 1362 A
(_write)252 1614 A
2610 V
(32014)210 648 A
(#define)294 1026 A
(waitpid)294 1362 A
(_waitpid)336 1698 A
2700 V
(32015)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2790 V
(32016)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2880 V
(32017)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2970 V
(32018)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
3060 V
(32019)210 648 A
(#include)336 1026 A
(<sys/wait.h>)504 1404 A
3150 V
(32020)210 648 A
3240 V
(32021)210 648 A
1026(/*)S
(Set-uid)294 1152 A
(root)168 1488 A
(program)294 1698 A
2034(to)S
(read)168 2160 A
(/etc/shadow)462 2370 A
2874(or)S
(encrypt)294 3000 A
(passwords.)420 3336 A
3798(*/)S
3330 V
(32022)210 648 A
(static)252 1026 A
(char)168 1320 A
(PWDAUTH[])378 1530 A
1950(=)S
("/usr/lib/pwdauth";)798 2034 A
3420 V
(32023)210 648 A
(#define)294 1026 A
(LEN)126 1362 A
(1024)168 1698 A
3510 V
(32024)210 648 A
3600 V
(32025)210 648 A
(char)168 1026 A
(*crypt\(const)504 1236 A
(char)168 1782 A
(*key,)210 1992 A
(const)210 2244 A
(char)168 2496 A
(*salt\))252 2706 A
3690 V
(32026)210 648 A
1026({)S
3780 V
(32027)210 648 A
(pid_t)210 1362 A
(pid;)168 1614 A
3870 V
(32028)210 648 A
(int)126 1362 A
(status;)294 1530 A
3960 V
(32029)210 648 A
(int)126 1362 A
(pfd[2];)294 1530 A
4050 V
(32030)210 648 A
(static)252 1362 A
(char)168 1656 A
(pwdata[LEN];)504 1866 A
4140 V
(32031)210 648 A
(char)168 1362 A
(*p=)126 1572 A
(pwdata;)294 1740 A
4230 V
(32032)210 648 A
(const)210 1362 A
(char)168 1614 A
(*k=)126 1824 A
(key;)168 1992 A
4320 V
(32033)210 648 A
(const)210 1362 A
(char)168 1614 A
(*s=)126 1824 A
(salt;)210 1992 A
4410 V
(32034)210 648 A
(int)126 1362 A
1530(n;)S
4500 V
(32035)210 648 A
4590 V
(32036)210 648 A
1362(/*)S
(Fill)168 1488 A
(pwdata[])336 1698 A
(with)168 2076 A
(the)126 2286 A
(key)126 2454 A
(and)126 2622 A
(salt.)210 2790 A
3042(*/)S
4680 V
(32037)210 648 A
(while)210 1362 A
(\(\(*p++)252 1614 A
1908(=)S
(*k++\))210 1992 A
2244(!=)S
2370(0\))S
2496(if)S
2622(\(p)S
2748(==)S
(pwdata+LEN-1\))546 2874 A
(goto)168 3462 A
(fail;)210 3672 A
4770 V
(32038)210 648 A
(while)210 1362 A
(\(\(*p++)252 1614 A
1908(=)S
(*s++\))210 1992 A
2244(!=)S
2370(0\))S
2496(if)S
2622(\(p)S
2748(==)S
(pwdata+LEN-0\))546 2874 A
(goto)168 3462 A
(fail;)210 3672 A
4860 V
(32039)210 648 A
4950 V
(32040)210 648 A
1362(if)S
(\(pipe\(pfd\))420 1488 A
1950(<)S
2034(0\))S
(goto)168 2160 A
(fail;)210 2370 A
5040 V
(32041)210 648 A
5130 V
(32042)210 648 A
1362(/*)S
(Prefill)294 1488 A
(the)126 1824 A
(pipe.)210 1992 A
2244(*/)S
5220 V
(32043)210 648 A
(\(void\))252 1362 A
(write\(pfd[1],)546 1656 A
(pwdata,)294 2244 A
2580(p)S
2664(-)S
(pwdata\);)336 2748 A
5310 V
(32044)210 648 A
5400 V
(32045)210 648 A
(switch)252 1362 A
(\(\(pid=)252 1656 A
(fork\(\)\)\))336 1950 A
2328({)S
5490 V
(32046)210 648 A
(case)168 1362 A
(-1:)126 1572 A
5580 V
(32047)210 648 A
(close\(pfd[0]\);)588 1698 A
5670 V
(32048)210 648 A
(close\(pfd[1]\);)588 1698 A
5760 V
(32049)210 648 A
(goto)168 1698 A
(fail;)210 1908 A
5850 V
(32050)210 648 A
(case)168 1362 A
1572(0:)S
5940 V
(32051)210 648 A
1698(/*)S
(Connect)294 1824 A
(both)168 2160 A
(input)210 2370 A
(and)126 2622 A
(output)252 2790 A
3084(to)S
(the)126 3210 A
(pipe.)210 3378 A
3630(*/)S
6030 V
(32052)210 648 A
1698(if)S
(\(pfd[0])294 1824 A
2160(!=)S
2286(0\))S
2412({)S
6120 V
(32053)210 648 A
(dup2\(pfd[0],)504 2034 A
(0\);)126 2580 A
6210 V
(32054)210 648 A
(close\(pfd[0]\);)588 2034 A
8418 V
EP
%%Page: 309 309
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1984(File:)S
(src/lib/other/crypt.c)874 2217 A
12 B
(309)180 4248 A
900 V
7 LST
(32055)210 648 A
1698(})S
990 V
(32056)210 648 A
1698(if)S
(\(pfd[1])294 1824 A
2160(!=)S
2286(1\))S
2412({)S
1080 V
(32057)210 648 A
(dup2\(pfd[1],)504 2034 A
(1\);)126 2580 A
1170 V
(32058)210 648 A
(close\(pfd[1]\);)588 2034 A
1260 V
(32059)210 648 A
1698(})S
1350 V
(32060)210 648 A
1440 V
(32061)210 648 A
(execl\(PWDAUTH,)588 1698 A
(PWDAUTH,)336 2328 A
(\(char)210 2706 A
2958(*\))S
(nil\);)210 3084 A
1530 V
(32062)210 648 A
1620 V
(32063)210 648 A
1698(/*)S
1824(No)S
(pwdauth?)336 1950 A
(Fail!)210 2370 A
2622(*/)S
1710 V
(32064)210 648 A
(\(void\))252 1698 A
(read\(0,)294 1992 A
(pwdata,)294 2328 A
(LEN\);)210 2664 A
1800 V
(32065)210 648 A
(_exit\(1\);)378 1698 A
1890 V
(32066)210 648 A
1362(})S
1980 V
(32067)210 648 A
(close\(pfd[1]\);)588 1362 A
2070 V
(32068)210 648 A
2160 V
(32069)210 648 A
1362(if)S
(\(waitpid\(pid,)546 1488 A
(&status,)336 2076 A
2454(0\))S
2580(<)S
2664(0)S
2748(||)S
(status)252 2874 A
3168(!=)S
3294(0\))S
3420({)S
2250 V
(32070)210 648 A
(close\(pfd[0]\);)588 1698 A
2340 V
(32071)210 648 A
(goto)168 1698 A
(fail;)210 1908 A
2430 V
(32072)210 648 A
1362(})S
2520 V
(32073)210 648 A
2610 V
(32074)210 648 A
1362(/*)S
(Read)168 1488 A
(and)126 1698 A
(return)252 1866 A
(the)126 2160 A
(result.)294 2328 A
(Check)210 2706 A
2958(if)S
3084(it)S
(contains)336 3210 A
(exactly)294 3588 A
(one)126 3924 A
2700 V
(32075)210 648 A
1404(*)S
(string.)294 1488 A
2790 V
(32076)210 648 A
1404(*/)S
2880 V
(32077)210 648 A
1362(n=)S
(read\(pfd[0],)504 1488 A
(pwdata,)294 2034 A
(LEN\);)210 2370 A
2970 V
(32078)210 648 A
(close\(pfd[0]\);)588 1362 A
3060 V
(32079)210 648 A
1362(if)S
1488(\(n)S
1614(<)S
1698(0\))S
(goto)168 1824 A
(fail;)210 2034 A
3150 V
(32080)210 648 A
1362(p)S
1446(=)S
(pwdata)252 1530 A
1824(+)S
1908(n;)S
3240 V
(32081)210 648 A
1362(n)S
1446(=)S
1530(0;)S
3330 V
(32082)210 648 A
(while)210 1362 A
1614(\(p)S
1740(>)S
(pwdata\))294 1824 A
2160(if)S
(\(*--p)210 2286 A
2538(==)S
2664(0\))S
(n++;)168 2790 A
3420 V
(32083)210 648 A
1362(if)S
1488(\(n)S
1614(!=)S
1740(1\))S
(goto)168 1866 A
(fail;)210 2076 A
3510 V
(32084)210 648 A
(return)252 1362 A
(pwdata;)294 1656 A
3600 V
(32085)210 648 A
3690 V
(32086)210 648 A
(fail:)210 1026 A
3780 V
(32087)210 648 A
(pwdata[0])378 1362 A
1782(=)S
(salt[0])294 1866 A
2202(\303)S
2286(1;)S
3042(/*)S
(make)168 3168 A
(result)252 3378 A
3672(!=)S
(salt)168 3798 A
4008(*/)S
3870 V
(32088)210 648 A
(pwdata[1])378 1362 A
1782(=)S
1866(0;)S
3960 V
(32089)210 648 A
(return)252 1362 A
(pwdata;)294 1656 A
4050 V
(32090)210 648 A
1026(})S
4230 V
(32092)210 648 A
1026(/*)S
4320 V
(32093)210 648 A
1068(*)S
($PchHeader:)462 1152 A
(/mount/hd2/minix/lib/misc/RCS/crypt.c,v)1638 1656 A
(1.3)126 3336 A
(1994/12/22)420 3504 A
(13:51:49)336 3966 A
(philip)252 4344 A
(Exp)126 4638 A
4806($)S
4410 V
(32094)210 648 A
1068(*/)S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/other/ctermid.c)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(32100)210 648 A
1026(/*)S
(ctermid\(3\))420 1194 A
5490 V
(32101)210 648 A
1068(*)S
5580 V
(32102)210 648 A
1068(*)S
(Author:)294 1194 A
(Terrence)336 1530 A
(Holm)168 1908 A
(Aug.)168 2496 A
(1988)168 2706 A
5670 V
(32103)210 648 A
1068(*)S
5760 V
(32104)210 648 A
1068(*)S
5850 V
(32105)210 648 A
1068(*)S
(Ctermid\(3\))420 1194 A
(returns)294 1656 A
1992(a)S
(pointer)294 2076 A
2412(to)S
2538(a)S
(string)252 2622 A
(naming)252 2916 A
(the)126 3210 A
(controlling)462 3378 A
5940 V
(32106)210 648 A
1068(*)S
(terminal.)378 1194 A
1614(If)S
(<name_space>)504 1740 A
2286(is)S
(NULL)168 2412 A
(then)168 2622 A
(local)210 2832 A
(PRIVATE)294 3084 A
(storage)294 3420 A
6030 V
(32107)210 648 A
1068(*)S
1194(is)S
(used,)210 1320 A
(otherwise)378 1572 A
(<name_space>)504 1992 A
(must)168 2538 A
(point)210 2748 A
3000(to)S
(storage)294 3126 A
3462(of)S
3588(at)S
6120 V
(32108)210 648 A
1068(*)S
(least)210 1194 A
(L_ctermid)378 1446 A
(characters.)462 1866 A
6210 V
(32109)210 648 A
1068(*)S
8418 V
EP
%%Page: 310 310
BP
/slant 0 def
/height 0 def
630 V
12 B
(310)180 648 A
11 R
1928(File:)S
(src/lib/other/ctermid.c)986 2161 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(32110)210 648 A
1068(*)S
(Returns)294 1194 A
1530(a)S
(pointer)294 1614 A
1950(to)S
("/dev/tty".)462 2076 A
990 V
(32111)210 648 A
1068(*/)S
1080 V
(32112)210 648 A
1170 V
(32113)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1260 V
(32114)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1350 V
(32115)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1440 V
(32116)210 648 A
1530 V
(32117)210 648 A
(_PROTOTYPE\()462 1026 A
(char)168 1530 A
(*ctermid,)378 1740 A
(\(char)210 2160 A
(*name_space\)\);)588 2412 A
1620 V
(32118)210 648 A
1710 V
(32119)210 648 A
(#ifndef)294 1026 A
(L_ctermid)378 1362 A
1800 V
(32120)210 648 A
(#define)294 1026 A
(L_ctermid)378 1362 A
1824(9)S
1890 V
(32121)210 648 A
(#endif)252 1026 A
1980 V
(32122)210 648 A
2070 V
(32123)210 648 A
(char)168 1026 A
(*ctermid\(name_space\))840 1236 A
2160 V
(32124)210 648 A
(char)168 1026 A
(*name_space;)504 1236 A
2250 V
(32125)210 648 A
1026({)S
2340 V
(32126)210 648 A
(PRIVATE)294 1110 A
(char)168 1446 A
(termid[L_ctermid];)756 1656 A
2430 V
(32127)210 648 A
2520 V
(32128)210 648 A
1110(if)S
(\(name_space)462 1236 A
1740(==)S
(\(char)210 1866 A
(*\)NULL\))294 2118 A
(name_space)420 2454 A
2916(=)S
(termid;)294 3000 A
2610 V
(32129)210 648 A
(strcpy\(name_space,)756 1110 A
("/dev/tty"\);)504 1908 A
2700 V
(32130)210 648 A
(return\(name_space\);)798 1110 A
2790 V
(32131)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/other/cuserid.c)966 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(32200)210 648 A
1026(/*)S
(cuserid\(3\))420 1194 A
3690 V
(32201)210 648 A
1068(*)S
3780 V
(32202)210 648 A
1068(*)S
(Author:)294 1194 A
(Terrence)336 1530 A
1908(W.)S
(Holm)168 2034 A
(Sept.)210 2622 A
(1987)168 2874 A
3870 V
(32203)210 648 A
1068(*/)S
3960 V
(32204)210 648 A
4050 V
(32205)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4140 V
(32206)210 648 A
(#include)336 1026 A
(<pwd.h>)294 1404 A
4230 V
(32207)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4320 V
(32208)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4410 V
(32209)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
4500 V
(32210)210 648 A
4590 V
(32211)210 648 A
(#ifndef)294 1026 A
(L_cuserid)378 1404 A
4680 V
(32212)210 648 A
(#define)294 1026 A
(L_cuserid)378 1404 A
1908(9)S
4770 V
(32213)210 648 A
(#endif)252 1026 A
4860 V
(32214)210 648 A
4950 V
(32215)210 648 A
(char)168 1026 A
(*cuserid\(user_name\))798 1236 A
5040 V
(32216)210 648 A
(char)168 1026 A
(*user_name;)462 1236 A
5130 V
(32217)210 648 A
1026({)S
5220 V
(32218)210 648 A
(PRIVATE)294 1110 A
(char)168 1446 A
(userid[L_cuserid];)756 1656 A
5310 V
(32219)210 648 A
(struct)252 1110 A
(passwd)252 1404 A
(*pw_entry;)420 1698 A
5400 V
(32220)210 648 A
5490 V
(32221)210 648 A
1110(if)S
(\(user_name)420 1236 A
1698(==)S
(\(char)210 1824 A
(*\)NULL\))294 2076 A
(user_name)378 2412 A
2832(=)S
(userid;)294 2916 A
5580 V
(32222)210 648 A
5670 V
(32223)210 648 A
(pw_entry)336 1110 A
1488(=)S
(getpwuid\(geteuid\(\)\);)840 1572 A
5760 V
(32224)210 648 A
5850 V
(32225)210 648 A
1110(if)S
(\(pw_entry)378 1236 A
1656(==)S
(\(struct)294 1782 A
(passwd)252 2118 A
(*\)NULL\))294 2412 A
2748({)S
5940 V
(32226)210 648 A
(*user_name)420 1362 A
1824(=)S
('\\0';)210 1908 A
6030 V
(32227)210 648 A
(return\(\(char)504 1362 A
(*\)NULL\);)336 1908 A
6120 V
(32228)210 648 A
1110(})S
6210 V
(32229)210 648 A
(strcpy\(user_name,)714 1110 A
(pw_entry->pw_name\);)798 1866 A
8418 V
EP
%%Page: 311 311
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1938(File:)S
(src/lib/other/cuserid.c)967 2171 A
12 B
(311)180 4248 A
900 V
7 LST
(32230)210 648 A
990 V
(32231)210 648 A
(return\(user_name\);)756 1110 A
1080 V
(32232)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/other/environ.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(32300)210 648 A
1026(/*)S
1890 V
(32301)210 648 A
1068(*)S
(environ.c)378 1152 A
1572(-)S
(define)252 1656 A
(the)126 1950 A
(variable)336 2118 A
(environ)294 2496 A
1980 V
(32302)210 648 A
1068(*/)S
2070 V
(32303)210 648 A
1026(/*)S
($Header:)336 1152 A
(environ.c,v)462 1530 A
(1.1)126 2034 A
(90/09/27)336 2202 A
(13:39:50)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
2160 V
(32304)210 648 A
1026(/*)S
2250 V
(32305)210 648 A
1068(*)S
(This)168 1152 A
(file)168 1362 A
(defines)294 1572 A
(the)126 1908 A
(variable)336 2076 A
(environ)294 2454 A
(and)126 2790 A
(initializes)462 2958 A
3462(it)S
(with)168 3588 A
3798(a)S
(magic)210 3882 A
2340 V
(32306)210 648 A
1068(*)S
(value.)252 1152 A
(The)126 1488 A
1656(C)S
(run-time)336 1740 A
(start-off)378 2118 A
(routine)294 2538 A
(tests)210 2874 A
(whether)294 3126 A
(the)126 3462 A
(variable)336 3630 A
2430 V
(32307)210 648 A
1068(*)S
(environ)294 1152 A
1488(is)S
(initialized)462 1614 A
(with)168 2118 A
(this)168 2328 A
(value.)252 2538 A
2874(If)S
3000(it)S
3126(is)S
(not,)168 3252 A
3462(it)S
3588(is)S
(assumed)294 3714 A
2520 V
(32308)210 648 A
1068(*)S
(that)168 1152 A
1362(it)S
1488(is)S
(defined)294 1614 A
1950(by)S
(the)126 2076 A
(user.)210 2244 A
(Only)168 2538 A
(two)126 2748 A
(bytes)210 2916 A
(are)126 3168 A
(tested,)294 3336 A
(since)210 3672 A
3924(we)S
2610 V
(32309)210 648 A
1068(*)S
(don't)210 1152 A
(know)168 1404 A
(the)126 1614 A
(endian-ness)462 1782 A
(and)126 2286 A
(alignment)378 2454 A
(restrictions)504 2874 A
3420(of)S
(the)126 3546 A
(machine.)336 3714 A
2700 V
(32310)210 648 A
1068(*)S
(This)168 1152 A
(means)210 1362 A
(that)168 1614 A
(the)126 1824 A
(low-order)378 1992 A
(two-bytes)378 2412 A
(should)252 2832 A
3126(be)S
(equal)210 3252 A
3504(to)S
(the)126 3630 A
2790 V
(32311)210 648 A
1068(*)S
(high-order)420 1152 A
(two-bytes)378 1614 A
2034(on)S
(machines)336 2160 A
(with)168 2538 A
(four-byte)378 2748 A
(pointers.)378 3168 A
3630(In)S
(fact,)210 3756 A
(all)126 4008 A
2880 V
(32312)210 648 A
1068(*)S
(the)126 1152 A
(bytes)210 1320 A
1572(in)S
(the)126 1698 A
(pointer)294 1866 A
(are)126 2202 A
(the)126 2370 A
(same,)210 2538 A
(just)168 2790 A
3000(in)S
(case.)210 3126 A
2970 V
(32313)210 648 A
1068(*/)S
3060 V
(32314)210 648 A
3150 V
(32315)210 648 A
(#if)126 1026 A
(_EM_PSIZE==2)504 1194 A
3240 V
(32316)210 648 A
(char)168 1026 A
(**environ)378 1236 A
1656(=)S
(\(char)210 1740 A
(**\))126 1992 A
(0x5353;)294 2160 A
3330 V
(32317)210 648 A
(#else)210 1026 A
3420 V
(32318)210 648 A
(char)168 1026 A
(**environ)378 1236 A
1656(=)S
(\(char)210 1740 A
(**\))126 1992 A
(0x53535353;)462 2160 A
3510 V
(32319)210 648 A
(#endif)252 1026 A
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/other/errno.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(32400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4590 V
(32401)210 648 A
1026(/*)S
(errno.c)294 1152 A
1488(-)S
(declare)294 1572 A
(variable)336 1908 A
(errno)210 2286 A
(Author:)294 3042 A
3378(F.)S
(Meulenbroeks)504 3504 A
4050(*/)S
4680 V
(32402)210 648 A
4770 V
(32403)210 648 A
(int)126 1026 A
(errno)210 1194 A
1446(=)S
1530(0;)S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/other/execlp.c)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(32500)210 648 A
1026(/*)S
(execlp\(3\))378 1152 A
(and)126 1572 A
(execvp\(3\))378 1740 A
5490 V
(32501)210 648 A
1068(*)S
5580 V
(32502)210 648 A
1068(*)S
(Author:)294 1152 A
(Terrence)336 1488 A
1866(W.)S
(Holm)168 1992 A
(July)168 2412 A
(1988)168 2622 A
5670 V
(32503)210 648 A
1068(*/)S
5760 V
(32504)210 648 A
5850 V
(32505)210 648 A
1026(/*)S
(FIXES)210 1152 A
1404(-)S
(Dec)126 1488 A
(1989)168 1656 A
1866(-)S
(Jan)126 1950 A
(1990)168 2118 A
(Bruce)210 2328 A
(Evans.)252 2580 A
5940 V
(32506)210 648 A
1068(*)S
1404(-)S
(Don't)210 1488 A
(use)126 1740 A
(search)252 1908 A
(path)168 2202 A
(when)168 2412 A
(file)168 2622 A
(name)168 2832 A
(contains)336 3042 A
3420(a)S
('/')126 3504 A
(*anywhere*.)462 3672 A
6030 V
(32507)210 648 A
1068(*)S
1404(-)S
(Invoke)252 1488 A
(sh\(1\))210 1782 A
2034(on)S
(command)294 2160 A
(files.)252 2496 A
6120 V
(32508)210 648 A
1068(*)S
1404(-)S
(Use)126 1488 A
(PATH_MAX)336 1656 A
(and)126 2034 A
(check)210 2202 A
(strings)294 2454 A
(fit)126 2790 A
2958(in)S
(buffer.)294 3084 A
6210 V
(32509)210 648 A
1068(*)S
1404(-)S
(Use)126 1488 A
(stdargs,)336 1656 A
(with)168 2034 A
(the)126 2244 A
(unjustified)462 2412 A
(assumption)420 2916 A
(that)168 3378 A
(va_start\(\))420 3588 A
(turns)210 4050 A
8418 V
EP
%%Page: 312 312
BP
/slant 0 def
/height 0 def
630 V
12 B
(312)180 648 A
11 R
1953(File:)S
(src/lib/other/execlp.c)937 2186 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(32510)210 648 A
1068(*)S
(the)126 1488 A
(arg)126 1656 A
(list)168 1824 A
(into)168 2034 A
2244(a)S
(char)168 2328 A
(*[].)168 2538 A
(Strictly,)378 2790 A
(the)126 3210 A
(arg)126 3378 A
(list)168 3546 A
(should)252 3756 A
4050(be)S
990 V
(32511)210 648 A
1068(*)S
(copied,)294 1488 A
("wasting")378 1824 A
2244(up)S
2370(to)S
(ARG_MAX)294 2496 A
(bytes.)252 2832 A
1080 V
(32512)210 648 A
1068(*/)S
1170 V
(32513)210 648 A
1260 V
(32514)210 648 A
1026(/*)S
(Execlp\(3\))378 1194 A
(and)126 1614 A
(execvp\(3\))378 1782 A
(are)126 2202 A
(like)168 2370 A
(execl\(3\))336 2580 A
(and)126 2958 A
(execv\(3\),)378 3126 A
1350 V
(32515)210 648 A
1068(*)S
(except)252 1194 A
(that)168 1488 A
(they)168 1698 A
(use)126 1908 A
(the)126 2076 A
(environment)462 2244 A
(variable)336 2748 A
($PATH)210 3126 A
3378(as)S
1440 V
(32516)210 648 A
1068(*)S
1194(a)S
(search)252 1278 A
(list)168 1572 A
1782(of)S
(possible)336 1908 A
(locations)378 2286 A
(for)126 2706 A
(the)126 2874 A
(executable)420 3042 A
1530 V
(32517)210 648 A
1068(*)S
(file,)210 1194 A
1446(if)S
(<file>)252 1572 A
(does)168 1866 A
(not)126 2076 A
(contain)294 2244 A
2580(a)S
('/',)168 2664 A
(and)126 2874 A
(they)168 3042 A
(attempt)294 3252 A
1620 V
(32518)210 648 A
1068(*)S
1194(to)S
(run)126 1320 A
(non-binary)420 1488 A
(executable)420 1950 A
(files)210 2412 A
(using)210 2664 A
(sh\(1\).)252 2916 A
1710 V
(32519)210 648 A
1068(*)S
1800 V
(32520)210 648 A
1068(*)S
(The)126 1194 A
(path)168 1362 A
(search)252 1572 A
(list)168 1866 A
2076(is)S
2202(a)S
(list)168 2286 A
2496(of)S
(directory)378 2622 A
(names)210 3042 A
(separated)378 3294 A
1890 V
(32521)210 648 A
1068(*)S
1194(by)S
(':'s.)210 1320 A
1572(If)S
1698(a)S
(colon)210 1782 A
(appears)294 2034 A
2370(at)S
(the)126 2496 A
(beginning)378 2664 A
3084(or)S
(end)126 3210 A
3378(of)S
(the)126 3504 A
1980 V
(32522)210 648 A
1068(*)S
(list,)210 1194 A
1446(or)S
(two)126 1572 A
(appear)252 1740 A
(together,)378 2034 A
(then)168 2454 A
2664(an)S
(empty)210 2790 A
(prefix)252 3042 A
3336(is)S
(tried.)252 3462 A
2070 V
(32523)210 648 A
1068(*)S
1194(If)S
($PATH)210 1320 A
1572(is)S
(not)126 1698 A
1866(in)S
(the)126 1992 A
(environment,)504 2160 A
2706(it)S
(defaults)336 2832 A
3210(to)S
("".)126 3336 A
2160 V
(32524)210 648 A
1068(*)S
2250 V
(32525)210 648 A
1068(*)S
(For)126 1194 A
(example,)336 1362 A
1740(if)S
(<file>)252 1866 A
2160(is)S
("ls",)210 2286 A
(and)126 2538 A
(the)126 2706 A
($PATH)210 2874 A
3126(is)S
2340 V
(32526)210 648 A
1068(*)S
(":/usr/local/bin:/bin:/usr/bin",)1344 1194 A
(then)168 2580 A
(./ls,)210 2832 A
2430 V
(32527)210 648 A
1068(*)S
(/usr/local/bin/ls,)756 1194 A
(/bin/ls)294 1992 A
(and)126 2328 A
(/usr/bin/ls)462 2496 A
(are)126 3000 A
(tried)210 3168 A
(until)210 3420 A
2520 V
(32528)210 648 A
1068(*)S
1194(an)S
(exectable)378 1320 A
(one)126 1740 A
1908(is)S
(found.)252 2034 A
2328(If)S
(the)126 2454 A
(direct)252 2622 A
(attempt)294 2916 A
3252(to)S
(exec)168 3378 A
3588(it)S
2610 V
(32529)210 648 A
1068(*)S
(fails,)252 1194 A
(the)126 1488 A
(arg)126 1656 A
(list)168 1824 A
2034(is)S
(modified)336 2160 A
2538(to)S
(begin)210 2664 A
(with)168 2916 A
("sh")168 3126 A
(and)126 3336 A
(the)126 3504 A
2700 V
(32530)210 648 A
1068(*)S
(absolute)336 1194 A
(name)168 1572 A
1782(of)S
(<file>,)294 1908 A
(and)126 2244 A
2412(an)S
(exec)168 2538 A
2748(of)S
(/bin/sh)294 2874 A
3210(is)S
(tried.)252 3336 A
2790 V
(32531)210 648 A
1068(*)S
1194(If)S
(this)168 1320 A
(fails,)252 1530 A
1824(no)S
(further)294 1950 A
(attempts)336 2286 A
(are)126 2664 A
(made.)210 2832 A
2880 V
(32532)210 648 A
1068(*)S
2970 V
(32533)210 648 A
1068(*)S
(This)168 1194 A
(function)336 1404 A
(only)168 1782 A
(returns)294 1992 A
(after)210 2328 A
2580(an)S
(error.)252 2706 A
3042(It)S
(returns)294 3168 A
3504(-1)S
3060 V
(32534)210 648 A
1068(*)S
(and)126 1194 A
(sets)168 1362 A
(errno)210 1572 A
(like)168 1824 A
(execv\(\).)336 2034 A
3150 V
(32535)210 648 A
1068(*/)S
3240 V
(32536)210 648 A
3330 V
(32537)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
3420 V
(32538)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3510 V
(32539)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
3600 V
(32540)210 648 A
(#include)336 1026 A
(<limits.h>)420 1404 A
3690 V
(32541)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
3780 V
(32542)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
3870 V
(32543)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3960 V
(32544)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1404 A
4050 V
(32545)210 648 A
4140 V
(32546)210 648 A
(#undef)252 1026 A
(NULL)168 1320 A
4230 V
(32547)210 648 A
(#define)294 1026 A
(NULL)168 1362 A
1572(0)S
2370(/*)S
(kludge)252 2496 A
(for)126 2790 A
(ACK)126 2958 A
(not)126 3126 A
(understanding)546 3294 A
(void)168 3882 A
4092(*)S
4176(*/)S
4320 V
(32548)210 648 A
4410 V
(32549)210 648 A
(#define)294 1026 A
(MAX_NUM_ARGS)504 1362 A
(512)126 1908 A
2370(/*)S
(maximum)294 2496 A
(number)252 2832 A
3126(of)S
(arguments)378 3252 A
3672(to)S
(execvp)252 3798 A
4092(*/)S
4500 V
(32550)210 648 A
4590 V
(32551)210 648 A
(extern)252 1026 A
(char)168 1320 A
(**environ;)420 1530 A
2370(/*)S
(environment)462 2496 A
(pointer)294 3000 A
3336(*/)S
4680 V
(32552)210 648 A
4770 V
(32553)210 648 A
(#ifdef)252 1026 A
(_ANSI)210 1320 A
4860 V
(32554)210 648 A
(int)126 1026 A
(execlp\(const)504 1194 A
(char)168 1740 A
(*file,)252 1950 A
(const)210 2244 A
(char)168 2496 A
(*arg,)210 2706 A
(...\))168 2958 A
4950 V
(32555)210 648 A
(#else)210 1026 A
5040 V
(32556)210 648 A
(int)126 1026 A
(execlp\(file\))504 1194 A
5130 V
(32557)210 648 A
(char)168 1026 A
(*file;)252 1236 A
5220 V
(32558)210 648 A
(#endif)252 1026 A
5310 V
(32559)210 648 A
1026({)S
5400 V
(32560)210 648 A
(register)336 1110 A
(va_list)294 1488 A
(argp;)210 1824 A
5490 V
(32561)210 648 A
(register)336 1110 A
(int)126 1488 A
(result;)294 1656 A
5580 V
(32562)210 648 A
5670 V
(32563)210 648 A
(va_start\(argp,)588 1110 A
(file\);)252 1740 A
5760 V
(32564)210 648 A
(result)252 1110 A
1404(=)S
(execvp\(file,)504 1488 A
(\(char)210 2034 A
(**\))126 2286 A
(argp\);)252 2454 A
5850 V
(32565)210 648 A
(va_end\(argp\);)546 1110 A
5940 V
(32566)210 648 A
(return\(result\);)630 1110 A
6030 V
(32567)210 648 A
1026(})S
6210 V
(32569)210 648 A
(#ifdef)252 1026 A
(_ANSI)210 1320 A
8418 V
EP
%%Page: 313 313
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1953(File:)S
(src/lib/other/execlp.c)937 2186 A
12 B
(313)180 4248 A
900 V
7 LST
(32570)210 648 A
(int)126 1026 A
(execvp\(const)504 1194 A
(char)168 1740 A
(*file,)252 1950 A
(char)168 2244 A
(*const)252 2454 A
(argv[]\))294 2748 A
990 V
(32571)210 648 A
(#else)210 1026 A
1080 V
(32572)210 648 A
(int)126 1026 A
(execvp\(file,)504 1194 A
(argv\))210 1740 A
1170 V
(32573)210 648 A
(char)168 1026 A
(*file;)252 1236 A
1260 V
(32574)210 648 A
(char)168 1026 A
(**argv;)294 1236 A
1350 V
(32575)210 648 A
(#endif)252 1026 A
1440 V
(32576)210 648 A
1026({)S
1530 V
(32577)210 648 A
(int)126 1110 A
1278(i,)S
(best_errno;)462 1404 A
1620 V
(32578)210 648 A
(char)168 1110 A
(**envtop;)378 1320 A
1710 V
(32579)210 648 A
(size_t)252 1110 A
(flength;)336 1404 A
1800 V
(32580)210 648 A
(char)168 1110 A
(*searchpath;)504 1320 A
1890 V
(32581)210 648 A
(size_t)252 1110 A
(slength;)336 1404 A
1980 V
(32582)210 648 A
(char)168 1110 A
(*split;)294 1320 A
2070 V
(32583)210 648 A
(char)168 1110 A
(execpath[PATH_MAX)714 1320 A
2076(+)S
(1];)126 2160 A
2160 V
(32584)210 648 A
(char)168 1110 A
(*arg2[MAX_NUM_ARGS)756 1320 A
2118(+)S
(3];)126 2202 A
2370(/*)S
(place)210 2496 A
2748(to)S
(copy)168 2874 A
(argv)168 3084 A
3294(*/)S
2250 V
(32585)210 648 A
2340 V
(32586)210 648 A
1110(/*)S
(POSIX)210 1236 A
(requires)336 1488 A
(argv)168 1866 A
2076(to)S
2202(be)S
(immutable.)420 2328 A
(Unfortunately,)588 2832 A
3462(we)S
(have)168 3588 A
3798(to)S
(change)252 3924 A
4218(it)S
2430 V
(32587)210 648 A
1152(*)S
(during)252 1236 A
(execution.)420 1530 A
2034(To)S
(keep)168 2160 A
(POSIX)210 2370 A
(happy,)252 2622 A
2916(a)S
(copy)168 3000 A
3210(is)S
(made)168 3336 A
(and)126 3546 A
(the)126 3714 A
(copy)168 3882 A
2520 V
(32588)210 648 A
1152(*)S
(changed.)336 1236 A
(The)126 1656 A
(question)336 1824 A
(arises:)294 2202 A
(how)126 2538 A
(big)126 2706 A
(should)252 2874 A
(the)126 3168 A
(copy)168 3336 A
(be?)126 3546 A
(Allocating)420 3756 A
2610 V
(32589)210 648 A
1152(*)S
(space)210 1236 A
(dynamically)462 1488 A
(requires)336 1992 A
(using)210 2370 A
(malloc,)294 2622 A
(which)210 2958 A
(itself)252 3210 A
(takes)210 3504 A
3756(up)S
3882(a)S
(lot)126 3966 A
2700 V
(32590)210 648 A
1152(*)S
1236(of)S
(space.)252 1362 A
(The)126 1698 A
(solution)336 1866 A
(chosen)252 2244 A
(here)168 2538 A
2748(is)S
2874(to)S
(limit)210 3000 A
(the)126 3252 A
(number)252 3420 A
3714(of)S
(arguments)378 3840 A
2790 V
(32591)210 648 A
1152(*)S
1236(to)S
(MAX_NUM_ARGS)504 1362 A
(and)126 1908 A
(set)126 2076 A
(this)168 2244 A
(value)210 2454 A
(fairly)252 2706 A
(high.)210 3000 A
(This)168 3294 A
(solution)336 3504 A
3882(is)S
(simpler)294 4008 A
2880 V
(32592)210 648 A
1152(*)S
(and)126 1236 A
1404(is)S
(probably)336 1530 A
(adequate.)378 1908 A
(Only)168 2370 A
(programs)336 2580 A
(with)168 2958 A
(huge)168 3168 A
(numbers)294 3378 A
3714(of)S
(very)168 3840 A
(short)210 4050 A
2970 V
(32593)210 648 A
1152(*)S
(arguments)378 1236 A
(will)168 1656 A
(get)126 1866 A
2034(an)S
(error)210 2160 A
(\(if)126 2412 A
(the)126 2580 A
(arguments)378 2748 A
(are)126 3168 A
(large,)252 3336 A
(ARG_MAX)294 3630 A
(will)168 3966 A
3060 V
(32594)210 648 A
1152(*)S
1236(be)S
(exceeded.)378 1362 A
3150 V
(32595)210 648 A
1152(*/)S
3240 V
(32596)210 648 A
3330 V
(32597)210 648 A
1110(if)S
(\(strchr\(file,)546 1236 A
('/'\))168 1824 A
2034(!=)S
(NULL)168 2160 A
2370(||)S
(\(searchpath)462 2496 A
3000(=)S
(getenv\("PATH"\)\))630 3084 A
3756(==)S
(NULL\))210 3882 A
3420 V
(32598)210 648 A
(searchpath)420 1362 A
1824(=)S
("";)126 1908 A
3510 V
(32599)210 648 A
(flength)294 1110 A
1446(=)S
(strlen\(file\);)546 1530 A
3600 V
(32600)210 648 A
(best_errno)420 1110 A
1572(=)S
(ENOENT;)294 1656 A
3690 V
(32601)210 648 A
3780 V
(32602)210 648 A
(while)210 1110 A
(\(1\))126 1362 A
1530({)S
3870 V
(32603)210 648 A
(split)210 1362 A
1614(=)S
(strchr\(searchpath,)756 1698 A
(':'\);)210 2496 A
3960 V
(32604)210 648 A
1362(if)S
(\(split)252 1488 A
1782(==)S
(NULL\))210 1908 A
4050 V
(32605)210 648 A
(slength)294 1698 A
2034(=)S
(strlen\(searchpath\);)798 2118 A
4140 V
(32606)210 648 A
(else)168 1362 A
4230 V
(32607)210 648 A
(slength)294 1698 A
2034(=)S
(split)210 2118 A
2370(-)S
(searchpath;)462 2454 A
4320 V
(32608)210 648 A
1362(if)S
(\(slength)336 1488 A
1866(+)S
(flength)294 1950 A
2286(>=)S
(sizeof)252 2412 A
(execpath)336 2706 A
3084(-)S
3168(2\))S
3294({)S
4410 V
(32609)210 648 A
(errno)210 1698 A
1950(=)S
(ENAMETOOLONG;)546 2034 A
2706(/*)S
(too)126 2832 A
(bad)126 3000 A
3168(if)S
(premature)378 3294 A
3714(*/)S
4500 V
(32610)210 648 A
(return\(-1\);)462 1698 A
4590 V
(32611)210 648 A
1362(})S
4680 V
(32612)210 648 A
(strncpy\(execpath,)714 1362 A
(searchpath,)462 2118 A
(slength\);)378 2622 A
4770 V
(32613)210 648 A
1362(if)S
(\(slength)336 1488 A
1866(!=)S
1992(0\))S
(execpath[slength++])798 2118 A
2958(=)S
('/';)168 3042 A
4860 V
(32614)210 648 A
(strcpy\(execpath)630 1362 A
2034(+)S
(slength,)336 2118 A
(file\);)252 2496 A
4950 V
(32615)210 648 A
5040 V
(32616)210 648 A
1362(/*)S
(Don't)210 1488 A
(try)126 1740 A
1908(to)S
(avoid)210 2034 A
(execv\(\))294 2286 A
(for)126 2622 A
(non-existent)504 2790 A
(files,)252 3336 A
(since)210 3630 A
(the)126 3882 A
(Minix)210 4050 A
5130 V
(32617)210 648 A
1404(*)S
(shell)210 1488 A
(doesn't,)336 1740 A
(and)126 2118 A
2286(it)S
2412(is)S
(not)126 2538 A
(clear)210 2706 A
(whether)294 2958 A
(access\(\))336 3294 A
3672(or)S
(stat\(\))252 3798 A
(work)168 4092 A
5220 V
(32618)210 648 A
1404(*)S
(right)210 1488 A
(when)168 1740 A
(this)168 1950 A
(code)168 2160 A
2370(is)S
(set-uid.)336 2496 A
5310 V
(32619)210 648 A
1404(*/)S
5400 V
(32620)210 648 A
(execv\(execpath,)630 1362 A
(argv\);)252 2034 A
5490 V
(32621)210 648 A
(switch)252 1362 A
(\(errno\))294 1656 A
1992({)S
5580 V
(32622)210 648 A
(case)168 1530 A
(EACCES:)294 1740 A
5670 V
(32623)210 648 A
(best_errno)420 1698 A
2160(=)S
(errno;)252 2244 A
2706(/*)S
(more)168 2832 A
(useful)252 3042 A
(than)168 3336 A
(ENOENT)252 3546 A
3840(*/)S
5760 V
(32624)210 648 A
(case)168 1530 A
(ENOENT:)294 1740 A
5850 V
(32625)210 648 A
1698(if)S
(\(split)252 1824 A
2118(==)S
(NULL\))210 2244 A
2496({)S
5940 V
(32626)210 648 A
2034(/*)S
2160(No)S
(more)168 2286 A
(path)168 2496 A
(components.)462 2706 A
3210(*/)S
6030 V
(32627)210 648 A
(errno)210 2034 A
2286(=)S
(best_errno;)462 2370 A
6120 V
(32628)210 648 A
(return\(-1\);)462 2034 A
6210 V
(32629)210 648 A
1698(})S
8418 V
EP
%%Page: 314 314
BP
/slant 0 def
/height 0 def
630 V
12 B
(314)180 648 A
11 R
1953(File:)S
(src/lib/other/execlp.c)937 2186 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(32630)210 648 A
(searchpath)420 1698 A
2160(=)S
(split)210 2244 A
2496(+)S
2580(1;)S
2706(/*)S
(try)126 2832 A
(next)168 3000 A
3210(in)S
(path)168 3336 A
3546(*/)S
990 V
(32631)210 648 A
(break;)252 1698 A
1080 V
(32632)210 648 A
(case)168 1530 A
(ENOEXEC:)336 1740 A
1170 V
(32633)210 648 A
1698(/*)S
(Assume)252 1824 A
2118(a)S
(command)294 2202 A
(file)168 2538 A
(and)126 2748 A
(invoke)252 2916 A
(sh\(1\))210 3210 A
3462(on)S
(it.)126 3588 A
(Replace)294 3798 A
(arg0)168 4134 A
1260 V
(32634)210 648 A
1740(*)S
(\(which)252 1824 A
2118(is)S
(usually)294 2244 A
2580(a)S
(short)210 2664 A
(name)168 2916 A
(for)126 3126 A
(the)126 3294 A
(command\))336 3462 A
3840(by)S
(the)126 3966 A
(full)168 4134 A
1350 V
(32635)210 648 A
1740(*)S
(name)168 1824 A
2034(of)S
(the)126 2160 A
(command)294 2328 A
(file.)210 2664 A
1440 V
(32636)210 648 A
1740(*/)S
1530 V
(32637)210 648 A
1620 V
(32638)210 648 A
1698(/*)S
(Copy)168 1824 A
(the)126 2034 A
(arg)126 2202 A
(pointers)336 2370 A
(from)168 2748 A
(argv)168 2958 A
3168(to)S
(arg2,)210 3294 A
(moving)252 3588 A
(them)168 3882 A
4092(up)S
4218(by)S
1710 V
(32639)210 648 A
1740(*)S
1824(1,)S
(overlaying)420 1950 A
(the)126 2412 A
(assumed)294 2580 A
(NULL)168 2916 A
3126(at)S
(the)126 3252 A
(end,)168 3420 A
3630(to)S
(make)168 3756 A
(room)168 3966 A
1800 V
(32640)210 648 A
1740(*)S
(for)126 1824 A
("sh")168 1992 A
2202(at)S
(the)126 2328 A
(beginning.)420 2496 A
1890 V
(32641)210 648 A
1740(*/)S
1980 V
(32642)210 648 A
1698(i)S
1782(=)S
1866(0;)S
2070 V
(32643)210 648 A
1698(if)S
(\(argv)210 1824 A
2076(!=)S
(NULL\))210 2202 A
2160 V
(32644)210 648 A
1698({)S
2250 V
(32645)210 648 A
(while)210 2034 A
(\(argv[i])336 2286 A
2664(!=)S
2790(0\))S
2916({)S
2340 V
(32646)210 648 A
2370(if)S
2496(\(i)S
2622(>=)S
(MAX_NUM_ARGS\))546 2748 A
3336({)S
2430 V
(32647)210 648 A
2706(/*)S
(Copy)168 2832 A
(failed.)294 3042 A
(Not)126 3420 A
(enough)252 3588 A
(room.)210 3882 A
4134(*/)S
2520 V
(32648)210 648 A
(errno)210 2706 A
2958(=)S
(ENOEXEC;)336 3042 A
2610 V
(32649)210 648 A
(return\(-1\);)462 2706 A
2700 V
(32650)210 648 A
2370(})S
2790 V
(32651)210 648 A
(arg2[i)252 2370 A
2664(+)S
2748(1])S
2874(=)S
(argv[i];)336 2958 A
2880 V
(32652)210 648 A
(i++;)168 2370 A
2970 V
(32653)210 648 A
2034(})S
3060 V
(32654)210 648 A
1698(})S
3150 V
(32655)210 648 A
(arg2[0])294 1698 A
2034(=)S
("sh";)210 2118 A
2706(/*)S
(exec)168 2832 A
(the)126 3042 A
(shell)210 3210 A
3462(*/)S
3240 V
(32656)210 648 A
(arg2[1])294 1698 A
2034(=)S
(execpath;)378 2118 A
2706(/*)S
(full)168 2832 A
(path)168 3042 A
3252(*/)S
3330 V
(32657)210 648 A
(arg2[i)252 1698 A
1992(+)S
2076(1])S
2202(=)S
(NULL;)210 2286 A
2706(/*)S
(terminator)420 2832 A
3294(*/)S
3420 V
(32658)210 648 A
3510 V
(32659)210 648 A
1698(/*)S
(Count)210 1824 A
(the)126 2076 A
(environment)462 2244 A
(pointers.)378 2748 A
3168(*/)S
3600 V
(32660)210 648 A
(for)126 1698 A
(\(envtop)294 1866 A
2202(=)S
(environ;)336 2286 A
(*envtop)294 2664 A
3000(!=)S
(NULL;)210 3126 A
3378(\))S
(envtop++;)378 3462 A
3690 V
(32661)210 648 A
3780 V
(32662)210 648 A
1698(/*)S
(Try)126 1824 A
(only)168 1992 A
(/bin/sh,)336 2202 A
(like)168 2580 A
(the)126 2790 A
(Minix)210 2958 A
(shell.)252 3210 A
(Lose)168 3546 A
3756(if)S
(the)126 3882 A
(user)168 4050 A
3870 V
(32663)210 648 A
1740(*)S
(has)126 1824 A
1992(a)S
(different)378 2076 A
(shell)210 2496 A
2748(or)S
(the)126 2874 A
(command)294 3042 A
(has)126 3378 A
(#!another/shell.)672 3546 A
3960 V
(32664)210 648 A
1740(*/)S
4050 V
(32665)210 648 A
(__execve\("/bin/sh",)798 1698 A
(arg2,)210 2538 A
(environ,)336 2790 A
3168(i)S
3252(+)S
3336(1,)S
(\(int\)\(envtop)504 3462 A
4008(-)S
(environ\)\);)420 4092 A
4140 V
(32666)210 648 A
4230 V
(32667)210 648 A
1698(/*)S
(Oops,)210 1824 A
2076(no)S
(shell?)252 2202 A
(Give)168 2580 A
(up.)126 2790 A
2958(*/)S
4320 V
(32668)210 648 A
(errno)210 1698 A
1950(=)S
(ENOEXEC;)336 2034 A
4410 V
(32669)210 648 A
(return\(-1\);)462 1698 A
4500 V
(32670)210 648 A
(default:)336 1530 A
4590 V
(32671)210 648 A
(return\(-1\);)462 1698 A
2370(/*)S
(probably)336 2496 A
(ENOMEM)252 2916 A
3210(or)S
(E2BIG)210 3336 A
3588(*/)S
4680 V
(32672)210 648 A
1362(})S
4770 V
(32673)210 648 A
1110(})S
4860 V
(32674)210 648 A
1026(})S
8418 V
EP
%%Page: 315 315
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1945(File:)S
(src/lib/other/fdopen.c)953 2178 A
12 B
(315)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/fdopen.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(32700)210 648 A
1026(/*)S
1440 V
(32701)210 648 A
1068(*)S
(fdopen)252 1152 A
1446(-)S
(convert)294 1530 A
1866(a)S
(\(UNIX\))252 1950 A
(file)168 2244 A
(descriptor)420 2454 A
(into)168 2916 A
3126(a)S
(FILE)168 3210 A
(pointer)294 3420 A
1530 V
(32702)210 648 A
1068(*/)S
1620 V
(32703)210 648 A
1026(/*)S
($Header:)336 1152 A
(fdopen.c,v)420 1530 A
(1.4)126 1992 A
(91/02/22)336 2160 A
(16:32:05)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
1710 V
(32704)210 648 A
1800 V
(32705)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
1890 V
(32706)210 648 A
(#include)336 1026 A
("../stdio/loc_incl.h")882 1698 A
1980 V
(32707)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2070 V
(32708)210 648 A
2160 V
(32709)210 648 A
(FILE)168 1026 A
1236(*)S
2250 V
(32710)210 648 A
(fdopen\(fd,)420 1026 A
(mode\))210 1488 A
2340 V
(32711)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2430 V
(32712)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*mode;)252 1530 A
2520 V
(32713)210 648 A
1026({)S
2610 V
(32714)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i;)S
2700 V
(32715)210 648 A
(FILE)168 1362 A
(*stream;)336 1572 A
2790 V
(32716)210 648 A
(int)126 1362 A
(flags)210 1530 A
1782(=)S
1866(0;)S
2880 V
(32717)210 648 A
2970 V
(32718)210 648 A
1362(if)S
(\(fd)126 1488 A
1656(<)S
1740(0\))S
(return)252 1866 A
(\(FILE)210 2160 A
(*\)NULL;)294 2412 A
3060 V
(32719)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
(__iotab[i])420 1866 A
2328(!=)S
2454(0)S
2538(;)S
(i++\))168 2622 A
3150 V
(32720)210 648 A
1698(if)S
1824(\(i)S
1950(>=)S
(FOPEN_MAX-1\))504 2076 A
3240 V
(32721)210 648 A
(return)252 2034 A
(\(FILE)210 2328 A
(*\)NULL;)294 2580 A
3330 V
(32722)210 648 A
3420 V
(32723)210 648 A
(switch\(*mode++\))630 1362 A
2034({)S
3510 V
(32724)210 648 A
(case)168 1362 A
('r':)168 1572 A
3600 V
(32725)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOREAD)294 2076 A
2412(|)S
(_IOREADING;)462 2496 A
3690 V
(32726)210 648 A
(break;)252 1698 A
3780 V
(32727)210 648 A
(case)168 1362 A
('a':)168 1572 A
3870 V
(32728)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOAPPEND;)420 2076 A
3960 V
(32729)210 648 A
(case)168 1362 A
('w':)168 1572 A
4050 V
(32730)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOWRITE)336 2076 A
2454(|)S
(_IOWRITING;)462 2538 A
4140 V
(32731)210 648 A
(break;)252 1698 A
4230 V
(32732)210 648 A
(default:)336 1362 A
4320 V
(32733)210 648 A
(return)252 1698 A
(\(FILE)210 1992 A
(*\)NULL;)294 2244 A
4410 V
(32734)210 648 A
1362(})S
4500 V
(32735)210 648 A
(while\(*mode\))504 1362 A
1908({)S
4590 V
(32736)210 648 A
(switch\(*mode++\))630 1698 A
2370({)S
4680 V
(32737)210 648 A
(case)168 1698 A
('b':)168 1908 A
4770 V
(32738)210 648 A
(continue;)378 2034 A
4860 V
(32739)210 648 A
(case)168 1698 A
('+':)168 1908 A
4950 V
(32740)210 648 A
(flags)210 2034 A
2286(|=)S
(_IOREAD)294 2412 A
2748(|)S
(_IOWRITE;)378 2832 A
5040 V
(32741)210 648 A
(continue;)378 2034 A
5130 V
(32742)210 648 A
1698(/*)S
(The)126 1824 A
(sequence)336 1992 A
(may)126 2370 A
2538(be)S
(followed)336 2664 A
3042(by)S
(aditional)378 3168 A
(characters)420 3588 A
4050(*/)S
5220 V
(32743)210 648 A
(default:)336 1698 A
5310 V
(32744)210 648 A
(break;)252 2034 A
5400 V
(32745)210 648 A
1698(})S
5490 V
(32746)210 648 A
(break;)252 1698 A
5580 V
(32747)210 648 A
1362(})S
5670 V
(32748)210 648 A
5760 V
(32749)210 648 A
1362(if)S
(\(\(stream)336 1488 A
1866(=)S
(\(FILE)210 1950 A
2202(*\))S
(malloc\(sizeof\(FILE\)\)\))882 2328 A
3252(==)S
(NULL\))210 3378 A
3630({)S
5850 V
(32750)210 648 A
(return)252 1698 A
(\(FILE)210 1992 A
(*\)NULL;)294 2244 A
5940 V
(32751)210 648 A
1362(})S
6030 V
(32752)210 648 A
6120 V
(32753)210 648 A
1362(if)S
(\(\(flags)294 1488 A
1824(&)S
(_IOREAD\))336 1908 A
2286(&&)S
(\(flags)252 2412 A
2706(&)S
(_IOWRITE\)\))420 2790 A
6210 V
(32754)210 648 A
(flags)210 1698 A
1950(&=)S
(\304\(_IOREADING)504 2076 A
2622(|)S
(_IOWRITING\);)504 2706 A
8418 V
EP
%%Page: 316 316
BP
/slant 0 def
/height 0 def
630 V
12 B
(316)180 648 A
11 R
1945(File:)S
(src/lib/other/fdopen.c)953 2178 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(32755)210 648 A
990 V
(32756)210 648 A
(stream->_count)588 1362 A
1992(=)S
2076(0;)S
1080 V
(32757)210 648 A
(stream->_fd)462 1362 A
1866(=)S
(fd;)126 1950 A
1170 V
(32758)210 648 A
(stream->_flags)588 1362 A
1992(=)S
(flags;)252 2076 A
1260 V
(32759)210 648 A
(stream->_buf)504 1362 A
1908(=)S
(NULL;)210 1992 A
1350 V
(32760)210 648 A
(__iotab[i])420 1362 A
1824(=)S
(stream;)294 1908 A
1440 V
(32761)210 648 A
(return)252 1362 A
(stream;)294 1656 A
1530 V
(32762)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/other/ffs.c)798 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(32800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2340 V
(32801)210 648 A
1026(/*)S
(ffs\(3\))252 1194 A
2430 V
(32802)210 648 A
1068(*)S
2520 V
(32803)210 648 A
1068(*)S
(Author:)294 1194 A
(Terrence)336 1530 A
1908(W.)S
(Holm)168 2034 A
(Sep.)168 2622 A
(1988)168 2832 A
2610 V
(32804)210 648 A
1068(*/)S
2700 V
(32805)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(ffs,)168 1698 A
(\(int)168 1908 A
(word\)\);)294 2118 A
2790 V
(32806)210 648 A
2880 V
(32807)210 648 A
(int)126 1026 A
(ffs\(word\))378 1194 A
2970 V
(32808)210 648 A
(int)126 1026 A
(word;)210 1194 A
3060 V
(32809)210 648 A
1026({)S
3150 V
(32810)210 648 A
(int)126 1110 A
1278(i;)S
3240 V
(32811)210 648 A
3330 V
(32812)210 648 A
1110(if)S
(\(word)210 1236 A
1488(==)S
1614(0\))S
(return\(0\);)420 1740 A
3420 V
(32813)210 648 A
3510 V
(32814)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
(1;;)126 1488 A
(++i,)168 1656 A
(word)168 1866 A
(>>=)126 2076 A
2244(1\))S
3600 V
(32815)210 648 A
1362(if)S
(\(word)210 1488 A
1740(&)S
1824(1\))S
(return\(i\);)420 1950 A
3690 V
(32816)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/other/fslib.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(32900)210 648 A
1026(/*)S
(fslib.c)294 1152 A
1488(-)S
(routines)336 1572 A
(needed)252 1950 A
2244(by)S
2370(fs)S
(and)126 2496 A
2664(fs)S
(utilities)378 2790 A
3210(*/)S
4590 V
(32901)210 648 A
4680 V
(32902)210 648 A
(#include)336 1026 A
(<minix/config.h>)672 1404 A
2370(/*)S
(for)126 2496 A
(unused)252 2664 A
(stuff)210 2958 A
3210(in)S
(<minix/type.h>)588 3336 A
(:-\()126 3966 A
4134(*/)S
4770 V
(32903)210 648 A
(#include)336 1026 A
(<ansi.h>)336 1404 A
4860 V
(32904)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4950 V
(32905)210 648 A
(#include)336 1026 A
(<minix/const.h>)630 1404 A
5040 V
(32906)210 648 A
(#include)336 1026 A
(<minix/type.h>)588 1404 A
2370(/*)S
(for)126 2496 A
(unshort)294 2664 A
(:-\()126 3000 A
3168(*/)S
5130 V
(32907)210 648 A
(#include)336 1026 A
("fs/const.h")504 1404 A
2370(/*)S
(depends)294 2496 A
2832(of)S
2958(-I)S
(flag)168 3084 A
3294(in)S
(Makefile)336 3420 A
3798(*/)S
5220 V
(32908)210 648 A
(#include)336 1026 A
("fs/type.h")462 1404 A
2370(/*)S
(ditto)210 2496 A
2748(*/)S
5310 V
(32909)210 648 A
(#include)336 1026 A
("fs/inode.h")504 1404 A
2370(/*)S
(ditto)210 2496 A
2748(*/)S
5400 V
(32910)210 648 A
(#include)336 1026 A
(<minix/fslib.h>)630 1404 A
5490 V
(32911)210 648 A
5580 V
(32912)210 648 A
1026(/*)S
(The)126 1152 A
(next)168 1320 A
(routine)294 1530 A
1866(is)S
(copied)252 1992 A
(from)168 2286 A
(fsck.c)252 2496 A
(and)126 2790 A
(mkfs.c...)378 2958 A
(\(Re\)define)420 3420 A
(some)168 3882 A
5670 V
(32913)210 648 A
1068(*)S
(things)252 1152 A
(for)126 1446 A
(consistency.)504 1614 A
(Some)168 2202 A
(things)252 2412 A
(should)252 2706 A
3000(be)S
(done)168 3126 A
(better.)294 3336 A
(The)126 3714 A
(shifts)252 3882 A
5760 V
(32914)210 648 A
1068(*)S
(should)252 1152 A
1446(be)S
(replaced)336 1572 A
1950(by)S
(multiplications)630 2076 A
(and)126 2748 A
(divisions)378 2916 A
3336(by)S
(MAP_BITS_PER_BLOCK)756 3462 A
5850 V
(32915)210 648 A
1068(*)S
(since)210 1152 A
(log2)168 1404 A
1614(of)S
(this)168 1740 A
1950(is)S
(too)126 2076 A
(painful)294 2244 A
2580(to)S
(get)126 2706 A
(right.)252 2874 A
5940 V
(32916)210 648 A
1068(*/)S
6030 V
(32917)210 648 A
(#define)294 1026 A
(BITMAPSHIFT)462 1362 A
2076(13)S
2370(/*)S
2496(=)S
(log2\(MAP_BITS_PER_BLOCK\))1008 2580 A
3630(*/)S
6120 V
(32918)210 648 A
6210 V
(32919)210 648 A
1026(/*)S
(Convert)294 1152 A
(from)168 1488 A
(bit)126 1698 A
(count)210 1866 A
2118(to)S
2244(a)S
(block)210 2328 A
(count.)252 2580 A
(The)126 2874 A
(usual)210 3042 A
(expression)420 3294 A
8418 V
EP
%%Page: 317 317
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2000(File:)S
(src/lib/other/fslib.c)843 2233 A
12 B
(317)180 4248 A
900 V
7 LST
(32920)210 648 A
1068(*)S
990 V
(32921)210 648 A
1068(*)S
(\(nr_bits)336 1362 A
1740(+)S
1824(\(1)S
1950(<<)S
(BITMAPSHIFT\))504 2076 A
2622(-)S
2706(1\))S
2832(>>)S
(BITMAPSHIFT)462 2958 A
1080 V
(32922)210 648 A
1068(*)S
1170 V
(32923)210 648 A
1068(*)S
(doesn't)294 1152 A
(work)168 1488 A
(because)294 1698 A
2034(of)S
(overflow.)378 2160 A
1260 V
(32924)210 648 A
1068(*)S
1350 V
(32925)210 648 A
1068(*)S
(Other)210 1152 A
(overflow)336 1404 A
(bugs,)210 1782 A
(such)168 2034 A
2244(as)S
(the)126 2370 A
(expression)420 2538 A
(for)126 3000 A
(N_ILIST)294 3168 A
(overflowing)462 3504 A
(when)168 4008 A
1440 V
(32926)210 648 A
1068(*)S
(s_inodes)336 1152 A
1530(is)S
(just)168 1656 A
(over)168 1866 A
(V*_INODES_PER_BLOCK)798 2076 A
(less)168 2916 A
(than)168 3126 A
(the)126 3336 A
(maximum+1,)420 3504 A
(are)126 3966 A
(not)126 4134 A
1530 V
(32927)210 648 A
1068(*)S
(fixed)210 1152 A
(yet,)168 1404 A
(because)294 1614 A
(that)168 1950 A
(number)252 2160 A
2454(of)S
(inodes)252 2580 A
2874(is)S
(silly.)252 3000 A
1620 V
(32928)210 648 A
1068(*/)S
1710 V
(32929)210 648 A
1026(/*)S
(The)126 1152 A
(above)210 1320 A
(comment)294 1572 A
(doesn't)294 1908 A
(all)126 2244 A
(apply)210 2412 A
(now)126 2664 A
(bit_t)210 2832 A
3084(is)S
(long.)210 3210 A
(Overflow)336 3504 A
3882(is)S
(now)126 4008 A
1800 V
(32930)210 648 A
1068(*)S
(unlikely,)378 1152 A
(but)126 1572 A
(negative)336 1740 A
(bit)126 2118 A
(counts)252 2286 A
(are)126 2580 A
(now)126 2748 A
(possible)336 2916 A
(\(though)294 3294 A
(unlikely\))378 3630 A
1890 V
(32931)210 648 A
1068(*)S
(and)126 1152 A
(give)168 1320 A
(silly)210 1530 A
(results.)336 1782 A
1980 V
(32932)210 648 A
1068(*/)S
2070 V
(32933)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(bitmapsize\(nr_bits\))798 1488 A
2160 V
(32934)210 648 A
(bit_t)210 1026 A
(nr_bits;)336 1278 A
2250 V
(32935)210 648 A
1026({)S
2340 V
(32936)210 648 A
(int)126 1110 A
(nr_blocks;)420 1278 A
2430 V
(32937)210 648 A
2520 V
(32938)210 648 A
(nr_blocks)378 1110 A
1530(=)S
(\(int\))210 1614 A
(\(nr_bits)336 1866 A
2244(>>)S
(BITMAPSHIFT\);)546 2370 A
2610 V
(32939)210 648 A
1110(if)S
(\(\(\(bit_t\))378 1236 A
(nr_blocks)378 1656 A
2076(<<)S
(BITMAPSHIFT\))504 2202 A
2748(<)S
(nr_bits\))336 2832 A
(++nr_blocks;)504 3210 A
2700 V
(32940)210 648 A
(return\(nr_blocks\);)756 1110 A
2790 V
(32941)210 648 A
1026(})S
3060 V
(32944)210 648 A
(/*===========================================================================*)3276 1026 A
3150 V
(32945)210 648 A
1068(*)S
(conv2)210 2370 A
4260(*)S
3240 V
(32946)210 648 A
(*===========================================================================*/)3276 1068 A
3330 V
(32947)210 648 A
(PUBLIC)252 1026 A
(unsigned)336 1320 A
(conv2\(norm,)462 1698 A
2202(w\))S
3420 V
(32948)210 648 A
(int)126 1026 A
(norm;)210 1194 A
2370(/*)S
(TRUE)168 2496 A
2706(if)S
2832(no)S
(swap,)210 2958 A
(FALSE)210 3210 A
(for)126 3462 A
(byte)168 3630 A
(swap)168 3840 A
4050(*/)S
3510 V
(32949)210 648 A
(int)126 1026 A
1194(w;)S
2370(/*)S
(promotion)378 2496 A
2916(of)S
(16-bit)252 3042 A
(word)168 3336 A
3546(to)S
3672(be)S
(swapped)294 3798 A
4134(*/)S
3600 V
(32950)210 648 A
1026({)S
3690 V
(32951)210 648 A
1026(/*)S
(Possibly)336 1152 A
(swap)168 1530 A
1740(a)S
(16-bit)252 1824 A
(word)168 2118 A
(between)294 2328 A
(8086)168 2664 A
(and)126 2874 A
(68000)210 3042 A
(byte)168 3294 A
(order.)252 3504 A
3798(*/)S
3780 V
(32952)210 648 A
3870 V
(32953)210 648 A
1110(if)S
(\(norm\))252 1236 A
(return\()294 1530 A
(\(unsigned\))420 1866 A
2328(w)S
2412(&)S
(0xFFFF\);)336 2496 A
3960 V
(32954)210 648 A
(return\()294 1110 A
(\(\(w&BYTE\))378 1446 A
1866(<<)S
1992(8\))S
2118(|)S
2202(\()S
(\(w>>8\))252 2286 A
2580(&)S
(BYTE\)\);)294 2664 A
4050 V
(32955)210 648 A
1026(})S
4320 V
(32958)210 648 A
(/*===========================================================================*)3276 1026 A
4410 V
(32959)210 648 A
1068(*)S
(conv4)210 2370 A
4260(*)S
4500 V
(32960)210 648 A
(*===========================================================================*/)3276 1068 A
4590 V
(32961)210 648 A
(PUBLIC)252 1026 A
(long)168 1320 A
(conv4\(norm,)462 1530 A
2034(x\))S
4680 V
(32962)210 648 A
(int)126 1026 A
(norm;)210 1194 A
2370(/*)S
(TRUE)168 2496 A
2706(if)S
2832(no)S
(swap,)210 2958 A
(FALSE)210 3210 A
(for)126 3462 A
(byte)168 3630 A
(swap)168 3840 A
4050(*/)S
4770 V
(32963)210 648 A
(long)168 1026 A
1236(x;)S
2370(/*)S
(32-bit)252 2496 A
(long)168 2790 A
3000(to)S
3126(be)S
(byte)168 3252 A
(swapped)294 3462 A
3798(*/)S
4860 V
(32964)210 648 A
1026({)S
4950 V
(32965)210 648 A
1026(/*)S
(Possibly)336 1152 A
(swap)168 1530 A
1740(a)S
(32-bit)252 1824 A
(long)168 2118 A
(between)294 2328 A
(8086)168 2664 A
(and)126 2874 A
(68000)210 3042 A
(byte)168 3294 A
(order.)252 3504 A
3798(*/)S
5040 V
(32966)210 648 A
5130 V
(32967)210 648 A
(unsigned)336 1110 A
(lo,)126 1488 A
(hi;)126 1656 A
5220 V
(32968)210 648 A
(long)168 1110 A
1320(l;)S
5310 V
(32969)210 648 A
5400 V
(32970)210 648 A
1110(if)S
(\(norm\))252 1236 A
(return\(x\);)420 1530 A
2706(/*)S
(byte)168 2832 A
(order)210 3042 A
(was)126 3294 A
(already)294 3462 A
3798(ok)S
3924(*/)S
5490 V
(32971)210 648 A
1110(lo)S
1236(=)S
(conv2\(FALSE,)504 1320 A
(\(int\))210 1866 A
2118(x)S
2202(&)S
(0xFFFF\);)336 2286 A
2706(/*)S
(low-order)378 2832 A
(half,)210 3252 A
(byte)168 3504 A
(swapped)294 3714 A
4050(*/)S
5580 V
(32972)210 648 A
1110(hi)S
1236(=)S
(conv2\(FALSE,)504 1320 A
(\(int\))210 1866 A
(\(x>>16\))294 2118 A
2454(&)S
(0xFFFF\);)336 2538 A
3042(/*)S
(high-order)420 3168 A
(half,)210 3630 A
(swapped)294 3882 A
4218(*/)S
5670 V
(32973)210 648 A
1110(l)S
1194(=)S
1278(\()S
(\(long\))252 1362 A
1656(lo)S
(<<16\))210 1782 A
2034(|)S
(hi;)126 2118 A
5760 V
(32974)210 648 A
(return\(l\);)420 1110 A
5850 V
(32975)210 648 A
1026(})S
6120 V
(32978)210 648 A
(/*===========================================================================*)3276 1026 A
6210 V
(32979)210 648 A
1068(*)S
(conv_inode)420 2370 A
4260(*)S
8418 V
EP
%%Page: 318 318
BP
/slant 0 def
/height 0 def
630 V
12 B
(318)180 648 A
11 R
2000(File:)S
(src/lib/other/fslib.c)843 2233 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(32980)210 648 A
(*===========================================================================*/)3276 1068 A
990 V
(32981)210 648 A
(PUBLIC)252 1026 A
(void)168 1320 A
(conv_inode\(rip,)630 1530 A
(dip,)168 2202 A
(dip2,)210 2412 A
(rw_flag,)336 2664 A
(magic\))252 3042 A
1080 V
(32982)210 648 A
(register)336 1026 A
(struct)252 1404 A
(inode)210 1698 A
(*rip;)210 1950 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(the)126 2958 A
(in-core)294 3126 A
(inode)210 3462 A
(struct)252 3714 A
4008(*/)S
1170 V
(32983)210 648 A
(register)336 1026 A
(d1_inode)336 1404 A
(*dip;)210 1782 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(the)126 2958 A
3126(V1)S
(on-disk)294 3252 A
(inode)210 3588 A
(struct)252 3840 A
4134(*/)S
1260 V
(32984)210 648 A
(register)336 1026 A
(d2_inode)336 1404 A
(*dip2;)252 1782 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(the)126 2958 A
3126(V2)S
(on-disk)294 3252 A
(inode)210 3588 A
(struct)252 3840 A
4134(*/)S
1350 V
(32985)210 648 A
(int)126 1026 A
(rw_flag;)336 1194 A
2370(/*)S
(READING)294 2496 A
2832(or)S
(WRITING)294 2958 A
3294(*/)S
1440 V
(32986)210 648 A
(int)126 1026 A
(magic;)252 1194 A
2370(/*)S
(magic)210 2496 A
(number)252 2748 A
3042(of)S
(file)168 3168 A
(system)252 3378 A
3672(*/)S
1530 V
(32987)210 648 A
1026({)S
1620 V
(32988)210 648 A
1026(/*)S
(Copy)168 1152 A
(the)126 1362 A
(inode)210 1530 A
(from)168 1782 A
(the)126 1992 A
(disk)168 2160 A
(block)210 2370 A
2622(to)S
(the)126 2748 A
(in-core)294 2916 A
(table)210 3252 A
3504(or)S
(vice)168 3630 A
(versa.)252 3840 A
1710 V
(32989)210 648 A
1068(*)S
1152(If)S
(the)126 1278 A
(fourth)252 1446 A
(parameter)378 1740 A
(below)210 2160 A
2412(is)S
(FALSE,)252 2538 A
(the)126 2832 A
(bytes)210 3000 A
(are)126 3252 A
(swapped.)336 3420 A
1800 V
(32990)210 648 A
1068(*/)S
1890 V
(32991)210 648 A
(switch)252 1110 A
(\(magic\))294 1404 A
1740({)S
1980 V
(32992)210 648 A
(case)168 1362 A
(SUPER_MAGIC:)504 1572 A
(old_icopy\(rip,)588 2370 A
(dip,)168 3000 A
(rw_flag,)336 3252 A
(TRUE\);)252 3630 A
(break;)252 4050 A
2070 V
(32993)210 648 A
(case)168 1362 A
(SUPER_REV:)420 1572 A
(old_icopy\(rip,)588 2370 A
(dip,)168 3000 A
(rw_flag,)336 3252 A
(FALSE\);)294 3630 A
(break;)252 4050 A
2160 V
(32994)210 648 A
(case)168 1362 A
(SUPER_V2:)378 1572 A
(new_icopy\(rip,)588 2370 A
(dip2,)210 3000 A
(rw_flag,)336 3252 A
(TRUE\);)252 3630 A
(break;)252 4050 A
2250 V
(32995)210 648 A
(case)168 1362 A
(SUPER_V2_REV:)546 1572 A
(new_icopy\(rip,)588 2370 A
(dip2,)210 3000 A
(rw_flag,)336 3252 A
(FALSE\);)294 3630 A
(break;)252 4050 A
2340 V
(32996)210 648 A
1110(})S
2430 V
(32997)210 648 A
1026(})S
2700 V
(33000)210 648 A
(/*===========================================================================*)3276 1026 A
2790 V
(33001)210 648 A
1068(*)S
(old_icopy)378 2370 A
4260(*)S
2880 V
(33002)210 648 A
(*===========================================================================*/)3276 1068 A
2970 V
(33003)210 648 A
(PUBLIC)252 1026 A
(void)168 1320 A
(old_icopy\(rip,)588 1530 A
(dip,)168 2160 A
(direction,)420 2370 A
(norm\))210 2832 A
3060 V
(33004)210 648 A
(register)336 1026 A
(struct)252 1404 A
(inode)210 1698 A
(*rip;)210 1950 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(the)126 2958 A
(in-core)294 3126 A
(inode)210 3462 A
(struct)252 3714 A
4008(*/)S
3150 V
(33005)210 648 A
(register)336 1026 A
(d1_inode)336 1404 A
(*dip;)210 1782 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(the)126 2958 A
(d1_inode)336 3126 A
(inode)210 3504 A
(struct)252 3756 A
4050(*/)S
3240 V
(33006)210 648 A
(int)126 1026 A
(direction;)420 1194 A
2370(/*)S
(READING)294 2496 A
(\(from)210 2832 A
(disk\))210 3084 A
3336(or)S
(WRITING)294 3462 A
(\(to)126 3798 A
(disk\))210 3966 A
4218(*/)S
3330 V
(33007)210 648 A
(int)126 1026 A
(norm;)210 1194 A
2370(/*)S
(TRUE)168 2496 A
2706(=)S
2790(do)S
(not)126 2916 A
(swap)168 3084 A
(bytes;)252 3294 A
(FALSE)210 3588 A
3840(=)S
(swap)168 3924 A
4134(*/)S
3420 V
(33008)210 648 A
3510 V
(33009)210 648 A
1026({)S
3600 V
(33010)210 648 A
1026(/*)S
1152(4)S
(different)378 1236 A
(on-disk)294 1656 A
(inode)210 1992 A
(layouts)294 2244 A
(are)126 2580 A
(supported,)420 2748 A
(one)126 3210 A
(for)126 3378 A
(each)168 3546 A
(combination)462 3756 A
3690 V
(33011)210 648 A
1068(*)S
1152(of)S
(V1.x/V2.x)378 1278 A
1698(*)S
(bytes-swapped/not-swapped.)1092 1782 A
(When)168 2958 A
3168(an)S
(inode)210 3294 A
3546(is)S
(read)168 3672 A
3882(or)S
(written)294 4008 A
3780 V
(33012)210 648 A
1068(*)S
(this)168 1152 A
(routine)294 1362 A
(handles)294 1698 A
(the)126 2034 A
(conversions)462 2202 A
2706(so)S
(that)168 2832 A
(the)126 3042 A
(information)462 3210 A
3714(in)S
(the)126 3840 A
(inode)210 4008 A
3870 V
(33013)210 648 A
1068(*)S
(table)210 1152 A
1404(is)S
(independent)462 1530 A
2034(of)S
(the)126 2160 A
(disk)168 2328 A
(structure)378 2538 A
(from)168 2958 A
(which)210 3168 A
(the)126 3420 A
(inode)210 3588 A
(came.)210 3840 A
3960 V
(33014)210 648 A
1068(*)S
(The)126 1152 A
(old_icopy)378 1320 A
(routine)294 1740 A
(copies)252 2076 A
2370(to)S
(and)126 2496 A
(from)168 2664 A
2874(V1)S
(disks.)252 3000 A
4050 V
(33015)210 648 A
1068(*/)S
4140 V
(33016)210 648 A
4230 V
(33017)210 648 A
(int)126 1110 A
1278(i;)S
4320 V
(33018)210 648 A
4410 V
(33019)210 648 A
1110(if)S
(\(direction)420 1236 A
1698(==)S
(READING\))336 1824 A
2202({)S
4500 V
(33020)210 648 A
1362(/*)S
(Copy)168 1488 A
(V1.x)168 1698 A
(inode)210 1908 A
2160(to)S
(the)126 2286 A
(in-core)294 2454 A
(table,)252 2790 A
(swapping)336 3084 A
(bytes)210 3462 A
3714(if)S
(need)168 3840 A
(be.)126 4050 A
4218(*/)S
4590 V
(33021)210 648 A
(rip->i_mode)462 1362 A
1992(=)S
(conv2\(norm,)462 2076 A
(dip->d1_mode\);)588 2580 A
4680 V
(33022)210 648 A
(rip->i_uid)420 1362 A
1992(=)S
(conv2\(norm,dip->d1_uid)924 2076 A
3042(\);)S
4770 V
(33023)210 648 A
(rip->i_size)462 1362 A
1992(=)S
(conv4\(norm,dip->d1_size\);)1050 2076 A
4860 V
(33024)210 648 A
(rip->i_mtime)504 1362 A
1992(=)S
(conv4\(norm,dip->d1_mtime\);)1092 2076 A
4950 V
(33025)210 648 A
(rip->i_atime)504 1362 A
1992(=)S
2076(0;)S
5040 V
(33026)210 648 A
(rip->i_ctime)504 1362 A
1992(=)S
2076(0;)S
5130 V
(33027)210 648 A
(rip->i_nlinks)546 1362 A
1992(=)S
(\(nlink_t\))378 2076 A
(dip->d1_nlinks;)630 2496 A
3378(/*)S
3504(1)S
(char)168 3588 A
3798(*/)S
5220 V
(33028)210 648 A
(rip->i_gid)420 1362 A
1992(=)S
(\(gid_t\))294 2076 A
(dip->d1_gid;)504 2412 A
3378(/*)S
3504(1)S
(char)168 3588 A
3798(*/)S
5310 V
(33029)210 648 A
(rip->i_ndzones)588 1362 A
1992(=)S
(V1_NR_DZONES;)546 2076 A
5400 V
(33030)210 648 A
(rip->i_nindirs)588 1362 A
1992(=)S
(V1_INDIRECTS;)546 2076 A
5490 V
(33031)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<)S
(V1_NR_TZONES;)546 2034 A
(i++\))168 2622 A
5580 V
(33032)210 648 A
(rip->i_zone[i])588 1698 A
2328(=)S
(conv2\(norm,)462 2412 A
(\(int\))210 2916 A
(dip->d1_zone[i]\);)714 3168 A
5670 V
(33033)210 648 A
1110(})S
(else)168 1194 A
1404({)S
5760 V
(33034)210 648 A
1362(/*)S
(Copying)294 1488 A
(V1.x)168 1824 A
(inode)210 2034 A
2286(to)S
(disk)168 2412 A
(from)168 2622 A
(the)126 2832 A
(in-core)294 3000 A
(table.)252 3336 A
3630(*/)S
5850 V
(33035)210 648 A
(dip->d1_mode)504 1362 A
1992(=)S
(conv2\(norm,rip->i_mode\);)1008 2076 A
5940 V
(33036)210 648 A
(dip->d1_uid)462 1362 A
1992(=)S
(conv2\(norm,rip->i_uid)882 2076 A
3000(\);)S
6030 V
(33037)210 648 A
(dip->d1_size)504 1362 A
1992(=)S
(conv4\(norm,rip->i_size\);)1008 2076 A
6120 V
(33038)210 648 A
(dip->d1_mtime)546 1362 A
1992(=)S
(conv4\(norm,rip->i_mtime\);)1050 2076 A
6210 V
(33039)210 648 A
(dip->d1_nlinks)588 1362 A
1992(=)S
(\(nlink_t\))378 2076 A
(rip->i_nlinks;)588 2496 A
3378(/*)S
3504(1)S
(char)168 3588 A
3798(*/)S
8418 V
EP
%%Page: 319 319
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2000(File:)S
(src/lib/other/fslib.c)843 2233 A
12 B
(319)180 4248 A
900 V
7 LST
(33040)210 648 A
(dip->d1_gid)462 1362 A
1992(=)S
(\(gid_t\))294 2076 A
(rip->i_gid;)462 2412 A
3378(/*)S
3504(1)S
(char)168 3588 A
3798(*/)S
990 V
(33041)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<)S
(V1_NR_TZONES;)546 2034 A
(i++\))168 2622 A
1080 V
(33042)210 648 A
(dip->d1_zone[i])630 1698 A
2370(=)S
(conv2\(norm,)462 2454 A
(\(int\))210 2958 A
(rip->i_zone[i]\);)672 3210 A
1170 V
(33043)210 648 A
1110(})S
1260 V
(33044)210 648 A
1026(})S
1530 V
(33047)210 648 A
(/*===========================================================================*)3276 1026 A
1620 V
(33048)210 648 A
1068(*)S
(new_icopy)378 2370 A
4260(*)S
1710 V
(33049)210 648 A
(*===========================================================================*/)3276 1068 A
1800 V
(33050)210 648 A
(PUBLIC)252 1026 A
(void)168 1320 A
(new_icopy\(rip,)588 1530 A
(dip,)168 2160 A
(direction,)420 2370 A
(norm\))210 2832 A
1890 V
(33051)210 648 A
(register)336 1026 A
(struct)252 1404 A
(inode)210 1698 A
(*rip;)210 1950 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(the)126 2958 A
(in-core)294 3126 A
(inode)210 3462 A
(struct)252 3714 A
4008(*/)S
1980 V
(33052)210 648 A
(register)336 1026 A
(d2_inode)336 1404 A
(*dip;)210 1782 A
2034(/*)S
(pointer)294 2160 A
2496(to)S
(the)126 2622 A
(d2_inode)336 2790 A
(struct)252 3168 A
3462(*/)S
2070 V
(33053)210 648 A
(int)126 1026 A
(direction;)420 1194 A
2370(/*)S
(READING)294 2496 A
(\(from)210 2832 A
(disk\))210 3084 A
3336(or)S
(WRITING)294 3462 A
(\(to)126 3798 A
(disk\))210 3966 A
4218(*/)S
2160 V
(33054)210 648 A
(int)126 1026 A
(norm;)210 1194 A
2370(/*)S
(TRUE)168 2496 A
2706(=)S
2790(do)S
(not)126 2916 A
(swap)168 3084 A
(bytes;)252 3294 A
(FALSE)210 3588 A
3840(=)S
(swap)168 3924 A
4134(*/)S
2250 V
(33055)210 648 A
2340 V
(33056)210 648 A
1026({)S
2430 V
(33057)210 648 A
1026(/*)S
(Same)168 1152 A
1362(as)S
(old_icopy,)420 1488 A
(but)126 1950 A
(to/from)294 2118 A
2454(V2)S
(disk)168 2580 A
(layout.)294 2790 A
3126(*/)S
2520 V
(33058)210 648 A
2610 V
(33059)210 648 A
(int)126 1110 A
1278(i;)S
2700 V
(33060)210 648 A
2790 V
(33061)210 648 A
1110(if)S
(\(direction)420 1236 A
1698(==)S
(READING\))336 1824 A
2202({)S
2880 V
(33062)210 648 A
1362(/*)S
(Copy)168 1488 A
(V2.x)168 1698 A
(inode)210 1908 A
2160(to)S
(the)126 2286 A
(in-core)294 2454 A
(table,)252 2790 A
(swapping)336 3084 A
(bytes)210 3462 A
3714(if)S
(need)168 3840 A
(be.)126 4050 A
4218(*/)S
2970 V
(33063)210 648 A
(rip->i_mode)462 1362 A
1992(=)S
(conv2\(norm,dip->d2_mode\);)1050 2076 A
3060 V
(33064)210 648 A
(rip->i_uid)420 1362 A
1992(=)S
(conv2\(norm,dip->d2_uid)924 2076 A
3042(\);)S
3150 V
(33065)210 648 A
(rip->i_nlinks)546 1362 A
1992(=)S
(conv2\(norm,\(int\))672 2076 A
(dip->d2_nlinks\);)672 2790 A
3240 V
(33066)210 648 A
(rip->i_gid)420 1362 A
1992(=)S
(conv2\(norm,\(int\))672 2076 A
(dip->d2_gid)462 2790 A
3294(\);)S
3330 V
(33067)210 648 A
(rip->i_size)462 1362 A
1992(=)S
(conv4\(norm,dip->d2_size\);)1050 2076 A
3420 V
(33068)210 648 A
(rip->i_atime)504 1362 A
1992(=)S
(conv4\(norm,dip->d2_atime\);)1092 2076 A
3510 V
(33069)210 648 A
(rip->i_ctime)504 1362 A
1992(=)S
(conv4\(norm,dip->d2_ctime\);)1092 2076 A
3600 V
(33070)210 648 A
(rip->i_mtime)504 1362 A
1992(=)S
(conv4\(norm,dip->d2_mtime\);)1092 2076 A
3690 V
(33071)210 648 A
(rip->i_ndzones)588 1362 A
1992(=)S
(V2_NR_DZONES;)546 2076 A
3780 V
(33072)210 648 A
(rip->i_nindirs)588 1362 A
1992(=)S
(V2_INDIRECTS;)546 2076 A
3870 V
(33073)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<)S
(V2_NR_TZONES;)546 2034 A
(i++\))168 2622 A
3960 V
(33074)210 648 A
(rip->i_zone[i])588 1698 A
2328(=)S
(conv4\(norm,)462 2412 A
(\(long\))252 2916 A
(dip->d2_zone[i]\);)714 3210 A
4050 V
(33075)210 648 A
1110(})S
(else)168 1194 A
1404({)S
4140 V
(33076)210 648 A
1362(/*)S
(Copying)294 1488 A
(V2.x)168 1824 A
(inode)210 2034 A
2286(to)S
(disk)168 2412 A
(from)168 2622 A
(the)126 2832 A
(in-core)294 3000 A
(table.)252 3336 A
3630(*/)S
4230 V
(33077)210 648 A
(dip->d2_mode)504 1362 A
1992(=)S
(conv2\(norm,rip->i_mode\);)1008 2076 A
4320 V
(33078)210 648 A
(dip->d2_uid)462 1362 A
1992(=)S
(conv2\(norm,rip->i_uid)882 2076 A
3000(\);)S
4410 V
(33079)210 648 A
(dip->d2_nlinks)588 1362 A
1992(=)S
(conv2\(norm,rip->i_nlinks\);)1092 2076 A
4500 V
(33080)210 648 A
(dip->d2_gid)462 1362 A
1992(=)S
(conv2\(norm,rip->i_gid)882 2076 A
3000(\);)S
4590 V
(33081)210 648 A
(dip->d2_size)504 1362 A
1992(=)S
(conv4\(norm,rip->i_size\);)1008 2076 A
4680 V
(33082)210 648 A
(dip->d2_atime)546 1362 A
1992(=)S
(conv4\(norm,rip->i_atime\);)1050 2076 A
4770 V
(33083)210 648 A
(dip->d2_ctime)546 1362 A
1992(=)S
(conv4\(norm,rip->i_ctime\);)1050 2076 A
4860 V
(33084)210 648 A
(dip->d2_mtime)546 1362 A
1992(=)S
(conv4\(norm,rip->i_mtime\);)1050 2076 A
4950 V
(33085)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<)S
(V2_NR_TZONES;)546 2034 A
(i++\))168 2622 A
5040 V
(33086)210 648 A
(dip->d2_zone[i])630 1698 A
2370(=)S
(conv4\(norm,)462 2454 A
(\(long\))252 2958 A
(rip->i_zone[i]\);)672 3252 A
5130 V
(33087)210 648 A
1110(})S
5220 V
(33088)210 648 A
1026(})S
8418 V
EP
%%Page: 320 320
BP
/slant 0 def
/height 0 def
630 V
12 B
(320)180 648 A
11 R
1895(File:)S
(src/lib/other/fsversion.c)1052 2128 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/fsversion.c)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(33100)210 648 A
1026(/*)S
(This)168 1152 A
(procedure)378 1362 A
(examines)336 1782 A
2160(a)S
(file)168 2244 A
(system)252 2454 A
(and)126 2748 A
(figures)294 2916 A
(out)126 3252 A
(whether)294 3420 A
3756(it)S
3882(is)S
1440 V
(33101)210 648 A
1068(*)S
(version)294 1152 A
1488(1)S
1572(or)S
(version)294 1698 A
2034(2.)S
2202(It)S
(returns)294 2328 A
(the)126 2664 A
(result)252 2832 A
3126(as)S
3252(an)S
(int.)168 3378 A
3630(If)S
(the)126 3756 A
1530 V
(33102)210 648 A
1068(*)S
(file)168 1152 A
(system)252 1362 A
1656(is)S
(neither,)336 1782 A
2160(it)S
(returns)294 2286 A
(-1.)126 2622 A
2832(A)S
(typical)294 2916 A
(call)168 3252 A
(is:)126 3462 A
1620 V
(33103)210 648 A
1068(*)S
1710 V
(33104)210 648 A
1068(*)S
1362(n)S
1446(=)S
(fsversion\("/dev/hd1",)882 1530 A
("df"\);)252 2454 A
1800 V
(33105)210 648 A
1068(*)S
1890 V
(33106)210 648 A
1068(*)S
(The)126 1152 A
(first)210 1320 A
(argument)336 1572 A
1950(is)S
(the)126 2076 A
(special)294 2244 A
(file)168 2580 A
(for)126 2790 A
(the)126 2958 A
(file)168 3126 A
(system.)294 3336 A
1980 V
(33107)210 648 A
1068(*)S
(The)126 1152 A
(second)252 1320 A
1614(is)S
(the)126 1740 A
(program)294 1908 A
(name,)210 2244 A
(which)210 2496 A
2748(is)S
(used)168 2874 A
3084(in)S
(error)210 3210 A
(messages.)378 3462 A
2070 V
(33108)210 648 A
1068(*/)S
2160 V
(33109)210 648 A
2250 V
(33110)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2340 V
(33111)210 648 A
(#include)336 1026 A
(<minix/config.h>)672 1404 A
2430 V
(33112)210 648 A
(#include)336 1026 A
(<minix/const.h>)630 1404 A
2520 V
(33113)210 648 A
(#include)336 1026 A
(<minix/minlib.h>)672 1404 A
2610 V
(33114)210 648 A
(#include)336 1026 A
(<minix/type.h>)588 1404 A
2700 V
(33115)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
2790 V
(33116)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2880 V
(33117)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
2970 V
(33118)210 648 A
3060 V
(33119)210 648 A
(#include)336 1026 A
("../../fs/const.h")756 1404 A
3150 V
(33120)210 648 A
(#include)336 1026 A
("../../fs/type.h")714 1404 A
3240 V
(33121)210 648 A
(#include)336 1026 A
("../../fs/super.h")756 1404 A
3330 V
(33122)210 648 A
3420 V
(33123)210 648 A
(static)252 1026 A
(struct)252 1320 A
(super_block)462 1614 A
(super,)252 2118 A
(*sp;)168 2412 A
3510 V
(33124)210 648 A
3600 V
(33125)210 648 A
(int)126 1026 A
(fsversion\(dev,)588 1194 A
(prog\))210 1824 A
3690 V
(33126)210 648 A
(char)168 1026 A
(*dev,)210 1236 A
(*prog;)252 1488 A
3780 V
(33127)210 648 A
1026({)S
3870 V
(33128)210 648 A
(int)126 1110 A
(fd;)126 1278 A
3960 V
(33129)210 648 A
4050 V
(33130)210 648 A
1110(if)S
(\(\(fd)168 1236 A
1446(=)S
(open\(dev,)378 1530 A
(O_RDONLY\)\))420 1950 A
2412(<)S
2496(0\))S
2622({)S
4140 V
(33131)210 648 A
(std_err\(prog\);)588 1362 A
4230 V
(33132)210 648 A
(std_err\(")378 1362 A
(cannot)252 1782 A
(open)168 2076 A
("\);)126 2286 A
4320 V
(33133)210 648 A
(perror\(dev\);)504 1362 A
4410 V
(33134)210 648 A
(return\(-1\);)462 1362 A
4500 V
(33135)210 648 A
1110(})S
4590 V
(33136)210 648 A
4680 V
(33137)210 648 A
(lseek\(fd,)378 1110 A
(\(off_t\))294 1530 A
(BLOCK_SIZE,)462 1866 A
(SEEK_SET\);)420 2370 A
3042(/*)S
(skip)168 3168 A
(boot)168 3378 A
(block)210 3588 A
3840(*/)S
4770 V
(33138)210 648 A
1110(if)S
(\(read\(fd,)378 1236 A
(\(char)210 1656 A
1908(*\))S
(&super,)294 2034 A
(\(unsigned\))420 2370 A
(SUPER_SIZE\))462 2832 A
3336(!=)S
(SUPER_SIZE\))462 3462 A
3966({)S
4860 V
(33139)210 648 A
(std_err\(prog\);)588 1362 A
4950 V
(33140)210 648 A
(std_err\(")378 1362 A
(cannot)252 1782 A
(read)168 2076 A
(super)210 2286 A
(block)210 2538 A
2790(on)S
("\);)126 2916 A
5040 V
(33141)210 648 A
(perror\(dev\);)504 1362 A
5130 V
(33142)210 648 A
(close\(fd\);)420 1362 A
5220 V
(33143)210 648 A
(return\(-1\);)462 1362 A
5310 V
(33144)210 648 A
1110(})S
5400 V
(33145)210 648 A
(close\(fd\);)420 1110 A
5490 V
(33146)210 648 A
1110(sp)S
1236(=)S
(&super;)294 1320 A
5580 V
(33147)210 648 A
1110(if)S
(\(sp->s_magic)504 1236 A
1782(==)S
(SUPER_MAGIC\))504 1908 A
(return\(1\);)420 2454 A
5670 V
(33148)210 648 A
1110(if)S
(\(sp->s_magic)504 1236 A
1782(==)S
(SUPER_V2\))378 1908 A
(return\(2\);)420 2328 A
5760 V
(33149)210 648 A
(return\(-1\);)462 1110 A
5850 V
(33150)210 648 A
1026(})S
8418 V
EP
%%Page: 321 321
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1916(File:)S
(src/lib/other/getgrent.c)1010 2149 A
12 B
(321)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/getgrent.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(33200)210 648 A
1026(/*)S
(getgrent\(\),)462 1362 A
(getgrgid\(\),)462 1866 A
(getgrnam\(\))420 2370 A
2832(-)S
(group)210 2916 A
(file)168 3168 A
(routines)336 3378 A
1440 V
(33201)210 648 A
1068(*)S
1530 V
(33202)210 648 A
1068(*)S
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
1620 V
(33203)210 648 A
1068(*)S
3714(31)S
(Jan)126 3840 A
(1994)168 4008 A
1710 V
(33204)210 648 A
1068(*/)S
1800 V
(33205)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
1890 V
(33206)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 1572 A
1980 V
(33207)210 648 A
(#define)294 1026 A
(fcntl)210 1362 A
(_fcntl)252 1614 A
2070 V
(33208)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1572 A
2160 V
(33209)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1614 A
2250 V
(33210)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2340 V
(33211)210 648 A
(#include)336 1026 A
(<grp.h>)294 1404 A
2430 V
(33212)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2520 V
(33213)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
2610 V
(33214)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2700 V
(33215)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
2790 V
(33216)210 648 A
2880 V
(33217)210 648 A
(#define)294 1026 A
(arraysize\(a\))504 1362 A
(\(sizeof\(a\))420 2034 A
2496(/)S
(sizeof\(\(a\)[0]\)\))630 2580 A
2970 V
(33218)210 648 A
(#define)294 1026 A
(arraylimit\(a\))546 1362 A
(\(\(a\))168 2034 A
2244(+)S
(arraysize\(a\)\))546 2328 A
3060 V
(33219)210 648 A
3150 V
(33220)210 648 A
(static)252 1026 A
(char)168 1320 A
(GROUP[]=)336 1530 A
("/etc/group";)546 1908 A
2706(/*)S
(The)126 2832 A
(group)210 3000 A
(file.)210 3252 A
3504(*/)S
3240 V
(33221)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
(*grfile;)336 1782 A
2706(/*)S
(Current)294 2832 A
(group)210 3168 A
(file.)210 3420 A
3672(*/)S
3330 V
(33222)210 648 A
3420 V
(33223)210 648 A
(static)252 1026 A
(char)168 1320 A
(buf[1024];)420 1530 A
2706(/*)S
(Read)168 2832 A
(buffer.)294 3042 A
3378(*/)S
3510 V
(33224)210 648 A
(static)252 1026 A
(char)168 1320 A
(grline[512];)504 1530 A
2706(/*)S
(One)126 2832 A
(line)168 3000 A
(from)168 3210 A
(the)126 3420 A
(group)210 3588 A
(file.)210 3840 A
4092(*/)S
3600 V
(33225)210 648 A
(static)252 1026 A
(struct)252 1320 A
(group)210 1614 A
(entry;)252 1866 A
2706(/*)S
(Entry)210 2832 A
3084(to)S
(fill)168 3210 A
(and)126 3420 A
(return.)294 3588 A
3924(*/)S
3690 V
(33226)210 648 A
(static)252 1026 A
(char)168 1320 A
(*members[64];)546 1530 A
2706(/*)S
(Group)210 2832 A
(members)294 3084 A
(with)168 3420 A
(the)126 3630 A
(entry.)252 3798 A
4092(*/)S
3780 V
(33227)210 648 A
(static)252 1026 A
(int)126 1320 A
(grfd=)210 1488 A
(-1;)126 1740 A
2706(/*)S
(Filedescriptor)588 2832 A
3462(to)S
(the)126 3588 A
(file.)210 3756 A
4008(*/)S
3870 V
(33228)210 648 A
(static)252 1026 A
(char)168 1320 A
(*bufptr;)336 1530 A
2706(/*)S
(Place)210 2832 A
3084(in)S
(buf.)168 3210 A
3420(*/)S
3960 V
(33229)210 648 A
(static)252 1026 A
(ssize_t)294 1320 A
(buflen=)294 1656 A
1992(0;)S
2706(/*)S
(Remaining)378 2832 A
(characters)420 3252 A
3714(in)S
(buf.)168 3840 A
4050(*/)S
4050 V
(33230)210 648 A
(static)252 1026 A
(char)168 1320 A
(*lineptr;)378 1530 A
2706(/*)S
(Place)210 2832 A
3084(in)S
(the)126 3210 A
(line.)210 3378 A
3630(*/)S
4140 V
(33231)210 648 A
4230 V
(33232)210 648 A
(void)168 1026 A
(endgrent\(void\))588 1236 A
4320 V
(33233)210 648 A
1026(/*)S
(Close)210 1152 A
(the)126 1404 A
(group)210 1572 A
(file.)210 1824 A
2076(*/)S
4410 V
(33234)210 648 A
1026({)S
4500 V
(33235)210 648 A
1362(if)S
(\(grfd)210 1488 A
1740(>=)S
1866(0\))S
1992({)S
4590 V
(33236)210 648 A
(\(void\))252 1698 A
(close\(grfd\);)504 1992 A
4680 V
(33237)210 648 A
(grfd=)210 1698 A
(-1;)126 1950 A
4770 V
(33238)210 648 A
(buflen=)294 1698 A
2034(0;)S
4860 V
(33239)210 648 A
1362(})S
4950 V
(33240)210 648 A
1026(})S
5130 V
(33242)210 648 A
(int)126 1026 A
(setgrent\(void\))588 1194 A
5220 V
(33243)210 648 A
1026(/*)S
(Open)168 1152 A
(the)126 1362 A
(group)210 1530 A
(file.)210 1782 A
2034(*/)S
5310 V
(33244)210 648 A
1026({)S
5400 V
(33245)210 648 A
1362(if)S
(\(grfd)210 1488 A
1740(>=)S
1866(0\))S
(endgrent\(\);)462 1992 A
5490 V
(33246)210 648 A
5580 V
(33247)210 648 A
1362(if)S
(\(grfile)294 1488 A
1824(==)S
(nil\))168 1950 A
(grfile=)294 2160 A
(GROUP;)252 2496 A
5670 V
(33248)210 648 A
5760 V
(33249)210 648 A
1362(if)S
(\(\(grfd=)294 1488 A
(open\(grfile,)504 1824 A
(O_RDONLY\)\))420 2370 A
2832(<)S
2916(0\))S
(return)252 3042 A
(-1;)126 3336 A
5850 V
(33250)210 648 A
(\(void\))252 1362 A
(fcntl\(grfd,)462 1656 A
(F_SETFD,)336 2160 A
(fcntl\(grfd,)462 2538 A
(F_GETFD\))336 3042 A
3420(|)S
(FD_CLOEXEC\);)504 3504 A
5940 V
(33251)210 648 A
(return)252 1362 A
1656(0;)S
6030 V
(33252)210 648 A
1026(})S
6210 V
(33254)210 648 A
(void)168 1026 A
(setgrfile\(const)630 1236 A
(char)168 1908 A
(*file\))252 2118 A
8418 V
EP
%%Page: 322 322
BP
/slant 0 def
/height 0 def
630 V
12 B
(322)180 648 A
11 R
1916(File:)S
(src/lib/other/getgrent.c)1010 2149 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(33255)210 648 A
1026(/*)S
(Prepare)294 1152 A
(for)126 1488 A
(reading)294 1656 A
1992(an)S
(alternate)378 2118 A
(group)210 2538 A
(file.)210 2790 A
3042(*/)S
990 V
(33256)210 648 A
1026({)S
1080 V
(33257)210 648 A
(endgrent\(\);)462 1362 A
1170 V
(33258)210 648 A
(grfile=)294 1362 A
(file;)210 1698 A
1260 V
(33259)210 648 A
1026(})S
1440 V
(33261)210 648 A
(static)252 1026 A
(int)126 1320 A
(getline\(void\))546 1488 A
1530 V
(33262)210 648 A
1026(/*)S
(Get)126 1152 A
(one)126 1320 A
(line)168 1488 A
(from)168 1698 A
(the)126 1908 A
(group)210 2076 A
(file,)210 2328 A
(return)252 2580 A
2874(0)S
2958(if)S
(bad)126 3084 A
3252(or)S
(EOF.)168 3378 A
3588(*/)S
1620 V
(33263)210 648 A
1026({)S
1710 V
(33264)210 648 A
(lineptr=)336 1362 A
(grline;)294 1740 A
1800 V
(33265)210 648 A
1890 V
(33266)210 648 A
1362(do)S
1488({)S
1980 V
(33267)210 648 A
1698(if)S
(\(buflen)294 1824 A
2160(==)S
2286(0\))S
2412({)S
2070 V
(33268)210 648 A
2034(if)S
(\(\(buflen=)378 2160 A
(read\(grfd,)420 2580 A
(buf,)168 3042 A
(sizeof\(buf\)\)\))546 3252 A
3840(<=)S
3966(0\))S
2160 V
(33269)210 648 A
(return)252 2370 A
2664(0;)S
2250 V
(33270)210 648 A
(bufptr=)294 2034 A
(buf;)168 2370 A
2340 V
(33271)210 648 A
1698(})S
2430 V
(33272)210 648 A
2520 V
(33273)210 648 A
1698(if)S
(\(lineptr)336 1824 A
2202(==)S
(arraylimit\(grline\)\))798 2328 A
(return)252 3168 A
3462(0;)S
2610 V
(33274)210 648 A
(buflen--;)378 1698 A
2700 V
(33275)210 648 A
1362(})S
(while)210 1446 A
(\(\(*lineptr++)504 1698 A
2244(=)S
(*bufptr++\))420 2328 A
2790(!=)S
('\\n'\);)252 2916 A
2790 V
(33276)210 648 A
2880 V
(33277)210 648 A
(lineptr=)336 1362 A
(grline;)294 1740 A
2970 V
(33278)210 648 A
(return)252 1362 A
1656(1;)S
3060 V
(33279)210 648 A
1026(})S
3240 V
(33281)210 648 A
(static)252 1026 A
(char)168 1320 A
(*scan_punct\(int)630 1530 A
(punct\))252 2202 A
3330 V
(33282)210 648 A
1026(/*)S
(Scan)168 1152 A
(for)126 1362 A
1530(a)S
(field)210 1614 A
(separator)378 1866 A
2286(in)S
2412(a)S
(line,)210 2496 A
(return)252 2748 A
(the)126 3042 A
(start)210 3210 A
3462(of)S
(the)126 3588 A
(field.)252 3756 A
4050(*/)S
3420 V
(33283)210 648 A
1026({)S
3510 V
(33284)210 648 A
(char)168 1362 A
(*field=)294 1572 A
(lineptr;)336 1908 A
3600 V
(33285)210 648 A
(char)168 1362 A
(*last;)252 1572 A
3690 V
(33286)210 648 A
3780 V
(33287)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
3870 V
(33288)210 648 A
(last=)210 1698 A
(lineptr;)336 1950 A
3960 V
(33289)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
2370(0\))S
(return)252 2496 A
(nil;)168 2790 A
4050 V
(33290)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
('\\n'\))210 2370 A
(break;)252 2622 A
4140 V
(33291)210 648 A
1698(if)S
(\(*lineptr++)462 1824 A
2328(==)S
(punct\))252 2454 A
(break;)252 2748 A
4230 V
(33292)210 648 A
1698(if)S
(\(lineptr[-1])504 1824 A
2370(==)S
(':'\))168 2496 A
(return)252 2706 A
(nil;)168 3000 A
3378(/*)S
(:::,,,:,,,?)462 3504 A
4008(*/)S
4320 V
(33293)210 648 A
1362(})S
4410 V
(33294)210 648 A
(*last=)252 1362 A
1656(0;)S
4500 V
(33295)210 648 A
(return)252 1362 A
(field;)252 1656 A
4590 V
(33296)210 648 A
1026(})S
4770 V
(33298)210 648 A
(struct)252 1026 A
(group)210 1320 A
(*getgrent\(void\))630 1572 A
4860 V
(33299)210 648 A
1026(/*)S
(Read)168 1152 A
(one)126 1362 A
(entry)210 1530 A
(from)168 1782 A
(the)126 1992 A
(group)210 2160 A
(file.)210 2412 A
2664(*/)S
4950 V
(33300)210 648 A
1026({)S
5040 V
(33301)210 648 A
(char)168 1362 A
(*p;)126 1572 A
5130 V
(33302)210 648 A
(char)168 1362 A
(**mem;)252 1572 A
5220 V
(33303)210 648 A
5310 V
(33304)210 648 A
1362(/*)S
(Open)168 1488 A
(the)126 1698 A
(file)168 1866 A
2076(if)S
(not)126 2202 A
(yet)126 2370 A
(open.)210 2538 A
2790(*/)S
5400 V
(33305)210 648 A
1362(if)S
(\(grfd)210 1488 A
1740(<)S
1824(0)S
1908(&&)S
(setgrent\(\))420 2034 A
2496(<)S
2580(0\))S
(return)252 2706 A
(nil;)168 3000 A
5490 V
(33306)210 648 A
5580 V
(33307)210 648 A
1362(/*)S
(Until)210 1488 A
1740(a)S
(good)168 1824 A
(line)168 2034 A
2244(is)S
(read.)210 2370 A
2622(*/)S
5670 V
(33308)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
5760 V
(33309)210 648 A
1698(if)S
(\(!getline\(\)\))504 1824 A
(return)252 2370 A
(nil;)168 2664 A
3042(/*)S
(EOF)126 3168 A
3336(or)S
(corrupt.)336 3462 A
3840(*/)S
5850 V
(33310)210 648 A
5940 V
(33311)210 648 A
1698(if)S
(\(\(entry.gr_name=)672 1824 A
(scan_punct\(':'\)\))672 2538 A
3252(==)S
(nil\))168 3378 A
(continue;)378 3588 A
6030 V
(33312)210 648 A
1698(if)S
(\(\(entry.gr_passwd=)756 1824 A
(scan_punct\(':'\)\))672 2622 A
3336(==)S
(nil\))168 3462 A
(continue;)378 3672 A
6120 V
(33313)210 648 A
1698(if)S
(\(\(p=)168 1824 A
(scan_punct\(':'\)\))672 2034 A
2748(==)S
(nil\))168 2874 A
(continue;)378 3084 A
6210 V
(33314)210 648 A
(entry.gr_gid=)546 1698 A
(strtol\(p,)378 2286 A
(nil,)168 2706 A
(0\);)126 2916 A
8418 V
EP
%%Page: 323 323
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1916(File:)S
(src/lib/other/getgrent.c)1010 2149 A
12 B
(323)180 4248 A
900 V
7 LST
(33315)210 648 A
990 V
(33316)210 648 A
(entry.gr_mem=)546 1698 A
(mem=)168 2286 A
(members;)336 2496 A
1080 V
(33317)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(!=)S
('\\n'\))210 2370 A
2622({)S
1170 V
(33318)210 648 A
2034(do)S
2160({)S
1260 V
(33319)210 648 A
2370(if)S
(\(\(*mem=)294 2496 A
(scan_punct\(','\)\))672 2832 A
3546(==)S
(nil\))168 3672 A
(goto)168 3882 A
(again;)252 4092 A
1350 V
(33320)210 648 A
2370(if)S
(\(mem)168 2496 A
2706(<)S
(arraylimit\(members\))798 2790 A
3630(-)S
3714(1\))S
(mem++;)252 3840 A
1440 V
(33321)210 648 A
2034(})S
(while)210 2118 A
(\(*lineptr)378 2370 A
2790(!=)S
(0\);)126 2916 A
1530 V
(33322)210 648 A
1698(})S
1620 V
(33323)210 648 A
(*mem=)210 1698 A
(nil;)168 1950 A
1710 V
(33324)210 648 A
(return)252 1698 A
(&entry;)294 1992 A
1800 V
(33325)210 648 A
(again:;)294 1362 A
1890 V
(33326)210 648 A
1362(})S
1980 V
(33327)210 648 A
1026(})S
2160 V
(33329)210 648 A
(struct)252 1026 A
(group)210 1320 A
(*getgrgid\(Gid_t)630 1572 A
(gid\))168 2244 A
2250 V
(33330)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(group)210 1614 A
(file)168 1866 A
(entry)210 2076 A
(belonging)378 2328 A
2748(to)S
(the)126 2874 A
(user-id.)336 3042 A
3420(*/)S
2340 V
(33331)210 648 A
1026({)S
2430 V
(33332)210 648 A
(struct)252 1362 A
(group)210 1656 A
(*gr;)168 1908 A
2520 V
(33333)210 648 A
2610 V
(33334)210 648 A
(endgrent\(\);)462 1362 A
2700 V
(33335)210 648 A
(while)210 1362 A
(\(\(gr=)210 1614 A
(getgrent\(\)\))462 1866 A
2370(!=)S
(nil)126 2496 A
2664(&&)S
(gr->gr_gid)420 2790 A
3252(!=)S
(gid\))168 3378 A
3588({})S
2790 V
(33336)210 648 A
(endgrent\(\);)462 1362 A
2880 V
(33337)210 648 A
(return)252 1362 A
(gr;)126 1656 A
2970 V
(33338)210 648 A
1026(})S
3150 V
(33340)210 648 A
(struct)252 1026 A
(group)210 1320 A
(*getgrnam\(const)630 1572 A
(char)168 2244 A
(*name\))252 2454 A
3240 V
(33341)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(group)210 1614 A
(file)168 1866 A
(entry)210 2076 A
(belonging)378 2328 A
2748(to)S
(the)126 2874 A
(user)168 3042 A
(name.)210 3252 A
3504(*/)S
3330 V
(33342)210 648 A
1026({)S
3420 V
(33343)210 648 A
(struct)252 1362 A
(group)210 1656 A
(*gr;)168 1908 A
3510 V
(33344)210 648 A
3600 V
(33345)210 648 A
(endgrent\(\);)462 1362 A
3690 V
(33346)210 648 A
(while)210 1362 A
(\(\(gr=)210 1614 A
(getgrent\(\)\))462 1866 A
2370(!=)S
(nil)126 2496 A
2664(&&)S
(strcmp\(gr->gr_name,)798 2790 A
(name\))210 3630 A
3882(!=)S
4008(0\))S
4134({})S
3780 V
(33347)210 648 A
(endgrent\(\);)462 1362 A
3870 V
(33348)210 648 A
(return)252 1362 A
(gr;)126 1656 A
3960 V
(33349)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/getlogin.c)1008 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(33400)210 648 A
1026(/*)S
(getlogin\(3\))462 1194 A
5040 V
(33401)210 648 A
1068(*)S
5130 V
(33402)210 648 A
1068(*)S
(Author:)294 1194 A
(Terrence)336 1530 A
1908(W.)S
(Holm)168 2034 A
(Aug.)168 2622 A
(1988)168 2832 A
5220 V
(33403)210 648 A
1068(*/)S
5310 V
(33404)210 648 A
5400 V
(33405)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(33406)210 648 A
(#include)336 1026 A
(<pwd.h>)294 1404 A
5580 V
(33407)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5670 V
(33408)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5760 V
(33409)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5850 V
(33410)210 648 A
5940 V
(33411)210 648 A
(#ifndef)294 1026 A
(L_cuserid)378 1404 A
6030 V
(33412)210 648 A
(#define)294 1026 A
(L_cuserid)378 1404 A
1908(9)S
6120 V
(33413)210 648 A
(#endif)252 1026 A
6210 V
(33414)210 648 A
8418 V
EP
%%Page: 324 324
BP
/slant 0 def
/height 0 def
630 V
12 B
(324)180 648 A
11 R
1917(File:)S
(src/lib/other/getlogin.c)1009 2150 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(33415)210 648 A
(char)168 1026 A
(*getlogin\(\))462 1236 A
990 V
(33416)210 648 A
1026({)S
1080 V
(33417)210 648 A
(PRIVATE)294 1110 A
(char)168 1446 A
(userid[L_cuserid];)756 1656 A
1170 V
(33418)210 648 A
(struct)252 1110 A
(passwd)252 1404 A
(*pw_entry;)420 1698 A
1260 V
(33419)210 648 A
1350 V
(33420)210 648 A
(pw_entry)336 1110 A
1488(=)S
(getpwuid\(getuid\(\)\);)798 1572 A
1440 V
(33421)210 648 A
1530 V
(33422)210 648 A
1110(if)S
(\(pw_entry)378 1236 A
1656(==)S
(\(struct)294 1782 A
(passwd)252 2118 A
(*\)NULL\))294 2412 A
(return\(\(char)504 2748 A
(*\)NULL\);)336 3294 A
1620 V
(33423)210 648 A
1710 V
(33424)210 648 A
(strcpy\(userid,)588 1110 A
(pw_entry->pw_name\);)798 1740 A
1800 V
(33425)210 648 A
1890 V
(33426)210 648 A
(return\(userid\);)630 1110 A
1980 V
(33427)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/other/getopt.c)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(33500)210 648 A
1026(/*)S
2790 V
(33501)210 648 A
1068(*)S
(getopt)252 1152 A
1446(-)S
(parse)210 1530 A
(command-line)504 1782 A
(options)294 2328 A
2880 V
(33502)210 648 A
1068(*/)S
2970 V
(33503)210 648 A
1026(/*)S
($Header:)336 1152 A
(getopt.c,v)420 1530 A
(1.1)126 1992 A
(89/12/18)336 2160 A
(14:39:31)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
3060 V
(33504)210 648 A
3150 V
(33505)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
3240 V
(33506)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
3330 V
(33507)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3420 V
(33508)210 648 A
3510 V
(33509)210 648 A
(#define)294 1026 A
(ERR\(s,)252 1362 A
1656(c\))S
(if\(opterr\){\\)504 2034 A
3600 V
(33510)210 648 A
(fputs\(argv[0],)588 1362 A
(stderr\);\\)378 1992 A
3690 V
(33511)210 648 A
(fputs\(s,)336 1362 A
(stderr\);\\)378 1740 A
3780 V
(33512)210 648 A
(fputc\(c,)336 1362 A
(stderr\);\\)378 1740 A
3870 V
(33513)210 648 A
(fputc\('\\n',)462 1362 A
(stderr\);})378 1866 A
3960 V
(33514)210 648 A
4050 V
(33515)210 648 A
(int)126 1026 A
(opterr)252 1362 A
1656(=)S
1740(1;)S
4140 V
(33516)210 648 A
(int)126 1026 A
(optind)252 1362 A
1656(=)S
1740(1;)S
4230 V
(33517)210 648 A
(int)126 1026 A
(optopt;)294 1362 A
4320 V
(33518)210 648 A
(char)168 1026 A
(*optarg;)336 1362 A
4410 V
(33519)210 648 A
4500 V
(33520)210 648 A
(int)126 1026 A
4590 V
(33521)210 648 A
(getopt\(argc,)504 1026 A
(argv,)210 1572 A
(opts\))210 1824 A
4680 V
(33522)210 648 A
(int)126 1026 A
(argc;)210 1194 A
4770 V
(33523)210 648 A
(char)168 1026 A
(**argv;)294 1236 A
4860 V
(33524)210 648 A
(char)168 1026 A
(*opts;)252 1236 A
4950 V
(33525)210 648 A
1026({)S
5040 V
(33526)210 648 A
(static)252 1362 A
(int)126 1656 A
1824(sp)S
1950(=)S
2034(1;)S
5130 V
(33527)210 648 A
(register)336 1362 A
1740(c;)S
5220 V
(33528)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp;)168 1950 A
5310 V
(33529)210 648 A
5400 V
(33530)210 648 A
1362(if)S
(\(sp)126 1488 A
1656(==)S
1782(1\))S
5490 V
(33531)210 648 A
1698(if)S
(\(optind)294 1824 A
2160(>=)S
(argc)168 2286 A
2496(||)S
5580 V
(33532)210 648 A
(argv[optind][0])630 1824 A
2496(!=)S
('-')126 2622 A
2790(||)S
(argv[optind][1])630 2916 A
3588(==)S
('\\0'\))210 3714 A
5670 V
(33533)210 648 A
(return)252 2034 A
(EOF;)168 2328 A
5760 V
(33534)210 648 A
(else)168 1698 A
1908(if)S
(\(!strcmp\(argv[optind],)924 2034 A
("--"\)\))252 3000 A
3294({)S
5850 V
(33535)210 648 A
(optind++;)378 2034 A
5940 V
(33536)210 648 A
(return)252 2034 A
(EOF;)168 2328 A
6030 V
(33537)210 648 A
1698(})S
6120 V
(33538)210 648 A
(optopt)252 1362 A
1656(=)S
1740(c)S
1824(=)S
(argv[optind][sp];)714 1908 A
6210 V
(33539)210 648 A
1362(if)S
1488(\(c)S
1614(==)S
(':')126 1740 A
1908(||)S
(\(cp=strchr\(opts,)672 2034 A
(c\)\))126 2748 A
2916(==)S
(NULL\))210 3042 A
3294({)S
8418 V
EP
%%Page: 325 325
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1960(File:)S
(src/lib/other/getopt.c)923 2193 A
12 B
(325)180 4248 A
900 V
7 LST
(33540)210 648 A
(ERR)126 1698 A
(\(":)126 1866 A
(illegal)294 2034 A
(option)252 2370 A
2664(--)S
2790(",)S
(c\);)126 2916 A
990 V
(33541)210 648 A
1698(if)S
(\(argv[optind][++sp])798 1824 A
2664(==)S
('\\0'\))210 2790 A
3042({)S
1080 V
(33542)210 648 A
(optind++;)378 2034 A
1170 V
(33543)210 648 A
2034(sp)S
2160(=)S
2244(1;)S
1260 V
(33544)210 648 A
1698(})S
1350 V
(33545)210 648 A
(return)252 1698 A
('?';)168 1992 A
1440 V
(33546)210 648 A
1362(})S
1530 V
(33547)210 648 A
1362(if)S
(\(*++cp)252 1488 A
1782(==)S
(':'\))168 1908 A
2118({)S
1620 V
(33548)210 648 A
1698(if)S
(\(argv[optind][sp+1])798 1824 A
2664(!=)S
('\\0'\))210 2790 A
1710 V
(33549)210 648 A
(optarg)252 2034 A
2328(=)S
(&argv[optind++][sp+1];)924 2412 A
1800 V
(33550)210 648 A
(else)168 1698 A
1908(if)S
(\(++optind)378 2034 A
2454(>=)S
(argc\))210 2580 A
2832({)S
1890 V
(33551)210 648 A
(ERR)126 2034 A
(\(":)126 2202 A
(option)252 2370 A
(requires)336 2664 A
3042(an)S
(argument)336 3168 A
3546(--)S
3672(",)S
(c\);)126 3798 A
1980 V
(33552)210 648 A
2034(sp)S
2160(=)S
2244(1;)S
2070 V
(33553)210 648 A
(return)252 2034 A
('?';)168 2328 A
2160 V
(33554)210 648 A
1698(})S
(else)168 1782 A
2250 V
(33555)210 648 A
(optarg)252 2034 A
2328(=)S
(argv[optind++];)630 2412 A
2340 V
(33556)210 648 A
1698(sp)S
1824(=)S
1908(1;)S
2430 V
(33557)210 648 A
1362(})S
(else)168 1446 A
1656({)S
2520 V
(33558)210 648 A
1698(if)S
(\(argv[optind][++sp])798 1824 A
2664(==)S
('\\0'\))210 2790 A
3042({)S
2610 V
(33559)210 648 A
2034(sp)S
2160(=)S
2244(1;)S
2700 V
(33560)210 648 A
(optind++;)378 2034 A
2790 V
(33561)210 648 A
1698(})S
2880 V
(33562)210 648 A
(optarg)252 1698 A
1992(=)S
(NULL;)210 2076 A
2970 V
(33563)210 648 A
1362(})S
3060 V
(33564)210 648 A
(return)252 1362 A
1656(c;)S
3150 V
(33565)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/other/getpass.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(33600)210 648 A
1026(/*)S
(getpass\(\))378 1362 A
1782(-)S
(read)168 1866 A
2076(a)S
(password)336 2160 A
(Author:)294 3042 A
(Kees)168 3378 A
3588(J.)S
(Bot)126 3714 A
4140 V
(33601)210 648 A
1068(*)S
(Feb)126 3378 A
3546(16)S
(1993)168 3672 A
4230 V
(33602)210 648 A
1068(*/)S
4320 V
(33603)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 1572 A
4410 V
(33604)210 648 A
(#define)294 1026 A
(sigaction)378 1362 A
(_sigaction)420 1782 A
4500 V
(33605)210 648 A
(#define)294 1026 A
(sigemptyset)462 1362 A
(_sigemptyset)504 1866 A
4590 V
(33606)210 648 A
(#define)294 1026 A
(tcgetattr)378 1362 A
(_tcgetattr)420 1782 A
4680 V
(33607)210 648 A
(#define)294 1026 A
(tcsetattr)378 1362 A
(_tcsetattr)420 1782 A
4770 V
(33608)210 648 A
(#define)294 1026 A
(write)210 1362 A
(_write)252 1614 A
4860 V
(33609)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1572 A
4950 V
(33610)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1614 A
5040 V
(33611)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
5130 V
(33612)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
5220 V
(33613)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5310 V
(33614)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
5400 V
(33615)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
5490 V
(33616)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5580 V
(33617)210 648 A
5670 V
(33618)210 648 A
(static)252 1026 A
(int)126 1320 A
(intr;)210 1488 A
5760 V
(33619)210 648 A
5850 V
(33620)210 648 A
(static)252 1026 A
(void)168 1320 A
(catch\(int)378 1530 A
(sig\))168 1950 A
5940 V
(33621)210 648 A
1026({)S
6030 V
(33622)210 648 A
(intr=)210 1362 A
1614(1;)S
6120 V
(33623)210 648 A
1026(})S
8418 V
EP
%%Page: 326 326
BP
/slant 0 def
/height 0 def
630 V
12 B
(326)180 648 A
11 R
1935(File:)S
(src/lib/other/getpass.c)973 2168 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(33625)210 648 A
(char)168 1026 A
(*getpass\(const)588 1236 A
(char)168 1866 A
(*prompt\))336 2076 A
990 V
(33626)210 648 A
1026({)S
1080 V
(33627)210 648 A
(struct)252 1362 A
(sigaction)378 1656 A
(osa,)168 2076 A
(sa;)126 2286 A
1170 V
(33628)210 648 A
(struct)252 1362 A
(termios)294 1656 A
(cooked,)294 1992 A
(raw;)168 2328 A
1260 V
(33629)210 648 A
(static)252 1362 A
(char)168 1656 A
(password[32+1];)630 1866 A
1350 V
(33630)210 648 A
(int)126 1362 A
(fd,)126 1530 A
1698(n=)S
1824(0;)S
1440 V
(33631)210 648 A
1530 V
(33632)210 648 A
1362(/*)S
(Try)126 1488 A
1656(to)S
(open)168 1782 A
(the)126 1992 A
(controlling)462 2160 A
(terminal.)378 2664 A
3084(*/)S
1620 V
(33633)210 648 A
1362(if)S
(\(\(fd=)210 1488 A
(open\("/dev/tty",)672 1740 A
(O_RDONLY\)\))420 2454 A
2916(<)S
3000(0\))S
(return)252 3126 A
(NULL;)210 3420 A
1710 V
(33634)210 648 A
1800 V
(33635)210 648 A
1362(/*)S
(Trap)168 1488 A
(interrupts)420 1698 A
(unless)252 2160 A
(ignored.)336 2454 A
2832(*/)S
1890 V
(33636)210 648 A
(intr=)210 1362 A
1614(0;)S
1980 V
(33637)210 648 A
(sigaction\(SIGINT,)714 1362 A
(NULL,)210 2118 A
(&osa\);)252 2370 A
2070 V
(33638)210 648 A
1362(if)S
(\(osa.sa_handler)630 1488 A
2160(!=)S
(SIG_IGN\))336 2286 A
2664({)S
2160 V
(33639)210 648 A
(sigemptyset\(&sa.sa_mask\);)1050 1698 A
2250 V
(33640)210 648 A
(sa.sa_flags=)504 1698 A
2244(0;)S
2340 V
(33641)210 648 A
(sa.sa_handler=)588 1698 A
(catch;)252 2328 A
2430 V
(33642)210 648 A
(sigaction\(SIGINT,)714 1698 A
(&sa,)168 2454 A
(&osa\);)252 2664 A
2520 V
(33643)210 648 A
1362(})S
2610 V
(33644)210 648 A
2700 V
(33645)210 648 A
1362(/*)S
(Set)126 1488 A
(the)126 1656 A
(terminal)336 1824 A
2202(to)S
(non-echo)336 2328 A
(mode.)210 2706 A
2958(*/)S
2790 V
(33646)210 648 A
(tcgetattr\(fd,)546 1362 A
(&cooked\);)378 1950 A
2880 V
(33647)210 648 A
(raw=)168 1362 A
(cooked;)294 1572 A
2970 V
(33648)210 648 A
(raw.c_iflag|=)546 1362 A
(ICRNL;)252 1950 A
3060 V
(33649)210 648 A
(raw.c_lflag&=)546 1362 A
(\304ECHO;)252 1950 A
3150 V
(33650)210 648 A
(raw.c_lflag|=)546 1362 A
(ECHONL;)294 1950 A
3240 V
(33651)210 648 A
(raw.c_oflag|=)546 1362 A
(OPOST)210 1950 A
2202(|)S
(ONLCR;)252 2286 A
3330 V
(33652)210 648 A
(tcsetattr\(fd,)546 1362 A
(TCSANOW,)336 1950 A
(&raw\);)252 2328 A
3420 V
(33653)210 648 A
3510 V
(33654)210 648 A
1362(/*)S
(Print)210 1488 A
(the)126 1740 A
(prompt.)294 1908 A
(\(After)252 2286 A
(setting)294 2580 A
(non-echo!\))420 2916 A
3378(*/)S
3600 V
(33655)210 648 A
(write\(2,)336 1362 A
(prompt,)294 1740 A
(strlen\(prompt\)\);)672 2076 A
3690 V
(33656)210 648 A
3780 V
(33657)210 648 A
1362(/*)S
(Read)168 1488 A
(the)126 1698 A
(password,)378 1866 A
2286(32)S
(characters)420 2412 A
(max.)168 2874 A
3084(*/)S
3870 V
(33658)210 648 A
(while)210 1362 A
(\(read\(fd,)378 1614 A
(password+n,)462 2034 A
2538(1\))S
2664(>)S
2748(0\))S
2874({)S
3960 V
(33659)210 648 A
1698(if)S
(\(password[n])504 1824 A
2370(==)S
('\\n'\))210 2496 A
(break;)252 2748 A
4050 V
(33660)210 648 A
1698(if)S
1824(\(n)S
1950(<)S
(32\))126 2034 A
(n++;)168 2202 A
4140 V
(33661)210 648 A
1362(})S
4230 V
(33662)210 648 A
(password[n]=)504 1362 A
1908(0;)S
4320 V
(33663)210 648 A
4410 V
(33664)210 648 A
1362(/*)S
(Terminal)336 1488 A
(back)168 1866 A
2076(to)S
(cooked)252 2202 A
(mode.)210 2496 A
2748(*/)S
4500 V
(33665)210 648 A
(tcsetattr\(fd,)546 1362 A
(TCSANOW,)336 1950 A
(&cooked\);)378 2328 A
4590 V
(33666)210 648 A
4680 V
(33667)210 648 A
(close\(fd\);)420 1362 A
4770 V
(33668)210 648 A
4860 V
(33669)210 648 A
1362(/*)S
(Interrupt?)420 1488 A
1950(*/)S
4950 V
(33670)210 648 A
(sigaction\(SIGINT,)714 1362 A
(&osa,)210 2118 A
(NULL\);)252 2370 A
5040 V
(33671)210 648 A
1362(if)S
(\(intr\))252 1488 A
(raise\(SIGINT\);)588 1782 A
5130 V
(33672)210 648 A
5220 V
(33673)210 648 A
(return)252 1362 A
(password;)378 1656 A
5310 V
(33674)210 648 A
1026(})S
8418 V
EP
%%Page: 327 327
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1895(File:)S
(src/lib/other/getpwent.c)1053 2128 A
12 B
(327)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/getpwent.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(33700)210 648 A
1026(/*)S
(getpwent\(\),)462 1362 A
(getpwuid\(\),)462 1866 A
(getpwnam\(\))420 2370 A
2832(-)S
(password)336 2916 A
(file)168 3294 A
(routines)336 3504 A
1440 V
(33701)210 648 A
1068(*)S
1530 V
(33702)210 648 A
1068(*)S
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
1620 V
(33703)210 648 A
1068(*)S
3714(31)S
(Jan)126 3840 A
(1994)168 4008 A
1710 V
(33704)210 648 A
1068(*/)S
1800 V
(33705)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
1890 V
(33706)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 1572 A
1980 V
(33707)210 648 A
(#define)294 1026 A
(fcntl)210 1362 A
(_fcntl)252 1614 A
2070 V
(33708)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1572 A
2160 V
(33709)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1614 A
2250 V
(33710)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2340 V
(33711)210 648 A
(#include)336 1026 A
(<pwd.h>)294 1404 A
2430 V
(33712)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2520 V
(33713)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
2610 V
(33714)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2700 V
(33715)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
2790 V
(33716)210 648 A
2880 V
(33717)210 648 A
(#define)294 1026 A
(arraysize\(a\))504 1362 A
(\(sizeof\(a\))420 2034 A
2496(/)S
(sizeof\(\(a\)[0]\)\))630 2580 A
2970 V
(33718)210 648 A
(#define)294 1026 A
(arraylimit\(a\))546 1362 A
(\(\(a\))168 2034 A
2244(+)S
(arraysize\(a\)\))546 2328 A
3060 V
(33719)210 648 A
3150 V
(33720)210 648 A
(static)252 1026 A
(char)168 1320 A
(PASSWD[]=)378 1530 A
("/etc/passwd";)588 1950 A
2706(/*)S
(The)126 2832 A
(password)336 3000 A
(file.)210 3378 A
3630(*/)S
3240 V
(33721)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
(*pwfile;)336 1782 A
2706(/*)S
(Current)294 2832 A
(password)336 3168 A
(file.)210 3546 A
3798(*/)S
3330 V
(33722)210 648 A
3420 V
(33723)210 648 A
(static)252 1026 A
(char)168 1320 A
(buf[1024];)420 1530 A
2706(/*)S
(Read)168 2832 A
(buffer.)294 3042 A
3378(*/)S
3510 V
(33724)210 648 A
(static)252 1026 A
(char)168 1320 A
(pwline[256];)504 1530 A
2706(/*)S
(One)126 2832 A
(line)168 3000 A
(from)168 3210 A
(the)126 3420 A
(password)336 3588 A
(file.)210 3966 A
4218(*/)S
3600 V
(33725)210 648 A
(static)252 1026 A
(struct)252 1320 A
(passwd)252 1614 A
(entry;)252 1908 A
2706(/*)S
(Entry)210 2832 A
3084(to)S
(fill)168 3210 A
(and)126 3420 A
(return.)294 3588 A
3924(*/)S
3690 V
(33726)210 648 A
(static)252 1026 A
(int)126 1320 A
(pwfd=)210 1488 A
(-1;)126 1740 A
2706(/*)S
(Filedescriptor)588 2832 A
3462(to)S
(the)126 3588 A
(file.)210 3756 A
4008(*/)S
3780 V
(33727)210 648 A
(static)252 1026 A
(char)168 1320 A
(*bufptr;)336 1530 A
2706(/*)S
(Place)210 2832 A
3084(in)S
(buf.)168 3210 A
3420(*/)S
3870 V
(33728)210 648 A
(static)252 1026 A
(ssize_t)294 1320 A
(buflen=)294 1656 A
1992(0;)S
2706(/*)S
(Remaining)378 2832 A
(characters)420 3252 A
3714(in)S
(buf.)168 3840 A
4050(*/)S
3960 V
(33729)210 648 A
(static)252 1026 A
(char)168 1320 A
(*lineptr;)378 1530 A
2706(/*)S
(Place)210 2832 A
3084(in)S
(the)126 3210 A
(line.)210 3378 A
3630(*/)S
4050 V
(33730)210 648 A
4140 V
(33731)210 648 A
(void)168 1026 A
(endpwent\(void\))588 1236 A
4230 V
(33732)210 648 A
1026(/*)S
(Close)210 1152 A
(the)126 1404 A
(password)336 1572 A
(file.)210 1950 A
2202(*/)S
4320 V
(33733)210 648 A
1026({)S
4410 V
(33734)210 648 A
1362(if)S
(\(pwfd)210 1488 A
1740(>=)S
1866(0\))S
1992({)S
4500 V
(33735)210 648 A
(\(void\))252 1698 A
(close\(pwfd\);)504 1992 A
4590 V
(33736)210 648 A
(pwfd=)210 1698 A
(-1;)126 1950 A
4680 V
(33737)210 648 A
(buflen=)294 1698 A
2034(0;)S
4770 V
(33738)210 648 A
1362(})S
4860 V
(33739)210 648 A
1026(})S
5040 V
(33741)210 648 A
(int)126 1026 A
(setpwent\(void\))588 1194 A
5130 V
(33742)210 648 A
1026(/*)S
(Open)168 1152 A
(the)126 1362 A
(password)336 1530 A
(file.)210 1908 A
2160(*/)S
5220 V
(33743)210 648 A
1026({)S
5310 V
(33744)210 648 A
1362(if)S
(\(pwfd)210 1488 A
1740(>=)S
1866(0\))S
(endpwent\(\);)462 1992 A
5400 V
(33745)210 648 A
5490 V
(33746)210 648 A
1362(if)S
(\(pwfile)294 1488 A
1824(==)S
(nil\))168 1950 A
(pwfile=)294 2160 A
(PASSWD;)294 2496 A
5580 V
(33747)210 648 A
5670 V
(33748)210 648 A
1362(if)S
(\(\(pwfd=)294 1488 A
(open\(pwfile,)504 1824 A
(O_RDONLY\)\))420 2370 A
2832(<)S
2916(0\))S
(return)252 3042 A
(-1;)126 3336 A
5760 V
(33749)210 648 A
(\(void\))252 1362 A
(fcntl\(pwfd,)462 1656 A
(F_SETFD,)336 2160 A
(fcntl\(pwfd,)462 2538 A
(F_GETFD\))336 3042 A
3420(|)S
(FD_CLOEXEC\);)504 3504 A
5850 V
(33750)210 648 A
(return)252 1362 A
1656(0;)S
5940 V
(33751)210 648 A
1026(})S
6120 V
(33753)210 648 A
(void)168 1026 A
(setpwfile\(const)630 1236 A
(char)168 1908 A
(*file\))252 2118 A
6210 V
(33754)210 648 A
1026(/*)S
(Prepare)294 1152 A
(for)126 1488 A
(reading)294 1656 A
1992(an)S
(alternate)378 2118 A
(password)336 2538 A
(file.)210 2916 A
3168(*/)S
8418 V
EP
%%Page: 328 328
BP
/slant 0 def
/height 0 def
630 V
12 B
(328)180 648 A
11 R
1895(File:)S
(src/lib/other/getpwent.c)1053 2128 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(33755)210 648 A
1026({)S
990 V
(33756)210 648 A
(endpwent\(\);)462 1362 A
1080 V
(33757)210 648 A
(pwfile=)294 1362 A
(file;)210 1698 A
1170 V
(33758)210 648 A
1026(})S
1350 V
(33760)210 648 A
(static)252 1026 A
(int)126 1320 A
(getline\(void\))546 1488 A
1440 V
(33761)210 648 A
1026(/*)S
(Get)126 1152 A
(one)126 1320 A
(line)168 1488 A
(from)168 1698 A
(the)126 1908 A
(password)336 2076 A
(file,)210 2454 A
(return)252 2706 A
3000(0)S
3084(if)S
(bad)126 3210 A
3378(or)S
(EOF.)168 3504 A
3714(*/)S
1530 V
(33762)210 648 A
1026({)S
1620 V
(33763)210 648 A
(lineptr=)336 1362 A
(pwline;)294 1740 A
1710 V
(33764)210 648 A
1800 V
(33765)210 648 A
1362(do)S
1488({)S
1890 V
(33766)210 648 A
1698(if)S
(\(buflen)294 1824 A
2160(==)S
2286(0\))S
2412({)S
1980 V
(33767)210 648 A
2034(if)S
(\(\(buflen=)378 2160 A
(read\(pwfd,)420 2580 A
(buf,)168 3042 A
(sizeof\(buf\)\)\))546 3252 A
3840(<=)S
3966(0\))S
2070 V
(33768)210 648 A
(return)252 2370 A
2664(0;)S
2160 V
(33769)210 648 A
(bufptr=)294 2034 A
(buf;)168 2370 A
2250 V
(33770)210 648 A
1698(})S
2340 V
(33771)210 648 A
2430 V
(33772)210 648 A
1698(if)S
(\(lineptr)336 1824 A
2202(==)S
(arraylimit\(pwline\)\))798 2328 A
(return)252 3168 A
3462(0;)S
2520 V
(33773)210 648 A
(buflen--;)378 1698 A
2610 V
(33774)210 648 A
1362(})S
(while)210 1446 A
(\(\(*lineptr++)504 1698 A
2244(=)S
(*bufptr++\))420 2328 A
2790(!=)S
('\\n'\);)252 2916 A
2700 V
(33775)210 648 A
2790 V
(33776)210 648 A
(lineptr=)336 1362 A
(pwline;)294 1740 A
2880 V
(33777)210 648 A
(return)252 1362 A
1656(1;)S
2970 V
(33778)210 648 A
1026(})S
3150 V
(33780)210 648 A
(static)252 1026 A
(char)168 1320 A
(*scan_colon\(void\))714 1530 A
3240 V
(33781)210 648 A
1026(/*)S
(Scan)168 1152 A
(for)126 1362 A
1530(a)S
(field)210 1614 A
(separator)378 1866 A
2286(in)S
2412(a)S
(line,)210 2496 A
(return)252 2748 A
(the)126 3042 A
(start)210 3210 A
3462(of)S
(the)126 3588 A
(field.)252 3756 A
4050(*/)S
3330 V
(33782)210 648 A
1026({)S
3420 V
(33783)210 648 A
(char)168 1362 A
(*field=)294 1572 A
(lineptr;)336 1908 A
3510 V
(33784)210 648 A
(char)168 1362 A
(*last;)252 1572 A
3600 V
(33785)210 648 A
3690 V
(33786)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
3780 V
(33787)210 648 A
(last=)210 1698 A
(lineptr;)336 1950 A
3870 V
(33788)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
2370(0\))S
(return)252 2496 A
(nil;)168 2790 A
3960 V
(33789)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
('\\n'\))210 2370 A
(break;)252 2622 A
4050 V
(33790)210 648 A
1698(if)S
(\(*lineptr++)462 1824 A
2328(==)S
(':'\))168 2454 A
(break;)252 2664 A
4140 V
(33791)210 648 A
1362(})S
4230 V
(33792)210 648 A
(*last=)252 1362 A
1656(0;)S
4320 V
(33793)210 648 A
(return)252 1362 A
(field;)252 1656 A
4410 V
(33794)210 648 A
1026(})S
4590 V
(33796)210 648 A
(struct)252 1026 A
(passwd)252 1320 A
(*getpwent\(void\))630 1614 A
4680 V
(33797)210 648 A
1026(/*)S
(Read)168 1152 A
(one)126 1362 A
(entry)210 1530 A
(from)168 1782 A
(the)126 1992 A
(password)336 2160 A
(file.)210 2538 A
2790(*/)S
4770 V
(33798)210 648 A
1026({)S
4860 V
(33799)210 648 A
(char)168 1362 A
(*p;)126 1572 A
4950 V
(33800)210 648 A
5040 V
(33801)210 648 A
1362(/*)S
(Open)168 1488 A
(the)126 1698 A
(file)168 1866 A
2076(if)S
(not)126 2202 A
(yet)126 2370 A
(open.)210 2538 A
2790(*/)S
5130 V
(33802)210 648 A
1362(if)S
(\(pwfd)210 1488 A
1740(<)S
1824(0)S
1908(&&)S
(setpwent\(\))420 2034 A
2496(<)S
2580(0\))S
(return)252 2706 A
(nil;)168 3000 A
5220 V
(33803)210 648 A
5310 V
(33804)210 648 A
1362(/*)S
(Until)210 1488 A
1740(a)S
(good)168 1824 A
(line)168 2034 A
2244(is)S
(read.)210 2370 A
2622(*/)S
5400 V
(33805)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
5490 V
(33806)210 648 A
1698(if)S
(\(!getline\(\)\))504 1824 A
(return)252 2370 A
(nil;)168 2664 A
3042(/*)S
(EOF)126 3168 A
3336(or)S
(corrupt.)336 3462 A
3840(*/)S
5580 V
(33807)210 648 A
5670 V
(33808)210 648 A
1698(if)S
(\(\(entry.pw_name=)672 1824 A
(scan_colon\(\)\))546 2538 A
3126(==)S
(nil\))168 3252 A
(continue;)378 3462 A
5760 V
(33809)210 648 A
1698(if)S
(\(\(entry.pw_passwd=)756 1824 A
(scan_colon\(\)\))546 2622 A
3210(==)S
(nil\))168 3336 A
(continue;)378 3546 A
5850 V
(33810)210 648 A
1698(if)S
(\(\(p=)168 1824 A
(scan_colon\(\)\))546 2034 A
2622(==)S
(nil\))168 2748 A
(continue;)378 2958 A
5940 V
(33811)210 648 A
(entry.pw_uid=)546 1698 A
(strtol\(p,)378 2286 A
(nil,)168 2706 A
(0\);)126 2916 A
6030 V
(33812)210 648 A
1698(if)S
(\(\(p=)168 1824 A
(scan_colon\(\)\))546 2034 A
2622(==)S
(nil\))168 2748 A
(continue;)378 2958 A
6120 V
(33813)210 648 A
(entry.pw_gid=)546 1698 A
(strtol\(p,)378 2286 A
(nil,)168 2706 A
(0\);)126 2916 A
6210 V
(33814)210 648 A
1698(if)S
(\(\(entry.pw_gecos=)714 1824 A
(scan_colon\(\)\))546 2580 A
3168(==)S
(nil\))168 3294 A
(continue;)378 3504 A
8418 V
EP
%%Page: 329 329
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1895(File:)S
(src/lib/other/getpwent.c)1053 2128 A
12 B
(329)180 4248 A
900 V
7 LST
(33815)210 648 A
1698(if)S
(\(\(entry.pw_dir=)630 1824 A
(scan_colon\(\)\))546 2496 A
3084(==)S
(nil\))168 3210 A
(continue;)378 3420 A
990 V
(33816)210 648 A
1698(if)S
(\(\(entry.pw_shell=)714 1824 A
(scan_colon\(\)\))546 2580 A
3168(==)S
(nil\))168 3294 A
(continue;)378 3504 A
1080 V
(33817)210 648 A
1170 V
(33818)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
2370(0\))S
(return)252 2496 A
(&entry;)294 2790 A
1260 V
(33819)210 648 A
1362(})S
1350 V
(33820)210 648 A
1026(})S
1530 V
(33822)210 648 A
(struct)252 1026 A
(passwd)252 1320 A
(*getpwuid\(Uid_t)630 1614 A
(uid\))168 2286 A
1620 V
(33823)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(password)336 1614 A
(file)168 1992 A
(entry)210 2202 A
(belonging)378 2454 A
2874(to)S
(the)126 3000 A
(user-id.)336 3168 A
3546(*/)S
1710 V
(33824)210 648 A
1026({)S
1800 V
(33825)210 648 A
(struct)252 1362 A
(passwd)252 1656 A
(*pw;)168 1950 A
1890 V
(33826)210 648 A
1980 V
(33827)210 648 A
(endpwent\(\);)462 1362 A
2070 V
(33828)210 648 A
(while)210 1362 A
(\(\(pw=)210 1614 A
(getpwent\(\)\))462 1866 A
2370(!=)S
(nil)126 2496 A
2664(&&)S
(pw->pw_uid)420 2790 A
3252(!=)S
(uid\))168 3378 A
3588({})S
2160 V
(33829)210 648 A
(endpwent\(\);)462 1362 A
2250 V
(33830)210 648 A
(return)252 1362 A
(pw;)126 1656 A
2340 V
(33831)210 648 A
1026(})S
2520 V
(33833)210 648 A
(struct)252 1026 A
(passwd)252 1320 A
(*getpwnam\(const)630 1614 A
(char)168 2286 A
(*name\))252 2496 A
2610 V
(33834)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(password)336 1614 A
(file)168 1992 A
(entry)210 2202 A
(belonging)378 2454 A
2874(to)S
(the)126 3000 A
(user)168 3168 A
(name.)210 3378 A
3630(*/)S
2700 V
(33835)210 648 A
1026({)S
2790 V
(33836)210 648 A
(struct)252 1362 A
(passwd)252 1656 A
(*pw;)168 1950 A
2880 V
(33837)210 648 A
2970 V
(33838)210 648 A
(endpwent\(\);)462 1362 A
3060 V
(33839)210 648 A
(while)210 1362 A
(\(\(pw=)210 1614 A
(getpwent\(\)\))462 1866 A
2370(!=)S
(nil)126 2496 A
2664(&&)S
(strcmp\(pw->pw_name,)798 2790 A
(name\))210 3630 A
3882(!=)S
4008(0\))S
4134({})S
3150 V
(33840)210 648 A
(endpwent\(\);)462 1362 A
3240 V
(33841)210 648 A
(return)252 1362 A
(pw;)126 1656 A
3330 V
(33842)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/other/getttyent.c)1050 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(33900)210 648 A
1026(/*)S
(getttyent\(3\))504 1362 A
1908(-)S
(get)126 1992 A
2160(a)S
(ttytab)252 2244 A
(entry)210 2538 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
4140 V
(33901)210 648 A
1068(*)S
3714(28)S
(Oct)126 3840 A
(1995)168 4008 A
4230 V
(33902)210 648 A
1068(*/)S
4320 V
(33903)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
4410 V
(33904)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 1572 A
4500 V
(33905)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1614 A
4590 V
(33906)210 648 A
(#define)294 1026 A
(fcntl)210 1362 A
(_fcntl)252 1614 A
4680 V
(33907)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1572 A
4770 V
(33908)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4860 V
(33909)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4950 V
(33910)210 648 A
(#include)336 1026 A
(<ttyent.h>)420 1404 A
5040 V
(33911)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5130 V
(33912)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
5220 V
(33913)210 648 A
5310 V
(33914)210 648 A
(#define)294 1026 A
(arraysize\(a\))504 1362 A
(\(sizeof\(a\))420 2034 A
2496(/)S
(sizeof\(\(a\)[0]\)\))630 2580 A
5400 V
(33915)210 648 A
(#define)294 1026 A
(arraylimit\(a\))546 1362 A
(\(\(a\))168 2034 A
2244(+)S
(arraysize\(a\)\))546 2328 A
5490 V
(33916)210 648 A
5580 V
(33917)210 648 A
(static)252 1026 A
(char)168 1320 A
(TTYTAB[]=)378 1530 A
("/etc/ttytab";)588 1950 A
2706(/*)S
(The)126 2832 A
(table)210 3000 A
3252(of)S
(terminal)336 3378 A
(devices.)336 3756 A
4134(*/)S
5670 V
(33918)210 648 A
5760 V
(33919)210 648 A
(static)252 1026 A
(char)168 1320 A
(buf[512];)378 1530 A
2706(/*)S
(Read)168 2832 A
(buffer.)294 3042 A
3378(*/)S
5850 V
(33920)210 648 A
(static)252 1026 A
(char)168 1320 A
(ttline[256];)504 1530 A
2706(/*)S
(One)126 2832 A
(line)168 3000 A
(from)168 3210 A
(the)126 3420 A
(ttytab)252 3588 A
(file.)210 3882 A
4134(*/)S
5940 V
(33921)210 648 A
(static)252 1026 A
(char)168 1320 A
(*ttargv[32];)504 1530 A
2706(/*)S
(Compound)336 2832 A
(arguments.)420 3210 A
3672(*/)S
6030 V
(33922)210 648 A
(static)252 1026 A
(struct)252 1320 A
(ttyent)252 1614 A
(entry;)252 1908 A
2706(/*)S
(Entry)210 2832 A
3084(to)S
(fill)168 3210 A
(and)126 3420 A
(return.)294 3588 A
3924(*/)S
6120 V
(33923)210 648 A
(static)252 1026 A
(int)126 1320 A
(ttfd=)210 1488 A
(-1;)126 1740 A
2706(/*)S
(Filedescriptor)588 2832 A
3462(to)S
(the)126 3588 A
(file.)210 3756 A
4008(*/)S
6210 V
(33924)210 648 A
(static)252 1026 A
(char)168 1320 A
(*bufptr;)336 1530 A
2706(/*)S
(Place)210 2832 A
3084(in)S
(buf.)168 3210 A
3420(*/)S
8418 V
EP
%%Page: 330 330
BP
/slant 0 def
/height 0 def
630 V
12 B
(330)180 648 A
11 R
1904(File:)S
(src/lib/other/getttyent.c)1035 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(33925)210 648 A
(static)252 1026 A
(ssize_t)294 1320 A
(buflen=)294 1656 A
1992(0;)S
2706(/*)S
(Remaining)378 2832 A
(characters)420 3252 A
3714(in)S
(buf.)168 3840 A
4050(*/)S
990 V
(33926)210 648 A
(static)252 1026 A
(char)168 1320 A
(*lineptr;)378 1530 A
2706(/*)S
(Place)210 2832 A
3084(in)S
(the)126 3210 A
(line.)210 3378 A
3630(*/)S
1080 V
(33927)210 648 A
(static)252 1026 A
(char)168 1320 A
(**argvptr;)420 1530 A
2706(/*)S
(Place)210 2832 A
3084(in)S
(word)168 3210 A
(lists.)252 3420 A
3714(*/)S
1170 V
(33928)210 648 A
1260 V
(33929)210 648 A
(void)168 1026 A
(endttyent\(void\))630 1236 A
1350 V
(33930)210 648 A
1026(/*)S
(Close)210 1152 A
(the)126 1404 A
(ttytab)252 1572 A
(file.)210 1866 A
2118(*/)S
1440 V
(33931)210 648 A
1026({)S
1530 V
(33932)210 648 A
1362(if)S
(\(ttfd)210 1488 A
1740(>=)S
1866(0\))S
1992({)S
1620 V
(33933)210 648 A
(\(void\))252 1698 A
(close\(ttfd\);)504 1992 A
1710 V
(33934)210 648 A
(ttfd=)210 1698 A
(-1;)126 1950 A
1800 V
(33935)210 648 A
(buflen=)294 1698 A
2034(0;)S
1890 V
(33936)210 648 A
1362(})S
1980 V
(33937)210 648 A
1026(})S
2160 V
(33939)210 648 A
(int)126 1026 A
(setttyent\(void\))630 1194 A
2250 V
(33940)210 648 A
1026(/*)S
(Open)168 1152 A
(the)126 1362 A
(ttytab)252 1530 A
(file.)210 1824 A
2076(*/)S
2340 V
(33941)210 648 A
1026({)S
2430 V
(33942)210 648 A
1362(if)S
(\(ttfd)210 1488 A
1740(>=)S
1866(0\))S
(endttyent\(\);)504 1992 A
2520 V
(33943)210 648 A
2610 V
(33944)210 648 A
1362(if)S
(\(\(ttfd=)294 1488 A
(open\(TTYTAB,)504 1824 A
(O_RDONLY\)\))420 2370 A
2832(<)S
2916(0\))S
(return)252 3042 A
(-1;)126 3336 A
2700 V
(33945)210 648 A
(\(void\))252 1362 A
(fcntl\(ttfd,)462 1656 A
(F_SETFD,)336 2160 A
(fcntl\(ttfd,)462 2538 A
(F_GETFD\))336 3042 A
3420(|)S
(FD_CLOEXEC\);)504 3504 A
2790 V
(33946)210 648 A
(return)252 1362 A
1656(0;)S
2880 V
(33947)210 648 A
1026(})S
3060 V
(33949)210 648 A
(static)252 1026 A
(int)126 1320 A
(getline\(void\))546 1488 A
3150 V
(33950)210 648 A
1026(/*)S
(Get)126 1152 A
(one)126 1320 A
(line)168 1488 A
(from)168 1698 A
(the)126 1908 A
(ttytab)252 2076 A
(file,)210 2370 A
(return)252 2622 A
2916(0)S
3000(if)S
(bad)126 3126 A
3294(or)S
(EOF.)168 3420 A
3630(*/)S
3240 V
(33951)210 648 A
1026({)S
3330 V
(33952)210 648 A
(lineptr=)336 1362 A
(ttline;)294 1740 A
3420 V
(33953)210 648 A
(argvptr=)336 1362 A
(ttargv;)294 1740 A
3510 V
(33954)210 648 A
3600 V
(33955)210 648 A
1362(do)S
1488({)S
3690 V
(33956)210 648 A
1698(if)S
(\(buflen)294 1824 A
2160(==)S
2286(0\))S
2412({)S
3780 V
(33957)210 648 A
2034(if)S
(\(\(buflen=)378 2160 A
(read\(ttfd,)420 2580 A
(buf,)168 3042 A
(sizeof\(buf\)\)\))546 3252 A
3840(<=)S
3966(0\))S
3870 V
(33958)210 648 A
(return)252 2370 A
2664(0;)S
3960 V
(33959)210 648 A
(bufptr=)294 2034 A
(buf;)168 2370 A
4050 V
(33960)210 648 A
1698(})S
4140 V
(33961)210 648 A
4230 V
(33962)210 648 A
1698(if)S
(\(lineptr)336 1824 A
2202(==)S
(arraylimit\(ttline\)\))798 2328 A
(return)252 3168 A
3462(0;)S
4320 V
(33963)210 648 A
(buflen--;)378 1698 A
4410 V
(33964)210 648 A
1362(})S
(while)210 1446 A
(\(\(*lineptr++)504 1698 A
2244(=)S
(*bufptr++\))420 2328 A
2790(!=)S
('\\n'\);)252 2916 A
4500 V
(33965)210 648 A
4590 V
(33966)210 648 A
(lineptr=)336 1362 A
(ttline;)294 1740 A
4680 V
(33967)210 648 A
(return)252 1362 A
1656(1;)S
4770 V
(33968)210 648 A
1026(})S
4950 V
(33970)210 648 A
(static)252 1026 A
(int)126 1320 A
(white\(int)378 1488 A
1908(c\))S
5040 V
(33971)210 648 A
1026(/*)S
(Whitespace?)462 1152 A
1656(*/)S
5130 V
(33972)210 648 A
1026({)S
5220 V
(33973)210 648 A
(return)252 1362 A
1656(c)S
1740(==)S
1866(')S
1950(')S
2034(||)S
2160(c)S
2244(==)S
('\\t';)210 2370 A
5310 V
(33974)210 648 A
1026(})S
5490 V
(33976)210 648 A
(static)252 1026 A
(char)168 1320 A
(*scan_white\(int)630 1530 A
(quoted\))294 2202 A
5580 V
(33977)210 648 A
1026(/*)S
(Scan)168 1152 A
(for)126 1362 A
1530(a)S
(field)210 1614 A
(separator)378 1866 A
2286(in)S
2412(a)S
(line,)210 2496 A
(return)252 2748 A
(the)126 3042 A
(start)210 3210 A
3462(of)S
(the)126 3588 A
(field.)252 3756 A
5670 V
(33978)210 648 A
1068(*)S
("quoted")336 1152 A
1530(is)S
(set)126 1656 A
1824(if)S
1950(we)S
(have)168 2076 A
2286(to)S
(watch)210 2412 A
(out)126 2664 A
(for)126 2832 A
(double)252 3000 A
(quotes.)294 3294 A
5760 V
(33979)210 648 A
1068(*/)S
5850 V
(33980)210 648 A
1026({)S
5940 V
(33981)210 648 A
(char)168 1362 A
(*field,)294 1572 A
(*last;)252 1908 A
6030 V
(33982)210 648 A
6120 V
(33983)210 648 A
(while)210 1362 A
(\(white\(*lineptr\)\))714 1614 A
(lineptr++;)420 2370 A
6210 V
(33984)210 648 A
1362(if)S
(\(!quoted)336 1488 A
1866(&&)S
(*lineptr)336 1992 A
2370(==)S
('#'\))168 2496 A
(return)252 2706 A
(nil;)168 3000 A
8418 V
EP
%%Page: 331 331
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1904(File:)S
(src/lib/other/getttyent.c)1035 2137 A
12 B
(331)180 4248 A
900 V
7 LST
(33985)210 648 A
990 V
(33986)210 648 A
(field=)252 1362 A
(lineptr;)336 1656 A
1080 V
(33987)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
1170 V
(33988)210 648 A
(last=)210 1698 A
(lineptr;)336 1950 A
1260 V
(33989)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
2370(0\))S
(return)252 2496 A
(nil;)168 2790 A
1350 V
(33990)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
('\\n'\))210 2370 A
(break;)252 2622 A
1440 V
(33991)210 648 A
1698(if)S
(\(quoted)294 1824 A
2160(&&)S
(*lineptr)336 2286 A
2664(==)S
('"'\))168 2790 A
(return)252 3000 A
(field;)252 3294 A
1530 V
(33992)210 648 A
1698(if)S
(\(white\(*lineptr++\)\))798 1824 A
(break;)252 2664 A
1620 V
(33993)210 648 A
1362(})S
1710 V
(33994)210 648 A
(*last=)252 1362 A
1656(0;)S
1800 V
(33995)210 648 A
(return)252 1362 A
(*field)252 1656 A
1950(==)S
2076(0)S
2160(?)S
(nil)126 2244 A
2412(:)S
(field;)252 2496 A
1890 V
(33996)210 648 A
1026(})S
2070 V
(33998)210 648 A
(static)252 1026 A
(char)168 1320 A
(**scan_quoted\(void\))798 1530 A
2160 V
(33999)210 648 A
1026(/*)S
(Read)168 1152 A
1362(a)S
(field)210 1446 A
(that)168 1698 A
(may)126 1908 A
2076(be)S
2202(a)S
(quoted)252 2286 A
(list)168 2580 A
2790(of)S
(words.)252 2916 A
3210(*/)S
2250 V
(34000)210 648 A
1026({)S
2340 V
(34001)210 648 A
(char)168 1362 A
(*p,)126 1572 A
(**field=)336 1740 A
(argvptr;)336 2118 A
2430 V
(34002)210 648 A
2520 V
(34003)210 648 A
(while)210 1362 A
(\(white\(*lineptr\)\))714 1614 A
(lineptr++;)420 2370 A
2610 V
(34004)210 648 A
2700 V
(34005)210 648 A
1362(if)S
(\(*lineptr)378 1488 A
1908(==)S
('"'\))168 2034 A
2244({)S
2790 V
(34006)210 648 A
1698(/*)S
(Quoted)252 1824 A
(list)168 2118 A
2328(of)S
(words.)252 2454 A
2748(*/)S
2880 V
(34007)210 648 A
(lineptr++;)420 1698 A
2970 V
(34008)210 648 A
(while)210 1698 A
(\(\(p=)168 1950 A
(scan_white\(1\)\))588 2160 A
2790(!=)S
(nil)126 2916 A
3084(&&)S
3210(*p)S
3336(!=)S
('"'\))168 3462 A
3672({)S
3060 V
(34009)210 648 A
2034(if)S
(\(argvptr)336 2160 A
2538(==)S
(arraylimit\(ttargv\)\))798 2664 A
(return)252 3504 A
(nil;)168 3798 A
3150 V
(34010)210 648 A
(*argvptr++=)462 2034 A
2538(p;)S
3240 V
(34011)210 648 A
1698(})S
3330 V
(34012)210 648 A
1698(if)S
(\(*lineptr)378 1824 A
2244(==)S
('"'\))168 2370 A
(*lineptr++=)462 2580 A
3084(0;)S
3420 V
(34013)210 648 A
1362(})S
(else)168 1446 A
1656({)S
3510 V
(34014)210 648 A
1698(/*)S
(Just)168 1824 A
(one)126 2034 A
(word.)210 2202 A
2454(*/)S
3600 V
(34015)210 648 A
1698(if)S
(\(\(p=)168 1824 A
(scan_white\(0\)\))588 2034 A
2664(==)S
(nil\))168 2790 A
(return)252 3000 A
(nil;)168 3294 A
3690 V
(34016)210 648 A
1698(if)S
(\(argvptr)336 1824 A
2202(==)S
(arraylimit\(ttargv\)\))798 2328 A
(return)252 3168 A
(nil;)168 3462 A
3780 V
(34017)210 648 A
(*argvptr++=)462 1698 A
2202(p;)S
3870 V
(34018)210 648 A
1362(})S
3960 V
(34019)210 648 A
1362(if)S
(\(argvptr)336 1488 A
1866(==)S
(arraylimit\(ttargv\)\))798 1992 A
(return)252 2832 A
(nil;)168 3126 A
4050 V
(34020)210 648 A
(*argvptr++=)462 1362 A
(nil;)168 1866 A
4140 V
(34021)210 648 A
(return)252 1362 A
(field;)252 1656 A
4230 V
(34022)210 648 A
1026(})S
4410 V
(34024)210 648 A
(struct)252 1026 A
(ttyent)252 1320 A
(*getttyent\(void\))672 1614 A
4500 V
(34025)210 648 A
1026(/*)S
(Read)168 1152 A
(one)126 1362 A
(entry)210 1530 A
(from)168 1782 A
(the)126 1992 A
(ttytab)252 2160 A
(file.)210 2454 A
2706(*/)S
4590 V
(34026)210 648 A
1026({)S
4680 V
(34027)210 648 A
1362(/*)S
(Open)168 1488 A
(the)126 1698 A
(file)168 1866 A
2076(if)S
(not)126 2202 A
(yet)126 2370 A
(open.)210 2538 A
2790(*/)S
4770 V
(34028)210 648 A
1362(if)S
(\(ttfd)210 1488 A
1740(<)S
1824(0)S
1908(&&)S
(setttyent\(\))462 2034 A
2538(<)S
2622(0\))S
(return)252 2748 A
(nil;)168 3042 A
4860 V
(34029)210 648 A
4950 V
(34030)210 648 A
1362(/*)S
(Look)168 1488 A
(for)126 1698 A
1866(a)S
(line)168 1950 A
(with)168 2160 A
(something)378 2370 A
2790(on)S
(it.)126 2916 A
3084(*/)S
5040 V
(34031)210 648 A
(for)126 1362 A
(\(;;\))168 1530 A
1740({)S
5130 V
(34032)210 648 A
1698(if)S
(\(!getline\(\)\))504 1824 A
(return)252 2370 A
(nil;)168 2664 A
3042(/*)S
(EOF)126 3168 A
3336(or)S
(corrupt.)336 3462 A
3840(*/)S
5220 V
(34033)210 648 A
5310 V
(34034)210 648 A
1698(if)S
(\(\(entry.ty_name=)672 1824 A
(scan_white\(0\)\))588 2538 A
3168(==)S
(nil\))168 3294 A
(continue;)378 3504 A
5400 V
(34035)210 648 A
(entry.ty_type=)588 1698 A
(scan_white\(0\);)588 2328 A
5490 V
(34036)210 648 A
(entry.ty_getty=)630 1698 A
(scan_quoted\(\);)588 2370 A
5580 V
(34037)210 648 A
(entry.ty_init=)588 1698 A
(scan_quoted\(\);)588 2328 A
5670 V
(34038)210 648 A
5760 V
(34039)210 648 A
(return)252 1698 A
(&entry;)294 1992 A
5850 V
(34040)210 648 A
1362(})S
5940 V
(34041)210 648 A
1026(})S
6120 V
(34043)210 648 A
(struct)252 1026 A
(ttyent)252 1320 A
(*getttynam\(const)672 1614 A
(char)168 2328 A
(*name\))252 2538 A
6210 V
(34044)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(ttytab)252 1614 A
(file)168 1908 A
(entry)210 2118 A
(for)126 2370 A
2538(a)S
(given)210 2622 A
(tty.)168 2874 A
3084(*/)S
8418 V
EP
%%Page: 332 332
BP
/slant 0 def
/height 0 def
630 V
12 B
(332)180 648 A
11 R
1904(File:)S
(src/lib/other/getttyent.c)1035 2137 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(34045)210 648 A
1026({)S
990 V
(34046)210 648 A
(struct)252 1362 A
(ttyent)252 1656 A
(*tty;)210 1950 A
1080 V
(34047)210 648 A
1170 V
(34048)210 648 A
(endttyent\(\);)504 1362 A
1260 V
(34049)210 648 A
(while)210 1362 A
(\(\(tty=)252 1614 A
(getttyent\(\)\))504 1908 A
2454(!=)S
(nil)126 2580 A
2748(&&)S
(strcmp\(tty->ty_name,)840 2874 A
(name\))210 3756 A
4008(!=)S
4134(0\))S
4260({})S
1350 V
(34050)210 648 A
(endttyent\(\);)504 1362 A
1440 V
(34051)210 648 A
(return)252 1362 A
(tty;)168 1656 A
1530 V
(34052)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/other/getw.c)840 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(34100)210 648 A
1026(/*)S
2340 V
(34101)210 648 A
1068(*)S
(getw)168 1152 A
1362(-)S
(read)168 1446 A
1656(a)S
(word)168 1740 A
(from)168 1950 A
2160(a)S
(stream)252 2244 A
2430 V
(34102)210 648 A
1068(*/)S
2520 V
(34103)210 648 A
1026(/*)S
($Header:)336 1152 A
(getw.c,v)336 1530 A
(1.1)126 1908 A
(89/12/18)336 2076 A
(14:39:51)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
2610 V
(34104)210 648 A
2700 V
(34105)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2790 V
(34106)210 648 A
2880 V
(34107)210 648 A
(_PROTOTYPE\(int)588 1026 A
(getw,)210 1656 A
(\(FILE)210 1908 A
(*stream)294 2160 A
(\)\);)126 2496 A
2970 V
(34108)210 648 A
3060 V
(34109)210 648 A
(int)126 1026 A
(getw\(stream\))504 1194 A
3150 V
(34110)210 648 A
(register)336 1026 A
(FILE)168 1404 A
(*stream;)336 1614 A
3240 V
(34111)210 648 A
1026({)S
3330 V
(34112)210 648 A
(register)336 1362 A
(int)126 1740 A
(cnt)126 1908 A
2076(=)S
(sizeof\(int\);)504 2160 A
3420 V
(34113)210 648 A
(int)126 1362 A
1530(w;)S
3510 V
(34114)210 648 A
(register)336 1362 A
(char)168 1740 A
1950(*p)S
2076(=)S
(\(char)210 2160 A
2412(*\))S
(&w;)126 2538 A
3600 V
(34115)210 648 A
3690 V
(34116)210 648 A
(while)210 1362 A
(\(cnt--\))294 1614 A
1950({)S
3780 V
(34117)210 648 A
(*p++)168 1698 A
1908(=)S
(getc\(stream\);)546 1992 A
3870 V
(34118)210 648 A
1362(})S
3960 V
(34119)210 648 A
1362(if)S
(\(feof\(stream\))546 1488 A
2076(||)S
(ferror\(stream\)\))630 2202 A
(return)252 2874 A
(EOF;)168 3168 A
4050 V
(34120)210 648 A
(return)252 1362 A
1656(w;)S
4140 V
(34121)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/hypot.c)882 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(34200)210 648 A
1026(/*)S
5040 V
(34201)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1988)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
5130 V
(34202)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
5220 V
(34203)210 648 A
1068(*)S
5310 V
(34204)210 648 A
1068(*)S
(Author:)294 1152 A
(Ceriel)252 1488 A
(J.H.)168 1782 A
(Jacobs)252 1992 A
5400 V
(34205)210 648 A
1068(*/)S
5490 V
(34206)210 648 A
5580 V
(34207)210 648 A
(#include)336 1026 A
(<math.h>)336 1404 A
5670 V
(34208)210 648 A
5760 V
(34209)210 648 A
(struct)252 1026 A
(complex)294 1320 A
1656({)S
5850 V
(34210)210 648 A
(double)252 1362 A
(r,i;)168 1656 A
5940 V
(34211)210 648 A
1026(};)S
6030 V
(34212)210 648 A
6120 V
(34213)210 648 A
(_PROTOTYPE\(double)714 1026 A
(hypot,)252 1782 A
(\(double)294 2076 A
2412(x,)S
(double)252 2538 A
2832(y)S
(\)\);)126 2916 A
6210 V
(34214)210 648 A
(_PROTOTYPE\(double)714 1026 A
(cabs,)210 1782 A
(\(struct)294 2034 A
(complex)294 2370 A
(p_compl)294 2706 A
(\)\);)126 3042 A
8418 V
EP
%%Page: 333 333
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1973(File:)S
(src/lib/other/hypot.c)897 2206 A
12 B
(333)180 4248 A
900 V
7 LST
(34215)210 648 A
990 V
(34216)210 648 A
1026(/*)S
($Header:)336 1152 A
(hypot.c,v)378 1530 A
(1.1)126 1950 A
(91/02/26)336 2118 A
(18:08:08)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
1080 V
(34217)210 648 A
1170 V
(34218)210 648 A
(double)252 1026 A
1260 V
(34219)210 648 A
(hypot\(x,)336 1026 A
1404(y\))S
1350 V
(34220)210 648 A
(double)252 1026 A
1320(x,)S
1446(y;)S
1440 V
(34221)210 648 A
1026({)S
1530 V
(34222)210 648 A
1362(/*)S
(Computes)336 1698 A
(sqrt\(x*x+y*y\),)588 2076 A
(avoiding)336 2706 A
(overflow)336 3084 A
3462(*/)S
1620 V
(34223)210 648 A
1710 V
(34224)210 648 A
1362(if)S
1488(\(x)S
1614(<)S
1698(0\))S
1824(x)S
1908(=)S
(-x;)126 1992 A
1800 V
(34225)210 648 A
1362(if)S
1488(\(y)S
1614(<)S
1698(0\))S
1824(y)S
1908(=)S
(-y;)126 1992 A
1890 V
(34226)210 648 A
1362(if)S
1488(\(x)S
1614(>)S
1698(y\))S
1824({)S
1980 V
(34227)210 648 A
(double)252 1698 A
1992(t)S
2076(=)S
2160(y;)S
2070 V
(34228)210 648 A
1698(y)S
1782(=)S
1866(x;)S
2160 V
(34229)210 648 A
1698(x)S
1782(=)S
1866(t;)S
2250 V
(34230)210 648 A
1362(})S
2340 V
(34231)210 648 A
1362(/*)S
(sqrt\(x*x+y*y\))546 1488 A
2076(=)S
(sqrt\(y*y*\(x*x/\(y*y\)+1.0\)\))1050 2160 A
3252(=)S
(y*sqrt\(x*x/\(y*y\)+1.0\))882 3336 A
4260(*/)S
2430 V
(34232)210 648 A
1362(if)S
1488(\(y)S
1614(==)S
(0.0\))168 1740 A
(return)252 1950 A
(0.0;)168 2244 A
2520 V
(34233)210 648 A
1362(x)S
1446(/=)S
1572(y;)S
2610 V
(34234)210 648 A
(return)252 1362 A
(y*sqrt\(x*x+1.0\);)672 1656 A
2700 V
(34235)210 648 A
1026(})S
2880 V
(34237)210 648 A
(double)252 1026 A
2970 V
(34238)210 648 A
(cabs\(p_compl\))546 1026 A
3060 V
(34239)210 648 A
(struct)252 1026 A
(complex)294 1320 A
(p_compl;)336 1656 A
3150 V
(34240)210 648 A
1026({)S
3240 V
(34241)210 648 A
(return)252 1362 A
(hypot\(p_compl.r,)672 1656 A
(p_compl.i\);)462 2370 A
3330 V
(34242)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/other/index.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(34300)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4140 V
(34301)210 648 A
1026(/*)S
(index)210 1152 A
1404(-)S
(find)168 1488 A
(first)210 1698 A
(occurrence)420 1950 A
2412(of)S
2538(a)S
(character)378 2622 A
3042(in)S
3168(a)S
(string)252 3252 A
3546(*/)S
4230 V
(34302)210 648 A
4320 V
(34303)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4410 V
(34304)210 648 A
4500 V
(34305)210 648 A
(char)168 1026 A
(*index\(s,)378 1236 A
(charwanted\))462 1656 A
2370(/*)S
(found)210 2496 A
(char,)210 2748 A
3000(or)S
(NULL)168 3126 A
3336(if)S
(none)168 3462 A
3672(*/)S
4590 V
(34306)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*s;)126 1530 A
4680 V
(34307)210 648 A
(char)168 1026 A
(charwanted;)462 1236 A
4770 V
(34308)210 648 A
1026({)S
4860 V
(34309)210 648 A
(return\(strchr\(s,)672 1110 A
(charwanted\)\);)546 1824 A
4950 V
(34310)210 648 A
1026(})S
8418 V
EP
%%Page: 334 334
BP
/slant 0 def
/height 0 def
630 V
12 B
(334)180 648 A
11 R
2015(File:)S
(src/lib/other/itoa.c)813 2248 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/itoa.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(34400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(34401)210 648 A
1026(/*)S
(Integer)294 1152 A
1488(to)S
(ASCII)210 1614 A
(for)126 1866 A
(signed)252 2034 A
(decimal)294 2328 A
(integers.)378 2664 A
3084(*/)S
1530 V
(34402)210 648 A
1620 V
(34403)210 648 A
(PRIVATE)294 1026 A
(int)126 1362 A
(next;)210 1530 A
1710 V
(34404)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(qbuf[8];)336 1572 A
1800 V
(34405)210 648 A
1890 V
(34406)210 648 A
(_PROTOTYPE\()462 1026 A
(char)168 1530 A
(*itoa,)252 1740 A
(\(int)168 2034 A
(n\)\);)168 2244 A
1980 V
(34407)210 648 A
2070 V
(34408)210 648 A
(char)168 1026 A
(*itoa\(n\))336 1236 A
2160 V
(34409)210 648 A
(int)126 1026 A
1194(n;)S
2250 V
(34410)210 648 A
1026({)S
2340 V
(34411)210 648 A
(register)336 1110 A
(int)126 1488 A
1656(r,)S
1782(k;)S
2430 V
(34412)210 648 A
(int)126 1110 A
(flag)168 1278 A
1488(=)S
1572(0;)S
2520 V
(34413)210 648 A
2610 V
(34414)210 648 A
(next)168 1110 A
1320(=)S
1404(0;)S
2700 V
(34415)210 648 A
1110(if)S
1236(\(n)S
1362(<)S
1446(0\))S
1572({)S
2790 V
(34416)210 648 A
(qbuf[next++])504 1362 A
1908(=)S
('-';)168 1992 A
2880 V
(34417)210 648 A
1362(n)S
1446(=)S
(-n;)126 1530 A
2970 V
(34418)210 648 A
1110(})S
3060 V
(34419)210 648 A
1110(if)S
1236(\(n)S
1362(==)S
1488(0\))S
1614({)S
3150 V
(34420)210 648 A
(qbuf[next++])504 1362 A
1908(=)S
('0';)168 1992 A
3240 V
(34421)210 648 A
1110(})S
(else)168 1194 A
1404({)S
3330 V
(34422)210 648 A
1362(k)S
1446(=)S
(10000;)252 1530 A
3420 V
(34423)210 648 A
(while)210 1362 A
1614(\(k)S
1740(>)S
1824(0\))S
1950({)S
3510 V
(34424)210 648 A
1698(r)S
1782(=)S
1866(n)S
1950(/)S
2034(k;)S
3600 V
(34425)210 648 A
1698(if)S
(\(flag)210 1824 A
2076(||)S
2202(r)S
2286(>)S
2370(0\))S
2496({)S
3690 V
(34426)210 648 A
(qbuf[next++])504 2034 A
2580(=)S
('0')126 2664 A
2832(+)S
2916(r;)S
3780 V
(34427)210 648 A
(flag)168 2034 A
2244(=)S
2328(1;)S
3870 V
(34428)210 648 A
1698(})S
3960 V
(34429)210 648 A
1698(n)S
1782(-=)S
1908(r)S
1992(*)S
2076(k;)S
4050 V
(34430)210 648 A
1698(k)S
1782(=)S
1866(k)S
1950(/)S
(10;)126 2034 A
4140 V
(34431)210 648 A
1362(})S
4230 V
(34432)210 648 A
1110(})S
4320 V
(34433)210 648 A
(qbuf[next])420 1110 A
1572(=)S
1656(0;)S
4410 V
(34434)210 648 A
(return\(qbuf\);)546 1110 A
4500 V
(34435)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/other/loadname.c)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(34500)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(34501)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5580 V
(34502)210 648 A
5670 V
(34503)210 648 A
(PUBLIC)252 1026 A
(void)168 1320 A
(_loadname\(name,)630 1530 A
(msgptr\))294 2202 A
5760 V
(34504)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
5850 V
(34505)210 648 A
(message)294 1026 A
(*msgptr;)336 1362 A
5940 V
(34506)210 648 A
1026({)S
6030 V
(34507)210 648 A
1026(/*)S
(This)168 1152 A
(function)336 1362 A
1740(is)S
(used)168 1866 A
2076(to)S
(load)168 2202 A
2412(a)S
(string)252 2496 A
(into)168 2790 A
3000(a)S
(type)168 3084 A
3294(m3)S
(message.)336 3420 A
3798(If)S
(the)126 3924 A
6120 V
(34508)210 648 A
1068(*)S
(string)252 1152 A
(fits)168 1446 A
1656(in)S
(the)126 1782 A
(message,)336 1950 A
2328(it)S
2454(is)S
(copied)252 2580 A
(there.)252 2874 A
3210(If)S
(not,)168 3336 A
3546(a)S
(pointer)294 3630 A
3966(to)S
6210 V
(34509)210 648 A
1068(*)S
1152(it)S
1278(is)S
(passed.)294 1404 A
8418 V
EP
%%Page: 335 335
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1882(File:)S
(src/lib/other/loadname.c)1078 2115 A
12 B
(335)180 4248 A
900 V
7 LST
(34510)210 648 A
1068(*/)S
990 V
(34511)210 648 A
1080 V
(34512)210 648 A
(register)336 1110 A
(size_t)252 1488 A
1782(k;)S
1170 V
(34513)210 648 A
1260 V
(34514)210 648 A
1110(k)S
1194(=)S
(strlen\(name\))504 1278 A
1824(+)S
1908(1;)S
1350 V
(34515)210 648 A
(msgptr->m3_i1)546 1110 A
1698(=)S
1782(k;)S
1440 V
(34516)210 648 A
(msgptr->m3_p1)546 1110 A
1698(=)S
(\(char)210 1782 A
2034(*\))S
(name;)210 2160 A
1530 V
(34517)210 648 A
1110(if)S
1236(\(k)S
1362(<=)S
(sizeof)252 1488 A
(msgptr->m3_ca1\))630 1782 A
(strcpy\(msgptr->m3_ca1,)924 2454 A
(name\);)252 3420 A
1620 V
(34518)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/other/lock.c)840 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(34600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2340 V
(34601)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
2430 V
(34602)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2520 V
(34603)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2610 V
(34604)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2700 V
(34605)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
2790 V
(34606)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
2880 V
(34607)210 648 A
(#if)126 1026 A
(_ANSI)210 1194 A
2970 V
(34608)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
3060 V
(34609)210 648 A
(#endif)252 1026 A
3150 V
(34610)210 648 A
3240 V
(34611)210 648 A
(typedef)294 1026 A
(enum)168 1362 A
1572({)S
3330 V
(34612)210 648 A
(False,)252 1110 A
(True)168 1404 A
3420 V
(34613)210 648 A
1026(})S
(BOOLEAN;)336 1110 A
3510 V
(34614)210 648 A
3600 V
(34615)210 648 A
(#define)294 1026 A
(LOCKDIR)294 1362 A
("/tmp/")294 1698 A
2370(/*)S
2496(or)S
(/usr/tmp/)378 2622 A
3042(as)S
(the)126 3168 A
(case)168 3336 A
(may)126 3546 A
3714(be)S
3840(*/)S
3690 V
(34616)210 648 A
(#define)294 1026 A
(MAXTRIES)336 1362 A
1740(3)S
3780 V
(34617)210 648 A
(#define)294 1026 A
(NAPTIME)294 1362 A
(\(unsigned)378 1698 A
(int\)5)210 2118 A
3870 V
(34618)210 648 A
3960 V
(34619)210 648 A
(PRIVATE)294 1026 A
(_PROTOTYPE\()462 1362 A
(char)168 1866 A
(*lockpath,)420 2076 A
(\(char)210 2538 A
(*name\)\);)336 2790 A
4050 V
(34620)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(syserr,)294 1740 A
(\(char)210 2076 A
(*errstring\)\);)546 2328 A
4140 V
(34621)210 648 A
(_PROTOTYPE\()462 1026 A
(BOOLEAN)294 1530 A
(lock,)210 1866 A
(\(char)210 2118 A
(*name\)\);)336 2370 A
4230 V
(34622)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(unlock,)294 1740 A
(\(char)210 2076 A
(*name\)\);)336 2328 A
4320 V
(34623)210 648 A
4410 V
(34624)210 648 A
(void)168 1026 A
4500 V
(34625)210 648 A
(syserr\(errstring\))714 1026 A
4590 V
(34626)210 648 A
(char)168 1026 A
(*errstring;)462 1236 A
4680 V
(34627)210 648 A
1026({)S
4770 V
(34628)210 648 A
(fprintf\(stderr,"couldn't)1008 1362 A
(%s\\n",)252 2412 A
(errstring\);)462 2706 A
4860 V
(34629)210 648 A
(exit\(1\);)336 1362 A
4950 V
(34630)210 648 A
1026(})S
5130 V
(34632)210 648 A
(BOOLEAN)294 1026 A
(lock\(name\))420 1362 A
2370(/*)S
(acquire)294 2496 A
(lock)168 2832 A
3042(*/)S
5220 V
(34633)210 648 A
(char)168 1026 A
(*name;)252 1236 A
5310 V
(34634)210 648 A
1026({)S
5400 V
(34635)210 648 A
(char)168 1110 A
(*path;)252 1320 A
5490 V
(34636)210 648 A
(int)126 1110 A
(fd,)126 1278 A
(tries;)252 1446 A
5580 V
(34637)210 648 A
5670 V
(34638)210 648 A
(path)168 1110 A
1320(=)S
(lockpath\(name\);)630 1404 A
5760 V
(34639)210 648 A
(tries)210 1110 A
1362(=)S
1446(0;)S
5850 V
(34640)210 648 A
(while)210 1110 A
(\(\(fd)168 1362 A
1572(=)S
(creat\(path,)462 1656 A
(0\)\))126 2160 A
2328(==)S
2454(-1)S
2580(&&)S
(errno)210 2706 A
2958(==)S
(EACCES\))294 3084 A
3420({)S
5940 V
(34641)210 648 A
1362(if)S
(\(++tries)336 1488 A
1866(>=)S
(MAXTRIES\))378 1992 A
(return\(False\);)588 2412 A
6030 V
(34642)210 648 A
(sleep\(NAPTIME\);)630 1362 A
6120 V
(34643)210 648 A
1110(})S
6210 V
(34644)210 648 A
1110(if)S
(\(fd)126 1236 A
1404(==)S
1530(-1)S
1656(||)S
(close\(fd\))378 1782 A
2202(==)S
(-1\))126 2328 A
(syserr\("lock"\);)630 2496 A
8418 V
EP
%%Page: 336 336
BP
/slant 0 def
/height 0 def
630 V
12 B
(336)180 648 A
11 R
2003(File:)S
(src/lib/other/lock.c)837 2236 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(34645)210 648 A
(return\(True\);)546 1110 A
990 V
(34646)210 648 A
1026(})S
1170 V
(34648)210 648 A
(void)168 1026 A
(unlock\(name\))504 1236 A
2370(/*)S
(free)168 2496 A
(lock)168 2706 A
2916(*/)S
1260 V
(34649)210 648 A
(char)168 1026 A
(*name;)252 1236 A
1350 V
(34650)210 648 A
1026({)S
1440 V
(34651)210 648 A
1110(if)S
(\(unlink\(lockpath\(name\)\))966 1236 A
2244(==)S
(-1\))126 2370 A
(syserr\("unlock"\);)714 2538 A
1530 V
(34652)210 648 A
1026(})S
1710 V
(34654)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*lockpath\(name\))630 1572 A
2370(/*)S
(generate)336 2496 A
(lock)168 2874 A
(file)168 3084 A
(path)168 3294 A
3504(*/)S
1800 V
(34655)210 648 A
(char)168 1026 A
(*name;)252 1236 A
1890 V
(34656)210 648 A
1026({)S
1980 V
(34657)210 648 A
(PRIVATE)294 1110 A
(char)168 1446 A
(path[20];)378 1656 A
2070 V
(34658)210 648 A
2160 V
(34659)210 648 A
(strcpy\(path,)504 1110 A
(LOCKDIR\);)378 1656 A
2250 V
(34660)210 648 A
(return\(strcat\(path,)798 1110 A
(name\)\);)294 1950 A
2340 V
(34661)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/other/lrand.c)882 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(34700)210 648 A
1026(/*)S
(lrand\(3\))336 1194 A
3240 V
(34701)210 648 A
1068(*)S
3330 V
(34702)210 648 A
1068(*)S
(Author:)294 1194 A
(Terrence)336 1530 A
1908(W.)S
(Holm)168 2034 A
(Nov.)168 2622 A
(1988)168 2832 A
3420 V
(34703)210 648 A
1068(*)S
3510 V
(34704)210 648 A
1068(*)S
3600 V
(34705)210 648 A
1068(*)S
1194(A)S
(prime)210 1278 A
(modulus)294 1530 A
(multiplicative)588 1866 A
(linear)252 2496 A
(congruential)504 2790 A
3690 V
(34706)210 648 A
1068(*)S
(generator)378 1194 A
(\(PMMLCG\),)378 1614 A
2034(or)S
("Lehmer)294 2160 A
(generator".)462 2496 A
3780 V
(34707)210 648 A
1068(*)S
(Implementation)588 1194 A
(directly)336 1824 A
(derived)294 2202 A
(from)168 2538 A
(the)126 2748 A
(article:)336 2916 A
3870 V
(34708)210 648 A
1068(*)S
3960 V
(34709)210 648 A
1068(*)S
1362(S.)S
1488(K.)S
(Park)168 1614 A
(and)126 1824 A
1992(K.)S
2118(W.)S
(Miller)252 2244 A
4050 V
(34710)210 648 A
1068(*)S
(Random)252 1362 A
(Number)252 1656 A
(Generators:)462 1950 A
(Good)168 2454 A
(Ones)168 2664 A
(are)126 2874 A
(Hard)168 3042 A
3252(to)S
(Find)168 3378 A
4140 V
(34711)210 648 A
1068(*)S
(CACM)168 1362 A
(vol)126 1572 A
(31,)126 1740 A
(#10.)168 1908 A
(Oct.)168 2118 A
(1988.)210 2328 A
2580(pp)S
(1192-1201.)420 2706 A
4230 V
(34712)210 648 A
1068(*)S
4320 V
(34713)210 648 A
1068(*)S
4410 V
(34714)210 648 A
1068(*)S
(Using)210 1194 A
(the)126 1446 A
(following)378 1614 A
(multiplier)420 2034 A
(and)126 2496 A
(modulus,)336 2664 A
3042(we)S
(obtain)252 3168 A
3462(a)S
4500 V
(34715)210 648 A
1068(*)S
(generator)378 1194 A
(which:)252 1614 A
4590 V
(34716)210 648 A
1068(*)S
4680 V
(34717)210 648 A
1068(*)S
1362(1\))S
(Has)126 1530 A
1698(a)S
(full)168 1782 A
(period:)294 1992 A
2328(1)S
2412(to)S
(2\30331)168 2538 A
2748(-)S
2832(2.)S
4770 V
(34718)210 648 A
1068(*)S
1362(2\))S
1530(Is)S
(testably)336 1656 A
("random")336 2034 A
(\(see)168 2412 A
(the)126 2622 A
(article\).)378 2790 A
4860 V
(34719)210 648 A
1068(*)S
1362(3\))S
(Has)126 1530 A
1698(a)S
(known)210 1782 A
(implementation)588 2034 A
2664(by)S
2790(E.)S
2916(L.)S
(Schrage.)336 3042 A
4950 V
(34720)210 648 A
1068(*/)S
5040 V
(34721)210 648 A
5130 V
(34722)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5220 V
(34723)210 648 A
5310 V
(34724)210 648 A
(_PROTOTYPE\()462 1026 A
(long)168 1530 A
(seed,)210 1740 A
(\(long)210 1992 A
(lseed\)\);)336 2244 A
5400 V
(34725)210 648 A
(_PROTOTYPE\()462 1026 A
(long)168 1530 A
(lrand,)252 1740 A
(\(void\)\);)336 2034 A
5490 V
(34726)210 648 A
5580 V
(34727)210 648 A
(#define)294 1026 A
1404(A)S
(16807L)252 1782 A
2370(/*)S
2496(A)S
("good")252 2580 A
(multiplier)420 2874 A
3462(*/)S
5670 V
(34728)210 648 A
(#define)294 1026 A
1404(M)S
(2147483647L)462 1572 A
2370(/*)S
(Modulus:)336 2496 A
(2\30331)168 2874 A
3084(-)S
3168(1)S
3462(*/)S
5760 V
(34729)210 648 A
(#define)294 1026 A
1404(Q)S
(127773L)294 1740 A
2370(/*)S
2496(M)S
2580(/)S
2664(A)S
3462(*/)S
5850 V
(34730)210 648 A
(#define)294 1026 A
1404(R)S
(2836L)210 1824 A
2370(/*)S
2496(M)S
2580(%)S
2664(A)S
3462(*/)S
5940 V
(34731)210 648 A
6030 V
(34732)210 648 A
(PRIVATE)294 1026 A
(long)168 1362 A
(_lseed)252 1572 A
1866(=)S
(1L;)126 1950 A
6120 V
(34733)210 648 A
6210 V
(34734)210 648 A
(long)168 1026 A
(seed\(lseed\))462 1236 A
8418 V
EP
%%Page: 337 337
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1984(File:)S
(src/lib/other/lrand.c)874 2217 A
12 B
(337)180 4248 A
900 V
7 LST
(34735)210 648 A
(long)168 1026 A
(lseed;)252 1236 A
990 V
(34736)210 648 A
1026({)S
1080 V
(34737)210 648 A
(long)168 1110 A
(previous_seed)546 1320 A
1908(=)S
(_lseed;)294 1992 A
1170 V
(34738)210 648 A
1260 V
(34739)210 648 A
(_lseed)252 1110 A
1404(=)S
(lseed;)252 1488 A
1350 V
(34740)210 648 A
1440 V
(34741)210 648 A
(return\(previous_seed\);)924 1110 A
1530 V
(34742)210 648 A
1026(})S
1800 V
(34745)210 648 A
(long)168 1026 A
(lrand\(\))294 1236 A
1890 V
(34746)210 648 A
1026({)S
1980 V
(34747)210 648 A
(_lseed)252 1110 A
1404(=)S
1488(A)S
1572(*)S
(\(_lseed)294 1656 A
1992(%)S
2076(Q\))S
2202(-)S
2286(R)S
2370(*)S
(\(_lseed)294 2454 A
2790(/)S
(Q\);)126 2874 A
2070 V
(34748)210 648 A
2160 V
(34749)210 648 A
1110(if)S
(\(_lseed)294 1236 A
1572(<)S
1656(0\))S
(_lseed)252 1782 A
2076(+=)S
2202(M;)S
2250 V
(34750)210 648 A
2340 V
(34751)210 648 A
(return\(_lseed\);)630 1110 A
2430 V
(34752)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/other/lsearch.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(34800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(34801)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
3330 V
(34802)210 648 A
1026(/*)S
(lsearch\(3\))420 1194 A
(and)126 1698 A
(lfind\(3\))336 1908 A
3420 V
(34803)210 648 A
1068(*)S
3510 V
(34804)210 648 A
1068(*)S
(Author:)294 1194 A
(Terrence)336 1530 A
1908(W.)S
(Holm)168 2034 A
(Sep.)168 2622 A
(1988)168 2832 A
3600 V
(34805)210 648 A
1068(*/)S
3690 V
(34806)210 648 A
3780 V
(34807)210 648 A
(#include)336 1026 A
(<stddef.h>)420 1404 A
3870 V
(34808)210 648 A
3960 V
(34809)210 648 A
(_PROTOTYPE\()462 1026 A
(char)168 1530 A
(*lsearch,)378 1740 A
(\(char)210 2160 A
(*key,)210 2412 A
(char)168 2664 A
(*base,)252 2874 A
4050 V
(34810)210 648 A
(unsigned)336 2202 A
(*count,)294 2580 A
(unsigned)336 2916 A
(width,)252 3294 A
4140 V
(34811)210 648 A
(int)126 2202 A
(\(*keycmp\)\(const)630 2370 A
(void)168 3042 A
3252(*,)S
(const)210 3378 A
(void)168 3630 A
(*\)\)\);)210 3840 A
4230 V
(34812)210 648 A
(_PROTOTYPE\()462 1026 A
(char)168 1530 A
(*lfind,)294 1740 A
(\(char)210 2076 A
(*key,)210 2328 A
(char)168 2580 A
(*base,)252 2790 A
4320 V
(34813)210 648 A
(unsigned)336 2202 A
(*count,)294 2580 A
(unsigned)336 2916 A
(width,)252 3294 A
4410 V
(34814)210 648 A
(int)126 2202 A
(\(*keycmp\)\(const)630 2370 A
(void)168 3042 A
3252(*,)S
(const)210 3378 A
(void)168 3630 A
(*\)\)\);)210 3840 A
4500 V
(34815)210 648 A
4590 V
(34816)210 648 A
(char)168 1026 A
(*lsearch\(key,)546 1236 A
(base,)210 1824 A
(count,)252 2076 A
(width,)252 2370 A
(keycmp\))294 2664 A
4680 V
(34817)210 648 A
(char)168 1026 A
(*key;)210 1236 A
4770 V
(34818)210 648 A
(char)168 1026 A
(*base;)252 1236 A
4860 V
(34819)210 648 A
(unsigned)336 1026 A
(*count;)294 1404 A
4950 V
(34820)210 648 A
(unsigned)336 1026 A
(width;)252 1404 A
5040 V
(34821)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(\(*keycmp\),)420 1698 A
(\(const)252 2160 A
(void)168 2454 A
2664(*,)S
(const)210 2790 A
(void)168 3042 A
(*\)\);)168 3252 A
5130 V
(34822)210 648 A
1026({)S
5220 V
(34823)210 648 A
(char)168 1110 A
(*entry;)294 1320 A
5310 V
(34824)210 648 A
(char)168 1110 A
(*last)210 1320 A
1572(=)S
(base)168 1656 A
1866(+)S
(*count)252 1950 A
2244(*)S
(width;)252 2328 A
5400 V
(34825)210 648 A
5490 V
(34826)210 648 A
(for)126 1110 A
(\(entry)252 1278 A
1572(=)S
(base;)210 1656 A
(entry)210 1908 A
2160(<)S
(last;)210 2244 A
(entry)210 2496 A
2748(+=)S
(width\))252 2874 A
5580 V
(34827)210 648 A
1362(if)S
(\(keycmp\(key,)504 1488 A
(entry\))252 2034 A
2328(==)S
2454(0\))S
(return\(entry\);)588 2580 A
5670 V
(34828)210 648 A
5760 V
(34829)210 648 A
(bcopy\(key,)420 1110 A
(last,)210 1572 A
(width\);)294 1824 A
5850 V
(34830)210 648 A
(*count)252 1110 A
1404(+=)S
1530(1;)S
5940 V
(34831)210 648 A
(return\(last\);)546 1110 A
6030 V
(34832)210 648 A
1026(})S
8418 V
EP
%%Page: 338 338
BP
/slant 0 def
/height 0 def
630 V
12 B
(338)180 648 A
11 R
1940(File:)S
(src/lib/other/lsearch.c)962 2173 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(34835)210 648 A
(char)168 1026 A
(*lfind\(key,)462 1236 A
(base,)210 1740 A
(count,)252 1992 A
(width,)252 2286 A
(keycmp\))294 2580 A
990 V
(34836)210 648 A
(char)168 1026 A
(*key;)210 1236 A
1080 V
(34837)210 648 A
(char)168 1026 A
(*base;)252 1236 A
1170 V
(34838)210 648 A
(unsigned)336 1026 A
(*count;)294 1404 A
1260 V
(34839)210 648 A
(unsigned)336 1026 A
(width;)252 1404 A
1350 V
(34840)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(\(*keycmp\),)420 1698 A
(\(const)252 2160 A
(void)168 2454 A
2664(*,)S
(const)210 2790 A
(void)168 3042 A
(*\)\);)168 3252 A
1440 V
(34841)210 648 A
1026({)S
1530 V
(34842)210 648 A
(char)168 1110 A
(*entry;)294 1320 A
1620 V
(34843)210 648 A
(char)168 1110 A
(*last)210 1320 A
1572(=)S
(base)168 1656 A
1866(+)S
(*count)252 1950 A
2244(*)S
(width;)252 2328 A
1710 V
(34844)210 648 A
1800 V
(34845)210 648 A
(for)126 1110 A
(\(entry)252 1278 A
1572(=)S
(base;)210 1656 A
(entry)210 1908 A
2160(<)S
(last;)210 2244 A
(entry)210 2496 A
2748(+=)S
(width\))252 2874 A
1890 V
(34846)210 648 A
1362(if)S
(\(keycmp\(key,)504 1488 A
(entry\))252 2034 A
2328(==)S
2454(0\))S
(return\(entry\);)588 2580 A
1980 V
(34847)210 648 A
2070 V
(34848)210 648 A
(return\(\(char)504 1110 A
(*\)NULL\);)336 1656 A
2160 V
(34849)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/other/memccpy.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(34900)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(34901)210 648 A
1026(/*)S
(memccpy)294 1152 A
1488(-)S
(copy)168 1572 A
(bytes)210 1782 A
2034(up)S
2160(to)S
2286(a)S
(certain)294 2370 A
(char)168 2706 A
3330 V
(34902)210 648 A
1068(*)S
3420 V
(34903)210 648 A
1068(*)S
(CHARBITS)336 1152 A
(should)252 1530 A
1824(be)S
(defined)294 1950 A
(only)168 2286 A
2496(if)S
(the)126 2622 A
(compiler)336 2790 A
(lacks)210 3168 A
("unsigned)378 3420 A
(char".)252 3840 A
3510 V
(34904)210 648 A
1068(*)S
1152(It)S
(should)252 1278 A
1572(be)S
1698(a)S
(mask,)210 1782 A
(e.g.)168 2034 A
(0377)168 2244 A
(for)126 2454 A
2622(an)S
(8-bit)210 2748 A
(machine.)336 3000 A
3600 V
(34905)210 648 A
1068(*/)S
3690 V
(34906)210 648 A
3780 V
(34907)210 648 A
(#include)336 1026 A
(<ansi.h>)336 1404 A
3870 V
(34908)210 648 A
(#include)336 1026 A
(<stddef.h>)420 1404 A
3960 V
(34909)210 648 A
4050 V
(34910)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(*memccpy,)378 1740 A
(\(void)210 2160 A
(*dst,)210 2412 A
(const)210 2664 A
(void)168 2916 A
(*src,)210 3126 A
4140 V
(34911)210 648 A
(int)126 2202 A
(ucharstop,)420 2370 A
(size_t)252 2832 A
(size\)\);)294 3126 A
4230 V
(34912)210 648 A
(#ifndef)294 1026 A
(CHARBITS)336 1362 A
4320 V
(34913)210 648 A
1026(#)S
(define)252 1362 A
(UNSCHAR\(c\))420 1698 A
(\(\(unsigned)420 2370 A
(char\)\(c\)\))378 2832 A
4410 V
(34914)210 648 A
(#else)210 1026 A
4500 V
(34915)210 648 A
1026(#)S
(define)252 1362 A
(UNSCHAR\(c\))420 1698 A
(\(\(c\)&CHARBITS\))588 2370 A
4590 V
(34916)210 648 A
(#endif)252 1026 A
4680 V
(34917)210 648 A
4770 V
(34918)210 648 A
(void)168 1026 A
(*memccpy\(dst,)546 1236 A
(src,)168 1824 A
(ucharstop,)420 2034 A
(size\))210 2496 A
4860 V
(34919)210 648 A
(void)168 1026 A
1236(*)S
(dst;)168 1320 A
4950 V
(34920)210 648 A
(_CONST)252 1026 A
(void)168 1320 A
1530(*)S
(src;)168 1614 A
5040 V
(34921)210 648 A
(int)126 1026 A
(ucharstop;)420 1194 A
5130 V
(34922)210 648 A
(_SIZET)252 1026 A
(size;)210 1320 A
5220 V
(34923)210 648 A
1026({)S
5310 V
(34924)210 648 A
(register)336 1110 A
(char)168 1488 A
(*d;)126 1698 A
5400 V
(34925)210 648 A
(register)336 1110 A
(_CONST)252 1488 A
(char)168 1782 A
(*s;)126 1992 A
5490 V
(34926)210 648 A
(register)336 1110 A
(_SIZET)252 1488 A
1782(n;)S
5580 V
(34927)210 648 A
(register)336 1110 A
(int)126 1488 A
(uc;)126 1656 A
5670 V
(34928)210 648 A
5760 V
(34929)210 648 A
1110(if)S
(\(size)210 1236 A
1488(<=)S
1614(0\))S
(return\()294 1740 A
(\(void)210 2076 A
2328(*\))S
(NULL\);)252 2454 A
5850 V
(34930)210 648 A
5940 V
(34931)210 648 A
1110(s)S
1194(=)S
(\(char)210 1278 A
1530(*\))S
(src;)168 1656 A
6030 V
(34932)210 648 A
1110(d)S
1194(=)S
(\(char)210 1278 A
1530(*\))S
(dst;)168 1656 A
6120 V
(34933)210 648 A
1110(uc)S
1236(=)S
(UNSCHAR\(ucharstop\);)798 1320 A
6210 V
(34934)210 648 A
(for)126 1110 A
1278(\(n)S
1404(=)S
(size;)210 1488 A
1740(n)S
1824(>)S
1908(0;)S
(n--\))168 2034 A
8418 V
EP
%%Page: 339 339
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1882(File:)S
(src/lib/other/memccpy.c)1078 2115 A
12 B
(339)180 4248 A
900 V
7 LST
(34935)210 648 A
1362(if)S
(\(UNSCHAR\(*d++)546 1488 A
2076(=)S
(*s++\))210 2160 A
2412(==)S
(\(char\))252 2538 A
(uc\))126 2832 A
(return\()294 3000 A
(\(void)210 3336 A
3588(*\))S
(d\);)126 3714 A
990 V
(34936)210 648 A
1080 V
(34937)210 648 A
(return\()294 1110 A
(\(void)210 1446 A
1698(*\))S
(NULL\);)252 1824 A
1170 V
(34938)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/other/mtab.c)840 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(35000)210 648 A
1026(/*)S
(This)168 1152 A
(package)294 1362 A
(consists)336 1698 A
2076(of)S
2202(4)S
(routines)336 2286 A
(for)126 2664 A
(handling)336 2832 A
(the)126 3210 A
(/etc/mtab)378 3378 A
(file.)210 3798 A
1890 V
(35001)210 648 A
1068(*)S
(The)126 1152 A
(/etc/mtab)378 1320 A
(file)168 1740 A
(contains)336 1950 A
(information)462 2328 A
(about)210 2832 A
(the)126 3084 A
(root)168 3252 A
(and)126 3462 A
(mounted)294 3630 A
(file)168 3966 A
1980 V
(35002)210 648 A
1068(*)S
(systems)294 1152 A
1488(as)S
1614(a)S
(series)252 1698 A
1992(of)S
(lines,)252 2118 A
(each)168 2412 A
(one)126 2622 A
(with)168 2790 A
(exactly)294 3000 A
(four)168 3336 A
(fields)252 3546 A
(separated)378 3840 A
2070 V
(35003)210 648 A
1068(*)S
1152(by)S
(one)126 1278 A
(space)210 1446 A
1698(as)S
(follows:)336 1824 A
2160 V
(35004)210 648 A
1068(*)S
2250 V
(35005)210 648 A
1068(*)S
(special)294 1362 A
(mounted_on)420 1698 A
(version)294 2160 A
(rw_flag)294 2496 A
2340 V
(35006)210 648 A
1068(*)S
2430 V
(35007)210 648 A
1068(*)S
(where)210 1152 A
2520 V
(35008)210 648 A
1068(*)S
(special)294 1362 A
1698(is)S
(the)126 1824 A
(name)168 1992 A
2202(of)S
(the)126 2328 A
(block)210 2496 A
(special)294 2748 A
(file)168 3084 A
2610 V
(35009)210 648 A
1068(*)S
(mounted_on)420 1362 A
1824(is)S
(the)126 1950 A
(directory)378 2118 A
2538(on)S
(which)210 2664 A
2916(it)S
3042(is)S
(mounted)294 3168 A
2700 V
(35010)210 648 A
1068(*)S
(version)294 1362 A
1698(is)S
(either)252 1824 A
2118(1)S
2202(or)S
2328(2)S
(for)126 2412 A
(MINIX)210 2580 A
2832(V1)S
(and)126 2958 A
3126(V2)S
(file)168 3252 A
(systems)294 3462 A
2790 V
(35011)210 648 A
1068(*)S
(rw_flag)294 1362 A
1698(is)S
1824(rw)S
1950(or)S
2076(ro)S
(for)126 2202 A
(read/write)420 2370 A
2832(or)S
(read)168 2958 A
(only)168 3168 A
2880 V
(35012)210 648 A
1068(*)S
2970 V
(35013)210 648 A
1068(*)S
1152(An)S
(example)294 1278 A
(/etc/mtab:)420 1614 A
3060 V
(35014)210 648 A
1068(*)S
3150 V
(35015)210 648 A
1068(*)S
(/dev/ram)336 1362 A
1740(/)S
1824(2)S
1908(rw)S
3240 V
(35016)210 648 A
1068(*)S
(/dev/hd1)336 1362 A
(/usr)168 1740 A
1950(2)S
2034(rw)S
3330 V
(35017)210 648 A
1068(*)S
(/dev/fd0)336 1362 A
(/user)210 1740 A
1992(1)S
2076(ro)S
3420 V
(35018)210 648 A
1068(*)S
3510 V
(35019)210 648 A
1068(*)S
3600 V
(35020)210 648 A
1068(*)S
(The)126 1152 A
(four)168 1320 A
(routines)336 1530 A
(for)126 1908 A
(handling)336 2076 A
(/etc/mtab)378 2454 A
(are)126 2874 A
3042(as)S
(follows.)336 3168 A
(They)168 3588 A
(use)126 3798 A
(two)126 3966 A
3690 V
(35021)210 648 A
1068(*)S
(\(hidden\))336 1152 A
(internal)336 1530 A
(buffers,)336 1908 A
(mtab_in)294 2286 A
(for)126 2622 A
(input)210 2790 A
(and)126 3042 A
(mtab_out)336 3210 A
(for)126 3588 A
(output.)294 3756 A
3780 V
(35022)210 648 A
1068(*)S
3870 V
(35023)210 648 A
1068(*)S
(load_mtab\(&prog_name\))882 1362 A
2832(-)S
(read)168 2916 A
(/etc/mtab)378 3126 A
(into)168 3546 A
(mtab_in)294 3756 A
3960 V
(35024)210 648 A
1068(*)S
(get_mtab_entry\(&s1,)798 1362 A
(&s2,)168 2202 A
(&s3,)168 2412 A
(&s4\))168 2622 A
2832(-)S
(arrays)252 2916 A
(that)168 3210 A
(are)126 3420 A
(filled)252 3588 A
3882(in)S
4050 V
(35025)210 648 A
1068(*)S
(put_mtab_entry\(&s1,)798 1362 A
(&s2,)168 2202 A
(&s3,)168 2412 A
(&s4\))168 2622 A
2832(-)S
(append)252 2916 A
3210(a)S
(line)168 3294 A
3504(to)S
(mtab_out)336 3630 A
4140 V
(35026)210 648 A
1068(*)S
(rewrite_mtab\(&prog_name\))1008 1362 A
2832(-)S
(write)210 2916 A
(mtab_out)336 3168 A
3546(to)S
(/etc/mtab)378 3672 A
4230 V
(35027)210 648 A
1068(*)S
4320 V
(35028)210 648 A
1068(*)S
1152(If)S
(load_mtab)378 1278 A
(and)126 1698 A
(rewrite_mtab)504 1866 A
(work,)210 2412 A
(they)168 2664 A
(return)252 2874 A
3168(0.)S
3336(If)S
(they)168 3462 A
(fail,)210 3672 A
(they)168 3924 A
4410 V
(35029)210 648 A
1068(*)S
(print)210 1152 A
(their)210 1404 A
(own)126 1656 A
(error)210 1824 A
(messages)336 2076 A
2454(on)S
(stderr)252 2580 A
(and)126 2874 A
(return)252 3042 A
(-1.)126 3336 A
(When)168 3546 A
(get_mtab_entry)588 3756 A
4500 V
(35030)210 648 A
1068(*)S
(runs)168 1152 A
(out)126 1362 A
1530(of)S
(entries)294 1656 A
1992(to)S
(return,)294 2118 A
2454(it)S
(sets)168 2580 A
(the)126 2790 A
(first)210 2958 A
(pointer)294 3210 A
3546(to)S
(NULL)168 3672 A
(and)126 3882 A
(returns)294 4050 A
4590 V
(35031)210 648 A
1068(*)S
1152(-1)S
(instead)294 1278 A
1614(of)S
1740(0.)S
(Also,)210 1908 A
(rewrite_mtab)504 2160 A
(returns)294 2706 A
3042(-1)S
3168(if)S
3294(it)S
(fails.)252 3420 A
4680 V
(35032)210 648 A
1068(*/)S
4770 V
(35033)210 648 A
4860 V
(35034)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4950 V
(35035)210 648 A
(#include)336 1026 A
(<minix/minlib.h>)672 1404 A
5040 V
(35036)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
5130 V
(35037)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
5220 V
(35038)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5310 V
(35039)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5400 V
(35040)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5490 V
(35041)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5580 V
(35042)210 648 A
5670 V
(35043)210 648 A
(#define)294 1026 A
(BUF_SIZE)336 1362 A
(512)126 1824 A
2454(/*)S
(size)168 2580 A
2790(of)S
(the)126 2916 A
(/etc/mtab)378 3084 A
(buffer)252 3504 A
3798(*/)S
5760 V
(35044)210 648 A
5850 V
(35045)210 648 A
(char)168 1026 A
(*etc_mtab)378 1236 A
1656(=)S
("/etc/mtab";)504 1740 A
2454(/*)S
(name)168 2580 A
2790(of)S
(the)126 2916 A
(/etc/mtab)378 3084 A
(file)168 3504 A
3714(*/)S
5940 V
(35046)210 648 A
(static)252 1026 A
(char)168 1320 A
(mtab_in[BUF_SIZE+1];)840 1530 A
2454(/*)S
(holds)210 2580 A
(/etc/mtab)378 2832 A
(when)168 3252 A
3462(it)S
3588(is)S
(read)168 3714 A
3924(in)S
4050(*/)S
6030 V
(35047)210 648 A
(static)252 1026 A
(char)168 1320 A
(mtab_out[BUF_SIZE+1];)882 1530 A
2454(/*)S
(buf)126 2580 A
2748(to)S
(build)210 2874 A
(/etc/mtab)378 3126 A
(for)126 3546 A
(output)252 3714 A
(later)210 4008 A
4260(*/)S
6120 V
(35048)210 648 A
(static)252 1026 A
(char)168 1320 A
(*iptr)210 1530 A
1782(=)S
(mtab_in;)336 1866 A
2454(/*)S
(pointer)294 2580 A
2916(to)S
(next)168 3042 A
(line)168 3252 A
3462(to)S
(feed)168 3588 A
(out.)168 3798 A
4008(*/)S
6210 V
(35049)210 648 A
(static)252 1026 A
(char)168 1320 A
(*optr)210 1530 A
1782(=)S
(mtab_out;)378 1866 A
2454(/*)S
(pointer)294 2580 A
2916(to)S
(place)210 3042 A
(where)210 3294 A
(next)168 3546 A
(line)168 3756 A
(goes)168 3966 A
4176(*/)S
8418 V
EP
%%Page: 340 340
BP
/slant 0 def
/height 0 def
630 V
12 B
(340)180 648 A
11 R
1987(File:)S
(src/lib/other/mtab.c)868 2220 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(35050)210 648 A
990 V
(35051)210 648 A
(_PROTOTYPE\(int)588 1026 A
(load_mtab,)420 1656 A
(\(char)210 2118 A
(*prog_name)420 2370 A
(\)\);)126 2832 A
1080 V
(35052)210 648 A
(_PROTOTYPE\(int)588 1026 A
(rewrite_mtab,)546 1656 A
(\(char)210 2244 A
(*prog_name)420 2496 A
(\)\);)126 2958 A
1170 V
(35053)210 648 A
(_PROTOTYPE\(int)588 1026 A
(get_mtab_entry,)630 1656 A
(\(char)210 2328 A
(*special,)378 2580 A
(char)168 3000 A
(*mounted_on,)504 3210 A
1260 V
(35054)210 648 A
(char)168 2706 A
(*version,)378 2916 A
(char)168 3336 A
(*rw_flag\)\);)462 3546 A
1350 V
(35055)210 648 A
(_PROTOTYPE\(int)588 1026 A
(put_mtab_entry,)630 1656 A
(\(char)210 2328 A
(*special,)378 2580 A
(char)168 3000 A
(*mounted_on,)504 3210 A
1440 V
(35056)210 648 A
(char)168 2706 A
(*version,)378 2916 A
(char)168 3336 A
(*rw_flag\)\);)462 3546 A
1530 V
(35057)210 648 A
(_PROTOTYPE\(void)630 1026 A
(err,)168 1698 A
(\(char)210 1908 A
(*prog_name,)462 2160 A
(char)168 2664 A
(*str)168 2874 A
(\)\);)126 3084 A
1620 V
(35058)210 648 A
1710 V
(35059)210 648 A
1800 V
(35060)210 648 A
(int)126 1026 A
(load_mtab\(prog_name\))840 1194 A
1890 V
(35061)210 648 A
(char)168 1026 A
(*prog_name;)462 1236 A
1980 V
(35062)210 648 A
1026({)S
2070 V
(35063)210 648 A
1026(/*)S
(Read)168 1152 A
1362(in)S
(/etc/mtab)378 1488 A
(and)126 1908 A
(store)210 2076 A
2328(it)S
2454(in)S
(/etc/mtab.)420 2580 A
3042(*/)S
2160 V
(35064)210 648 A
2250 V
(35065)210 648 A
(int)126 1110 A
(fd,)126 1278 A
1446(n;)S
2340 V
(35066)210 648 A
(char)168 1110 A
(*ptr;)210 1320 A
2430 V
(35067)210 648 A
2520 V
(35068)210 648 A
1110(/*)S
(Open)168 1236 A
(the)126 1446 A
(file.)210 1614 A
1866(*/)S
2610 V
(35069)210 648 A
1110(fd)S
1236(=)S
(open\(etc_mtab,)588 1320 A
(O_RDONLY\);)420 1950 A
2700 V
(35070)210 648 A
1110(if)S
(\(fd)126 1236 A
1404(<)S
1488(0\))S
1614({)S
2790 V
(35071)210 648 A
(err\(prog_name,)588 1362 A
1992(":)S
(cannot)252 2118 A
(open)168 2412 A
("\);)126 2622 A
2880 V
(35072)210 648 A
(return\(-1\);)462 1362 A
2970 V
(35073)210 648 A
1110(})S
3060 V
(35074)210 648 A
3150 V
(35075)210 648 A
1110(/*)S
(File)168 1236 A
(opened.)294 1446 A
(Read)168 1824 A
2034(it)S
(in.)126 2160 A
2328(*/)S
3240 V
(35076)210 648 A
1110(n)S
1194(=)S
(read\(fd,)336 1278 A
(mtab_in,)336 1656 A
(BUF_SIZE\);)420 2034 A
3330 V
(35077)210 648 A
1110(if)S
1236(\(n)S
1362(<=)S
1488(0\))S
1614({)S
3420 V
(35078)210 648 A
1362(/*)S
(Read)168 1488 A
(failed.)294 1698 A
2034(*/)S
3510 V
(35079)210 648 A
(err\(prog_name,)588 1362 A
1992(":)S
(cannot)252 2118 A
(read)168 2412 A
("\);)126 2622 A
3600 V
(35080)210 648 A
(return\(-1\);)462 1362 A
3690 V
(35081)210 648 A
1110(})S
3780 V
(35082)210 648 A
1110(if)S
1236(\(n)S
1362(==)S
(BUF_SIZE\))378 1488 A
1908({)S
3870 V
(35083)210 648 A
1362(/*)S
(Some)168 1488 A
(nut)126 1698 A
(has)126 1866 A
(mounted)294 2034 A
2370(50)S
(file)168 2496 A
(systems)294 2706 A
3042(or)S
(something)378 3168 A
(like)168 3588 A
(that.)210 3798 A
4050(*/)S
3960 V
(35084)210 648 A
(std_err\(prog_name\);)798 1362 A
4050 V
(35085)210 648 A
(std_err\(":)420 1362 A
(file)168 1824 A
(too)126 2034 A
(large:)252 2202 A
("\);)126 2496 A
4140 V
(35086)210 648 A
(std_err\(etc_mtab\);)756 1362 A
4230 V
(35087)210 648 A
(return\(-1\);)462 1362 A
4320 V
(35088)210 648 A
1110(})S
4410 V
(35089)210 648 A
4500 V
(35090)210 648 A
(close\(fd\);)420 1110 A
4590 V
(35091)210 648 A
4680 V
(35092)210 648 A
1110(/*)S
(Replace)294 1236 A
(all)126 1572 A
(the)126 1740 A
(whitespace)420 1908 A
2370(by)S
('\\0'.)210 2496 A
2748(*/)S
4770 V
(35093)210 648 A
(ptr)126 1110 A
1278(=)S
(mtab_in;)336 1362 A
4860 V
(35094)210 648 A
(while)210 1110 A
(\(*ptr)210 1362 A
1614(!=)S
('\\0'\))210 1740 A
1992({)S
4950 V
(35095)210 648 A
1362(if)S
(\(isspace\(*ptr\)\))630 1488 A
(*ptr)168 2160 A
2370(=)S
('\\0';)210 2454 A
5040 V
(35096)210 648 A
(ptr++;)252 1362 A
5130 V
(35097)210 648 A
1110(})S
5220 V
(35098)210 648 A
(return\(0\);)420 1110 A
5310 V
(35099)210 648 A
1026(})S
5580 V
(35102)210 648 A
(int)126 1026 A
(rewrite_mtab\(prog_name\))966 1194 A
5670 V
(35103)210 648 A
(char)168 1026 A
(*prog_name;)462 1236 A
5760 V
(35104)210 648 A
1026({)S
5850 V
(35105)210 648 A
1026(/*)S
(Write)210 1152 A
(mtab_out)336 1404 A
1782(to)S
(/etc/mtab.)420 1908 A
2370(*/)S
5940 V
(35106)210 648 A
6030 V
(35107)210 648 A
(int)126 1110 A
(fd,)126 1278 A
1446(n;)S
6120 V
(35108)210 648 A
6210 V
(35109)210 648 A
1110(/*)S
1236(Do)S
1362(a)S
(creat)210 1446 A
1698(to)S
(truncate)336 1824 A
(the)126 2202 A
(file.)210 2370 A
2622(*/)S
8418 V
EP
%%Page: 341 341
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1987(File:)S
(src/lib/other/mtab.c)868 2220 A
12 B
(341)180 4248 A
900 V
7 LST
(35110)210 648 A
1110(fd)S
1236(=)S
(creat\(etc_mtab,)630 1320 A
(0777\);)252 1992 A
990 V
(35111)210 648 A
1110(if)S
(\(fd)126 1236 A
1404(<)S
1488(0\))S
1614({)S
1080 V
(35112)210 648 A
(err\(prog_name,)588 1362 A
1992(":)S
(cannot)252 2118 A
(overwrite)378 2412 A
("\);)126 2832 A
1170 V
(35113)210 648 A
(return\(-1\);)462 1362 A
1260 V
(35114)210 648 A
1110(})S
1350 V
(35115)210 648 A
1440 V
(35116)210 648 A
1110(/*)S
(File)168 1236 A
(created.)336 1446 A
(Write)210 1866 A
(it.)126 2118 A
2286(*/)S
1530 V
(35117)210 648 A
1110(n)S
1194(=)S
(write\(fd,)378 1278 A
(mtab_out,)378 1698 A
(\(unsigned)378 2118 A
(int\)\(optr)378 2538 A
2958(-)S
(mtab_out\)\);)462 3042 A
1620 V
(35118)210 648 A
1110(if)S
1236(\(n)S
1362(<=)S
1488(0\))S
1614({)S
1710 V
(35119)210 648 A
1362(/*)S
(Write)210 1488 A
(failed.)294 1740 A
2076(*/)S
1800 V
(35120)210 648 A
(err\(prog_name,)588 1362 A
1992(")S
(could)210 2076 A
(not)126 2328 A
(write)210 2496 A
("\);)126 2748 A
1890 V
(35121)210 648 A
(return\(-1\);)462 1362 A
1980 V
(35122)210 648 A
1110(})S
2070 V
(35123)210 648 A
2160 V
(35124)210 648 A
(close\(fd\);)420 1110 A
2250 V
(35125)210 648 A
(return\(0\);)420 1110 A
2340 V
(35126)210 648 A
1026(})S
2610 V
(35129)210 648 A
(int)126 1026 A
(get_mtab_entry\(special,)966 1194 A
(mounted_on,)462 2202 A
(version,)336 2706 A
(rw_flag\))336 3084 A
2700 V
(35130)210 648 A
(char)168 1026 A
(*special;)378 1236 A
2790 V
(35131)210 648 A
(char)168 1026 A
(*mounted_on;)504 1236 A
2880 V
(35132)210 648 A
(char)168 1026 A
(*version;)378 1236 A
2970 V
(35133)210 648 A
(char)168 1026 A
(*rw_flag;)378 1236 A
3060 V
(35134)210 648 A
1026({)S
3150 V
(35135)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(next)168 1614 A
(entry)210 1824 A
(from)168 2076 A
(mtab_in.)336 2286 A
2664(*/)S
3240 V
(35136)210 648 A
3330 V
(35137)210 648 A
1110(if)S
(\(iptr)210 1236 A
1488(>=)S
(&mtab_in[BUF_SIZE]\))798 1614 A
2454({)S
3420 V
(35138)210 648 A
(special[0])420 1362 A
1824(=)S
('\\0';)210 1908 A
3510 V
(35139)210 648 A
(return\(-1\);)462 1362 A
3600 V
(35140)210 648 A
1110(})S
3690 V
(35141)210 648 A
3780 V
(35142)210 648 A
(strcpy\(special,)630 1110 A
(iptr\);)252 1782 A
3870 V
(35143)210 648 A
(while)210 1110 A
(\(isprint\(*iptr\)\))672 1362 A
(iptr++;)294 2076 A
3960 V
(35144)210 648 A
(while)210 1110 A
(\(*iptr)252 1362 A
1656(==)S
('\\0'&&)252 1782 A
(iptr)168 2076 A
2286(<)S
(&mtab_in[BUF_SIZE]\))798 2370 A
(iptr++;)294 3210 A
4050 V
(35145)210 648 A
4140 V
(35146)210 648 A
(strcpy\(mounted_on,)756 1110 A
(iptr\);)252 1908 A
4230 V
(35147)210 648 A
(while)210 1110 A
(\(isprint\(*iptr\)\))672 1362 A
(iptr++;)294 2076 A
4320 V
(35148)210 648 A
(while)210 1110 A
(\(*iptr)252 1362 A
1656(==)S
('\\0'&&)252 1782 A
(iptr)168 2076 A
2286(<)S
(&mtab_in[BUF_SIZE]\))798 2370 A
(iptr++;)294 3210 A
4410 V
(35149)210 648 A
4500 V
(35150)210 648 A
(strcpy\(version,)630 1110 A
(iptr\);)252 1782 A
4590 V
(35151)210 648 A
(while)210 1110 A
(\(isprint\(*iptr\)\))672 1362 A
(iptr++;)294 2076 A
4680 V
(35152)210 648 A
(while)210 1110 A
(\(*iptr)252 1362 A
1656(==)S
('\\0'&&)252 1782 A
(iptr)168 2076 A
2286(<)S
(&mtab_in[BUF_SIZE]\))798 2370 A
(iptr++;)294 3210 A
4770 V
(35153)210 648 A
4860 V
(35154)210 648 A
(strcpy\(rw_flag,)630 1110 A
(iptr\);)252 1782 A
4950 V
(35155)210 648 A
(while)210 1110 A
(\(isprint\(*iptr\)\))672 1362 A
(iptr++;)294 2076 A
5040 V
(35156)210 648 A
(while)210 1110 A
(\(*iptr)252 1362 A
1656(==)S
('\\0'&&)252 1782 A
(iptr)168 2076 A
2286(<)S
(&mtab_in[BUF_SIZE]\))798 2370 A
(iptr++;)294 3210 A
5130 V
(35157)210 648 A
(return\(0\);)420 1110 A
5220 V
(35158)210 648 A
1026(})S
5490 V
(35161)210 648 A
(int)126 1026 A
(put_mtab_entry\(special,)966 1194 A
(mounted_on,)462 2202 A
(version,)336 2706 A
(rw_flag\))336 3084 A
5580 V
(35162)210 648 A
(char)168 1026 A
(*special;)378 1236 A
5670 V
(35163)210 648 A
(char)168 1026 A
(*mounted_on;)504 1236 A
5760 V
(35164)210 648 A
(char)168 1026 A
(*version;)378 1236 A
5850 V
(35165)210 648 A
(char)168 1026 A
(*rw_flag;)378 1236 A
5940 V
(35166)210 648 A
1026({)S
6030 V
(35167)210 648 A
1026(/*)S
(Append)252 1152 A
1446(an)S
(entry)210 1572 A
1824(to)S
(the)126 1950 A
(mtab_out)336 2118 A
(buffer.)294 2496 A
2832(*/)S
6120 V
(35168)210 648 A
6210 V
(35169)210 648 A
(int)126 1110 A
(n1,)126 1278 A
(n2,)126 1446 A
(n3,)126 1614 A
(n4;)126 1782 A
8418 V
EP
%%Page: 342 342
BP
/slant 0 def
/height 0 def
630 V
12 B
(342)180 648 A
11 R
1987(File:)S
(src/lib/other/mtab.c)868 2220 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(35170)210 648 A
990 V
(35171)210 648 A
1110(n1)S
1236(=)S
(strlen\(special\);)672 1320 A
1080 V
(35172)210 648 A
1110(n2)S
1236(=)S
(strlen\(mounted_on\);)798 1320 A
1170 V
(35173)210 648 A
1110(n3)S
1236(=)S
(strlen\(version\);)672 1320 A
1260 V
(35174)210 648 A
1110(n4)S
1236(=)S
(strlen\(rw_flag\);)672 1320 A
1350 V
(35175)210 648 A
1440 V
(35176)210 648 A
1110(if)S
(\(optr)210 1236 A
1488(+)S
1572(n1)S
1698(+)S
1782(n2)S
1908(+)S
1992(n3)S
2118(+)S
2202(n4)S
2328(+)S
2412(5)S
2496(>=)S
(&mtab_out[BUF_SIZE]\))840 2622 A
(return\(-1\);)462 3504 A
1530 V
(35177)210 648 A
(strcpy\(optr,)504 1110 A
(special\);)378 1656 A
1620 V
(35178)210 648 A
(optr)168 1110 A
1320(+=)S
(n1;)126 1446 A
1710 V
(35179)210 648 A
(*optr++)294 1110 A
1446(=)S
1530(')S
1614(';)S
1800 V
(35180)210 648 A
1890 V
(35181)210 648 A
(strcpy\(optr,)504 1110 A
(mounted_on\);)504 1656 A
1980 V
(35182)210 648 A
(optr)168 1110 A
1320(+=)S
(n2;)126 1446 A
2070 V
(35183)210 648 A
(*optr++)294 1110 A
1446(=)S
1530(')S
1614(';)S
2160 V
(35184)210 648 A
2250 V
(35185)210 648 A
(strcpy\(optr,)504 1110 A
(version\);)378 1656 A
2340 V
(35186)210 648 A
(optr)168 1110 A
1320(+=)S
(n3;)126 1446 A
2430 V
(35187)210 648 A
(*optr++)294 1110 A
1446(=)S
1530(')S
1614(';)S
2520 V
(35188)210 648 A
2610 V
(35189)210 648 A
(strcpy\(optr,)504 1110 A
(rw_flag\);)378 1656 A
2700 V
(35190)210 648 A
(optr)168 1110 A
1320(+=)S
(n4;)126 1446 A
2790 V
(35191)210 648 A
(*optr++)294 1110 A
1446(=)S
('\\n';)210 1530 A
2880 V
(35192)210 648 A
(return\(0\);)420 1110 A
2970 V
(35193)210 648 A
1026(})S
3240 V
(35196)210 648 A
(void)168 1026 A
3330 V
(35197)210 648 A
(err\(prog_name,)588 1026 A
(str\))168 1656 A
3420 V
(35198)210 648 A
(char)168 1026 A
(*prog_name,)462 1236 A
(*str;)210 1740 A
3510 V
(35199)210 648 A
1026({)S
3600 V
(35200)210 648 A
(std_err\(prog_name\);)798 1110 A
3690 V
(35201)210 648 A
(std_err\(str\);)546 1110 A
3780 V
(35202)210 648 A
(std_err\(etc_mtab\);)756 1110 A
3870 V
(35203)210 648 A
(perror\(")336 1110 A
("\);)126 1488 A
3960 V
(35204)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/nlist.c)882 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(35300)210 648 A
1026(/*)S
5040 V
(35301)210 648 A
1068(*)S
("nlist.c",)420 1152 A
(Peter)210 1614 A
(Valkenburg,)462 1866 A
(january)294 2370 A
(1989.)210 2706 A
5130 V
(35302)210 648 A
1068(*/)S
5220 V
(35303)210 648 A
5310 V
(35304)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5400 V
(35305)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5490 V
(35306)210 648 A
(#include)336 1026 A
(<a.out.h>)378 1404 A
5580 V
(35307)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
5670 V
(35308)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
5760 V
(35309)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5850 V
(35310)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5940 V
(35311)210 648 A
6030 V
(35312)210 648 A
(#define)294 1026 A
(fail\(fp\))336 1362 A
(\(fclose\(fp\),)504 2034 A
(-1\))126 2580 A
3042(/*)S
(ret.)168 3168 A
(exp.)168 3378 A
(when)168 3588 A
(nlist)210 3798 A
(fails)210 4050 A
4302(*/)S
6120 V
(35313)210 648 A
6210 V
(35314)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(nlist,)252 1698 A
(\(char)210 1992 A
(*file,)252 2244 A
(struct)252 2538 A
(nlist)210 2832 A
(nl[]\)\);)294 3084 A
8418 V
EP
%%Page: 343 343
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2003(File:)S
(src/lib/other/nlist.c)837 2236 A
12 B
(343)180 4248 A
900 V
7 LST
(35315)210 648 A
990 V
(35316)210 648 A
1026(/*)S
1080 V
(35317)210 648 A
1068(*)S
(Nlist)210 1152 A
(fills)210 1404 A
(fields)252 1656 A
(n_sclass)336 1950 A
(and)126 2328 A
(n_value)294 2496 A
2832(of)S
(array)210 2958 A
3210(nl)S
(with)168 3336 A
(values)252 3546 A
(found)210 3840 A
4092(in)S
1170 V
(35318)210 648 A
1068(*)S
(non-stripped)504 1152 A
(executable)420 1698 A
(file.)210 2160 A
(Entries)294 2454 A
(that)168 2790 A
(are)126 3000 A
(not)126 3168 A
(found)210 3336 A
(have)168 3588 A
(their)210 3798 A
1260 V
(35319)210 648 A
1068(*)S
(n_value/n_sclass)672 1152 A
(fields)252 1866 A
(set)126 2160 A
2328(to)S
2454(0.)S
2622(Nl)S
(ends)168 2748 A
(with)168 2958 A
3168(a)S
3252(0)S
3336(or)S
(nul)126 3462 A
(string)252 3630 A
(n_name.)294 3924 A
1350 V
(35320)210 648 A
1068(*)S
(The)126 1152 A
(return)252 1320 A
(value)210 1614 A
1866(is)S
1992(-1)S
2118(on)S
(failure,)336 2244 A
(else)168 2622 A
(the)126 2832 A
(number)252 3000 A
3294(of)S
(entries)294 3420 A
(not)126 3756 A
(found.)252 3924 A
1440 V
(35321)210 648 A
1068(*/)S
1530 V
(35322)210 648 A
(int)126 1026 A
(nlist\(file,)462 1194 A
(nl\))126 1698 A
1620 V
(35323)210 648 A
(char)168 1026 A
(*file;)252 1236 A
1710 V
(35324)210 648 A
(struct)252 1026 A
(nlist)210 1320 A
(nl[];)210 1572 A
1800 V
(35325)210 648 A
1026({)S
1890 V
(35326)210 648 A
(int)126 1362 A
(nents,)252 1530 A
(nsrch,)252 1824 A
(nfound,)294 2118 A
2454(i;)S
1980 V
(35327)210 648 A
(struct)252 1362 A
(nlist)210 1656 A
(nlent;)252 1908 A
2070 V
(35328)210 648 A
(FILE)168 1362 A
(*fp;)168 1572 A
2160 V
(35329)210 648 A
(struct)252 1362 A
(exec)168 1656 A
(hd;)126 1866 A
2250 V
(35330)210 648 A
2340 V
(35331)210 648 A
1362(/*)S
(open)168 1488 A
(executable)420 1698 A
(with)168 2160 A
(namelist)336 2370 A
2748(*/)S
2430 V
(35332)210 648 A
1362(if)S
(\(\(fp)168 1488 A
1698(=)S
(fopen\(file,)462 1782 A
("r"\)\))210 2286 A
2538(==)S
(NULL\))210 2664 A
2520 V
(35333)210 648 A
(return)252 1698 A
(-1;)126 1992 A
2610 V
(35334)210 648 A
2700 V
(35335)210 648 A
1362(/*)S
(get)126 1488 A
(header)252 1656 A
(and)126 1950 A
(seek)168 2118 A
2328(to)S
(start)210 2454 A
2706(of)S
(namelist)336 2832 A
3210(*/)S
2790 V
(35336)210 648 A
1362(if)S
(\(fread\(\(char)504 1488 A
2034(*\))S
(&hd,)168 2160 A
(sizeof\(struct)546 2370 A
(exec\),)252 2958 A
3252(1,)S
(fp\))126 3378 A
3546(!=)S
3672(1)S
3756(||)S
2880 V
(35337)210 648 A
(BADMAG\(hd\))420 1530 A
1992(||)S
(fseek\(fp,)378 2118 A
(A_SYMPOS\(hd\),)546 2538 A
(SEEK_SET\))378 3126 A
3546(!=)S
3672(0\))S
2970 V
(35338)210 648 A
(return)252 1698 A
(fail\(fp\);)378 1992 A
3060 V
(35339)210 648 A
3150 V
(35340)210 648 A
1362(/*)S
(determine)378 1488 A
(number)252 1908 A
2202(of)S
(entries)294 2328 A
(searched)336 2664 A
(for)126 3042 A
3210(&)S
(reset)210 3294 A
(fields)252 3546 A
3840(*/)S
3240 V
(35341)210 648 A
(nsrch)210 1362 A
1614(=)S
1698(0;)S
3330 V
(35342)210 648 A
(while)210 1362 A
(\(nl[nsrch].n_name)714 1614 A
2370(!=)S
(NULL)168 2496 A
2706(&&)S
(*\(nl[nsrch].n_name\))798 2832 A
3672(!=)S
('\\0'\))210 3798 A
4050({)S
3420 V
(35343)210 648 A
(nl[nsrch].n_sclass)756 1698 A
2496(=)S
2580(0;)S
3510 V
(35344)210 648 A
(nl[nsrch].n_value)714 1698 A
2454(=)S
2538(0;)S
3600 V
(35345)210 648 A
(nl[nsrch].n_type)672 1698 A
2412(=)S
2496(0;)S
3042(/*)S
(for)126 3168 A
(compatability)546 3336 A
3924(*/)S
3690 V
(35346)210 648 A
(nsrch++;)336 1698 A
3780 V
(35347)210 648 A
1362(})S
3870 V
(35348)210 648 A
3960 V
(35349)210 648 A
1362(/*)S
(loop)168 1488 A
(through)294 1698 A
(namelist)336 2034 A
2412(&)S
(fill)168 2496 A
2706(in)S
(user)168 2832 A
(array)210 3042 A
3294(*/)S
4050 V
(35350)210 648 A
(nfound)252 1362 A
1656(=)S
1740(0;)S
4140 V
(35351)210 648 A
(for)126 1362 A
(\(nents)252 1530 A
1824(=)S
(\(hd.a_syms)420 1908 A
2370(&)S
(0xFFFF\))294 2454 A
2790(/)S
(sizeof\(struct)546 2874 A
(nlist\);)294 3462 A
4230 V
(35352)210 648 A
(nents)210 1572 A
1824(>)S
1908(0;)S
(nents--\))336 2034 A
2412({)S
4320 V
(35353)210 648 A
1698(if)S
(\(nsrch)252 1824 A
2118(==)S
(nfound\))294 2244 A
4410 V
(35354)210 648 A
(break;)252 2034 A
3042(/*)S
3168(no)S
(need)168 3294 A
3504(to)S
(look)168 3630 A
(further)294 3840 A
4176(*/)S
4500 V
(35355)210 648 A
1698(if)S
(\(fread\(\(char)504 1824 A
2370(*\))S
(&nlent,)294 2496 A
(sizeof\(struct)546 2832 A
(nlist\),)294 3420 A
3756(1,)S
(fp\))126 3882 A
4050(!=)S
4176(1\))S
4590 V
(35356)210 648 A
(return)252 2034 A
(fail\(fp\);)378 2328 A
4680 V
(35357)210 648 A
(for)126 1698 A
1866(\(i)S
1992(=)S
2076(0;)S
2202(i)S
2286(<)S
(nsrch;)252 2370 A
(i++\))168 2664 A
4770 V
(35358)210 648 A
2034(if)S
(\(nl[i].n_sclass)630 2160 A
2832(==)S
2958(0)S
3042(&&)S
4860 V
(35359)210 648 A
(strncmp\(nl[i].n_name,)882 2202 A
(nlent.n_name,)546 3126 A
4950 V
(35360)210 648 A
(sizeof\(nlent.n_name\)\))882 2538 A
3462(==)S
3588(0\))S
3714({)S
5040 V
(35361)210 648 A
(nl[i])210 2370 A
2622(=)S
(nlent;)252 2706 A
5130 V
(35362)210 648 A
(nfound++;)378 2370 A
5220 V
(35363)210 648 A
(break;)252 2370 A
5310 V
(35364)210 648 A
2034(})S
5400 V
(35365)210 648 A
1362(})S
5490 V
(35366)210 648 A
5580 V
(35367)210 648 A
(\(void\))252 1362 A
(fclose\(fp\);)462 1656 A
5670 V
(35368)210 648 A
5760 V
(35369)210 648 A
(return)252 1362 A
(nsrch)210 1656 A
1908(-)S
(nfound;)294 1992 A
5850 V
(35370)210 648 A
1026(})S
8418 V
EP
%%Page: 344 344
BP
/slant 0 def
/height 0 def
630 V
12 B
(344)180 648 A
11 R
1886(File:)S
(src/lib/other/peekpoke.c)1071 2119 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/peekpoke.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(35400)210 648 A
1026(/*)S
(Peek)168 1152 A
(and)126 1362 A
(poke)168 1530 A
(using)210 1740 A
(/dev/mem.)378 1992 A
1440 V
(35401)210 648 A
1068(*)S
1530 V
(35402)210 648 A
1068(*)S
(Callers)294 1152 A
(now)126 1488 A
(ought)210 1656 A
1908(to)S
(check)210 2034 A
(the)126 2286 A
(return)252 2454 A
(values.)294 2748 A
1620 V
(35403)210 648 A
1068(*)S
1710 V
(35404)210 648 A
1068(*)S
(Calling)294 1152 A
(peek\(\))252 1488 A
(requires)336 1782 A
(read)168 2160 A
(permission)420 2370 A
2832(on)S
(/dev/mem,)378 2958 A
(and)126 3378 A
(consumes)336 3546 A
1800 V
(35405)210 648 A
1068(*)S
1152(a)S
(file)168 1236 A
(descriptor.)462 1446 A
(Calling)294 1992 A
(poke\(\))252 2328 A
(requires)336 2622 A
(write)210 3000 A
(permission,)462 3252 A
(and)126 3756 A
1890 V
(35406)210 648 A
1068(*)S
(consumes)336 1152 A
(another)294 1530 A
(file)168 1866 A
(descriptor.)462 2076 A
1980 V
(35407)210 648 A
1068(*/)S
2070 V
(35408)210 648 A
2160 V
(35409)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2250 V
(35410)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
2340 V
(35411)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2430 V
(35412)210 648 A
2520 V
(35413)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(peek,)210 1698 A
(\(unsigned)378 1950 A
(segment,)336 2370 A
(unsigned)336 2748 A
(offset\)\);)378 3126 A
2610 V
(35414)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(poke,)210 1698 A
(\(unsigned)378 1950 A
(segment,)336 2370 A
(unsigned)336 2748 A
(offset,)294 3126 A
(unsigned)336 3462 A
(value\)\);)336 3840 A
2700 V
(35415)210 648 A
2790 V
(35416)210 648 A
(#define)294 1026 A
(SEGSIZE)294 1362 A
(0x10)168 1698 A
2880 V
(35417)210 648 A
2970 V
(35418)210 648 A
(int)126 1026 A
(peek\(segment,)546 1194 A
(offset\))294 1782 A
3060 V
(35419)210 648 A
(unsigned)336 1026 A
(segment;)336 1404 A
3150 V
(35420)210 648 A
(unsigned)336 1026 A
(offset;)294 1404 A
3240 V
(35421)210 648 A
1026({)S
3330 V
(35422)210 648 A
(unsigned)336 1110 A
(char)168 1488 A
(chvalue;)336 1698 A
3420 V
(35423)210 648 A
(static)252 1110 A
(int)126 1404 A
(infd)168 1572 A
1782(=)S
(-1;)126 1866 A
3510 V
(35424)210 648 A
3600 V
(35425)210 648 A
1110(if)S
(\(infd)210 1236 A
1488(<)S
1572(0\))S
(infd)168 1698 A
1908(=)S
(open\("/dev/mem",)672 1992 A
(O_RDONLY\);)420 2706 A
3690 V
(35426)210 648 A
1110(if)S
(\(infd)210 1236 A
1488(<)S
1572(0)S
1656(||)S
3780 V
(35427)210 648 A
(lseek\(infd,)462 1278 A
(\(unsigned)378 1782 A
(long\))210 2202 A
(segment)294 2454 A
2790(*)S
(SEGSIZE)294 2874 A
3210(+)S
(offset,)294 3294 A
(SEEK_SET\))378 3630 A
4050(<)S
4134(0)S
4218(||)S
3870 V
(35428)210 648 A
(read\(infd,)420 1278 A
(\(char)210 1740 A
1992(*\))S
(&chvalue,)378 2118 A
(\(unsigned\))420 2538 A
3000(1\))S
3126(!=)S
3252(1\))S
3960 V
(35429)210 648 A
(return\(-1\);)462 1362 A
4050 V
(35430)210 648 A
(return\(chvalue\);)672 1110 A
4140 V
(35431)210 648 A
1026(})S
4320 V
(35433)210 648 A
(int)126 1026 A
(poke\(segment,)546 1194 A
(offset,)294 1782 A
(value\))252 2118 A
4410 V
(35434)210 648 A
(unsigned)336 1026 A
(segment;)336 1404 A
4500 V
(35435)210 648 A
(unsigned)336 1026 A
(offset;)294 1404 A
4590 V
(35436)210 648 A
(unsigned)336 1026 A
(value;)252 1404 A
4680 V
(35437)210 648 A
1026({)S
4770 V
(35438)210 648 A
(unsigned)336 1110 A
(char)168 1488 A
(chvalue;)336 1698 A
4860 V
(35439)210 648 A
(static)252 1110 A
(int)126 1404 A
(outfd)210 1572 A
1824(=)S
(-1;)126 1908 A
4950 V
(35440)210 648 A
5040 V
(35441)210 648 A
(chvalue)294 1110 A
1446(=)S
(value;)252 1530 A
5130 V
(35442)210 648 A
1110(if)S
(\(outfd)252 1236 A
1530(<)S
1614(0\))S
(outfd)210 1740 A
1992(=)S
(open\("/dev/mem",)672 2076 A
(O_WRONLY\);)420 2790 A
5220 V
(35443)210 648 A
1110(if)S
(\(outfd)252 1236 A
1530(<)S
1614(0)S
1698(||)S
5310 V
(35444)210 648 A
(lseek\(outfd,)504 1278 A
(\(unsigned)378 1824 A
(long\))210 2244 A
(segment)294 2496 A
2832(*)S
(SEGSIZE)294 2916 A
3252(+)S
(offset,)294 3336 A
(SEEK_SET\))378 3672 A
4092(<)S
4176(0)S
4260(||)S
5400 V
(35445)210 648 A
(write\(outfd,)504 1278 A
(\(char)210 1824 A
2076(*\))S
(&chvalue,)378 2202 A
(\(unsigned\))420 2622 A
3084(1\))S
3210(!=)S
3336(1\))S
5490 V
(35446)210 648 A
(return\(-1\);)462 1362 A
5580 V
(35447)210 648 A
(return\(chvalue\);)672 1110 A
5670 V
(35448)210 648 A
1026(})S
8418 V
EP
%%Page: 345 345
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1963(File:)S
(src/lib/other/popen.c)916 2196 A
12 B
(345)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/popen.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(35500)210 648 A
1026(/*)S
1440 V
(35501)210 648 A
1068(*)S
(popen)210 1152 A
1404(-)S
(open)168 1488 A
1698(a)S
(pipe)168 1782 A
1530 V
(35502)210 648 A
1068(*/)S
1620 V
(35503)210 648 A
1026(/*)S
($Header:)336 1152 A
(popen.c,v)378 1530 A
(1.3)126 1950 A
(90/08/28)336 2118 A
(14:53:34)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
1710 V
(35504)210 648 A
1800 V
(35505)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
1890 V
(35506)210 648 A
(#include)336 1026 A
(<limits.h>)420 1698 A
1980 V
(35507)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
2070 V
(35508)210 648 A
(#include)336 1026 A
(<signal.h>)420 1698 A
2160 V
(35509)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2250 V
(35510)210 648 A
2340 V
(35511)210 648 A
(#if)126 1026 A
(defined\(__BSD4_2\))714 1362 A
2430 V
(35512)210 648 A
(union)210 1026 A
(wait)168 1278 A
1488({)S
2520 V
(35513)210 648 A
(int)126 1362 A
(w_status;)378 1698 A
2610 V
(35514)210 648 A
1026(};)S
2700 V
(35515)210 648 A
(typedef)294 1026 A
(union)210 1362 A
(wait)168 1614 A
(wait_arg;)378 1824 A
2790 V
(35516)210 648 A
(#else)210 1026 A
2880 V
(35517)210 648 A
(typedef)294 1026 A
(int)126 1362 A
(wait_arg;)378 1530 A
2970 V
(35518)210 648 A
(#endif)252 1026 A
1362(/*)S
(__BSD4_2)336 1488 A
1866(*/)S
3060 V
(35519)210 648 A
3150 V
(35520)210 648 A
(#include)336 1026 A
("../stdio/loc_incl.h")882 1698 A
3240 V
(35521)210 648 A
3330 V
(35522)210 648 A
(#ifdef)252 1026 A
(_ANSI)210 1320 A
3420 V
(35523)210 648 A
(int)126 1026 A
(_close\(int)420 1194 A
(d\);)126 1656 A
3510 V
(35524)210 648 A
(int)126 1026 A
(_dup2\(int)378 1194 A
(oldd,)210 1614 A
(int)126 1866 A
(newd\);)252 2034 A
2706(/*)S
(not)126 2832 A
(present)294 3000 A
3336(in)S
(System)252 3462 A
3756(5)S
3840(*/)S
3600 V
(35525)210 648 A
(int)126 1026 A
(_execl\(const)504 1194 A
(char)168 1740 A
(*name,)252 1950 A
(const)210 2244 A
(char)168 2496 A
(*_arg,)252 2706 A
(...)126 3000 A
3168(\);)S
3690 V
(35526)210 648 A
(pid_t)210 1026 A
(_fork\(void\);)504 1278 A
3780 V
(35527)210 648 A
(int)126 1026 A
(_pipe\(int)378 1194 A
(fildes[2]\);)462 1614 A
3870 V
(35528)210 648 A
(pid_t)210 1026 A
(_wait\(wait_arg)588 1278 A
(*status\);)378 1908 A
3960 V
(35529)210 648 A
(void)168 1026 A
(_exit\(int)378 1236 A
(status\);)336 1656 A
4050 V
(35530)210 648 A
(#endif)252 1026 A
4140 V
(35531)210 648 A
4230 V
(35532)210 648 A
(static)252 1026 A
(int)126 1320 A
(pids[OPEN_MAX];)630 1488 A
4320 V
(35533)210 648 A
4410 V
(35534)210 648 A
(FILE)168 1026 A
1236(*)S
4500 V
(35535)210 648 A
(popen\(command,)588 1026 A
(type\))210 1656 A
4590 V
(35536)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*command;)378 1530 A
4680 V
(35537)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*type;)252 1530 A
4770 V
(35538)210 648 A
1026({)S
4860 V
(35539)210 648 A
(int)126 1362 A
(piped[2];)378 1530 A
4950 V
(35540)210 648 A
(int)126 1362 A
(Xtype)210 1530 A
1782(=)S
(*type)210 1866 A
2118(==)S
('r')126 2244 A
2412(?)S
2496(0)S
2580(:)S
(*type)210 2664 A
2916(==)S
('w')126 3042 A
3210(?)S
3294(1)S
3378(:)S
3462(2;)S
5040 V
(35541)210 648 A
(int)126 1362 A
(pid;)168 1530 A
5130 V
(35542)210 648 A
5220 V
(35543)210 648 A
1362(if)S
(\(Xtype)252 1488 A
1782(==)S
1908(2)S
1992(||)S
5310 V
(35544)210 648 A
(_pipe\(piped\))504 1530 A
2076(<)S
2160(0)S
2244(||)S
5400 V
(35545)210 648 A
(\(pid)168 1530 A
1740(=)S
(_fork\(\)\))336 1824 A
2202(<)S
2286(0\))S
(return)252 2412 A
2706(0;)S
5490 V
(35546)210 648 A
5580 V
(35547)210 648 A
1362(if)S
(\(pid)168 1488 A
1698(==)S
1824(0\))S
1950({)S
5670 V
(35548)210 648 A
1698(/*)S
(child)210 1824 A
2076(*/)S
5760 V
(35549)210 648 A
(register)336 1698 A
(int)126 2076 A
(*p;)126 2244 A
5850 V
(35550)210 648 A
5940 V
(35551)210 648 A
(for)126 1698 A
1866(\(p)S
1992(=)S
(pids;)210 2076 A
2328(p)S
2412(<)S
(&pids[OPEN_MAX];)672 2496 A
(p++\))168 3210 A
3420({)S
6030 V
(35552)210 648 A
2034(if)S
(\(*p\))168 2160 A
(_close\(\(int\)\(p)588 2370 A
3000(-)S
(pids\)\);)294 3084 A
6120 V
(35553)210 648 A
1698(})S
6210 V
(35554)210 648 A
(_close\(piped[Xtype]\);)882 1698 A
8418 V
EP
%%Page: 346 346
BP
/slant 0 def
/height 0 def
630 V
12 B
(346)180 648 A
11 R
1963(File:)S
(src/lib/other/popen.c)916 2196 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(35555)210 648 A
(_dup2\(piped[!Xtype],)840 1698 A
(!Xtype\);)336 2580 A
990 V
(35556)210 648 A
(_close\(piped[!Xtype]\);)924 1698 A
1080 V
(35557)210 648 A
(_execl\("/bin/sh",)714 1698 A
("sh",)210 2454 A
("-c",)210 2706 A
(command,)336 2958 A
(\(char)210 3336 A
3588(*\))S
(0\);)126 3714 A
1170 V
(35558)210 648 A
(_exit\(127\);)462 1698 A
2370(/*)S
(like)168 2496 A
(system\(\))336 2706 A
(???)126 3084 A
3252(*/)S
1260 V
(35559)210 648 A
1362(})S
1350 V
(35560)210 648 A
1440 V
(35561)210 648 A
(pids[piped[Xtype]])756 1362 A
2160(=)S
(pid;)168 2244 A
1530 V
(35562)210 648 A
(_close\(piped[!Xtype]\);)924 1362 A
1620 V
(35563)210 648 A
(return)252 1362 A
(fdopen\(piped[Xtype],)840 1656 A
(type\);)252 2538 A
1710 V
(35564)210 648 A
1026(})S
1890 V
(35566)210 648 A
(#if)126 1026 A
(defined\(__BSD4_2\))714 1362 A
1980 V
(35567)210 648 A
(#define)294 1026 A
(ret_val)294 1362 A
(status.w_status)630 1698 A
2070 V
(35568)210 648 A
(#else)210 1026 A
2160 V
(35569)210 648 A
(#define)294 1026 A
(ret_val)294 1362 A
(status)252 1698 A
2250 V
(35570)210 648 A
(#endif)252 1026 A
2340 V
(35571)210 648 A
2430 V
(35572)210 648 A
(int)126 1026 A
2520 V
(35573)210 648 A
(pclose\(stream\))588 1026 A
2610 V
(35574)210 648 A
(FILE)168 1026 A
(*stream;)336 1236 A
2700 V
(35575)210 648 A
1026({)S
2790 V
(35576)210 648 A
(int)126 1362 A
1530(fd)S
1656(=)S
(fileno\(stream\);)630 1740 A
2880 V
(35577)210 648 A
(wait_arg)336 1362 A
(status;)294 1740 A
2970 V
(35578)210 648 A
(int)126 1362 A
(wret;)210 1530 A
3060 V
(35579)210 648 A
3150 V
(35580)210 648 A
(#ifdef)252 1026 A
(_ANSI)210 1320 A
3240 V
(35581)210 648 A
(void)168 1362 A
(\(*intsave\)\(int\))630 1572 A
2244(=)S
(signal\(SIGINT,)588 2328 A
(SIG_IGN\);)378 2958 A
3330 V
(35582)210 648 A
(void)168 1362 A
(\(*quitsave\)\(int\))672 1572 A
2286(=)S
(signal\(SIGQUIT,)630 2370 A
(SIG_IGN\);)378 3042 A
3420 V
(35583)210 648 A
(#else)210 1026 A
3510 V
(35584)210 648 A
(void)168 1362 A
(\(*intsave\)\(\))504 1572 A
2118(=)S
(signal\(SIGINT,)588 2202 A
(SIG_IGN\);)378 2832 A
3600 V
(35585)210 648 A
(void)168 1362 A
(\(*quitsave\)\(\))546 1572 A
2160(=)S
(signal\(SIGQUIT,)630 2244 A
(SIG_IGN\);)378 2916 A
3690 V
(35586)210 648 A
(#endif)252 1026 A
3780 V
(35587)210 648 A
(fclose\(stream\);)630 1362 A
3870 V
(35588)210 648 A
(while)210 1362 A
(\(\(wret)252 1614 A
1908(=)S
(_wait\(&status\)\))630 1992 A
2664(!=)S
(-1\))126 2790 A
2958({)S
3960 V
(35589)210 648 A
1698(if)S
(\(wret)210 1824 A
2076(==)S
(pids[fd]\))378 2202 A
(break;)252 2622 A
4050 V
(35590)210 648 A
1362(})S
4140 V
(35591)210 648 A
1362(if)S
(\(wret)210 1488 A
1740(==)S
(-1\))126 1866 A
(ret_val)294 2034 A
2370(=)S
(-1;)126 2454 A
4230 V
(35592)210 648 A
(signal\(SIGINT,)588 1362 A
(intsave\);)378 1992 A
4320 V
(35593)210 648 A
(signal\(SIGQUIT,)630 1362 A
(quitsave\);)420 2034 A
4410 V
(35594)210 648 A
(pids[fd])336 1362 A
1740(=)S
1824(0;)S
4500 V
(35595)210 648 A
(return)252 1362 A
(ret_val;)336 1656 A
4590 V
(35596)210 648 A
1026(})S
4770 V
(35598)210 648 A
(#if)126 1026 A
(defined\(__USG\))588 1362 A
4860 V
(35599)210 648 A
(int)126 1026 A
(_dup\(int)336 1194 A
(fildes\);)336 1572 A
4950 V
(35600)210 648 A
5040 V
(35601)210 648 A
(static)252 1026 A
(int)126 1320 A
5130 V
(35602)210 648 A
(_dup2\(oldd,)462 1026 A
(newd\))210 1530 A
5220 V
(35603)210 648 A
(int)126 1026 A
(oldd,)210 1194 A
(newd;)210 1446 A
5310 V
(35604)210 648 A
1026({)S
5400 V
(35605)210 648 A
(int)126 1362 A
1530(i)S
1614(=)S
1698(0,)S
(fd,)126 1824 A
(tmp;)168 1992 A
5490 V
(35606)210 648 A
(int)126 1362 A
(fdbuf[_NFILES];)630 1530 A
5580 V
(35607)210 648 A
5670 V
(35608)210 648 A
1362(/*)S
(ignore)252 1488 A
(the)126 1782 A
(error)210 1950 A
2202(on)S
(the)126 2328 A
(close\(\))294 2496 A
2832(*/)S
5760 V
(35609)210 648 A
(tmp)126 1362 A
1530(=)S
(errno;)252 1614 A
(\(void\))252 1908 A
(_close\(newd\);)546 2202 A
(errno)210 2790 A
3042(=)S
(tmp;)168 3126 A
5850 V
(35610)210 648 A
(while)210 1362 A
(\(\(fd)168 1614 A
1824(=)S
(_dup\(oldd\)\))462 1908 A
2412(!=)S
(newd\))210 2538 A
2790({)S
5940 V
(35611)210 648 A
1698(if)S
(\(fd)126 1824 A
1992(==)S
(-1\))126 2118 A
(break;)252 2286 A
6030 V
(35612)210 648 A
(fdbuf[i++])420 1698 A
2160(=)S
(fd;)126 2244 A
6120 V
(35613)210 648 A
1362(})S
6210 V
(35614)210 648 A
(tmp)126 1362 A
1530(=)S
(errno;)252 1614 A
8418 V
EP
%%Page: 347 347
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1963(File:)S
(src/lib/other/popen.c)916 2196 A
12 B
(347)180 4248 A
900 V
7 LST
(35615)210 648 A
(while)210 1362 A
(\(--i)168 1614 A
1824(>=)S
1950(0\))S
2076({)S
990 V
(35616)210 648 A
(_close\(fdbuf[i]\);)714 1698 A
1080 V
(35617)210 648 A
1362(})S
1170 V
(35618)210 648 A
(errno)210 1362 A
1614(=)S
(tmp;)168 1698 A
1260 V
(35619)210 648 A
(return)252 1362 A
(-\(fd)168 1656 A
1866(==)S
(-1\);)168 1992 A
1350 V
(35620)210 648 A
1026(})S
1440 V
(35621)210 648 A
(#endif)252 1026 A
1362(/*)S
(__USG)210 1488 A
1740(*/)S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/other/printk.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(35700)210 648 A
1026(/*)S
(printk\(\))336 1362 A
1740(-)S
(kernel)252 1824 A
(printf\(\))336 2118 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
2340 V
(35701)210 648 A
1068(*)S
3714(15)S
(Jan)126 3840 A
(1994)168 4008 A
2430 V
(35702)210 648 A
1068(*/)S
2520 V
(35703)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
2610 V
(35704)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1404 A
2700 V
(35705)210 648 A
(#include)336 1026 A
(<limits.h>)420 1404 A
2790 V
(35706)210 648 A
2880 V
(35707)210 648 A
(#define)294 1026 A
(isdigit\(c\))420 1362 A
(\(\(unsigned\))462 2034 A
(\(\(c\))168 2538 A
2748(-)S
('0'\))168 2832 A
3042(<)S
(\(unsigned\))420 3168 A
(10\))126 3630 A
2970 V
(35708)210 648 A
3060 V
(35709)210 648 A
(#if)126 1026 A
(!__STDC__)378 1194 A
3150 V
(35710)210 648 A
1026(/*)S
(Classic)294 1152 A
1488(C)S
(stuff,)252 1572 A
(ignore.)294 1866 A
2202(*/)S
3240 V
(35711)210 648 A
(void)168 1026 A
(putk\(\);)294 1236 A
3330 V
(35712)210 648 A
(void)168 1026 A
(printk\(fmt\))462 1236 A
(char)168 1740 A
(*fmt;)210 1950 A
3420 V
(35713)210 648 A
(#else)210 1026 A
3510 V
(35714)210 648 A
3600 V
(35715)210 648 A
1026(/*)S
(Printk\(\))336 1152 A
(uses)168 1530 A
(putk\(\))252 1740 A
2034(to)S
(print)210 2160 A
(characters.)462 2412 A
2916(*/)S
3690 V
(35716)210 648 A
(void)168 1026 A
(putk\(int)336 1236 A
(c\);)126 1614 A
3780 V
(35717)210 648 A
3870 V
(35718)210 648 A
(void)168 1026 A
(printk\(const)504 1236 A
(char)168 1782 A
(*fmt,)210 1992 A
(...\))168 2244 A
3960 V
(35719)210 648 A
(#endif)252 1026 A
4050 V
(35720)210 648 A
1026({)S
4140 V
(35721)210 648 A
(int)126 1362 A
1530(c;)S
4230 V
(35722)210 648 A
(enum)168 1362 A
1572({)S
(LEFT,)210 1656 A
(RIGHT)210 1908 A
2160(})S
(adjust;)294 2244 A
4320 V
(35723)210 648 A
(enum)168 1362 A
1572({)S
(LONG,)210 1656 A
(INT)126 1908 A
2076(})S
(intsize;)336 2160 A
4410 V
(35724)210 648 A
(int)126 1362 A
(fill;)210 1530 A
4500 V
(35725)210 648 A
(int)126 1362 A
(width,)252 1530 A
(max,)168 1824 A
(len,)168 2034 A
(base;)210 2244 A
4590 V
(35726)210 648 A
(static)252 1362 A
(char)168 1656 A
(X2C_tab[]=)420 1866 A
("0123456789ABCDEF";)798 2328 A
4680 V
(35727)210 648 A
(static)252 1362 A
(char)168 1656 A
(x2c_tab[]=)420 1866 A
("0123456789abcdef";)798 2328 A
4770 V
(35728)210 648 A
(char)168 1362 A
(*x2c;)210 1572 A
4860 V
(35729)210 648 A
(char)168 1362 A
(*p;)126 1572 A
4950 V
(35730)210 648 A
(long)168 1362 A
1572(i;)S
5040 V
(35731)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
1950(u;)S
5130 V
(35732)210 648 A
(char)168 1362 A
(temp[8)252 1572 A
1866(*)S
(sizeof\(long\))504 1950 A
2496(/)S
2580(3)S
2664(+)S
(2];)126 2748 A
5220 V
(35733)210 648 A
5310 V
(35734)210 648 A
(va_list)294 1362 A
(argp;)210 1698 A
5400 V
(35735)210 648 A
5490 V
(35736)210 648 A
(va_start\(argp,)588 1362 A
(fmt\);)210 1992 A
5580 V
(35737)210 648 A
5670 V
(35738)210 648 A
(while)210 1362 A
(\(\(c=)168 1614 A
(*fmt++\))294 1824 A
2160(!=)S
2286(0\))S
2412({)S
5760 V
(35739)210 648 A
1698(if)S
1824(\(c)S
1950(!=)S
('%'\))168 2076 A
2286({)S
5850 V
(35740)210 648 A
2034(/*)S
(Ordinary)336 2160 A
(character.)420 2538 A
3000(*/)S
5940 V
(35741)210 648 A
(putk\(c\);)336 2034 A
6030 V
(35742)210 648 A
(continue;)378 2034 A
6120 V
(35743)210 648 A
1698(})S
6210 V
(35744)210 648 A
8418 V
EP
%%Page: 348 348
BP
/slant 0 def
/height 0 def
630 V
12 B
(348)180 648 A
11 R
1966(File:)S
(src/lib/other/printk.c)910 2199 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(35745)210 648 A
1698(/*)S
(Format)252 1824 A
(specifier)378 2118 A
2538(of)S
(the)126 2664 A
(form:)210 2832 A
990 V
(35746)210 648 A
1740(*)S
(%[adjust][fill][width][.max]keys)1344 2034 A
1080 V
(35747)210 648 A
1740(*/)S
1170 V
(35748)210 648 A
1698(c=)S
(*fmt++;)294 1824 A
1260 V
(35749)210 648 A
1350 V
(35750)210 648 A
(adjust=)294 1698 A
(RIGHT;)252 2034 A
1440 V
(35751)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('-'\))168 2076 A
2286({)S
1530 V
(35752)210 648 A
(adjust=)294 2034 A
(LEFT;)210 2370 A
1620 V
(35753)210 648 A
2034(c=)S
(*fmt++;)294 2160 A
1710 V
(35754)210 648 A
1698(})S
1800 V
(35755)210 648 A
1890 V
(35756)210 648 A
(fill=)210 1698 A
1950(')S
2034(';)S
1980 V
(35757)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('0'\))168 2076 A
2286({)S
2070 V
(35758)210 648 A
(fill=)210 2034 A
('0';)168 2286 A
2160 V
(35759)210 648 A
2034(c=)S
(*fmt++;)294 2160 A
2250 V
(35760)210 648 A
1698(})S
2340 V
(35761)210 648 A
2430 V
(35762)210 648 A
(width=)252 1698 A
1992(0;)S
2520 V
(35763)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('*'\))168 2076 A
2286({)S
2610 V
(35764)210 648 A
2034(/*)S
(Width)210 2160 A
2412(is)S
(specified)378 2538 A
2958(as)S
3084(an)S
(argument,)378 3210 A
(e.g.)168 3630 A
(%*d.)168 3840 A
4050(*/)S
2700 V
(35765)210 648 A
(width=)252 2034 A
(va_arg\(argp,)504 2328 A
(int\);)210 2874 A
2790 V
(35766)210 648 A
2034(c=)S
(*fmt++;)294 2160 A
2880 V
(35767)210 648 A
1698(})S
(else)168 1782 A
2970 V
(35768)210 648 A
1698(if)S
(\(isdigit\(c\)\))504 1824 A
2370({)S
3060 V
(35769)210 648 A
2034(/*)S
2160(A)S
(number)252 2244 A
(tells)210 2538 A
(the)126 2790 A
(width,)252 2958 A
(e.g.)168 3252 A
(%10d.)210 3462 A
3714(*/)S
3150 V
(35770)210 648 A
2034(do)S
2160({)S
3240 V
(35771)210 648 A
(width=)252 2370 A
(width)210 2664 A
2916(*)S
3000(10)S
3126(+)S
3210(\(c)S
3336(-)S
('0'\);)210 3420 A
3330 V
(35772)210 648 A
2034(})S
(while)210 2118 A
(\(isdigit\(c=)462 2370 A
(*fmt++\)\);)378 2874 A
3420 V
(35773)210 648 A
1698(})S
3510 V
(35774)210 648 A
3600 V
(35775)210 648 A
(max=)168 1698 A
(INT_MAX;)336 1908 A
3690 V
(35776)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('.'\))168 2076 A
2286({)S
3780 V
(35777)210 648 A
2034(/*)S
(Max)126 2160 A
(field)210 2328 A
(length)252 2580 A
(coming)252 2874 A
(up.)126 3168 A
3336(*/)S
3870 V
(35778)210 648 A
2034(if)S
(\(\(c=)168 2160 A
(*fmt++\))294 2370 A
2706(==)S
('*'\))168 2832 A
3042({)S
3960 V
(35779)210 648 A
(max=)168 2370 A
(va_arg\(argp,)504 2580 A
(int\);)210 3126 A
4050 V
(35780)210 648 A
2370(c=)S
(*fmt++;)294 2496 A
4140 V
(35781)210 648 A
2034(})S
(else)168 2118 A
4230 V
(35782)210 648 A
2034(if)S
(\(isdigit\(c\)\))504 2160 A
2706({)S
4320 V
(35783)210 648 A
(max=)168 2370 A
2580(0;)S
4410 V
(35784)210 648 A
2370(do)S
2496({)S
4500 V
(35785)210 648 A
(max=)168 2706 A
(max)126 2916 A
3084(*)S
3168(10)S
3294(+)S
3378(\(c)S
3504(-)S
('0'\);)210 3588 A
4590 V
(35786)210 648 A
2370(})S
(while)210 2454 A
(\(isdigit\(c=)462 2706 A
(*fmt++\)\);)378 3210 A
4680 V
(35787)210 648 A
2034(})S
4770 V
(35788)210 648 A
1698(})S
4860 V
(35789)210 648 A
4950 V
(35790)210 648 A
1698(/*)S
(Set)126 1824 A
1992(a)S
(few)126 2076 A
(flags)210 2244 A
2496(to)S
(the)126 2622 A
(default.)336 2790 A
3168(*/)S
5040 V
(35791)210 648 A
(x2c=)168 1698 A
(x2c_tab;)336 1908 A
5130 V
(35792)210 648 A
1698(i=)S
1824(0;)S
5220 V
(35793)210 648 A
(base=)210 1698 A
(10;)126 1950 A
5310 V
(35794)210 648 A
(intsize=)336 1698 A
(INT;)168 2076 A
5400 V
(35795)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('l')126 2076 A
2244(||)S
2370(c)S
2454(==)S
('L'\))168 2580 A
2790({)S
5490 V
(35796)210 648 A
2034(/*)S
("Long")252 2160 A
(key,)168 2454 A
(e.g.)168 2664 A
(%ld.)168 2874 A
3084(*/)S
5580 V
(35797)210 648 A
(intsize=)336 2034 A
(LONG;)210 2412 A
5670 V
(35798)210 648 A
2034(c=)S
(*fmt++;)294 2160 A
5760 V
(35799)210 648 A
1698(})S
5850 V
(35800)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
2076(0\))S
(break;)252 2202 A
5940 V
(35801)210 648 A
6030 V
(35802)210 648 A
(switch)252 1698 A
(\(c\))126 1992 A
2160({)S
6120 V
(35803)210 648 A
2034(/*)S
(Decimal.)336 2160 A
(Note)168 2580 A
(that)168 2790 A
3000(%D)S
3126(is)S
(treated)294 3252 A
3588(as)S
(%ld.)168 3714 A
3924(*/)S
6210 V
(35804)210 648 A
(case)168 1698 A
('D':)168 1908 A
8418 V
EP
%%Page: 349 349
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1966(File:)S
(src/lib/other/printk.c)910 2199 A
12 B
(349)180 4248 A
900 V
7 LST
(35805)210 648 A
(intsize=)336 2034 A
(LONG;)210 2412 A
990 V
(35806)210 648 A
(case)168 1698 A
('d':)168 1908 A
1080 V
(35807)210 648 A
2034(i=)S
(intsize)294 2160 A
2496(==)S
(LONG)168 2622 A
2832(?)S
(va_arg\(argp,)504 2916 A
(long\))210 3462 A
1170 V
(35808)210 648 A
3042(:)S
(va_arg\(argp,)504 3126 A
(int\);)210 3672 A
1260 V
(35809)210 648 A
2034(u=)S
2160(i)S
2244(<)S
2328(0)S
2412(?)S
2496(-i)S
2622(:)S
2706(i;)S
1350 V
(35810)210 648 A
(goto)168 2034 A
(int2ascii;)420 2244 A
1440 V
(35811)210 648 A
1530 V
(35812)210 648 A
2034(/*)S
(Octal.)252 2160 A
2454(*/)S
1620 V
(35813)210 648 A
(case)168 1698 A
('O':)168 1908 A
1710 V
(35814)210 648 A
(intsize=)336 2034 A
(LONG;)210 2412 A
1800 V
(35815)210 648 A
(case)168 1698 A
('o':)168 1908 A
1890 V
(35816)210 648 A
(base=)210 2034 A
(010;)168 2286 A
1980 V
(35817)210 648 A
(goto)168 2034 A
(getint;)294 2244 A
2070 V
(35818)210 648 A
2160 V
(35819)210 648 A
2034(/*)S
(Hexadecimal.)504 2160 A
2748(%X)S
(prints)252 2874 A
(upper)210 3168 A
(case)168 3420 A
(A-F,)168 3630 A
(not)126 3840 A
(%lx.)168 4008 A
4218(*/)S
2250 V
(35820)210 648 A
(case)168 1698 A
('X':)168 1908 A
2340 V
(35821)210 648 A
(x2c=)168 2034 A
(X2C_tab;)336 2244 A
2430 V
(35822)210 648 A
(case)168 1698 A
('x':)168 1908 A
2520 V
(35823)210 648 A
(base=)210 2034 A
(0x10;)210 2286 A
2610 V
(35824)210 648 A
(goto)168 2034 A
(getint;)294 2244 A
2700 V
(35825)210 648 A
2790 V
(35826)210 648 A
2034(/*)S
(Unsigned)336 2160 A
(decimal.)336 2538 A
2916(*/)S
2880 V
(35827)210 648 A
(case)168 1698 A
('U':)168 1908 A
2970 V
(35828)210 648 A
(intsize=)336 2034 A
(LONG;)210 2412 A
3060 V
(35829)210 648 A
(case)168 1698 A
('u':)168 1908 A
3150 V
(35830)210 648 A
(getint:)294 1698 A
3240 V
(35831)210 648 A
2034(u=)S
(intsize)294 2160 A
2496(==)S
(LONG)168 2622 A
2832(?)S
(va_arg\(argp,)504 2916 A
(unsigned)336 3462 A
(long\))210 3840 A
3330 V
(35832)210 648 A
3042(:)S
(va_arg\(argp,)504 3126 A
(unsigned)336 3672 A
(int\);)210 4050 A
3420 V
(35833)210 648 A
(int2ascii:)420 1698 A
3510 V
(35834)210 648 A
2034(p=)S
(temp)168 2160 A
2370(+)S
(sizeof\(temp\)-1;)630 2454 A
3600 V
(35835)210 648 A
(*p=)126 2034 A
2202(0;)S
3690 V
(35836)210 648 A
2034(do)S
2160({)S
3780 V
(35837)210 648 A
(*--p=)210 2370 A
(x2c[u)210 2622 A
2874(%)S
(base];)252 2958 A
3870 V
(35838)210 648 A
2034(})S
(while)210 2118 A
(\(\(u)126 2370 A
2538(/=)S
(base\))210 2664 A
2916(>)S
(0\);)126 3000 A
3960 V
(35839)210 648 A
(goto)168 2034 A
(string_length;)588 2244 A
4050 V
(35840)210 648 A
4140 V
(35841)210 648 A
2034(/*)S
2160(A)S
(character.)420 2244 A
2706(*/)S
4230 V
(35842)210 648 A
(case)168 1698 A
('c':)168 1908 A
4320 V
(35843)210 648 A
2034(p=)S
(temp;)210 2160 A
4410 V
(35844)210 648 A
(*p=)126 2034 A
(va_arg\(argp,)504 2202 A
(int\);)210 2748 A
4500 V
(35845)210 648 A
(len=)168 2034 A
2244(1;)S
4590 V
(35846)210 648 A
(goto)168 2034 A
(string_print;)546 2244 A
4680 V
(35847)210 648 A
4770 V
(35848)210 648 A
2034(/*)S
(Simply)252 2160 A
2454(a)S
(percent.)336 2538 A
2916(*/)S
4860 V
(35849)210 648 A
(case)168 1698 A
('%':)168 1908 A
4950 V
(35850)210 648 A
2034(p=)S
(temp;)210 2160 A
5040 V
(35851)210 648 A
(*p=)126 2034 A
('%';)168 2202 A
5130 V
(35852)210 648 A
(len=)168 2034 A
2244(1;)S
5220 V
(35853)210 648 A
(goto)168 2034 A
(string_print;)546 2244 A
5310 V
(35854)210 648 A
5400 V
(35855)210 648 A
2034(/*)S
2160(A)S
(string.)294 2244 A
(The)126 2622 A
(other)210 2790 A
(cases)210 3042 A
(will)168 3294 A
(join)168 3504 A
3714(in)S
(here.)210 3840 A
4092(*/)S
5490 V
(35856)210 648 A
(case)168 1698 A
('s':)168 1908 A
5580 V
(35857)210 648 A
2034(p=)S
(va_arg\(argp,)504 2160 A
(char)168 2706 A
(*\);)126 2916 A
5670 V
(35858)210 648 A
5760 V
(35859)210 648 A
(string_length:)588 1698 A
5850 V
(35860)210 648 A
(for)126 2034 A
(\(len=)210 2202 A
2454(0;)S
(p[len])252 2580 A
2874(!=)S
3000(0)S
3084(&&)S
(len)126 3210 A
3378(<)S
(max;)168 3462 A
(len++\))252 3672 A
3966({})S
5940 V
(35861)210 648 A
6030 V
(35862)210 648 A
(string_print:)546 1698 A
6120 V
(35863)210 648 A
(width)210 2034 A
2286(-=)S
(len;)168 2412 A
6210 V
(35864)210 648 A
2034(if)S
2160(\(i)S
2286(<)S
2370(0\))S
(width--;)336 2496 A
8418 V
EP
%%Page: 350 350
BP
/slant 0 def
/height 0 def
630 V
12 B
(350)180 648 A
11 R
1966(File:)S
(src/lib/other/printk.c)910 2199 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(35865)210 648 A
2034(if)S
(\(fill)210 2160 A
2412(==)S
('0')126 2538 A
2706(&&)S
2832(i)S
2916(<)S
3000(0\))S
(putk\('-'\);)420 3126 A
990 V
(35866)210 648 A
2034(if)S
(\(adjust)294 2160 A
2496(==)S
(RIGHT\))252 2622 A
2916({)S
1080 V
(35867)210 648 A
(while)210 2370 A
(\(width)252 2622 A
2916(>)S
3000(0\))S
3126({)S
(putk\(fill\);)462 3210 A
(width--;)336 3714 A
4092(})S
1170 V
(35868)210 648 A
2034(})S
1260 V
(35869)210 648 A
2034(if)S
(\(fill)210 2160 A
2412(==)S
2538(')S
2622(')S
2706(&&)S
2832(i)S
2916(<)S
3000(0\))S
(putk\('-'\);)420 3126 A
1350 V
(35870)210 648 A
(while)210 2034 A
(\(len)168 2286 A
2496(>)S
2580(0\))S
2706({)S
(putk\(\(unsigned)588 2790 A
(char\))210 3420 A
(*p++\);)252 3672 A
(len--;)252 3966 A
4260(})S
1440 V
(35871)210 648 A
(while)210 2034 A
(\(width)252 2286 A
2580(>)S
2664(0\))S
2790({)S
(putk\(fill\);)462 2874 A
(width--;)336 3378 A
3756(})S
1530 V
(35872)210 648 A
(break;)252 2034 A
1620 V
(35873)210 648 A
1710 V
(35874)210 648 A
2034(/*)S
(Unrecognized)504 2160 A
(format)252 2706 A
(key,)168 3000 A
(echo)168 3210 A
3420(it)S
(back.)210 3546 A
3798(*/)S
1800 V
(35875)210 648 A
(default:)336 1698 A
1890 V
(35876)210 648 A
(putk\('%'\);)420 2034 A
1980 V
(35877)210 648 A
(putk\(c\);)336 2034 A
2070 V
(35878)210 648 A
1698(})S
2160 V
(35879)210 648 A
1362(})S
2250 V
(35880)210 648 A
2340 V
(35881)210 648 A
1362(/*)S
(Mark)168 1488 A
(the)126 1698 A
(end)126 1866 A
(with)168 2034 A
2244(a)S
(null)168 2328 A
(\(should)294 2538 A
2874(be)S
(something)378 3000 A
(else,)210 3420 A
(like)168 3672 A
(-1\).)168 3882 A
4092(*/)S
2430 V
(35882)210 648 A
(putk\(0\);)336 1362 A
2520 V
(35883)210 648 A
(va_end\(argp\);)546 1362 A
2610 V
(35884)210 648 A
1026(})S
2790 V
(35886)210 648 A
1026(/*)S
2880 V
(35887)210 648 A
1068(*)S
($PchHeader:)462 1152 A
(/mount/hd2/minix/lib/minix/other/RCS/printk.c,v)1974 1656 A
(1.2)126 3672 A
(1994/09/07)420 3840 A
(18:45:05)336 4302 A
(philip)252 4680 A
(Exp)126 4974 A
5142($)S
2970 V
(35888)210 648 A
1068(*/)S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/other/putenv.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(35900)210 648 A
1026(/*)S
3690 V
(35901)210 648 A
1068(*)S
(\(c\))126 1152 A
(copyright)378 1320 A
(1989)168 1740 A
1950(by)S
(the)126 2076 A
(Vrije)210 2244 A
(Universiteit,)546 2496 A
(Amsterdam,)420 3084 A
(The)126 3546 A
(Netherlands.)504 3714 A
3780 V
(35902)210 648 A
1068(*)S
(See)126 1152 A
(the)126 1320 A
(copyright)378 1488 A
(notice)252 1908 A
2202(in)S
(the)126 2328 A
(ACK)126 2496 A
(home)168 2664 A
(directory,)420 2874 A
3336(in)S
(the)126 3462 A
(file)168 3630 A
("Copyright".)504 3840 A
3870 V
(35903)210 648 A
1068(*/)S
3960 V
(35904)210 648 A
1026(/*)S
($Header:)336 1152 A
(putenv.c,v)420 1530 A
(1.3)126 1992 A
(90/05/14)336 2160 A
(12:30:18)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
4050 V
(35905)210 648 A
4140 V
(35906)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4230 V
(35907)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
4320 V
(35908)210 648 A
4410 V
(35909)210 648 A
(#define)294 1026 A
(ENTRY_INC)378 1362 A
2034(10)S
4500 V
(35910)210 648 A
(#define)294 1026 A
(rounded\(x\))420 1362 A
(\(\(\(x)168 2034 A
2244(/)S
(ENTRY_INC\))420 2328 A
2790(+)S
2874(1\))S
3000(*)S
(ENTRY_INC\))420 3084 A
4590 V
(35911)210 648 A
4680 V
(35912)210 648 A
(extern)252 1026 A
(_CONST)252 1320 A
(char)168 1614 A
(**environ;)420 1824 A
4770 V
(35913)210 648 A
4860 V
(35914)210 648 A
(int)126 1026 A
4950 V
(35915)210 648 A
(putenv\(name\))504 1026 A
5040 V
(35916)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
5130 V
(35917)210 648 A
1026({)S
5220 V
(35918)210 648 A
(register)336 1362 A
(_CONST)252 1740 A
(char)168 2034 A
(**v)126 2244 A
2412(=)S
(environ;)336 2496 A
5310 V
(35919)210 648 A
(register)336 1362 A
(char)168 1740 A
(*r;)126 1950 A
5400 V
(35920)210 648 A
(static)252 1362 A
(int)126 1656 A
(size)168 1824 A
2034(=)S
2118(0;)S
5490 V
(35921)210 648 A
1362(/*)S
(When)168 1488 A
(size)168 1698 A
1908(!=)S
2034(0,)S
2160(it)S
(contains)336 2286 A
(the)126 2664 A
(number)252 2832 A
3126(of)S
(entries)294 3252 A
3588(in)S
(the)126 3714 A
5580 V
(35922)210 648 A
1404(*)S
(table)210 1488 A
(\(including)420 1740 A
(the)126 2202 A
(final)210 2370 A
(NULL)168 2622 A
(pointer\).)378 2832 A
(This)168 3252 A
(means)210 3462 A
(that)168 3714 A
(the)126 3924 A
5670 V
(35923)210 648 A
1404(*)S
(last)168 1488 A
(non-null)336 1698 A
(entry)210 2076 A
2370(is)S
(environ[size)504 2496 A
3042(-)S
(2].)126 3126 A
5760 V
(35924)210 648 A
1404(*/)S
5850 V
(35925)210 648 A
5940 V
(35926)210 648 A
1362(if)S
(\(!name\))294 1488 A
(return)252 1824 A
2118(0;)S
6030 V
(35927)210 648 A
1362(if)S
(\(environ)336 1488 A
1866(==)S
(NULL\))210 1992 A
(return)252 2244 A
2538(1;)S
6120 V
(35928)210 648 A
1362(if)S
1488(\(r)S
1614(=)S
(strchr\(name,)504 1698 A
('='\)\))210 2244 A
2496({)S
6210 V
(35929)210 648 A
(register)336 1698 A
(_CONST)252 2076 A
(char)168 2370 A
(*p,)126 2580 A
(*q;)126 2748 A
8418 V
EP
%%Page: 351 351
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1948(File:)S
(src/lib/other/putenv.c)947 2181 A
12 B
(351)180 4248 A
900 V
7 LST
(35930)210 648 A
990 V
(35931)210 648 A
1698(*r)S
1824(=)S
('\\0';)210 1908 A
1080 V
(35932)210 648 A
1170 V
(35933)210 648 A
1698(if)S
1824(\(v)S
1950(!=)S
(NULL\))210 2076 A
2328({)S
1260 V
(35934)210 648 A
(while)210 2034 A
(\(\(p)126 2286 A
2454(=)S
(*v\))126 2538 A
2706(!=)S
(NULL\))210 2832 A
3084({)S
1350 V
(35935)210 648 A
2370(q)S
2454(=)S
(name;)210 2538 A
1440 V
(35936)210 648 A
(while)210 2370 A
(\(*q)126 2622 A
2790(&&)S
(\(*q++)210 2916 A
3168(==)S
(*p++\)\))252 3294 A
1530 V
(35937)210 648 A
2706(/*)S
(EMPTY)210 2832 A
3084(*/)S
3210(;)S
1620 V
(35938)210 648 A
2370(if)S
(\(*q)126 2496 A
2664(||)S
(\(*p)126 2790 A
2958(!=)S
('='\)\))210 3084 A
3336({)S
1710 V
(35939)210 648 A
(v++;)168 2706 A
1800 V
(35940)210 648 A
2370(})S
(else)168 2454 A
2664({)S
1890 V
(35941)210 648 A
2706(/*)S
(The)126 2832 A
(name)168 3000 A
(was)126 3210 A
(already)294 3378 A
3714(in)S
(the)126 3840 A
1980 V
(35942)210 648 A
2748(*)S
(environment.)504 2832 A
2070 V
(35943)210 648 A
2748(*/)S
2160 V
(35944)210 648 A
2706(*r)S
2832(=)S
('=';)168 2916 A
2250 V
(35945)210 648 A
2706(*v)S
2832(=)S
(name;)210 2916 A
2340 V
(35946)210 648 A
(return)252 2706 A
3000(0;)S
2430 V
(35947)210 648 A
2370(})S
2520 V
(35948)210 648 A
2034(})S
2610 V
(35949)210 648 A
1698(})S
2700 V
(35950)210 648 A
1698(*r)S
1824(=)S
('=';)168 1908 A
2790 V
(35951)210 648 A
1698(v)S
1782(=)S
(environ;)336 1866 A
2880 V
(35952)210 648 A
1362(})S
2970 V
(35953)210 648 A
3060 V
(35954)210 648 A
1362(if)S
(\(!size\))294 1488 A
1824({)S
3150 V
(35955)210 648 A
(register)336 1698 A
(_CONST)252 2076 A
(char)168 2370 A
(**p;)168 2580 A
3240 V
(35956)210 648 A
(register)336 1698 A
(int)126 2076 A
2244(i)S
2328(=)S
2412(0;)S
3330 V
(35957)210 648 A
3420 V
(35958)210 648 A
1698(if)S
(\(v\))126 1824 A
3510 V
(35959)210 648 A
2034(do)S
2160({)S
3600 V
(35960)210 648 A
(i++;)168 2370 A
3690 V
(35961)210 648 A
2034(})S
(while)210 2118 A
(\(*v++\);)294 2370 A
3780 V
(35962)210 648 A
1698(if)S
(\(!\(v)168 1824 A
2034(=)S
(malloc\(rounded\(i\))714 2118 A
2874(*)S
(sizeof\(char)462 2958 A
(**\)\)\)\))252 3462 A
3870 V
(35963)210 648 A
(return)252 2034 A
2328(1;)S
3960 V
(35964)210 648 A
(size)168 1698 A
1908(=)S
1992(i;)S
4050 V
(35965)210 648 A
1698(p)S
1782(=)S
(environ;)336 1866 A
4140 V
(35966)210 648 A
(environ)294 1698 A
2034(=)S
2118(v;)S
4230 V
(35967)210 648 A
(while)210 1698 A
(\(*v++)210 1950 A
2202(=)S
(*p++\);)252 2286 A
3042(/*)S
(copy)168 3168 A
(the)126 3378 A
(environment)462 3546 A
4050(*/)S
4320 V
(35968)210 648 A
1698(v)S
1782(=)S
(environ;)336 1866 A
4410 V
(35969)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(!\(size)294 1782 A
2118(%)S
(ENTRY_INC\)\))462 2202 A
2706({)S
4500 V
(35970)210 648 A
1698(if)S
(\(!\(v)168 1824 A
2034(=)S
(realloc\(environ,)672 2118 A
(rounded\(size\))546 2832 A
3420(*)S
(sizeof\(char)462 3504 A
(**\)\)\)\))252 4008 A
4590 V
(35971)210 648 A
(return)252 2034 A
2328(1;)S
4680 V
(35972)210 648 A
(environ)294 1698 A
2034(=)S
2118(v;)S
4770 V
(35973)210 648 A
1362(})S
4860 V
(35974)210 648 A
(v[size)252 1362 A
1656(-)S
1740(1])S
1866(=)S
(name;)210 1950 A
4950 V
(35975)210 648 A
(v[size])294 1362 A
1698(=)S
(NULL;)210 1782 A
5040 V
(35976)210 648 A
(size++;)294 1362 A
5130 V
(35977)210 648 A
(return)252 1362 A
1656(0;)S
5220 V
(35978)210 648 A
1026(})S
8418 V
EP
%%Page: 352 352
BP
/slant 0 def
/height 0 def
630 V
12 B
(352)180 648 A
11 R
1988(File:)S
(src/lib/other/putw.c)867 2221 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/putw.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(36000)210 648 A
1026(/*)S
1440 V
(36001)210 648 A
1068(*)S
(putw)168 1152 A
1362(-)S
(write)210 1446 A
1698(an)S
(word)168 1824 A
2034(on)S
2160(a)S
(stream)252 2244 A
1530 V
(36002)210 648 A
1068(*/)S
1620 V
(36003)210 648 A
1026(/*)S
($Header:)336 1152 A
(putw.c,v)336 1530 A
(1.1)126 1908 A
(89/12/18)336 2076 A
(14:40:15)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
1710 V
(36004)210 648 A
1800 V
(36005)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(36006)210 648 A
1980 V
(36007)210 648 A
(_PROTOTYPE\(int)588 1026 A
(putw,)210 1656 A
(\(int)168 1908 A
2118(w,)S
(FILE)168 2244 A
(*stream)294 2454 A
(\)\);)126 2790 A
2070 V
(36008)210 648 A
2160 V
(36009)210 648 A
(int)126 1026 A
2250 V
(36010)210 648 A
(putw\(w,)294 1026 A
(stream\))294 1362 A
2340 V
(36011)210 648 A
(int)126 1026 A
1194(w;)S
2430 V
(36012)210 648 A
(register)336 1026 A
(FILE)168 1404 A
(*stream;)336 1614 A
2520 V
(36013)210 648 A
1026({)S
2610 V
(36014)210 648 A
(register)336 1362 A
(int)126 1740 A
(cnt)126 1908 A
2076(=)S
(sizeof\(int\);)504 2160 A
2700 V
(36015)210 648 A
(register)336 1362 A
(char)168 1740 A
1950(*p)S
2076(=)S
(\(char)210 2160 A
2412(*\))S
(&w;)126 2538 A
2790 V
(36016)210 648 A
2880 V
(36017)210 648 A
(while)210 1362 A
(\(cnt--\))294 1614 A
1950({)S
2970 V
(36018)210 648 A
(putc\(*p++,)420 1698 A
(stream\);)336 2160 A
3060 V
(36019)210 648 A
1362(})S
3150 V
(36020)210 648 A
1362(if)S
(\(ferror\(stream\)\))672 1488 A
(return)252 2202 A
(EOF;)168 2496 A
3240 V
(36021)210 648 A
(return)252 1362 A
1656(w;)S
3330 V
(36022)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/other/regexp.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(36100)210 648 A
1026(/*)S
(regcomp)294 1152 A
(and)126 1488 A
(regexec)294 1656 A
1992(--)S
(regsub)252 2118 A
(and)126 2412 A
(regerror)336 2580 A
(are)126 2958 A
(elsewhere)378 3126 A
4140 V
(36101)210 648 A
1068(*)S
4230 V
(36102)210 648 A
1068(*)S
(Copyright)378 1362 A
(\(c\))126 1782 A
(1986)168 1950 A
2160(by)S
(University)420 2286 A
2748(of)S
(Toronto.)336 2874 A
4320 V
(36103)210 648 A
1068(*)S
(Written)294 1362 A
1698(by)S
(Henry)210 1824 A
(Spencer.)336 2076 A
(Not)126 2496 A
(derived)294 2664 A
(from)168 3000 A
(licensed)336 3210 A
(software.)378 3588 A
4410 V
(36104)210 648 A
1068(*)S
4500 V
(36105)210 648 A
1068(*)S
(Permission)420 1362 A
1824(is)S
(granted)294 1950 A
2286(to)S
(anyone)252 2412 A
2706(to)S
(use)126 2832 A
(this)168 3000 A
(software)336 3210 A
(for)126 3588 A
(any)126 3756 A
4590 V
(36106)210 648 A
1068(*)S
(purpose)294 1362 A
1698(on)S
(any)126 1824 A
(computer)336 1992 A
(system,)294 2370 A
(and)126 2706 A
2874(to)S
(redistribute)504 3000 A
3546(it)S
(freely,)294 3672 A
4680 V
(36107)210 648 A
1068(*)S
(subject)294 1362 A
1698(to)S
(the)126 1824 A
(following)378 1992 A
(restrictions:)546 2412 A
4770 V
(36108)210 648 A
1068(*)S
4860 V
(36109)210 648 A
1068(*)S
1362(1.)S
(The)126 1488 A
(author)252 1656 A
1950(is)S
(not)126 2076 A
(responsible)462 2244 A
(for)126 2748 A
(the)126 2916 A
(consequences)504 3084 A
3630(of)S
(use)126 3756 A
3924(of)S
4950 V
(36110)210 648 A
1068(*)S
(this)168 1698 A
(software,)378 1908 A
2328(no)S
(matter)252 2454 A
(how)126 2748 A
(awful,)252 2916 A
(even)168 3210 A
3420(if)S
(they)168 3546 A
(arise)210 3756 A
5040 V
(36111)210 648 A
1068(*)S
(from)168 1698 A
(defects)294 1908 A
2244(in)S
(it.)126 2370 A
5130 V
(36112)210 648 A
1068(*)S
5220 V
(36113)210 648 A
1068(*)S
1362(2.)S
(The)126 1488 A
(origin)252 1656 A
1950(of)S
(this)168 2076 A
(software)336 2286 A
(must)168 2664 A
(not)126 2874 A
3042(be)S
(misrepresented,)630 3168 A
(either)252 3840 A
5310 V
(36114)210 648 A
1068(*)S
1698(by)S
(explicit)336 1824 A
(claim)210 2202 A
2454(or)S
2580(by)S
(omission.)378 2706 A
5400 V
(36115)210 648 A
1068(*)S
5490 V
(36116)210 648 A
1068(*)S
1362(3.)S
(Altered)294 1488 A
(versions)336 1824 A
(must)168 2202 A
2412(be)S
(plainly)294 2538 A
(marked)252 2874 A
3168(as)S
(such,)210 3294 A
(and)126 3546 A
(must)168 3714 A
(not)126 3924 A
5580 V
(36117)210 648 A
1068(*)S
1698(be)S
(misrepresented)588 1824 A
2454(as)S
(being)210 2580 A
(the)126 2832 A
(original)336 3000 A
(software.)378 3378 A
5670 V
(36118)210 648 A
1068(*)S
5760 V
(36119)210 648 A
1068(*)S
(Beware)252 1152 A
(that)168 1446 A
(some)168 1656 A
1866(of)S
(this)168 1992 A
(code)168 2202 A
2412(is)S
(subtly)252 2538 A
(aware)210 2832 A
3084(of)S
(the)126 3210 A
(way)126 3378 A
(operator)336 3546 A
5850 V
(36120)210 648 A
1068(*)S
(precedence)420 1152 A
1614(is)S
(structured)420 1740 A
2202(in)S
(regular)294 2328 A
(expressions.)504 2664 A
(Serious)294 3252 A
(changes)294 3588 A
3924(in)S
5940 V
(36121)210 648 A
1068(*)S
(regular-expression)756 1152 A
(syntax)252 1950 A
(might)210 2244 A
(require)294 2496 A
2832(a)S
(total)210 2916 A
(rethink.)336 3168 A
6030 V
(36122)210 648 A
1068(*)S
6120 V
(36123)210 648 A
1068(*)S
(The)126 1362 A
(third)210 1530 A
(parameter)378 1782 A
2202(to)S
(regexec)294 2328 A
(was)126 2664 A
(added)210 2832 A
3084(by)S
(Martin)252 3210 A
3504(C.)S
(Atkins.)294 3630 A
6210 V
(36124)210 648 A
1068(*)S
(Andy)168 1362 A
(Tanenbaum)378 1572 A
(also)168 1992 A
(made)168 2202 A
(some)168 2412 A
(changes.)336 2622 A
8418 V
EP
%%Page: 353 353
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(353)180 4248 A
900 V
7 LST
(36125)210 648 A
1068(*/)S
990 V
(36126)210 648 A
1080 V
(36127)210 648 A
(#include)336 1026 A
(<minix/config.h>)672 1404 A
1170 V
(36128)210 648 A
(#include)336 1026 A
(<minix/const.h>)630 1404 A
1260 V
(36129)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
1350 V
(36130)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1440 V
(36131)210 648 A
(#include)336 1026 A
(<regexp.h>)420 1404 A
1530 V
(36132)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
1620 V
(36133)210 648 A
1710 V
(36134)210 648 A
1026(/*)S
(The)126 1152 A
(first)210 1320 A
(byte)168 1572 A
1782(of)S
(the)126 1908 A
(regexp)252 2076 A
(internal)336 2370 A
("program")378 2748 A
3168(is)S
(actually)336 3294 A
(this)168 3672 A
(magic)210 3882 A
1800 V
(36135)210 648 A
1068(*)S
(number;)294 1152 A
(the)126 1488 A
(start)210 1656 A
(node)168 1908 A
(begins)252 2118 A
2412(in)S
(the)126 2538 A
(second)252 2706 A
(byte.)210 3000 A
1890 V
(36136)210 648 A
1068(*/)S
1980 V
(36137)210 648 A
(#define)294 1026 A
(MAGIC)210 1362 A
(0234)168 1698 A
2070 V
(36138)210 648 A
2160 V
(36139)210 648 A
1026(/*)S
(The)126 1152 A
("internal)378 1320 A
(use)126 1740 A
(only")210 1908 A
(fields)252 2160 A
2454(in)S
(regexp.h)336 2580 A
(are)126 2958 A
(present)294 3126 A
3462(to)S
(pass)168 3588 A
(info)168 3798 A
(from)168 4008 A
2250 V
(36140)210 648 A
1068(*)S
(compile)294 1152 A
1488(to)S
(execute)294 1614 A
(that)168 1950 A
(permits)294 2160 A
(the)126 2496 A
(execute)294 2664 A
(phase)210 3000 A
3252(to)S
(run)126 3378 A
(lots)168 3546 A
(faster)252 3756 A
4050(on)S
2340 V
(36141)210 648 A
1068(*)S
(simple)252 1152 A
(cases.)252 1446 A
(They)168 1782 A
(are:)168 1992 A
2430 V
(36142)210 648 A
1068(*)S
2520 V
(36143)210 648 A
1068(*)S
(regstart)336 1152 A
(char)168 1698 A
(that)168 1908 A
(must)168 2118 A
(begin)210 2328 A
2580(a)S
(match;)252 2664 A
('\\0')168 2958 A
3168(if)S
(none)168 3294 A
(obvious)294 3504 A
2610 V
(36144)210 648 A
1068(*)S
(reganch)294 1152 A
1698(is)S
(the)126 1824 A
(match)210 1992 A
(anchored)336 2244 A
(\(at)126 2622 A
(beginning-of-line)714 2790 A
(only\)?)252 3546 A
2700 V
(36145)210 648 A
1068(*)S
(regmust)294 1152 A
(string)252 1698 A
(\(pointer)336 1992 A
(into)168 2370 A
(program\))336 2580 A
(that)168 2958 A
(match)210 3168 A
(must)168 3420 A
(include,)336 3630 A
4008(or)S
(NULL)168 4134 A
2790 V
(36146)210 648 A
1068(*)S
(regmlen)294 1152 A
(length)252 1698 A
1992(of)S
(regmust)294 2118 A
(string)252 2454 A
2880 V
(36147)210 648 A
1068(*)S
2970 V
(36148)210 648 A
1068(*)S
(Regstart)336 1152 A
(and)126 1530 A
(reganch)294 1698 A
(permit)252 2034 A
(very)168 2328 A
(fast)168 2538 A
(decisions)378 2748 A
3168(on)S
(suitable)336 3294 A
(starting)336 3672 A
(points)252 4050 A
3060 V
(36149)210 648 A
1068(*)S
(for)126 1152 A
1320(a)S
(match,)252 1404 A
(cutting)294 1698 A
(down)168 2034 A
(the)126 2244 A
(work)168 2412 A
2622(a)S
(lot.)168 2706 A
(Regmust)294 2958 A
(permits)294 3294 A
(fast)168 3630 A
(rejection)378 3840 A
3150 V
(36150)210 648 A
1068(*)S
1152(of)S
(lines)210 1278 A
(that)168 1530 A
(cannot)252 1740 A
(possibly)336 2034 A
(match.)252 2412 A
(The)126 2748 A
(regmust)294 2916 A
(tests)210 3252 A
(are)126 3504 A
(costly)252 3672 A
(enough)252 3966 A
3240 V
(36151)210 648 A
1068(*)S
(that)168 1152 A
(regcomp\(\))378 1362 A
(supplies)336 1782 A
2160(a)S
(regmust)294 2244 A
(only)168 2580 A
2790(if)S
(the)126 2916 A
(r.e.)168 3084 A
(contains)336 3294 A
(something)378 3672 A
3330 V
(36152)210 648 A
1068(*)S
(potentially)462 1152 A
(expensive)378 1656 A
(\(at)126 2076 A
(present,)336 2244 A
(the)126 2622 A
(only)168 2790 A
(such)168 3000 A
(thing)210 3210 A
(detected)336 3462 A
3840(is)S
3966(*)S
4050(or)S
4176(+)S
3420 V
(36153)210 648 A
1068(*)S
1152(at)S
(the)126 1278 A
(start)210 1446 A
1698(of)S
(the)126 1824 A
(r.e.,)210 1992 A
(which)210 2244 A
(can)126 2496 A
(involve)294 2664 A
3000(a)S
(lot)126 3084 A
3252(of)S
(backup\).)336 3378 A
(Regmlen)294 3798 A
4134(is)S
3510 V
(36154)210 648 A
1068(*)S
(supplied)336 1152 A
(because)294 1530 A
(the)126 1866 A
(test)168 2034 A
2244(in)S
(regexec\(\))378 2370 A
(needs)210 2790 A
3042(it)S
(and)126 3168 A
(regcomp\(\))378 3336 A
3756(is)S
(computing)378 3882 A
3600 V
(36155)210 648 A
1068(*)S
1152(it)S
(anyway.)294 1278 A
3690 V
(36156)210 648 A
1068(*/)S
3780 V
(36157)210 648 A
3870 V
(36158)210 648 A
1026(/*)S
(Structure)378 1152 A
(for)126 1572 A
(regexp)252 1740 A
("program".)420 2034 A
(This)168 2538 A
2748(is)S
(essentially)462 2874 A
3378(a)S
(linear)252 3462 A
(encoding)336 3756 A
3960 V
(36159)210 648 A
1068(*)S
1152(of)S
1278(a)S
(nondeterministic)672 1362 A
(finite-state)504 2076 A
(machine)294 2622 A
(\(aka)168 2958 A
(syntax)252 3168 A
(charts)252 3462 A
3756(or)S
4050 V
(36160)210 648 A
1068(*)S
("railroad)378 1152 A
(normal)252 1572 A
(form")210 1866 A
2118(in)S
(parsing)294 2244 A
(technology\).)504 2580 A
(Each)168 3168 A
(node)168 3378 A
3588(is)S
3714(an)S
(opcode)252 3840 A
4140 V
(36161)210 648 A
1068(*)S
(plus)168 1152 A
1362(a)S
("next")252 1446 A
(pointer,)336 1740 A
(possibly)336 2118 A
(plus)168 2496 A
2706(an)S
(operand.)336 2832 A
("Next")252 3252 A
(pointers)336 3546 A
3924(of)S
4230 V
(36162)210 648 A
1068(*)S
(all)126 1152 A
(nodes)210 1320 A
(except)252 1572 A
(BRANCH)252 1866 A
(implement)378 2160 A
(concatenation;)588 2580 A
3210(a)S
("next")252 3294 A
(pointer)294 3588 A
(with)168 3924 A
4320 V
(36163)210 648 A
1068(*)S
1152(a)S
(BRANCH)252 1236 A
1530(on)S
(both)168 1656 A
(ends)168 1866 A
2076(of)S
2202(it)S
2328(is)S
(connecting)420 2454 A
(two)126 2916 A
(alternatives.)546 3084 A
(\(Here)210 3714 A
3966(we)S
4410 V
(36164)210 648 A
1068(*)S
(have)168 1152 A
(one)126 1362 A
1530(of)S
(the)126 1656 A
(subtle)252 1824 A
(syntax)252 2118 A
(dependencies:)546 2412 A
3042(an)S
(individual)420 3168 A
(BRANCH)252 3630 A
(\(as)126 3924 A
4500 V
(36165)210 648 A
1068(*)S
(opposed)294 1152 A
1488(to)S
1614(a)S
(collection)420 1698 A
2160(of)S
(them\))210 2286 A
2538(is)S
(never)210 2664 A
(concatenated)504 2916 A
(with)168 3462 A
(anything)336 3672 A
4590 V
(36166)210 648 A
1068(*)S
(because)294 1152 A
1488(of)S
(operator)336 1614 A
(precedence.\))504 1992 A
(The)126 2580 A
(operand)294 2748 A
3084(of)S
(some)168 3210 A
(types)210 3420 A
3672(of)S
(node)168 3798 A
4008(is)S
4680 V
(36167)210 648 A
1068(*)S
1152(a)S
(literal)294 1236 A
(string;)294 1572 A
(for)126 1908 A
(others,)294 2076 A
2412(it)S
2538(is)S
2664(a)S
(node)168 2748 A
(leading)294 2958 A
(into)168 3294 A
3504(a)S
(sub-FSM.)336 3588 A
4008(In)S
4770 V
(36168)210 648 A
1068(*)S
(particular,)462 1152 A
(the)126 1656 A
(operand)294 1824 A
2160(of)S
2286(a)S
(BRANCH)252 2370 A
(node)168 2664 A
2874(is)S
(the)126 3000 A
(first)210 3168 A
(node)168 3420 A
3630(of)S
(the)126 3756 A
(branch.)294 3924 A
4860 V
(36169)210 648 A
1068(*)S
(\(NB)126 1152 A
(this)168 1320 A
1530(is)S
(*not*)210 1656 A
1908(a)S
(tree)168 1992 A
(structure:)420 2202 A
(the)126 2706 A
(tail)168 2874 A
3084(of)S
(the)126 3210 A
(branch)252 3378 A
(connects)336 3672 A
4950 V
(36170)210 648 A
1068(*)S
1152(to)S
(the)126 1278 A
(thing)210 1446 A
(following)378 1698 A
(the)126 2118 A
(set)126 2286 A
2454(of)S
(BRANCHes.\))420 2580 A
(The)126 3084 A
(opcodes)294 3252 A
(are:)168 3588 A
5040 V
(36171)210 648 A
1068(*/)S
5130 V
(36172)210 648 A
5220 V
(36173)210 648 A
1026(/*)S
(Definition)420 1152 A
(number)252 1698 A
(opnd?)210 2034 A
(meaning)294 2370 A
2706(*/)S
5310 V
(36174)210 648 A
(#define)294 1026 A
(END)126 1362 A
1698(0)S
2370(/*)S
2496(no)S
(End)126 2706 A
2874(of)S
(program.)336 3000 A
3378(*/)S
5400 V
(36175)210 648 A
(#define)294 1026 A
(BOL)126 1362 A
1698(1)S
2370(/*)S
2496(no)S
(Match)210 2706 A
2958("")S
3084(at)S
(beginning)378 3210 A
3630(of)S
(line.)210 3756 A
4008(*/)S
5490 V
(36176)210 648 A
(#define)294 1026 A
(EOL)126 1362 A
1698(2)S
2370(/*)S
2496(no)S
(Match)210 2706 A
2958("")S
3084(at)S
(end)126 3210 A
3378(of)S
(line.)210 3504 A
3756(*/)S
5580 V
(36177)210 648 A
(#define)294 1026 A
(ANY)126 1362 A
1698(3)S
2370(/*)S
2496(no)S
(Match)210 2706 A
(any)126 2958 A
(one)126 3126 A
(character.)420 3294 A
3756(*/)S
5670 V
(36178)210 648 A
(#define)294 1026 A
(ANYOF)210 1362 A
1698(4)S
2370(/*)S
(str)126 2496 A
(Match)210 2706 A
(any)126 2958 A
(character)378 3126 A
3546(in)S
(this)168 3672 A
(string.)294 3882 A
4218(*/)S
5760 V
(36179)210 648 A
(#define)294 1026 A
(ANYBUT)252 1362 A
1698(5)S
2370(/*)S
(str)126 2496 A
(Match)210 2706 A
(any)126 2958 A
(character)378 3126 A
(not)126 3546 A
3714(in)S
(this)168 3840 A
5850 V
(36180)210 648 A
2076(*)S
(string.)294 2160 A
2496(*/)S
5940 V
(36181)210 648 A
(#define)294 1026 A
(BRANCH)252 1362 A
1698(6)S
2370(/*)S
(node)168 2496 A
(Match)210 2706 A
(this)168 2958 A
(alternative,)504 3168 A
3714(or)S
(the)126 3840 A
6030 V
(36182)210 648 A
2076(*)S
(next...)294 2160 A
2496(*/)S
6120 V
(36183)210 648 A
(#define)294 1026 A
(BACK)168 1362 A
1698(7)S
2370(/*)S
2496(no)S
(Match)210 2706 A
("",)126 2958 A
("next")252 3126 A
(ptr)126 3420 A
(points)252 3588 A
(backward.)378 3882 A
4302(*/)S
6210 V
(36184)210 648 A
(#define)294 1026 A
(EXACTLY)294 1362 A
1698(8)S
2370(/*)S
(str)126 2496 A
(Match)210 2706 A
(this)168 2958 A
(string.)294 3168 A
3504(*/)S
8418 V
EP
%%Page: 354 354
BP
/slant 0 def
/height 0 def
630 V
12 B
(354)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(36185)210 648 A
(#define)294 1026 A
(NOTHING)294 1362 A
1698(9)S
2370(/*)S
2496(no)S
(Match)210 2706 A
(empty)210 2958 A
(string.)294 3210 A
3546(*/)S
990 V
(36186)210 648 A
(#define)294 1026 A
(STAR)168 1362 A
1698(10)S
2370(/*)S
(node)168 2496 A
(Match)210 2706 A
(this)168 2958 A
(\(simple\))336 3168 A
(thing)210 3546 A
3798(0)S
3882(or)S
(more)168 4008 A
1080 V
(36187)210 648 A
2076(*)S
(times.)252 2160 A
2454(*/)S
1170 V
(36188)210 648 A
(#define)294 1026 A
(PLUS)168 1362 A
1698(11)S
2370(/*)S
(node)168 2496 A
(Match)210 2706 A
(this)168 2958 A
(\(simple\))336 3168 A
(thing)210 3546 A
3798(1)S
3882(or)S
(more)168 4008 A
1260 V
(36189)210 648 A
2076(*)S
(times.)252 2160 A
2454(*/)S
1350 V
(36190)210 648 A
(#define)294 1026 A
(OPEN)168 1362 A
1698(20)S
2370(/*)S
2496(no)S
(Mark)168 2706 A
(this)168 2916 A
(point)210 3126 A
3378(in)S
(input)210 3504 A
3756(as)S
(start)210 3882 A
4134(of)S
1440 V
(36191)210 648 A
2076(*)S
(#n.)126 2160 A
2328(*/)S
1530 V
(36192)210 648 A
1068(/*)S
(OPEN+1)252 1194 A
1488(is)S
(number)252 1614 A
1908(1,)S
(etc.)168 2034 A
2244(*/)S
1620 V
(36193)210 648 A
(#define)294 1026 A
(CLOSE)210 1362 A
1698(30)S
2370(/*)S
2496(no)S
(Analogous)378 2706 A
3126(to)S
(OPEN.)210 3252 A
3504(*/)S
1710 V
(36194)210 648 A
1800 V
(36195)210 648 A
1026(/*)S
(Opcode)252 1152 A
(notes:)252 1446 A
1890 V
(36196)210 648 A
1068(*)S
1980 V
(36197)210 648 A
1068(*)S
(BRANCH)252 1152 A
(The)126 1698 A
(set)126 1866 A
2034(of)S
(branches)336 2160 A
(constituting)504 2538 A
3084(a)S
(single)252 3168 A
(choice)252 3462 A
(are)126 3756 A
(hooked)252 3924 A
2070 V
(36198)210 648 A
1068(*)S
(together)336 1698 A
(with)168 2076 A
(their)210 2286 A
("next")252 2538 A
(pointers,)378 2832 A
(since)210 3252 A
(precedence)420 3504 A
(prevents)336 3966 A
2160 V
(36199)210 648 A
1068(*)S
(anything)336 1698 A
(being)210 2076 A
(concatenated)504 2328 A
2874(to)S
(any)126 3000 A
(individual)420 3168 A
(branch.)294 3630 A
(The)126 4008 A
2250 V
(36200)210 648 A
1068(*)S
("next")252 1698 A
(pointer)294 1992 A
2328(of)S
(the)126 2454 A
(last)168 2622 A
(BRANCH)252 2832 A
3126(in)S
3252(a)S
(choice)252 3336 A
(points)252 3630 A
3924(to)S
(the)126 4050 A
2340 V
(36201)210 648 A
1068(*)S
(thing)210 1698 A
(following)378 1950 A
(the)126 2370 A
(whole)210 2538 A
(choice.)294 2790 A
(This)168 3168 A
3378(is)S
(also)168 3504 A
(where)210 3714 A
(the)126 3966 A
2430 V
(36202)210 648 A
1068(*)S
(final)210 1698 A
("next")252 1950 A
(pointer)294 2244 A
2580(of)S
(each)168 2706 A
(individual)420 2916 A
(branch)252 3378 A
(points;)294 3672 A
(each)168 4008 A
2520 V
(36203)210 648 A
1068(*)S
(branch)252 1698 A
(starts)252 1992 A
(with)168 2286 A
(the)126 2496 A
(operand)294 2664 A
(node)168 3000 A
3210(of)S
3336(a)S
(BRANCH)252 3420 A
(node.)210 3714 A
2610 V
(36204)210 648 A
1068(*)S
2700 V
(36205)210 648 A
1068(*)S
(BACK)168 1152 A
(Normal)252 1698 A
("next")252 1992 A
(pointers)336 2286 A
(all)126 2664 A
(implicitly)420 2832 A
(point)210 3294 A
(forward;)336 3546 A
(BACK)168 3924 A
2790 V
(36206)210 648 A
1068(*)S
(exists)252 1698 A
1992(to)S
(make)168 2118 A
(loop)168 2328 A
(structures)420 2538 A
(possible.)378 3000 A
2880 V
(36207)210 648 A
1068(*)S
2970 V
(36208)210 648 A
1068(*)S
(STAR,PLUS)378 1152 A
('?',)168 1698 A
(and)126 1908 A
(complex)294 2076 A
('*')126 2412 A
(and)126 2580 A
('+',)168 2748 A
(are)126 2958 A
(implemented)462 3126 A
3630(as)S
(circular)336 3756 A
3060 V
(36209)210 648 A
1068(*)S
(BRANCH)252 1698 A
(structures)420 1992 A
(using)210 2454 A
(BACK.)210 2706 A
(Simple)252 3000 A
(cases)210 3294 A
(\(one)168 3546 A
(character)378 3756 A
3150 V
(36210)210 648 A
1068(*)S
(per)126 1698 A
(match\))252 1866 A
(are)126 2160 A
(implemented)462 2328 A
(with)168 2832 A
(STAR)168 3042 A
(and)126 3252 A
(PLUS)168 3420 A
(for)126 3630 A
(speed)210 3798 A
3240 V
(36211)210 648 A
1068(*)S
(and)126 1698 A
1866(to)S
(minimize)336 1992 A
(recursive)378 2370 A
(plunges.)336 2790 A
3330 V
(36212)210 648 A
1068(*)S
3420 V
(36213)210 648 A
1068(*)S
(OPEN,CLOSE)420 1152 A
(...are)252 1698 A
(numbered)336 1992 A
2370(at)S
(compile)294 2496 A
(time.)210 2832 A
3510 V
(36214)210 648 A
1068(*/)S
3600 V
(36215)210 648 A
3690 V
(36216)210 648 A
1026(/*)S
1152(A)S
(node)168 1236 A
1446(is)S
(one)126 1572 A
(char)168 1740 A
1950(of)S
(opcode)252 2076 A
(followed)336 2370 A
2748(by)S
(two)126 2874 A
(chars)210 3042 A
3294(of)S
("next")252 3420 A
(pointer.)336 3714 A
3780 V
(36217)210 648 A
1068(*)S
("Next")252 1152 A
(pointers)336 1446 A
(are)126 1824 A
(stored)252 1992 A
2286(as)S
(two)126 2412 A
(8-bit)210 2580 A
(pieces,)294 2832 A
(high)168 3168 A
(order)210 3378 A
(first.)252 3630 A
(The)126 3966 A
3870 V
(36218)210 648 A
1068(*)S
(value)210 1152 A
1404(is)S
1530(a)S
(positive)336 1614 A
(offset)252 1992 A
(from)168 2286 A
(the)126 2496 A
(opcode)252 2664 A
2958(of)S
(the)126 3084 A
(node)168 3252 A
(containing)420 3462 A
(it.)126 3924 A
3960 V
(36219)210 648 A
1068(*)S
1152(An)S
(operand,)336 1278 A
1656(if)S
(any,)168 1782 A
(simply)252 1992 A
(follows)294 2286 A
(the)126 2622 A
(node.)210 2790 A
(\(Note)210 3084 A
(that)168 3336 A
(much)168 3546 A
3756(of)S
(the)126 3882 A
4050 V
(36220)210 648 A
1068(*)S
(code)168 1152 A
(generation)420 1362 A
(knows)210 1824 A
(about)210 2076 A
(this)168 2328 A
(implicit)336 2538 A
(relationship.\))588 2916 A
4140 V
(36221)210 648 A
1068(*)S
4230 V
(36222)210 648 A
1068(*)S
(Using)210 1152 A
(two)126 1404 A
(bytes)210 1572 A
(for)126 1824 A
(the)126 1992 A
("next")252 2160 A
(pointer)294 2454 A
2790(is)S
(vast)168 2916 A
(overkill)336 3126 A
(for)126 3504 A
(most)168 3672 A
(things,)294 3882 A
4320 V
(36223)210 648 A
1068(*)S
(but)126 1152 A
(allows)252 1320 A
(patterns)336 1614 A
1992(to)S
(get)126 2118 A
(big)126 2286 A
(without)294 2454 A
(disasters.)420 2790 A
4410 V
(36224)210 648 A
1068(*/)S
4500 V
(36225)210 648 A
(#define)294 1026 A
(OP\(p\))210 1362 A
(\(*\(p\)\))252 1698 A
4590 V
(36226)210 648 A
(#define)294 1026 A
(NEXT\(p\))294 1362 A
(\(\(\(*\(\(p\)+1\)&0377\)<<8\))882 1698 A
2622(+)S
(\(*\(\(p\)+2\)&0377\)\))672 2706 A
4680 V
(36227)210 648 A
(#define)294 1026 A
(OPERAND\(p\))420 1362 A
(\(\(p\))168 2034 A
2244(+)S
2328(3\))S
4770 V
(36228)210 648 A
4860 V
(36229)210 648 A
1026(/*)S
(Utility)294 1152 A
(definitions.)504 1488 A
4950 V
(36230)210 648 A
1068(*/)S
5040 V
(36231)210 648 A
(#ifndef)294 1026 A
(CHARBITS)336 1362 A
5130 V
(36232)210 648 A
(#define)294 1026 A
(UCHARAT\(p\))420 1362 A
(\(\(int\)*\(unsigned)672 2034 A
(char)168 2748 A
(*\)\(p\)\))252 2958 A
5220 V
(36233)210 648 A
(#else)210 1026 A
5310 V
(36234)210 648 A
(#define)294 1026 A
(UCHARAT\(p\))420 1362 A
(\(\(int\)*\(p\)&CHARBITS\))840 2034 A
5400 V
(36235)210 648 A
(#endif)252 1026 A
5490 V
(36236)210 648 A
5580 V
(36237)210 648 A
(#define)294 1026 A
(CFAIL\(m\))336 1362 A
2034({)S
(regerror\(m\);)504 2118 A
(return\(\(char)504 2664 A
(*\)NULL\);)336 3210 A
3588(})S
5670 V
(36238)210 648 A
(#define)294 1026 A
(RFAIL\(m\))336 1362 A
2034({)S
(regerror\(m\);)504 2118 A
(return\(\(regexp)588 2664 A
(*\)NULL\);)336 3294 A
3672(})S
5760 V
(36239)210 648 A
(#define)294 1026 A
(ISMULT\(c\))378 1362 A
(\(\(c\))168 2034 A
2244(==)S
('*')126 2370 A
2538(||)S
(\(c\))126 2664 A
2832(==)S
('+')126 2958 A
3126(||)S
(\(c\))126 3252 A
3420(==)S
('?'\))168 3546 A
5850 V
(36240)210 648 A
(#define)294 1026 A
(META)168 1362 A
("\303$.[\(\)|?+*\\\\")588 1698 A
5940 V
(36241)210 648 A
6030 V
(36242)210 648 A
1026(/*)S
(Flags)210 1152 A
1404(to)S
1530(be)S
(passed)252 1656 A
1950(up)S
(and)126 2076 A
(down.)210 2244 A
6120 V
(36243)210 648 A
1068(*/)S
6210 V
(36244)210 648 A
(#define)294 1026 A
(HASWIDTH)336 1362 A
2034(01)S
2370(/*)S
(Known)210 2496 A
(never)210 2748 A
3000(to)S
(match)210 3126 A
(null)168 3378 A
(string.)294 3588 A
3924(*/)S
8418 V
EP
%%Page: 355 355
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(355)180 4248 A
900 V
7 LST
(36245)210 648 A
(#define)294 1026 A
(SIMPLE)252 1362 A
2034(02)S
2370(/*)S
(Simple)252 2496 A
(enough)252 2790 A
3084(to)S
3210(be)S
(STAR/PLUS)378 3336 A
(operand.)336 3756 A
4134(*/)S
990 V
(36246)210 648 A
(#define)294 1026 A
(SPSTART)294 1362 A
2034(04)S
2370(/*)S
(Starts)252 2496 A
(with)168 2790 A
3000(*)S
3084(or)S
3210(+.)S
3336(*/)S
1080 V
(36247)210 648 A
(#define)294 1026 A
(WORST)210 1362 A
2034(0)S
2370(/*)S
(Worst)210 2496 A
(case.)210 2748 A
3000(*/)S
1170 V
(36248)210 648 A
1260 V
(36249)210 648 A
1026(/*)S
(Global)252 1152 A
(work)168 1446 A
(variables)378 1656 A
(for)126 2076 A
(regcomp\(\).)420 2244 A
1350 V
(36250)210 648 A
1068(*/)S
1440 V
(36251)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regparse;)420 1572 A
2370(/*)S
(Input-scan)420 2496 A
(pointer.)336 2958 A
3336(*/)S
1530 V
(36252)210 648 A
(PRIVATE)294 1026 A
(int)126 1362 A
(regnpar;)336 1530 A
2370(/*)S
2496(\(\))S
(count.)252 2622 A
2916(*/)S
1620 V
(36253)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(regdummy;)378 1572 A
1710 V
(36254)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regcode;)378 1572 A
2370(/*)S
(Code-emit)378 2496 A
(pointer;)336 2916 A
(&regdummy)378 3294 A
3714(=)S
(don't.)252 3798 A
4092(*/)S
1800 V
(36255)210 648 A
(PRIVATE)294 1026 A
(long)168 1362 A
(regsize;)336 1572 A
2370(/*)S
(Code)168 2496 A
(size.)210 2706 A
2958(*/)S
1890 V
(36256)210 648 A
1980 V
(36257)210 648 A
1026(/*)S
(Forward)294 1152 A
(declarations)504 1488 A
(for)126 2034 A
(regcomp\(\)'s)462 2202 A
(friends.)336 2706 A
2070 V
(36258)210 648 A
1068(*/)S
2160 V
(36259)210 648 A
(#ifndef)294 1026 A
(STATIC)252 1362 A
2250 V
(36260)210 648 A
(#define)294 1026 A
(STATIC)252 1362 A
(PRIVATE)294 1698 A
2340 V
(36261)210 648 A
(#endif)252 1026 A
2430 V
(36262)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(char)168 1824 A
(*reg,)210 2034 A
(\(int)168 2286 A
(paren,)252 2496 A
(int)126 2790 A
(*flagp\))294 2958 A
4050(\);)S
2520 V
(36263)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(char)168 1824 A
(*regbranch,)462 2034 A
(\(int)168 2538 A
(*flagp\))294 2748 A
4050(\);)S
2610 V
(36264)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(char)168 1824 A
(*regpiece,)420 2034 A
(\(int)168 2496 A
(*flagp\))294 2706 A
4050(\);)S
2700 V
(36265)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(char)168 1824 A
(*regatom,)378 2034 A
(\(int)168 2454 A
(*flagp\))294 2664 A
4050(\);)S
2790 V
(36266)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(char)168 1824 A
(*regnode,)378 2034 A
(\(int)168 2454 A
(op\))126 2664 A
4050(\);)S
2880 V
(36267)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(char)168 1824 A
(*regnext,)378 2034 A
(\(char)210 2454 A
(*p\))126 2706 A
4050(\);)S
2970 V
(36268)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(void)168 1824 A
(regc,)210 2034 A
(\(int)168 2286 A
2496(b\))S
4050(\);)S
3060 V
(36269)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(void)168 1824 A
(reginsert,)420 2034 A
(\(int)168 2496 A
(op,)126 2706 A
(char)168 2874 A
(*opnd\))252 3084 A
4050(\);)S
3150 V
(36270)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(void)168 1824 A
(regtail,)336 2034 A
(\(char)210 2412 A
(*p,)126 2664 A
(char)168 2832 A
(*val\))210 3042 A
4050(\);)S
3240 V
(36271)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(void)168 1824 A
(regoptail,)420 2034 A
(\(char)210 2496 A
(*p,)126 2748 A
(char)168 2916 A
(*val\))210 3126 A
4050(\);)S
3330 V
(36272)210 648 A
3420 V
(36273)210 648 A
1026(/*)S
3510 V
(36274)210 648 A
1068(-)S
(regcomp)294 1152 A
1488(-)S
(compile)294 1572 A
1908(a)S
(regular)294 1992 A
(expression)420 2328 A
(into)168 2790 A
(internal)336 3000 A
(code)168 3378 A
3600 V
(36275)210 648 A
1068(*)S
3690 V
(36276)210 648 A
1068(*)S
1152(We)S
(can't)210 1278 A
(allocate)336 1530 A
(space)210 1908 A
(until)210 2160 A
2412(we)S
(know)168 2538 A
(how)126 2748 A
(big)126 2916 A
(the)126 3084 A
(compiled)336 3252 A
(form)168 3630 A
(will)168 3840 A
(be,)126 4050 A
3780 V
(36277)210 648 A
1068(*)S
(but)126 1152 A
1320(we)S
(can't)210 1446 A
(compile)294 1698 A
2034(it)S
(\(and)168 2160 A
(thus)168 2370 A
(know)168 2580 A
(how)126 2790 A
(big)126 2958 A
3126(it)S
(is\))126 3252 A
(until)210 3420 A
(we've)210 3672 A
(got)126 3924 A
4092(a)S
3870 V
(36278)210 648 A
1068(*)S
(place)210 1152 A
1404(to)S
(put)126 1530 A
(the)126 1698 A
(code.)210 1866 A
2160(So)S
2286(we)S
(cheat:)252 2412 A
2748(we)S
(compile)294 2874 A
3210(it)S
(twice,)252 3336 A
(once)168 3630 A
(with)168 3840 A
(code)168 4050 A
3960 V
(36279)210 648 A
1068(*)S
(generation)420 1152 A
(turned)252 1614 A
(off)126 1908 A
(and)126 2076 A
(size)168 2244 A
(counting)336 2454 A
(turned)252 2832 A
(on,)126 3126 A
(and)126 3294 A
(once)168 3462 A
("for)168 3672 A
(real".)252 3882 A
4050 V
(36280)210 648 A
1068(*)S
(This)168 1152 A
(also)168 1362 A
(means)210 1572 A
(that)168 1824 A
2034(we)S
(don't)210 2160 A
(allocate)336 2412 A
(space)210 2790 A
(until)210 3042 A
3294(we)S
(are)126 3420 A
(sure)168 3588 A
(that)168 3798 A
(the)126 4008 A
4140 V
(36281)210 648 A
1068(*)S
(thing)210 1152 A
(really)252 1404 A
(will)168 1698 A
(compile)294 1908 A
(successfully,)546 2244 A
(and)126 2832 A
3000(we)S
(never)210 3126 A
(have)168 3378 A
3588(to)S
(move)168 3714 A
(the)126 3924 A
4230 V
(36282)210 648 A
1068(*)S
(code)168 1152 A
(and)126 1362 A
(thus)168 1530 A
(invalidate)420 1740 A
(pointers)336 2202 A
(into)168 2580 A
(it.)126 2790 A
(\(Note)210 3000 A
(that)168 3252 A
3462(it)S
(has)126 3588 A
3756(to)S
3882(be)S
4008(in)S
4320 V
(36283)210 648 A
1068(*)S
(one)126 1152 A
(piece)210 1320 A
(because)294 1572 A
(free\(\))252 1908 A
(must)168 2202 A
2412(be)S
(able)168 2538 A
2748(to)S
(free)168 2874 A
3084(it)S
(all.\))210 3210 A
4410 V
(36284)210 648 A
1068(*)S
4500 V
(36285)210 648 A
1068(*)S
(Beware)252 1152 A
(that)168 1446 A
(the)126 1656 A
(optimization-preparation)1008 1824 A
(code)168 2874 A
3084(in)S
(here)168 3210 A
(knows)210 3420 A
(about)210 3672 A
(some)168 3924 A
4590 V
(36286)210 648 A
1068(*)S
1152(of)S
(the)126 1278 A
(structure)378 1446 A
1866(of)S
(the)126 1992 A
(compiled)336 2160 A
(regexp.)294 2538 A
4680 V
(36287)210 648 A
1068(*/)S
4770 V
(36288)210 648 A
(regexp)252 1026 A
(*regcomp\(exp\))546 1320 A
4860 V
(36289)210 648 A
(char)168 1026 A
(*exp;)210 1236 A
4950 V
(36290)210 648 A
1026({)S
5040 V
(36291)210 648 A
(register)336 1110 A
(regexp)252 1488 A
(*r;)126 1782 A
5130 V
(36292)210 648 A
(register)336 1110 A
(char)168 1488 A
(*scan;)252 1698 A
5220 V
(36293)210 648 A
(register)336 1110 A
(char)168 1488 A
(*longest;)378 1698 A
5310 V
(36294)210 648 A
(register)336 1110 A
(int)126 1488 A
(len;)168 1656 A
5400 V
(36295)210 648 A
(int)126 1110 A
(flags;)252 1278 A
5490 V
(36296)210 648 A
5580 V
(36297)210 648 A
1110(if)S
(\(exp)168 1236 A
1446(==)S
(\(char)210 1572 A
(*\)NULL\))294 1824 A
(RFAIL\("NULL)462 2160 A
(argument"\);)462 2664 A
5670 V
(36298)210 648 A
5760 V
(36299)210 648 A
1110(/*)S
(First)210 1236 A
(pass:)210 1488 A
(determine)378 1740 A
(size,)210 2160 A
(legality.)378 2412 A
2832(*/)S
5850 V
(36300)210 648 A
(regparse)336 1110 A
1488(=)S
(exp;)168 1572 A
5940 V
(36301)210 648 A
(regnpar)294 1110 A
1446(=)S
1530(1;)S
6030 V
(36302)210 648 A
(regsize)294 1110 A
1446(=)S
(0L;)126 1530 A
6120 V
(36303)210 648 A
(regcode)294 1110 A
1446(=)S
(&regdummy;)420 1530 A
6210 V
(36304)210 648 A
(regc\(MAGIC\);)504 1110 A
8418 V
EP
%%Page: 356 356
BP
/slant 0 def
/height 0 def
630 V
12 B
(356)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(36305)210 648 A
1110(if)S
(\(reg\(0,)294 1236 A
(&flags\))294 1572 A
1908(==)S
(\(char)210 2034 A
(*\)NULL\))294 2286 A
(return\(\(regexp)588 2622 A
(*\)NULL\);)336 3252 A
990 V
(36306)210 648 A
1080 V
(36307)210 648 A
1110(/*)S
(Small)210 1236 A
(enough)252 1488 A
(for)126 1782 A
(pointer-storage)630 1950 A
(convention?)462 2622 A
3126(*/)S
1170 V
(36308)210 648 A
1110(if)S
(\(regsize)336 1236 A
1614(>=)S
(32767L\))294 1740 A
2370(/*)S
(Probably)336 2496 A
(could)210 2874 A
3126(be)S
(65535L.)294 3252 A
3588(*/)S
1260 V
(36309)210 648 A
(RFAIL\("regexp)546 1362 A
(too)126 1950 A
(big"\);)252 2118 A
1350 V
(36310)210 648 A
1440 V
(36311)210 648 A
1110(/*)S
(Allocate)336 1236 A
(space.)252 1614 A
1908(*/)S
1530 V
(36312)210 648 A
1110(r)S
1194(=)S
(\(regexp)294 1278 A
1614(*\))S
(malloc\(sizeof\(regexp\))882 1740 A
2664(+)S
(\(unsigned\))420 2748 A
(regsize\);)378 3210 A
1620 V
(36313)210 648 A
1110(if)S
1236(\(r)S
1362(==)S
(\(regexp)294 1488 A
(*\)NULL\))294 1824 A
(RFAIL\("out)420 2160 A
2622(of)S
(space"\);)336 2748 A
1710 V
(36314)210 648 A
1800 V
(36315)210 648 A
1110(/*)S
(Second)252 1236 A
(pass:)210 1530 A
(emit)168 1782 A
(code.)210 1992 A
2244(*/)S
1890 V
(36316)210 648 A
(regparse)336 1110 A
1488(=)S
(exp;)168 1572 A
1980 V
(36317)210 648 A
(regnpar)294 1110 A
1446(=)S
1530(1;)S
2070 V
(36318)210 648 A
(regcode)294 1110 A
1446(=)S
(r->program;)462 1530 A
2160 V
(36319)210 648 A
(regc\(MAGIC\);)504 1110 A
2250 V
(36320)210 648 A
1110(if)S
(\(reg\(0,)294 1236 A
(&flags\))294 1572 A
1908(==)S
(\(char)210 2034 A
(*\)NULL\))294 2286 A
(return\(\(regexp)588 2622 A
(*\)NULL\);)336 3252 A
2340 V
(36321)210 648 A
2430 V
(36322)210 648 A
1110(/*)S
(Dig)126 1236 A
(out)126 1404 A
(information)462 1572 A
(for)126 2076 A
(optimizations.)588 2244 A
2874(*/)S
2520 V
(36323)210 648 A
(r->regstart)462 1110 A
1614(=)S
('\\0';)210 1698 A
2370(/*)S
(Worst-case)420 2496 A
(defaults.)378 2958 A
3378(*/)S
2610 V
(36324)210 648 A
(r->reganch)420 1110 A
1572(=)S
1656(0;)S
2700 V
(36325)210 648 A
(r->regmust)420 1110 A
1572(=)S
(\(char)210 1656 A
(*\)NULL;)294 1908 A
2790 V
(36326)210 648 A
(r->regmlen)420 1110 A
1572(=)S
1656(0;)S
2880 V
(36327)210 648 A
(scan)168 1110 A
1320(=)S
(r->program)420 1404 A
1866(+)S
1950(1;)S
2370(/*)S
(First)210 2496 A
(BRANCH.)294 2748 A
3084(*/)S
2970 V
(36328)210 648 A
1110(if)S
(\(OP\(regnext\(scan\)\))756 1236 A
2034(==)S
(END\))168 2160 A
2370({)S
2706(/*)S
(Only)168 2832 A
(one)126 3042 A
(top-level)378 3210 A
(choice.)294 3630 A
3966(*/)S
3060 V
(36329)210 648 A
(scan)168 1362 A
1572(=)S
(OPERAND\(scan\);)588 1656 A
3150 V
(36330)210 648 A
3240 V
(36331)210 648 A
1362(/*)S
(Starting-point)588 1488 A
(info.)210 2118 A
2370(*/)S
3330 V
(36332)210 648 A
1362(if)S
(\(OP\(scan\))378 1488 A
1908(==)S
(EXACTLY\))336 2034 A
3420 V
(36333)210 648 A
(r->regstart)462 1698 A
2202(=)S
(*OPERAND\(scan\);)630 2286 A
3510 V
(36334)210 648 A
(else)168 1362 A
1572(if)S
(\(OP\(scan\))378 1698 A
2118(==)S
(BOL\))168 2244 A
3600 V
(36335)210 648 A
(r->reganch++;)546 1698 A
3690 V
(36336)210 648 A
3780 V
(36337)210 648 A
1362(/*)S
1488(If)S
(there's)294 1614 A
(something)378 1950 A
(expensive)378 2370 A
2790(in)S
(the)126 2916 A
(r.e.,)210 3084 A
(find)168 3336 A
(the)126 3546 A
3870 V
(36338)210 648 A
1404(*)S
(longest)294 1488 A
(literal)294 1824 A
(string)252 2160 A
(that)168 2454 A
(must)168 2664 A
(appear)252 2874 A
(and)126 3168 A
(make)168 3336 A
3546(it)S
(the)126 3672 A
3960 V
(36339)210 648 A
1404(*)S
(regmust.)336 1488 A
(Resolve)294 1908 A
(ties)168 2244 A
2454(in)S
(favor)210 2580 A
2832(of)S
(later)210 2958 A
(strings,)336 3210 A
(since)210 3588 A
4050 V
(36340)210 648 A
1404(*)S
(the)126 1488 A
(regstart)336 1656 A
(check)210 2034 A
(works)210 2286 A
(with)168 2538 A
(the)126 2748 A
(beginning)378 2916 A
3336(of)S
(the)126 3462 A
(r.e.)168 3630 A
4140 V
(36341)210 648 A
1404(*)S
(and)126 1488 A
(avoiding)336 1656 A
(duplication)462 2034 A
(strengthens)462 2538 A
(checking.)378 3042 A
(Not)126 3504 A
3672(a)S
4230 V
(36342)210 648 A
1404(*)S
(strong)252 1488 A
(reason,)294 1782 A
(but)126 2118 A
(sufficient)420 2286 A
2748(in)S
(the)126 2874 A
(absence)294 3042 A
3378(of)S
(others.)294 3504 A
3840(*/)S
4320 V
(36343)210 648 A
1362(if)S
(\(flags)252 1488 A
1782(&)S
(SPSTART\))336 1866 A
2244({)S
4410 V
(36344)210 648 A
(longest)294 1698 A
2034(=)S
(\(char)210 2118 A
(*\)NULL;)294 2370 A
4500 V
(36345)210 648 A
(len)126 1698 A
1866(=)S
1950(0;)S
4590 V
(36346)210 648 A
(for)126 1698 A
1866(\(;)S
(scan)168 1992 A
2202(!=)S
(\(char)210 2328 A
(*\)NULL;)294 2580 A
(scan)168 2916 A
3126(=)S
(regnext\(scan\)\))588 3210 A
4680 V
(36347)210 648 A
2034(if)S
(\(OP\(scan\))378 2160 A
2580(==)S
(EXACTLY)294 2706 A
3042(&&)S
(strlen\(OPERAND\(scan\)\))882 3168 A
4092(>=)S
(len\))168 4218 A
4428({)S
4770 V
(36348)210 648 A
(longest)294 2370 A
2706(=)S
(OPERAND\(scan\);)588 2790 A
4860 V
(36349)210 648 A
(len)126 2370 A
2538(=)S
(strlen\(OPERAND\(scan\)\);)924 2622 A
4950 V
(36350)210 648 A
2034(})S
5040 V
(36351)210 648 A
(r->regmust)420 1698 A
2160(=)S
(longest;)336 2244 A
5130 V
(36352)210 648 A
(r->regmlen)420 1698 A
2160(=)S
(len;)168 2244 A
5220 V
(36353)210 648 A
1362(})S
5310 V
(36354)210 648 A
1110(})S
5400 V
(36355)210 648 A
(return\(r\);)420 1110 A
5490 V
(36356)210 648 A
1026(})S
5670 V
(36358)210 648 A
1026(/*)S
5760 V
(36359)210 648 A
1068(-)S
(reg)126 1152 A
1320(-)S
(regular)294 1404 A
(expression,)462 1740 A
(i.e.)168 2244 A
(main)168 2454 A
(body)168 2664 A
2874(or)S
(parenthesized)546 3000 A
(thing)210 3588 A
5850 V
(36360)210 648 A
1068(*)S
5940 V
(36361)210 648 A
1068(*)S
(Caller)252 1152 A
(must)168 1446 A
(absorb)252 1656 A
(opening)294 1950 A
(parenthesis.)504 2286 A
6030 V
(36362)210 648 A
1068(*)S
6120 V
(36363)210 648 A
1068(*)S
(Combining)378 1152 A
(parenthesis)462 1572 A
(handling)336 2076 A
(with)168 2454 A
(the)126 2664 A
(base)168 2832 A
(level)210 3042 A
3294(of)S
(regular)294 3420 A
(expression)420 3756 A
6210 V
(36364)210 648 A
1068(*)S
1152(is)S
1278(a)S
(trifle)252 1362 A
(forced,)294 1656 A
(but)126 1992 A
(the)126 2160 A
(need)168 2328 A
2538(to)S
(tie)126 2664 A
(the)126 2832 A
(tails)210 3000 A
3252(of)S
(the)126 3378 A
(branches)336 3546 A
3924(to)S
(what)168 4050 A
8418 V
EP
%%Page: 357 357
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(357)180 4248 A
900 V
7 LST
(36365)210 648 A
1068(*)S
(follows)294 1152 A
(makes)210 1488 A
1740(it)S
(hard)168 1866 A
2076(to)S
(avoid.)252 2202 A
990 V
(36366)210 648 A
1068(*/)S
1080 V
(36367)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*reg\(paren,)462 1572 A
(flagp\))252 2076 A
1170 V
(36368)210 648 A
(int)126 1026 A
(paren;)252 1194 A
2370(/*)S
(Parenthesized?)588 2496 A
3126(*/)S
1260 V
(36369)210 648 A
(int)126 1026 A
(*flagp;)294 1194 A
1350 V
(36370)210 648 A
1026({)S
1440 V
(36371)210 648 A
(register)336 1110 A
(char)168 1488 A
(*ret;)210 1698 A
1530 V
(36372)210 648 A
(register)336 1110 A
(char)168 1488 A
(*br;)168 1698 A
1620 V
(36373)210 648 A
(register)336 1110 A
(char)168 1488 A
(*ender;)294 1698 A
1710 V
(36374)210 648 A
(register)336 1110 A
(int)126 1488 A
(parno;)252 1656 A
1800 V
(36375)210 648 A
(int)126 1110 A
(flags;)252 1278 A
1890 V
(36376)210 648 A
1980 V
(36377)210 648 A
(*flagp)252 1110 A
1404(=)S
(HASWIDTH;)378 1488 A
2370(/*)S
(Tentatively.)504 2496 A
3042(*/)S
2070 V
(36378)210 648 A
2160 V
(36379)210 648 A
1110(/*)S
(Make)168 1236 A
1446(an)S
(OPEN)168 1572 A
(node,)210 1782 A
2034(if)S
(parenthesized.)588 2160 A
2790(*/)S
2250 V
(36380)210 648 A
1110(if)S
(\(paren\))294 1236 A
1572({)S
2340 V
(36381)210 648 A
1362(if)S
(\(regnpar)336 1488 A
1866(>=)S
(NSUBEXP\))336 1992 A
(CFAIL\("too)420 2370 A
(many)168 2832 A
(\(\)"\);)210 3042 A
2430 V
(36382)210 648 A
(parno)210 1362 A
1614(=)S
(regnpar;)336 1698 A
2520 V
(36383)210 648 A
(regnpar++;)420 1362 A
2610 V
(36384)210 648 A
(ret)126 1362 A
1530(=)S
(regnode\(OPEN)504 1614 A
2160(+)S
(parno\);)294 2244 A
2700 V
(36385)210 648 A
1110(})S
(else)168 1194 A
1404({)S
2790 V
(36386)210 648 A
(parno)210 1362 A
1614(=)S
1698(0;)S
2370(/*)S
(not)126 2496 A
(actually)336 2664 A
(used,)210 3042 A
(keep)168 3294 A
(compiler)336 3504 A
(quiet)210 3882 A
4134(*/)S
2880 V
(36387)210 648 A
(ret)126 1362 A
1530(=)S
(\(char)210 1614 A
(*\)NULL;)294 1866 A
2970 V
(36388)210 648 A
1110(})S
3060 V
(36389)210 648 A
3150 V
(36390)210 648 A
1110(/*)S
(Pick)168 1236 A
1446(up)S
(the)126 1572 A
(branches,)378 1740 A
(linking)294 2160 A
(them)168 2496 A
(together.)378 2706 A
3126(*/)S
3240 V
(36391)210 648 A
1110(br)S
1236(=)S
(regbranch\(&flags\);)756 1320 A
3330 V
(36392)210 648 A
1110(if)S
(\(br)126 1236 A
1404(==)S
(\(char)210 1530 A
(*\)NULL\))294 1782 A
(return\(\(char)504 2118 A
(*\)NULL\);)336 2664 A
3420 V
(36393)210 648 A
1110(if)S
(\(ret)168 1236 A
1446(!=)S
(\(char)210 1572 A
(*\)NULL\))294 1824 A
3510 V
(36394)210 648 A
(regtail\(ret,)504 1362 A
(br\);)168 1908 A
2370(/*)S
(OPEN)168 2496 A
2706(->)S
(first.)252 2832 A
3126(*/)S
3600 V
(36395)210 648 A
(else)168 1110 A
3690 V
(36396)210 648 A
(ret)126 1362 A
1530(=)S
(br;)126 1614 A
3780 V
(36397)210 648 A
1110(if)S
(\(!\(flags)336 1236 A
1614(&)S
(HASWIDTH\)\))420 1698 A
(*flagp)252 2160 A
2454(&=)S
(\304HASWIDTH;)420 2580 A
3870 V
(36398)210 648 A
(*flagp)252 1110 A
1404(|=)S
(flags)210 1530 A
1782(&)S
(SPSTART;)336 1866 A
3960 V
(36399)210 648 A
(while)210 1110 A
(\(*regparse)420 1362 A
1824(==)S
('|'\))168 1950 A
2160({)S
4050 V
(36400)210 648 A
(regparse++;)462 1362 A
4140 V
(36401)210 648 A
1362(br)S
1488(=)S
(regbranch\(&flags\);)756 1572 A
4230 V
(36402)210 648 A
1362(if)S
(\(br)126 1488 A
1656(==)S
(\(char)210 1782 A
(*\)NULL\))294 2034 A
(return\(\(char)504 2370 A
(*\)NULL\);)336 2916 A
4320 V
(36403)210 648 A
(regtail\(ret,)504 1362 A
(br\);)168 1908 A
2370(/*)S
(BRANCH)252 2496 A
2790(->)S
(BRANCH.)294 2916 A
3252(*/)S
4410 V
(36404)210 648 A
1362(if)S
(\(!\(flags)336 1488 A
1866(&)S
(HASWIDTH\)\))420 1950 A
(*flagp)252 2412 A
2706(&=)S
(\304HASWIDTH;)420 2832 A
4500 V
(36405)210 648 A
(*flagp)252 1362 A
1656(|=)S
(flags)210 1782 A
2034(&)S
(SPSTART;)336 2118 A
4590 V
(36406)210 648 A
1110(})S
4680 V
(36407)210 648 A
4770 V
(36408)210 648 A
1110(/*)S
(Make)168 1236 A
1446(a)S
(closing)294 1530 A
(node,)210 1866 A
(and)126 2118 A
(hook)168 2286 A
2496(it)S
2622(on)S
(the)126 2748 A
(end.)168 2916 A
3126(*/)S
4860 V
(36409)210 648 A
(ender)210 1110 A
1362(=)S
(regnode\(\(paren\))630 1446 A
2118(?)S
(CLOSE)210 2202 A
2454(+)S
(parno)210 2538 A
2790(:)S
(END\);)210 2874 A
4950 V
(36410)210 648 A
(regtail\(ret,)504 1110 A
(ender\);)294 1656 A
5040 V
(36411)210 648 A
5130 V
(36412)210 648 A
1110(/*)S
(Hook)168 1236 A
(the)126 1446 A
(tails)210 1614 A
1866(of)S
(the)126 1992 A
(branches)336 2160 A
2538(to)S
(the)126 2664 A
(closing)294 2832 A
(node.)210 3168 A
3420(*/)S
5220 V
(36413)210 648 A
(for)126 1110 A
(\(br)126 1278 A
1446(=)S
(ret;)168 1530 A
1740(br)S
1866(!=)S
(\(char)210 1992 A
(*\)NULL;)294 2244 A
2580(br)S
2706(=)S
(regnext\(br\)\))504 2790 A
(regoptail\(br,)546 3336 A
(ender\);)294 3924 A
5310 V
(36414)210 648 A
5400 V
(36415)210 648 A
1110(/*)S
(Check)210 1236 A
(for)126 1488 A
(proper)252 1656 A
(termination.)504 1950 A
2496(*/)S
5490 V
(36416)210 648 A
1110(if)S
(\(paren)252 1236 A
1530(&&)S
(*regparse++)462 1656 A
2160(!=)S
('\)'\))168 2286 A
2496({)S
5580 V
(36417)210 648 A
(CFAIL\("unmatched)672 1362 A
(\(\)"\);)210 2076 A
5670 V
(36418)210 648 A
1110(})S
(else)168 1194 A
1404(if)S
(\(!paren)294 1530 A
1866(&&)S
(*regparse)378 1992 A
2412(!=)S
('\\0'\))210 2538 A
2790({)S
5760 V
(36419)210 648 A
1362(if)S
(\(*regparse)420 1488 A
1950(==)S
('\)'\))168 2076 A
2286({)S
5850 V
(36420)210 648 A
(CFAIL\("unmatched)672 1698 A
(\(\)"\);)210 2412 A
5940 V
(36421)210 648 A
1362(})S
(else)168 1446 A
6030 V
(36422)210 648 A
(CFAIL\("junk)462 1698 A
2202(on)S
(end"\);)252 2328 A
2706(/*)S
("Can't)252 2832 A
(happen".)336 3126 A
3504(*/)S
6120 V
(36423)210 648 A
1362(/*)S
(NOTREACHED)420 1488 A
1950(*/)S
6210 V
(36424)210 648 A
1110(})S
8418 V
EP
%%Page: 358 358
BP
/slant 0 def
/height 0 def
630 V
12 B
(358)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(36425)210 648 A
(return\(ret\);)504 1110 A
990 V
(36426)210 648 A
1026(})S
1170 V
(36428)210 648 A
1026(/*)S
1260 V
(36429)210 648 A
1068(-)S
(regbranch)378 1152 A
1572(-)S
(one)126 1656 A
(alternative)462 1824 A
2328(of)S
2454(an)S
2580(|)S
(operator)336 2664 A
1350 V
(36430)210 648 A
1068(*)S
1440 V
(36431)210 648 A
1068(*)S
(Implements)420 1152 A
(the)126 1614 A
(concatenation)546 1782 A
(operator.)378 2370 A
1530 V
(36432)210 648 A
1068(*/)S
1620 V
(36433)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regbranch\(flagp\))714 1572 A
1710 V
(36434)210 648 A
(int)126 1026 A
(*flagp;)294 1194 A
1800 V
(36435)210 648 A
1026({)S
1890 V
(36436)210 648 A
(register)336 1110 A
(char)168 1488 A
(*ret;)210 1698 A
1980 V
(36437)210 648 A
(register)336 1110 A
(char)168 1488 A
(*chain;)294 1698 A
2070 V
(36438)210 648 A
(register)336 1110 A
(char)168 1488 A
(*latest;)336 1698 A
2160 V
(36439)210 648 A
(int)126 1110 A
(flags;)252 1278 A
2250 V
(36440)210 648 A
2340 V
(36441)210 648 A
(*flagp)252 1110 A
1404(=)S
(WORST;)252 1488 A
2370(/*)S
(Tentatively.)504 2496 A
3042(*/)S
2430 V
(36442)210 648 A
2520 V
(36443)210 648 A
(ret)126 1110 A
1278(=)S
(regnode\(BRANCH\);)672 1362 A
2610 V
(36444)210 648 A
(chain)210 1110 A
1362(=)S
(\(char)210 1446 A
(*\)NULL;)294 1698 A
2700 V
(36445)210 648 A
(while)210 1110 A
(\(*regparse)420 1362 A
1824(!=)S
('\\0')168 1950 A
2160(&&)S
(*regparse)378 2286 A
2706(!=)S
('|')126 2832 A
3000(&&)S
(*regparse)378 3126 A
3546(!=)S
('\)'\))168 3672 A
3882({)S
2790 V
(36446)210 648 A
(latest)252 1362 A
1656(=)S
(regpiece\(&flags\);)714 1740 A
2880 V
(36447)210 648 A
1362(if)S
(\(latest)294 1488 A
1824(==)S
(\(char)210 1950 A
(*\)NULL\))294 2202 A
(return\(\(char)504 2538 A
(*\)NULL\);)336 3084 A
2970 V
(36448)210 648 A
(*flagp)252 1362 A
1656(|=)S
(flags)210 1782 A
2034(&)S
(HASWIDTH;)378 2118 A
3060 V
(36449)210 648 A
1362(if)S
(\(chain)252 1488 A
1782(==)S
(\(char)210 1908 A
(*\)NULL\))294 2160 A
2706(/*)S
(First)210 2832 A
(piece.)252 3084 A
3378(*/)S
3150 V
(36450)210 648 A
(*flagp)252 1698 A
1992(|=)S
(flags)210 2118 A
2370(&)S
(SPSTART;)336 2454 A
3240 V
(36451)210 648 A
(else)168 1362 A
3330 V
(36452)210 648 A
(regtail\(chain,)588 1698 A
(latest\);)336 2328 A
3420 V
(36453)210 648 A
(chain)210 1362 A
1614(=)S
(latest;)294 1698 A
3510 V
(36454)210 648 A
1110(})S
3600 V
(36455)210 648 A
1110(if)S
(\(chain)252 1236 A
1530(==)S
(\(char)210 1656 A
(*\)NULL\))294 1908 A
2706(/*)S
(Loop)168 2832 A
(ran)126 3042 A
(zero)168 3210 A
(times.)252 3420 A
3714(*/)S
3690 V
(36456)210 648 A
(regnode\(NOTHING\);)714 1362 A
3780 V
(36457)210 648 A
3870 V
(36458)210 648 A
(return\(ret\);)504 1110 A
3960 V
(36459)210 648 A
1026(})S
4140 V
(36461)210 648 A
1026(/*)S
4230 V
(36462)210 648 A
1068(-)S
(regpiece)336 1152 A
1530(-)S
(something)378 1614 A
(followed)336 2034 A
2412(by)S
(possible)336 2538 A
([*+?])210 2916 A
4320 V
(36463)210 648 A
1068(*)S
4410 V
(36464)210 648 A
1068(*)S
(Note)168 1152 A
(that)168 1362 A
(the)126 1572 A
(branching)378 1740 A
(code)168 2160 A
(sequences)378 2370 A
(used)168 2790 A
(for)126 3000 A
3168(?)S
(and)126 3252 A
(the)126 3420 A
(general)294 3588 A
(cases)210 3924 A
4500 V
(36465)210 648 A
1068(*)S
1152(of)S
1278(*)S
(and)126 1362 A
1530(+)S
(are)126 1614 A
(somewhat)336 1782 A
(optimized:)420 2160 A
(they)168 2664 A
(use)126 2874 A
(the)126 3042 A
(same)168 3210 A
(NOTHING)294 3420 A
(node)168 3756 A
3966(as)S
4590 V
(36466)210 648 A
1068(*)S
(both)168 1152 A
(the)126 1362 A
(endmarker)378 1530 A
(for)126 1950 A
(their)210 2118 A
(branch)252 2370 A
(list)168 2664 A
(and)126 2874 A
(the)126 3042 A
(body)168 3210 A
3420(of)S
(the)126 3546 A
(last)168 3714 A
(branch.)294 3924 A
4680 V
(36467)210 648 A
1068(*)S
1152(It)S
(might)210 1278 A
(seem)168 1530 A
(that)168 1740 A
(this)168 1950 A
(node)168 2160 A
(could)210 2370 A
2622(be)S
(dispensed)378 2748 A
(with)168 3168 A
(entirely,)378 3378 A
(but)126 3798 A
(the)126 3966 A
4770 V
(36468)210 648 A
1068(*)S
(endmarker)378 1152 A
(role)168 1572 A
1782(is)S
(not)126 1908 A
(redundant.)420 2076 A
4860 V
(36469)210 648 A
1068(*/)S
4950 V
(36470)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regpiece\(flagp\))672 1572 A
5040 V
(36471)210 648 A
(int)126 1026 A
(*flagp;)294 1194 A
5130 V
(36472)210 648 A
1026({)S
5220 V
(36473)210 648 A
(register)336 1110 A
(char)168 1488 A
(*ret;)210 1698 A
5310 V
(36474)210 648 A
(register)336 1110 A
(char)168 1488 A
(op;)126 1698 A
5400 V
(36475)210 648 A
(register)336 1110 A
(char)168 1488 A
(*next;)252 1698 A
5490 V
(36476)210 648 A
(int)126 1110 A
(flags;)252 1278 A
5580 V
(36477)210 648 A
5670 V
(36478)210 648 A
(ret)126 1110 A
1278(=)S
(regatom\(&flags\);)672 1362 A
5760 V
(36479)210 648 A
1110(if)S
(\(ret)168 1236 A
1446(==)S
(\(char)210 1572 A
(*\)NULL\))294 1824 A
(return\(\(char)504 2160 A
(*\)NULL\);)336 2706 A
5850 V
(36480)210 648 A
5940 V
(36481)210 648 A
1110(op)S
1236(=)S
(*regparse;)420 1320 A
6030 V
(36482)210 648 A
1110(if)S
(\(!ISMULT\(op\)\))546 1236 A
1824({)S
6120 V
(36483)210 648 A
(*flagp)252 1362 A
1656(=)S
(flags;)252 1740 A
6210 V
(36484)210 648 A
(return\(ret\);)504 1362 A
8418 V
EP
%%Page: 359 359
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(359)180 4248 A
900 V
7 LST
(36485)210 648 A
1110(})S
990 V
(36486)210 648 A
1110(if)S
(\(!\(flags)336 1236 A
1614(&)S
(HASWIDTH\))378 1698 A
2118(&&)S
2244(op)S
2370(!=)S
('?'\))168 2496 A
(CFAIL\("*+)378 2706 A
(operand)294 3126 A
(could)210 3462 A
3714(be)S
(empty"\);)336 3840 A
1080 V
(36487)210 648 A
(*flagp)252 1110 A
1404(=)S
(\(op)126 1488 A
1656(!=)S
('+'\))168 1782 A
1992(?)S
(\(WORST)252 2076 A
2370(|)S
(SPSTART\))336 2454 A
2832(:)S
(\(WORST)252 2916 A
3210(|)S
(HASWIDTH\);)420 3294 A
1170 V
(36488)210 648 A
1260 V
(36489)210 648 A
1110(if)S
(\(op)126 1236 A
1404(==)S
('*')126 1530 A
1698(&&)S
(\(flags)252 1824 A
2118(&)S
(SIMPLE\)\))336 2202 A
1350 V
(36490)210 648 A
(reginsert\(STAR,)630 1362 A
(ret\);)210 2034 A
1440 V
(36491)210 648 A
(else)168 1110 A
1320(if)S
(\(op)126 1446 A
1614(==)S
('*'\))168 1740 A
1950({)S
1530 V
(36492)210 648 A
1362(/*)S
(Emit)168 1488 A
1698(x*)S
1824(as)S
(\(x&|\),)252 1950 A
(where)210 2244 A
2496(&)S
(means)210 2580 A
("self".)294 2832 A
3168(*/)S
1620 V
(36493)210 648 A
(reginsert\(BRANCH,)714 1362 A
(ret\);)210 2118 A
2370(/*)S
(Either)252 2496 A
2790(x)S
2874(*/)S
1710 V
(36494)210 648 A
(regoptail\(ret,)588 1362 A
(regnode\(BACK\)\);)630 1992 A
2706(/*)S
(and)126 2832 A
(loop)168 3000 A
3210(*/)S
1800 V
(36495)210 648 A
(regoptail\(ret,)588 1362 A
(ret\);)210 1992 A
2370(/*)S
(back)168 2496 A
2706(*/)S
1890 V
(36496)210 648 A
(regtail\(ret,)504 1362 A
(regnode\(BRANCH\)\);)714 1908 A
2706(/*)S
2832(or)S
2958(*/)S
1980 V
(36497)210 648 A
(regtail\(ret,)504 1362 A
(regnode\(NOTHING\)\);)756 1908 A
2706(/*)S
(null.)210 2832 A
3084(*/)S
2070 V
(36498)210 648 A
1110(})S
(else)168 1194 A
1404(if)S
(\(op)126 1530 A
1698(==)S
('+')126 1824 A
1992(&&)S
(\(flags)252 2118 A
2412(&)S
(SIMPLE\)\))336 2496 A
2160 V
(36499)210 648 A
(reginsert\(PLUS,)630 1362 A
(ret\);)210 2034 A
2250 V
(36500)210 648 A
(else)168 1110 A
1320(if)S
(\(op)126 1446 A
1614(==)S
('+'\))168 1740 A
1950({)S
2340 V
(36501)210 648 A
1362(/*)S
(Emit)168 1488 A
1698(x+)S
1824(as)S
(x\(&|\),)252 1950 A
(where)210 2244 A
2496(&)S
(means)210 2580 A
("self".)294 2832 A
3168(*/)S
2430 V
(36502)210 648 A
(next)168 1362 A
1572(=)S
(regnode\(BRANCH\);)672 1656 A
2370(/*)S
(Either)252 2496 A
2790(*/)S
2520 V
(36503)210 648 A
(regtail\(ret,)504 1362 A
(next\);)252 1908 A
2610 V
(36504)210 648 A
(regtail\(regnode\(BACK\),)924 1362 A
(ret\);)210 2328 A
2706(/*)S
(loop)168 2832 A
(back)168 3042 A
3252(*/)S
2700 V
(36505)210 648 A
(regtail\(next,)546 1362 A
(regnode\(BRANCH\)\);)714 1950 A
2706(/*)S
2832(or)S
2958(*/)S
2790 V
(36506)210 648 A
(regtail\(ret,)504 1362 A
(regnode\(NOTHING\)\);)756 1908 A
2706(/*)S
(null.)210 2832 A
3084(*/)S
2880 V
(36507)210 648 A
1110(})S
(else)168 1194 A
1404(if)S
(\(op)126 1530 A
1698(==)S
('?'\))168 1824 A
2034({)S
2970 V
(36508)210 648 A
1362(/*)S
(Emit)168 1488 A
1698(x?)S
1824(as)S
(\(x|\))168 1950 A
2160(*/)S
3060 V
(36509)210 648 A
(reginsert\(BRANCH,)714 1362 A
(ret\);)210 2118 A
2370(/*)S
(Either)252 2496 A
2790(x)S
2874(*/)S
3150 V
(36510)210 648 A
(regtail\(ret,)504 1362 A
(regnode\(BRANCH\)\);)714 1908 A
2706(/*)S
2832(or)S
2958(*/)S
3240 V
(36511)210 648 A
(next)168 1362 A
1572(=)S
(regnode\(NOTHING\);/*)798 1656 A
(null.)210 2496 A
2748(*/)S
3330 V
(36512)210 648 A
(regtail\(ret,)504 1362 A
(next\);)252 1908 A
3420 V
(36513)210 648 A
(regoptail\(ret,)588 1362 A
(next\);)252 1992 A
3510 V
(36514)210 648 A
1110(})S
3600 V
(36515)210 648 A
(regparse++;)462 1110 A
3690 V
(36516)210 648 A
1110(if)S
(\(ISMULT\(*regparse\)\))798 1236 A
(CFAIL\("nested)546 2076 A
(*?+"\);)252 2664 A
3780 V
(36517)210 648 A
3870 V
(36518)210 648 A
(return\(ret\);)504 1110 A
3960 V
(36519)210 648 A
1026(})S
4140 V
(36521)210 648 A
1026(/*)S
4230 V
(36522)210 648 A
1068(-)S
(regatom)294 1152 A
1488(-)S
(the)126 1572 A
(lowest)252 1740 A
(level)210 2034 A
4320 V
(36523)210 648 A
1068(*)S
4410 V
(36524)210 648 A
1068(*)S
(Optimization:)546 1152 A
(gobbles)294 1782 A
2118(an)S
(entire)252 2244 A
(sequence)336 2538 A
2916(of)S
(ordinary)336 3042 A
(characters)420 3420 A
3882(so)S
(that)168 4008 A
4500 V
(36525)210 648 A
1068(*)S
1152(it)S
(can)126 1278 A
(turn)168 1446 A
(them)168 1656 A
(into)168 1866 A
2076(a)S
(single)252 2160 A
(node,)210 2454 A
(which)210 2706 A
2958(is)S
(smaller)294 3084 A
3420(to)S
(store)210 3546 A
(and)126 3798 A
4590 V
(36526)210 648 A
1068(*)S
(faster)252 1152 A
1446(to)S
(run.)168 1572 A
(Backslashed)462 1824 A
(characters)420 2328 A
(are)126 2790 A
(exceptions,)462 2958 A
(each)168 3462 A
(becoming)336 3672 A
4050(a)S
4680 V
(36527)210 648 A
1068(*)S
(separate)336 1152 A
(node;)210 1530 A
(the)126 1782 A
(code)168 1950 A
2160(is)S
(simpler)294 2286 A
(that)168 2622 A
(way)126 2832 A
(and)126 3000 A
(it's)168 3168 A
(not)126 3378 A
(worth)210 3546 A
(fixing.)294 3798 A
4770 V
(36528)210 648 A
1068(*/)S
4860 V
(36529)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regatom\(flagp\))630 1572 A
4950 V
(36530)210 648 A
(int)126 1026 A
(*flagp;)294 1194 A
5040 V
(36531)210 648 A
1026({)S
5130 V
(36532)210 648 A
(register)336 1110 A
(char)168 1488 A
(*ret;)210 1698 A
5220 V
(36533)210 648 A
(int)126 1110 A
(flags;)252 1278 A
5310 V
(36534)210 648 A
5400 V
(36535)210 648 A
(*flagp)252 1110 A
1404(=)S
(WORST;)252 1488 A
2370(/*)S
(Tentatively.)504 2496 A
3042(*/)S
5490 V
(36536)210 648 A
5580 V
(36537)210 648 A
(switch)252 1110 A
(\(*regparse++\))546 1404 A
1992({)S
5670 V
(36538)210 648 A
(case)168 1278 A
('\303':)168 1488 A
(ret)126 1698 A
1866(=)S
(regnode\(BOL\);)546 1950 A
(break;)252 3042 A
5760 V
(36539)210 648 A
(case)168 1278 A
('$':)168 1488 A
(ret)126 1698 A
1866(=)S
(regnode\(EOL\);)546 1950 A
(break;)252 3042 A
5850 V
(36540)210 648 A
(case)168 1278 A
('.':)168 1488 A
5940 V
(36541)210 648 A
(ret)126 1362 A
1530(=)S
(regnode\(ANY\);)546 1614 A
6030 V
(36542)210 648 A
(*flagp)252 1362 A
1656(|=)S
(HASWIDTH)336 1782 A
2160(|)S
(SIMPLE;)294 2244 A
6120 V
(36543)210 648 A
(break;)252 1362 A
6210 V
(36544)210 648 A
(case)168 1278 A
('[':{)210 1488 A
8418 V
EP
%%Page: 360 360
BP
/slant 0 def
/height 0 def
630 V
12 B
(360)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(36545)210 648 A
(register)336 1698 A
(int)126 2076 A
(class;)252 2244 A
990 V
(36546)210 648 A
(register)336 1698 A
(int)126 2076 A
(classend;)378 2244 A
1080 V
(36547)210 648 A
1170 V
(36548)210 648 A
1698(if)S
(\(*regparse)420 1824 A
2286(==)S
('\303'\))168 2412 A
2622({)S
2706(/*)S
(Complement)420 2832 A
3294(of)S
(range.)252 3420 A
3714(*/)S
1260 V
(36549)210 648 A
(ret)126 2034 A
2202(=)S
(regnode\(ANYBUT\);)672 2286 A
1350 V
(36550)210 648 A
(regparse++;)462 2034 A
1440 V
(36551)210 648 A
1698(})S
(else)168 1782 A
1530 V
(36552)210 648 A
(ret)126 2034 A
2202(=)S
(regnode\(ANYOF\);)630 2286 A
1620 V
(36553)210 648 A
1698(if)S
(\(*regparse)420 1824 A
2286(==)S
(']')126 2412 A
2580(||)S
(*regparse)378 2706 A
3126(==)S
('-'\))168 3252 A
(regc\(*regparse++\);)756 3462 A
1710 V
(36554)210 648 A
(while)210 1698 A
(\(*regparse)420 1950 A
2412(!=)S
('\\0')168 2538 A
2748(&&)S
(*regparse)378 2874 A
3294(!=)S
(']'\))168 3420 A
3630({)S
1800 V
(36555)210 648 A
2034(if)S
(\(*regparse)420 2160 A
2622(==)S
('-'\))168 2748 A
2958({)S
1890 V
(36556)210 648 A
(regparse++;)462 2370 A
1980 V
(36557)210 648 A
2370(if)S
(\(*regparse)420 2496 A
2958(==)S
(']')126 3084 A
3252(||)S
(*regparse)378 3378 A
3798(==)S
('\\0'\))210 3924 A
2070 V
(36558)210 648 A
(regc\('-'\);)420 2706 A
2160 V
(36559)210 648 A
(else)168 2370 A
2580({)S
2250 V
(36560)210 648 A
(class)210 2706 A
2958(=)S
(UCHARAT\(regparse)672 3042 A
3756(-)S
3840(2\))S
3966(+)S
4050(1;)S
2340 V
(36561)210 648 A
(classend)336 2706 A
3084(=)S
(UCHARAT\(regparse\);)756 3168 A
2430 V
(36562)210 648 A
2706(if)S
(\(class)252 2832 A
3126(>)S
(classend)336 3210 A
3588(+)S
3672(1\))S
2520 V
(36563)210 648 A
(CFAIL\("invalid)588 3042 A
3672([])S
(range"\);)336 3798 A
2610 V
(36564)210 648 A
(for)126 2706 A
2874(\(;)S
(class)210 3000 A
3252(<=)S
(classend;)378 3378 A
(class++\))336 3798 A
2700 V
(36565)210 648 A
(regc\(class\);)504 3042 A
2790 V
(36566)210 648 A
(regparse++;)462 2706 A
2880 V
(36567)210 648 A
2370(})S
2970 V
(36568)210 648 A
2034(})S
(else)168 2118 A
3060 V
(36569)210 648 A
(regc\(*regparse++\);)756 2370 A
3150 V
(36570)210 648 A
1698(})S
3240 V
(36571)210 648 A
(regc\('\\0'\);)462 1698 A
3330 V
(36572)210 648 A
1698(if)S
(\(*regparse)420 1824 A
2286(!=)S
(']'\))168 2412 A
(CFAIL\("unmatched)672 2622 A
([]"\);)210 3336 A
3420 V
(36573)210 648 A
(regparse++;)462 1698 A
3510 V
(36574)210 648 A
(*flagp)252 1698 A
1992(|=)S
(HASWIDTH)336 2118 A
2496(|)S
(SIMPLE;)294 2580 A
3600 V
(36575)210 648 A
1362(})S
3690 V
(36576)210 648 A
(break;)252 1362 A
3780 V
(36577)210 648 A
(case)168 1278 A
('\(':)168 1488 A
3870 V
(36578)210 648 A
(ret)126 1362 A
1530(=)S
(reg\(1,)252 1614 A
(&flags\);)336 1908 A
3960 V
(36579)210 648 A
1362(if)S
(\(ret)168 1488 A
1698(==)S
(\(char)210 1824 A
(*\)NULL\))294 2076 A
(return\(\(char)504 2412 A
(*\)NULL\);)336 2958 A
4050 V
(36580)210 648 A
(*flagp)252 1362 A
1656(|=)S
(flags)210 1782 A
2034(&)S
(\(HASWIDTH)378 2118 A
2538(|)S
(SPSTART\);)378 2622 A
4140 V
(36581)210 648 A
(break;)252 1362 A
4230 V
(36582)210 648 A
(case)168 1278 A
('\\0':)210 1488 A
4320 V
(36583)210 648 A
(case)168 1278 A
('|':)168 1488 A
4410 V
(36584)210 648 A
(case)168 1278 A
('\)':)168 1488 A
4500 V
(36585)210 648 A
(CFAIL\("internal)630 1362 A
(urp"\);)252 2034 A
2370(/*)S
(Supposed)336 2496 A
2874(to)S
3000(be)S
(caught)252 3126 A
(earlier.)336 3420 A
3798(*/)S
4590 V
(36586)210 648 A
(break;)252 1362 A
4680 V
(36587)210 648 A
(case)168 1278 A
('?':)168 1488 A
4770 V
(36588)210 648 A
(case)168 1278 A
('+':)168 1488 A
4860 V
(36589)210 648 A
(case)168 1278 A
('*':)168 1488 A
(CFAIL\("?+*)420 1698 A
(follows)294 2160 A
(nothing"\);)420 2496 A
(break;)252 3378 A
4950 V
(36590)210 648 A
(case)168 1278 A
('\\\\':)210 1488 A
5040 V
(36591)210 648 A
1362(if)S
(\(*regparse)420 1488 A
1950(==)S
('\\0'\))210 2076 A
(CFAIL\("trailing)630 2328 A
(\\\\"\);)210 3000 A
5130 V
(36592)210 648 A
(ret)126 1362 A
1530(=)S
(regnode\(EXACTLY\);)714 1614 A
5220 V
(36593)210 648 A
(regc\(*regparse++\);)756 1362 A
5310 V
(36594)210 648 A
(regc\('\\0'\);)462 1362 A
5400 V
(36595)210 648 A
(*flagp)252 1362 A
1656(|=)S
(HASWIDTH)336 1782 A
2160(|)S
(SIMPLE;)294 2244 A
5490 V
(36596)210 648 A
(break;)252 1362 A
5580 V
(36597)210 648 A
(default:{)378 1278 A
5670 V
(36598)210 648 A
(register)336 1698 A
(int)126 2076 A
(len;)168 2244 A
5760 V
(36599)210 648 A
(register)336 1698 A
(char)168 2076 A
(ender;)252 2286 A
5850 V
(36600)210 648 A
5940 V
(36601)210 648 A
(regparse--;)462 1698 A
6030 V
(36602)210 648 A
(len)126 1698 A
1866(=)S
(strcspn\(regparse,)714 1950 A
(META\);)252 2706 A
6120 V
(36603)210 648 A
1698(if)S
(\(len)168 1824 A
2034(<=)S
2160(0\))S
(CFAIL\("internal)630 2286 A
(disaster"\);)462 2958 A
6210 V
(36604)210 648 A
(ender)210 1698 A
1950(=)S
(*\(regparse)420 2034 A
2496(+)S
(len\);)210 2580 A
8418 V
EP
%%Page: 361 361
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(361)180 4248 A
900 V
7 LST
(36605)210 648 A
1698(if)S
(\(len)168 1824 A
2034(>)S
2118(1)S
2202(&&)S
(ISMULT\(ender\)\))588 2328 A
990 V
(36606)210 648 A
(len--;)252 2034 A
2370(/*)S
(Back)168 2496 A
(off)126 2706 A
(clear)210 2874 A
3126(of)S
(?+*)126 3252 A
(operand.)336 3420 A
3798(*/)S
1080 V
(36607)210 648 A
(*flagp)252 1698 A
1992(|=)S
(HASWIDTH;)378 2118 A
1170 V
(36608)210 648 A
1698(if)S
(\(len)168 1824 A
2034(==)S
2160(1\))S
(*flagp)252 2286 A
2580(|=)S
(SIMPLE;)294 2706 A
1260 V
(36609)210 648 A
(ret)126 1698 A
1866(=)S
(regnode\(EXACTLY\);)714 1950 A
1350 V
(36610)210 648 A
(while)210 1698 A
(\(len)168 1950 A
2160(>)S
2244(0\))S
2370({)S
1440 V
(36611)210 648 A
(regc\(*regparse++\);)756 2034 A
1530 V
(36612)210 648 A
(len--;)252 2034 A
1620 V
(36613)210 648 A
1698(})S
1710 V
(36614)210 648 A
(regc\('\\0'\);)462 1698 A
1800 V
(36615)210 648 A
1362(})S
1890 V
(36616)210 648 A
(break;)252 1362 A
1980 V
(36617)210 648 A
1110(})S
2070 V
(36618)210 648 A
2160 V
(36619)210 648 A
(return\(ret\);)504 1110 A
2250 V
(36620)210 648 A
1026(})S
2430 V
(36622)210 648 A
1026(/*)S
2520 V
(36623)210 648 A
1068(-)S
(regnode)294 1152 A
1488(-)S
(emit)168 1572 A
1782(a)S
(node)168 1866 A
2610 V
(36624)210 648 A
1068(*/)S
2700 V
(36625)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regnode\(op\))504 1572 A
2790 V
(36626)210 648 A
(char)168 1026 A
(op;)126 1236 A
2880 V
(36627)210 648 A
1026({)S
2970 V
(36628)210 648 A
(register)336 1110 A
(char)168 1488 A
(*ret;)210 1698 A
3060 V
(36629)210 648 A
(register)336 1110 A
(char)168 1488 A
(*ptr;)210 1698 A
3150 V
(36630)210 648 A
3240 V
(36631)210 648 A
(ret)126 1110 A
1278(=)S
(regcode;)336 1362 A
3330 V
(36632)210 648 A
1110(if)S
(\(ret)168 1236 A
1446(==)S
(&regdummy\))420 1572 A
2034({)S
3420 V
(36633)210 648 A
(regsize)294 1362 A
1698(+=)S
1824(3;)S
3510 V
(36634)210 648 A
(return\(ret\);)504 1362 A
3600 V
(36635)210 648 A
1110(})S
3690 V
(36636)210 648 A
(ptr)126 1110 A
1278(=)S
(ret;)168 1362 A
3780 V
(36637)210 648 A
(*ptr++)252 1110 A
1404(=)S
(op;)126 1488 A
3870 V
(36638)210 648 A
(*ptr++)252 1110 A
1404(=)S
('\\0';)210 1488 A
2370(/*)S
(Null)168 2496 A
("next")252 2706 A
(pointer.)336 3000 A
3378(*/)S
3960 V
(36639)210 648 A
(*ptr++)252 1110 A
1404(=)S
('\\0';)210 1488 A
4050 V
(36640)210 648 A
(regcode)294 1110 A
1446(=)S
(ptr;)168 1530 A
4140 V
(36641)210 648 A
4230 V
(36642)210 648 A
(return\(ret\);)504 1110 A
4320 V
(36643)210 648 A
1026(})S
4500 V
(36645)210 648 A
1026(/*)S
4590 V
(36646)210 648 A
1068(-)S
(regc)168 1152 A
1362(-)S
(emit)168 1446 A
(\(if)126 1656 A
(appropriate\))504 1824 A
2370(a)S
(byte)168 2454 A
2664(of)S
(code)168 2790 A
4680 V
(36647)210 648 A
1068(*/)S
4770 V
(36648)210 648 A
(PRIVATE)294 1026 A
(void)168 1362 A
(regc\(b\))294 1572 A
4860 V
(36649)210 648 A
(char)168 1026 A
1236(b;)S
4950 V
(36650)210 648 A
1026({)S
5040 V
(36651)210 648 A
1110(if)S
(\(regcode)336 1236 A
1614(!=)S
(&regdummy\))420 1740 A
5130 V
(36652)210 648 A
(*regcode++)420 1362 A
1824(=)S
1908(b;)S
5220 V
(36653)210 648 A
(else)168 1110 A
5310 V
(36654)210 648 A
(regsize++;)420 1362 A
5400 V
(36655)210 648 A
1026(})S
5580 V
(36657)210 648 A
1026(/*)S
5670 V
(36658)210 648 A
1068(-)S
(reginsert)378 1152 A
1572(-)S
(insert)252 1656 A
1950(an)S
(operator)336 2076 A
2454(in)S
(front)210 2580 A
2832(of)S
(already-emitted)630 2958 A
(operand)294 3630 A
5760 V
(36659)210 648 A
1068(*)S
5850 V
(36660)210 648 A
1068(*)S
(Means)210 1152 A
(relocating)420 1404 A
(the)126 1866 A
(operand.)336 2034 A
5940 V
(36661)210 648 A
1068(*/)S
6030 V
(36662)210 648 A
(PRIVATE)294 1026 A
(void)168 1362 A
(reginsert\(op,)546 1572 A
(opnd\))210 2160 A
6120 V
(36663)210 648 A
(char)168 1026 A
(op;)126 1236 A
6210 V
(36664)210 648 A
(char)168 1026 A
(*opnd;)252 1236 A
8418 V
EP
%%Page: 362 362
BP
/slant 0 def
/height 0 def
630 V
12 B
(362)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(36665)210 648 A
1026({)S
990 V
(36666)210 648 A
(register)336 1110 A
(char)168 1488 A
(*src;)210 1698 A
1080 V
(36667)210 648 A
(register)336 1110 A
(char)168 1488 A
(*dst;)210 1698 A
1170 V
(36668)210 648 A
(register)336 1110 A
(char)168 1488 A
(*place;)294 1698 A
1260 V
(36669)210 648 A
1350 V
(36670)210 648 A
1110(if)S
(\(regcode)336 1236 A
1614(==)S
(&regdummy\))420 1740 A
2202({)S
1440 V
(36671)210 648 A
(regsize)294 1362 A
1698(+=)S
1824(3;)S
1530 V
(36672)210 648 A
(return;)294 1362 A
1620 V
(36673)210 648 A
1110(})S
1710 V
(36674)210 648 A
(src)126 1110 A
1278(=)S
(regcode;)336 1362 A
1800 V
(36675)210 648 A
(regcode)294 1110 A
1446(+=)S
1572(3;)S
1890 V
(36676)210 648 A
(dst)126 1110 A
1278(=)S
(regcode;)336 1362 A
1980 V
(36677)210 648 A
(while)210 1110 A
(\(src)168 1362 A
1572(>)S
(opnd\))210 1656 A
(*--dst)252 1908 A
2202(=)S
(*--src;)294 2286 A
2070 V
(36678)210 648 A
2160 V
(36679)210 648 A
(place)210 1110 A
1362(=)S
(opnd;)210 1446 A
2370(/*)S
2496(Op)S
(node,)210 2622 A
(where)210 2874 A
(operand)294 3126 A
(used)168 3462 A
3672(to)S
(be.)126 3798 A
3966(*/)S
2250 V
(36680)210 648 A
(*place++)336 1110 A
1488(=)S
(op;)126 1572 A
2340 V
(36681)210 648 A
(*place++)336 1110 A
1488(=)S
('\\0';)210 1572 A
2430 V
(36682)210 648 A
(*place++)336 1110 A
1488(=)S
('\\0';)210 1572 A
2520 V
(36683)210 648 A
1026(})S
2700 V
(36685)210 648 A
1026(/*)S
2790 V
(36686)210 648 A
1068(-)S
(regtail)294 1152 A
1488(-)S
(set)126 1572 A
(the)126 1740 A
(next-pointer)504 1908 A
2454(at)S
(the)126 2580 A
(end)126 2748 A
2916(of)S
3042(a)S
(node)168 3126 A
(chain)210 3336 A
2880 V
(36687)210 648 A
1068(*/)S
2970 V
(36688)210 648 A
(PRIVATE)294 1026 A
(void)168 1362 A
(regtail\(p,)420 1572 A
(val\))168 2034 A
3060 V
(36689)210 648 A
(char)168 1026 A
(*p;)126 1236 A
3150 V
(36690)210 648 A
(char)168 1026 A
(*val;)210 1236 A
3240 V
(36691)210 648 A
1026({)S
3330 V
(36692)210 648 A
(register)336 1110 A
(char)168 1488 A
(*scan;)252 1698 A
3420 V
(36693)210 648 A
(register)336 1110 A
(char)168 1488 A
(*temp;)252 1698 A
3510 V
(36694)210 648 A
(register)336 1110 A
(int)126 1488 A
(offset;)294 1656 A
3600 V
(36695)210 648 A
3690 V
(36696)210 648 A
1110(if)S
1236(\(p)S
1362(==)S
(&regdummy\))420 1488 A
(return;)294 1950 A
3780 V
(36697)210 648 A
3870 V
(36698)210 648 A
1110(/*)S
(Find)168 1236 A
(last)168 1446 A
(node.)210 1656 A
1908(*/)S
3960 V
(36699)210 648 A
(scan)168 1110 A
1320(=)S
1404(p;)S
4050 V
(36700)210 648 A
(for)126 1110 A
(\(;;\))168 1278 A
1488({)S
4140 V
(36701)210 648 A
(temp)168 1362 A
1572(=)S
(regnext\(scan\);)588 1656 A
4230 V
(36702)210 648 A
1362(if)S
(\(temp)210 1488 A
1740(==)S
(\(char)210 1866 A
(*\)NULL\))294 2118 A
(break;)252 2454 A
4320 V
(36703)210 648 A
(scan)168 1362 A
1572(=)S
(temp;)210 1656 A
4410 V
(36704)210 648 A
1110(})S
4500 V
(36705)210 648 A
4590 V
(36706)210 648 A
1110(if)S
(\(OP\(scan\))378 1236 A
1656(==)S
(BACK\))210 1782 A
4680 V
(36707)210 648 A
(offset)252 1362 A
1656(=)S
(scan)168 1740 A
1950(-)S
(val;)168 2034 A
4770 V
(36708)210 648 A
(else)168 1110 A
4860 V
(36709)210 648 A
(offset)252 1362 A
1656(=)S
(val)126 1740 A
1908(-)S
(scan;)210 1992 A
4950 V
(36710)210 648 A
(*\(scan)252 1110 A
1404(+)S
1488(1\))S
1614(=)S
(\(offset)294 1698 A
2034(>>)S
2160(8\))S
2286(&)S
(0377;)210 2370 A
5040 V
(36711)210 648 A
(*\(scan)252 1110 A
1404(+)S
1488(2\))S
1614(=)S
(offset)252 1698 A
1992(&)S
(0377;)210 2076 A
5130 V
(36712)210 648 A
1026(})S
5310 V
(36714)210 648 A
1026(/*)S
5400 V
(36715)210 648 A
1068(-)S
(regoptail)378 1152 A
1572(-)S
(regtail)294 1656 A
1992(on)S
(operand)294 2118 A
2454(of)S
(first)210 2580 A
(argument;)378 2832 A
(nop)126 3252 A
3420(if)S
(operandless)462 3546 A
5490 V
(36716)210 648 A
1068(*/)S
5580 V
(36717)210 648 A
(PRIVATE)294 1026 A
(void)168 1362 A
(regoptail\(p,)504 1572 A
(val\))168 2118 A
5670 V
(36718)210 648 A
(char)168 1026 A
(*p;)126 1236 A
5760 V
(36719)210 648 A
(char)168 1026 A
(*val;)210 1236 A
5850 V
(36720)210 648 A
1026({)S
5940 V
(36721)210 648 A
1110(/*)S
("Operandless")546 1236 A
(and)126 1824 A
("op)126 1992 A
2160(!=)S
(BRANCH")294 2286 A
(are)126 2622 A
(synonymous)420 2790 A
3252(in)S
(practice.)378 3378 A
3798(*/)S
6030 V
(36722)210 648 A
1110(if)S
1236(\(p)S
1362(==)S
(\(char)210 1488 A
(*\)NULL)252 1740 A
2034(||)S
2160(p)S
2244(==)S
(&regdummy)378 2370 A
2790(||)S
(OP\(p\))210 2916 A
3168(!=)S
(BRANCH\))294 3294 A
(return;)294 3630 A
6120 V
(36723)210 648 A
(regtail\(OPERAND\(p\),)798 1110 A
(val\);)210 1950 A
6210 V
(36724)210 648 A
1026(})S
8418 V
EP
%%Page: 363 363
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(363)180 4248 A
990 V
7 LST
(36726)210 648 A
1026(/*)S
(regexec)294 1152 A
(and)126 1488 A
(friends)294 1656 A
1080 V
(36727)210 648 A
1068(*/)S
1170 V
(36728)210 648 A
1260 V
(36729)210 648 A
1026(/*)S
(Global)252 1152 A
(work)168 1446 A
(variables)378 1656 A
(for)126 2076 A
(regexec\(\).)420 2244 A
1350 V
(36730)210 648 A
1068(*/)S
1440 V
(36731)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*reginput;)420 1572 A
2370(/*)S
(String-input)504 2496 A
(pointer.)336 3042 A
3420(*/)S
1530 V
(36732)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regbol;)336 1572 A
2370(/*)S
(Beginning)378 2496 A
2916(of)S
(input,)252 3042 A
(for)126 3336 A
3504(\303)S
(check.)252 3588 A
3882(*/)S
1620 V
(36733)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(**regstartp;)504 1572 A
2370(/*)S
(Pointer)294 2496 A
2832(to)S
(startp)252 2958 A
(array.)252 3252 A
3546(*/)S
1710 V
(36734)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(**regendp;)420 1572 A
2370(/*)S
(Ditto)210 2496 A
(for)126 2748 A
(endp.)210 2916 A
3168(*/)S
1800 V
(36735)210 648 A
1890 V
(36736)210 648 A
1026(/*)S
(Forwards.)378 1152 A
1980 V
(36737)210 648 A
1068(*/)S
2070 V
(36738)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(int)126 1824 A
(regtry,)294 1992 A
(\(regexp)294 2328 A
(*prog,)252 2664 A
(char)168 2958 A
(*string\))336 3168 A
4050(\);)S
2160 V
(36739)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(int)126 1824 A
(regmatch,)378 1992 A
(\(char)210 2412 A
(*prog\))252 2664 A
4050(\);)S
2250 V
(36740)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(int)126 1824 A
(regrepeat,)420 1992 A
(\(char)210 2454 A
(*p\))126 2706 A
4050(\);)S
2340 V
(36741)210 648 A
2430 V
(36742)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2520 V
(36743)210 648 A
(int)126 1026 A
(regnarrate)420 1194 A
1656(=)S
1740(0;)S
2610 V
(36744)210 648 A
(void)168 1026 A
(regdump\(\);)420 1236 A
2700 V
(36745)210 648 A
(STATIC)252 1026 A
(_PROTOTYPE\()462 1320 A
(char)168 1824 A
(*regprop,)378 2034 A
(\(char)210 2454 A
(*op\))168 2706 A
4050(\);)S
2790 V
(36746)210 648 A
(#endif)252 1026 A
2880 V
(36747)210 648 A
2970 V
(36748)210 648 A
1026(/*)S
3060 V
(36749)210 648 A
1068(-)S
(regexec)294 1152 A
1488(-)S
(match)210 1572 A
1824(a)S
(regexp)252 1908 A
(against)294 2202 A
2538(a)S
(string)252 2622 A
3150 V
(36750)210 648 A
1068(*/)S
3240 V
(36751)210 648 A
(int)126 1026 A
(regexec\(prog,)546 1194 A
(string,)294 1782 A
(bolflag\))336 2118 A
3330 V
(36752)210 648 A
(register)336 1026 A
(regexp)252 1404 A
(*prog;)252 1698 A
3420 V
(36753)210 648 A
(register)336 1026 A
(char)168 1404 A
(*string;)336 1614 A
3510 V
(36754)210 648 A
(int)126 1026 A
(bolflag;)336 1194 A
3600 V
(36755)210 648 A
1026({)S
3690 V
(36756)210 648 A
(register)336 1110 A
(char)168 1488 A
(*s;)126 1698 A
3780 V
(36757)210 648 A
3870 V
(36758)210 648 A
1110(/*)S
1236(Be)S
(paranoid...)462 1362 A
1866(*/)S
3960 V
(36759)210 648 A
1110(if)S
(\(prog)210 1236 A
1488(==)S
(\(regexp)294 1614 A
(*\)NULL)252 1950 A
2244(||)S
(string)252 2370 A
2664(==)S
(\(char)210 2790 A
(*\)NULL\))294 3042 A
3378({)S
4050 V
(36760)210 648 A
(regerror\("NULL)588 1362 A
(parameter"\);)504 1992 A
4140 V
(36761)210 648 A
(return\(0\);)420 1362 A
4230 V
(36762)210 648 A
1110(})S
4320 V
(36763)210 648 A
4410 V
(36764)210 648 A
1110(/*)S
(Check)210 1236 A
(validity)336 1488 A
1866(of)S
(program.)336 1992 A
2370(*/)S
4500 V
(36765)210 648 A
1110(if)S
(\(UCHARAT\(prog->program\))966 1236 A
2244(!=)S
(MAGIC\))252 2370 A
2664({)S
4590 V
(36766)210 648 A
(regerror\("corrupted)798 1362 A
(program"\);)420 2202 A
4680 V
(36767)210 648 A
(return\(0\);)420 1362 A
4770 V
(36768)210 648 A
1110(})S
4860 V
(36769)210 648 A
4950 V
(36770)210 648 A
1110(/*)S
1236(If)S
(there)210 1362 A
1614(is)S
1740(a)S
("must)210 1824 A
(appear")294 2076 A
(string,)294 2412 A
(look)168 2748 A
(for)126 2958 A
(it.)126 3126 A
3294(*/)S
5040 V
(36771)210 648 A
1110(if)S
(\(prog->regmust)588 1236 A
1866(!=)S
(\(char)210 1992 A
(*\)NULL\))294 2244 A
2580({)S
5130 V
(36772)210 648 A
1362(s)S
1446(=)S
(string;)294 1530 A
5220 V
(36773)210 648 A
(while)210 1362 A
(\(\(s)126 1614 A
1782(=)S
(strchr\(s,)378 1866 A
(prog->regmust[0]\)\))756 2286 A
3084(!=)S
(\(char)210 3210 A
(*\)NULL\))294 3462 A
3798({)S
5310 V
(36774)210 648 A
1698(if)S
(\(strncmp\(s,)462 1824 A
(prog->regmust,)588 2328 A
(prog->regmlen\))588 2958 A
3588(==)S
3714(0\))S
5400 V
(36775)210 648 A
(break;)252 2034 A
2370(/*)S
(Found)210 2496 A
(it.)126 2748 A
2916(*/)S
5490 V
(36776)210 648 A
(s++;)168 1698 A
5580 V
(36777)210 648 A
1362(})S
5670 V
(36778)210 648 A
1362(if)S
1488(\(s)S
1614(==)S
(\(char)210 1740 A
(*\)NULL\))294 1992 A
2706(/*)S
(Not)126 2832 A
(present.)336 3000 A
3378(*/)S
5760 V
(36779)210 648 A
(return\(0\);)420 1698 A
5850 V
(36780)210 648 A
1110(})S
5940 V
(36781)210 648 A
6030 V
(36782)210 648 A
1110(/*)S
(Mark)168 1236 A
(beginning)378 1446 A
1866(of)S
(line)168 1992 A
(for)126 2202 A
2370(\303)S
2454(.)S
2538(*/)S
6120 V
(36783)210 648 A
1110(if)S
(\(bolflag\))378 1236 A
6210 V
(36784)210 648 A
(regbol)252 1362 A
1656(=)S
(string;)294 1740 A
8418 V
EP
%%Page: 364 364
BP
/slant 0 def
/height 0 def
630 V
12 B
(364)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(36785)210 648 A
(else)168 1110 A
990 V
(36786)210 648 A
(regbol)252 1362 A
1656(=)S
(\(char)210 1740 A
(*\)NULL;)294 1992 A
1080 V
(36787)210 648 A
1170 V
(36788)210 648 A
1110(/*)S
(Simplest)336 1236 A
(case:)210 1614 A
(anchored)336 1908 A
(match)210 2286 A
(need)168 2538 A
2748(be)S
(tried)210 2874 A
(only)168 3126 A
(once.)210 3336 A
3588(*/)S
1260 V
(36789)210 648 A
1110(if)S
(\(prog->reganch\))630 1236 A
(return\(regtry\(prog,)798 1908 A
(string\)\);)378 2748 A
1350 V
(36790)210 648 A
1440 V
(36791)210 648 A
1110(/*)S
(Messy)210 1236 A
(cases:)252 1488 A
(unanchored)420 1824 A
(match.)252 2286 A
2580(*/)S
1530 V
(36792)210 648 A
1110(s)S
1194(=)S
(string;)294 1278 A
1620 V
(36793)210 648 A
1110(if)S
(\(prog->regstart)630 1236 A
1908(!=)S
('\\0'\))210 2034 A
2370(/*)S
2496(We)S
(know)168 2622 A
(what)168 2832 A
(char)168 3042 A
3252(it)S
(must)168 3378 A
(start)210 3588 A
(with.)210 3840 A
4092(*/)S
1710 V
(36794)210 648 A
(while)210 1362 A
(\(\(s)126 1614 A
1782(=)S
(strchr\(s,)378 1866 A
(prog->regstart\)\))672 2286 A
3000(!=)S
(\(char)210 3126 A
(*\)NULL\))294 3378 A
3714({)S
1800 V
(36795)210 648 A
1698(if)S
(\(regtry\(prog,)546 1824 A
(s\)\))126 2412 A
(return\(1\);)420 2580 A
1890 V
(36796)210 648 A
(s++;)168 1698 A
1980 V
(36797)210 648 A
1362(})S
2070 V
(36798)210 648 A
(else)168 1110 A
2160 V
(36799)210 648 A
1362(/*)S
1488(We)S
(don't)210 1614 A
1866(--)S
(general)294 1992 A
(case.)210 2328 A
2580(*/)S
2250 V
(36800)210 648 A
1362(do)S
1488({)S
2340 V
(36801)210 648 A
1698(if)S
(\(regtry\(prog,)546 1824 A
(s\)\))126 2412 A
(return\(1\);)420 2580 A
2430 V
(36802)210 648 A
1362(})S
(while)210 1446 A
(\(*s++)210 1698 A
1950(!=)S
('\\0'\);)252 2076 A
2520 V
(36803)210 648 A
2610 V
(36804)210 648 A
1110(/*)S
(Failure.)336 1236 A
1614(*/)S
2700 V
(36805)210 648 A
(return\(0\);)420 1110 A
2790 V
(36806)210 648 A
1026(})S
2970 V
(36808)210 648 A
1026(/*)S
3060 V
(36809)210 648 A
1068(-)S
(regtry)252 1152 A
1446(-)S
(try)126 1530 A
(match)210 1698 A
1950(at)S
(specific)336 2076 A
(point)210 2454 A
3150 V
(36810)210 648 A
1068(*/)S
3240 V
(36811)210 648 A
(PRIVATE)294 1026 A
(int)126 1362 A
(regtry\(prog,)504 1530 A
(string\))294 2076 A
2496(/*)S
2622(0)S
(failure,)336 2706 A
3084(1)S
(success)294 3168 A
3504(*/)S
3330 V
(36812)210 648 A
(regexp)252 1026 A
(*prog;)252 1320 A
3420 V
(36813)210 648 A
(char)168 1026 A
(*string;)336 1236 A
3510 V
(36814)210 648 A
1026({)S
3600 V
(36815)210 648 A
(register)336 1110 A
(int)126 1488 A
1656(i;)S
3690 V
(36816)210 648 A
(register)336 1110 A
(char)168 1488 A
(**sp;)210 1698 A
3780 V
(36817)210 648 A
(register)336 1110 A
(char)168 1488 A
(**ep;)210 1698 A
3870 V
(36818)210 648 A
3960 V
(36819)210 648 A
(reginput)336 1110 A
1488(=)S
(string;)294 1572 A
4050 V
(36820)210 648 A
(regstartp)378 1110 A
1530(=)S
(prog->startp;)546 1614 A
4140 V
(36821)210 648 A
(regendp)294 1110 A
1446(=)S
(prog->endp;)462 1530 A
4230 V
(36822)210 648 A
4320 V
(36823)210 648 A
1110(sp)S
1236(=)S
(prog->startp;)546 1320 A
4410 V
(36824)210 648 A
1110(ep)S
1236(=)S
(prog->endp;)462 1320 A
4500 V
(36825)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
(NSUBEXP;)336 1488 A
1866(i)S
1950(>)S
2034(0;)S
(i--\))168 2160 A
2370({)S
4590 V
(36826)210 648 A
(*sp++)210 1362 A
1614(=)S
(\(char)210 1698 A
(*\)NULL;)294 1950 A
4680 V
(36827)210 648 A
(*ep++)210 1362 A
1614(=)S
(\(char)210 1698 A
(*\)NULL;)294 1950 A
4770 V
(36828)210 648 A
1110(})S
4860 V
(36829)210 648 A
1110(if)S
(\(regmatch\(prog->program)966 1236 A
2244(+)S
(1\)\))126 2328 A
2496({)S
4950 V
(36830)210 648 A
(prog->startp[0])630 1362 A
2034(=)S
(string;)294 2118 A
5040 V
(36831)210 648 A
(prog->endp[0])546 1362 A
1950(=)S
(reginput;)378 2034 A
5130 V
(36832)210 648 A
(return\(1\);)420 1362 A
5220 V
(36833)210 648 A
1110(})S
(else)168 1194 A
5310 V
(36834)210 648 A
(return\(0\);)420 1362 A
5400 V
(36835)210 648 A
1026(})S
5580 V
(36837)210 648 A
1026(/*)S
5670 V
(36838)210 648 A
1068(-)S
(regmatch)336 1152 A
1530(-)S
(main)168 1614 A
(matching)336 1824 A
(routine)294 2202 A
5760 V
(36839)210 648 A
1068(*)S
5850 V
(36840)210 648 A
1068(*)S
(Conceptually)504 1152 A
(the)126 1698 A
(strategy)336 1866 A
2244(is)S
(simple:)294 2370 A
(check)210 2748 A
3000(to)S
(see)126 3126 A
(whether)294 3294 A
(the)126 3630 A
(current)294 3798 A
5940 V
(36841)210 648 A
1068(*)S
(node)168 1152 A
(matches,)336 1362 A
(call)168 1740 A
(self)168 1950 A
(recursively)462 2160 A
2664(to)S
(see)126 2790 A
(whether)294 2958 A
(the)126 3294 A
(rest)168 3462 A
(matches,)336 3672 A
6030 V
(36842)210 648 A
1068(*)S
(and)126 1152 A
(then)168 1320 A
(act)126 1530 A
(accordingly.)504 1698 A
2286(In)S
(practice)336 2412 A
2790(we)S
(make)168 2916 A
(some)168 3126 A
(effort)252 3336 A
3630(to)S
(avoid)210 3756 A
6120 V
(36843)210 648 A
1068(*)S
(recursion,)420 1152 A
1614(in)S
(particular)420 1740 A
2202(by)S
(going)210 2328 A
(through)294 2580 A
("ordinary")420 2916 A
(nodes)210 3378 A
(\(that)210 3630 A
(don't)210 3882 A
6210 V
(36844)210 648 A
1068(*)S
(need)168 1152 A
1362(to)S
(know)168 1488 A
(whether)294 1698 A
(the)126 2034 A
(rest)168 2202 A
2412(of)S
(the)126 2538 A
(match)210 2706 A
(failed\))294 2958 A
3294(by)S
3420(a)S
(loop)168 3504 A
(instead)294 3714 A
4050(of)S
8418 V
EP
%%Page: 365 365
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(365)180 4248 A
900 V
7 LST
(36845)210 648 A
1068(*)S
1152(by)S
(recursion.)420 1278 A
990 V
(36846)210 648 A
1068(*/)S
1080 V
(36847)210 648 A
(PRIVATE)294 1026 A
(int)126 1362 A
(regmatch\(prog\))588 1530 A
2370(/*)S
2496(0)S
(failure,)336 2580 A
2958(1)S
(success)294 3042 A
3378(*/)S
1170 V
(36848)210 648 A
(char)168 1026 A
(*prog;)252 1236 A
1260 V
(36849)210 648 A
1026({)S
1350 V
(36850)210 648 A
(register)336 1110 A
(char)168 1488 A
(*scan;)252 1698 A
2370(/*)S
(Current)294 2496 A
(node.)210 2832 A
3084(*/)S
1440 V
(36851)210 648 A
(char)168 1110 A
(*next;)252 1320 A
2370(/*)S
(Next)168 2496 A
(node.)210 2706 A
2958(*/)S
1530 V
(36852)210 648 A
1620 V
(36853)210 648 A
(scan)168 1110 A
1320(=)S
(prog;)210 1404 A
1710 V
(36854)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
1800 V
(36855)210 648 A
1110(if)S
(\(scan)210 1236 A
1488(!=)S
(\(char)210 1614 A
(*\)NULL)252 1866 A
2160(&&)S
(regnarrate\))462 2286 A
(fprintf\(stderr,)630 2790 A
("%s\(\\n",)336 3462 A
(regprop\(scan\)\);)630 3840 A
1890 V
(36856)210 648 A
(#endif)252 1026 A
1980 V
(36857)210 648 A
(while)210 1110 A
(\(scan)210 1362 A
1614(!=)S
(\(char)210 1740 A
(*\)NULL\))294 1992 A
2328({)S
2070 V
(36858)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
2160 V
(36859)210 648 A
1362(if)S
(\(regnarrate\))504 1488 A
(fprintf\(stderr,)630 2034 A
("%s...\\n",)420 2706 A
(regprop\(scan\)\);)630 3168 A
2250 V
(36860)210 648 A
(#endif)252 1026 A
2340 V
(36861)210 648 A
(next)168 1362 A
1572(=)S
(regnext\(scan\);)588 1656 A
2430 V
(36862)210 648 A
2520 V
(36863)210 648 A
(switch)252 1362 A
(\(OP\(scan\)\))420 1656 A
2118({)S
2610 V
(36864)210 648 A
(case)168 1530 A
(BOL:)168 1740 A
2700 V
(36865)210 648 A
1698(if)S
(\(reginput)378 1824 A
2244(!=)S
(regbol\))294 2370 A
(return\(0\);)420 2706 A
2790 V
(36866)210 648 A
(break;)252 1698 A
2880 V
(36867)210 648 A
(case)168 1530 A
(EOL:)168 1740 A
2970 V
(36868)210 648 A
1698(if)S
(\(*reginput)420 1824 A
2286(!=)S
('\\0'\))210 2412 A
(return\(0\);)420 2664 A
3060 V
(36869)210 648 A
(break;)252 1698 A
3150 V
(36870)210 648 A
(case)168 1530 A
(ANY:)168 1740 A
3240 V
(36871)210 648 A
1698(if)S
(\(*reginput)420 1824 A
2286(==)S
('\\0'\))210 2412 A
(return\(0\);)420 2664 A
3330 V
(36872)210 648 A
(reginput++;)462 1698 A
3420 V
(36873)210 648 A
(break;)252 1698 A
3510 V
(36874)210 648 A
(case)168 1530 A
(EXACTLY:{)378 1740 A
3600 V
(36875)210 648 A
(register)336 2034 A
(int)126 2412 A
(len;)168 2580 A
3690 V
(36876)210 648 A
(register)336 2034 A
(char)168 2412 A
(*opnd;)252 2622 A
3780 V
(36877)210 648 A
3870 V
(36878)210 648 A
(opnd)168 2034 A
2244(=)S
(OPERAND\(scan\);)588 2328 A
3960 V
(36879)210 648 A
2034(/*)S
(Inline)252 2160 A
(the)126 2454 A
(first)210 2622 A
(character,)420 2874 A
(for)126 3336 A
(speed.)252 3504 A
3798(*/)S
4050 V
(36880)210 648 A
2034(if)S
(\(*opnd)252 2160 A
2454(!=)S
(*reginput\))420 2580 A
(return\(0\);)420 3042 A
4140 V
(36881)210 648 A
(len)126 2034 A
2202(=)S
(strlen\(opnd\);)546 2286 A
4230 V
(36882)210 648 A
2034(if)S
(\(len)168 2160 A
2370(>)S
2454(1)S
2538(&&)S
(strncmp\(opnd,)546 2664 A
(reginput,)378 3252 A
(len\))168 3672 A
3882(!=)S
4008(0\))S
4320 V
(36883)210 648 A
(return\(0\);)420 2370 A
4410 V
(36884)210 648 A
(reginput)336 2034 A
2412(+=)S
(len;)168 2538 A
4500 V
(36885)210 648 A
1698(})S
4590 V
(36886)210 648 A
(break;)252 1698 A
4680 V
(36887)210 648 A
(case)168 1530 A
(ANYOF:)252 1740 A
4770 V
(36888)210 648 A
1698(if)S
(\(*reginput)420 1824 A
2286(==)S
('\\0')168 2412 A
2622(||)S
(strchr\(OPERAND\(scan\),)882 2748 A
(*reginput\))420 3672 A
4134(==)S
(\(char)210 4260 A
(*\)NULL\))294 4512 A
4860 V
(36889)210 648 A
(return\(0\);)420 2034 A
4950 V
(36890)210 648 A
(reginput++;)462 1698 A
5040 V
(36891)210 648 A
(break;)252 1698 A
5130 V
(36892)210 648 A
(case)168 1530 A
(ANYBUT:)294 1740 A
5220 V
(36893)210 648 A
1698(if)S
(\(*reginput)420 1824 A
2286(==)S
('\\0')168 2412 A
2622(||)S
(strchr\(OPERAND\(scan\),)882 2748 A
(*reginput\))420 3672 A
4134(!=)S
(\(char)210 4260 A
(*\)NULL\))294 4512 A
5310 V
(36894)210 648 A
(return\(0\);)420 2034 A
5400 V
(36895)210 648 A
(reginput++;)462 1698 A
5490 V
(36896)210 648 A
(break;)252 1698 A
5580 V
(36897)210 648 A
(case)168 1530 A
(NOTHING:)336 1740 A
5670 V
(36898)210 648 A
(break;)252 1698 A
5760 V
(36899)210 648 A
(case)168 1530 A
(BACK:)210 1740 A
5850 V
(36900)210 648 A
(break;)252 1698 A
5940 V
(36901)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(1:)S
6030 V
(36902)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(2:)S
6120 V
(36903)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(3:)S
6210 V
(36904)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(4:)S
8418 V
EP
%%Page: 366 366
BP
/slant 0 def
/height 0 def
630 V
12 B
(366)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(36905)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(5:)S
990 V
(36906)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(6:)S
1080 V
(36907)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(7:)S
1170 V
(36908)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
2034(8:)S
1260 V
(36909)210 648 A
(case)168 1530 A
(OPEN)168 1740 A
1950(+)S
(9:{)126 2034 A
1350 V
(36910)210 648 A
(register)336 2034 A
(int)126 2412 A
(no;)126 2580 A
1440 V
(36911)210 648 A
(register)336 2034 A
(char)168 2412 A
(*save;)252 2622 A
1530 V
(36912)210 648 A
1620 V
(36913)210 648 A
2034(no)S
2160(=)S
(OP\(scan\))336 2244 A
2622(-)S
(OPEN;)210 2706 A
1710 V
(36914)210 648 A
(save)168 2034 A
2244(=)S
(reginput;)378 2328 A
1800 V
(36915)210 648 A
1890 V
(36916)210 648 A
2034(if)S
(\(regmatch\(next\)\))672 2160 A
2874({)S
1980 V
(36917)210 648 A
2370(/*)S
(Don't)210 2496 A
(set)126 2748 A
(startp)252 2916 A
3210(if)S
(some)168 3336 A
(later)210 3546 A
2070 V
(36918)210 648 A
2412(*)S
(invocation)420 2496 A
2958(of)S
(the)126 3084 A
(same)168 3252 A
(parentheses)462 3462 A
2160 V
(36919)210 648 A
2412(*)S
(already)294 2496 A
(has.)168 2832 A
3042(*/)S
2250 V
(36920)210 648 A
2370(if)S
(\(regstartp[no])588 2496 A
3126(==)S
(\(char)210 3252 A
(*\)NULL\))294 3504 A
2340 V
(36921)210 648 A
(regstartp[no])546 2706 A
3294(=)S
(save;)210 3378 A
2430 V
(36922)210 648 A
(return\(1\);)420 2370 A
2520 V
(36923)210 648 A
2034(})S
(else)168 2118 A
2610 V
(36924)210 648 A
(return\(0\);)420 2370 A
2700 V
(36925)210 648 A
1698(})S
2790 V
(36926)210 648 A
(break;)252 1698 A
2880 V
(36927)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(1:)S
2970 V
(36928)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(2:)S
3060 V
(36929)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(3:)S
3150 V
(36930)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(4:)S
3240 V
(36931)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(5:)S
3330 V
(36932)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(6:)S
3420 V
(36933)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(7:)S
3510 V
(36934)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
2076(8:)S
3600 V
(36935)210 648 A
(case)168 1530 A
(CLOSE)210 1740 A
1992(+)S
(9:{)126 2076 A
3690 V
(36936)210 648 A
(register)336 2034 A
(int)126 2412 A
(no;)126 2580 A
3780 V
(36937)210 648 A
(register)336 2034 A
(char)168 2412 A
(*save;)252 2622 A
3870 V
(36938)210 648 A
3960 V
(36939)210 648 A
2034(no)S
2160(=)S
(OP\(scan\))336 2244 A
2622(-)S
(CLOSE;)252 2706 A
4050 V
(36940)210 648 A
(save)168 2034 A
2244(=)S
(reginput;)378 2328 A
4140 V
(36941)210 648 A
4230 V
(36942)210 648 A
2034(if)S
(\(regmatch\(next\)\))672 2160 A
2874({)S
4320 V
(36943)210 648 A
2370(/*)S
(Don't)210 2496 A
(set)126 2748 A
(endp)168 2916 A
3126(if)S
(some)168 3252 A
(later)210 3462 A
4410 V
(36944)210 648 A
2412(*)S
(invocation)420 2496 A
2958(of)S
(the)126 3084 A
(same)168 3252 A
(parentheses)462 3462 A
4500 V
(36945)210 648 A
2412(*)S
(already)294 2496 A
(has.)168 2832 A
3042(*/)S
4590 V
(36946)210 648 A
2370(if)S
(\(regendp[no])504 2496 A
3042(==)S
(\(char)210 3168 A
(*\)NULL\))294 3420 A
(regendp[no])462 3756 A
4260(=)S
(save;)210 4344 A
4680 V
(36947)210 648 A
(return\(1\);)420 2370 A
4770 V
(36948)210 648 A
2034(})S
(else)168 2118 A
4860 V
(36949)210 648 A
(return\(0\);)420 2370 A
4950 V
(36950)210 648 A
1698(})S
5040 V
(36951)210 648 A
(break;)252 1698 A
5130 V
(36952)210 648 A
(case)168 1530 A
(BRANCH:{)336 1740 A
5220 V
(36953)210 648 A
(register)336 2034 A
(char)168 2412 A
(*save;)252 2622 A
5310 V
(36954)210 648 A
5400 V
(36955)210 648 A
2034(if)S
(\(OP\(next\))378 2160 A
2580(!=)S
(BRANCH\))294 2706 A
3042(/*)S
3168(No)S
(choice.)294 3294 A
3630(*/)S
5490 V
(36956)210 648 A
(next)168 2370 A
2580(=)S
(OPERAND\(scan\);)588 2664 A
3378(/*)S
(Avoid)210 3504 A
(recursion.)420 3756 A
4218(*/)S
5580 V
(36957)210 648 A
(else)168 2034 A
2244({)S
5670 V
(36958)210 648 A
2370(do)S
2496({)S
5760 V
(36959)210 648 A
(save)168 2706 A
2916(=)S
(reginput;)378 3000 A
5850 V
(36960)210 648 A
2706(if)S
(\(regmatch\(OPERAND\(scan\)\)\))1050 2832 A
5940 V
(36961)210 648 A
(return\(1\);)420 3042 A
6030 V
(36962)210 648 A
(reginput)336 2706 A
3084(=)S
(save;)210 3168 A
6120 V
(36963)210 648 A
(scan)168 2706 A
2916(=)S
(regnext\(scan\);)588 3000 A
6210 V
(36964)210 648 A
2370(})S
(while)210 2454 A
(\(scan)210 2706 A
2958(!=)S
(\(char)210 3084 A
(*\)NULL)252 3336 A
3630(&&)S
(OP\(scan\))336 3756 A
4134(==)S
(BRANCH\);)336 4260 A
8418 V
EP
%%Page: 367 367
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(367)180 4248 A
900 V
7 LST
(36965)210 648 A
(return\(0\);)420 2370 A
990 V
(36966)210 648 A
2370(/*)S
(NOTREACHED)420 2496 A
2958(*/)S
1080 V
(36967)210 648 A
2034(})S
1170 V
(36968)210 648 A
1698(})S
1260 V
(36969)210 648 A
(break;)252 1698 A
1350 V
(36970)210 648 A
(case)168 1530 A
(STAR:)210 1740 A
1440 V
(36971)210 648 A
(case)168 1530 A
(PLUS:{)252 1740 A
1530 V
(36972)210 648 A
(register)336 2034 A
(char)168 2412 A
(nextch;)294 2622 A
1620 V
(36973)210 648 A
(register)336 2034 A
(int)126 2412 A
(no;)126 2580 A
1710 V
(36974)210 648 A
(register)336 2034 A
(char)168 2412 A
(*save;)252 2622 A
1800 V
(36975)210 648 A
(register)336 2034 A
(int)126 2412 A
(min;)168 2580 A
1890 V
(36976)210 648 A
1980 V
(36977)210 648 A
2034(/*)S
(Lookahead)378 2160 A
2580(to)S
(avoid)210 2706 A
(useless)294 2958 A
(match)210 3294 A
(attempts)336 3546 A
2070 V
(36978)210 648 A
2076(*)S
(when)168 2160 A
2370(we)S
(know)168 2496 A
(what)168 2706 A
(character)378 2916 A
(comes)210 3336 A
(next.)210 3588 A
3840(*/)S
2160 V
(36979)210 648 A
(nextch)252 2034 A
2328(=)S
('\\0';)210 2412 A
2250 V
(36980)210 648 A
2034(if)S
(\(OP\(next\))378 2160 A
2580(==)S
(EXACTLY\))336 2706 A
(nextch)252 3084 A
3378(=)S
(*OPERAND\(next\);)630 3462 A
2340 V
(36981)210 648 A
(min)126 2034 A
2202(=)S
(\(OP\(scan\))378 2286 A
2706(==)S
(STAR\))210 2832 A
3084(?)S
3168(0)S
3252(:)S
3336(1;)S
2430 V
(36982)210 648 A
(save)168 2034 A
2244(=)S
(reginput;)378 2328 A
2520 V
(36983)210 648 A
2034(no)S
2160(=)S
(regrepeat\(OPERAND\(scan\)\);)1050 2244 A
2610 V
(36984)210 648 A
(while)210 2034 A
(\(no)126 2286 A
2454(>=)S
(min\))168 2580 A
2790({)S
2700 V
(36985)210 648 A
2370(/*)S
2496(If)S
2622(it)S
(could)210 2748 A
(work,)210 3000 A
(try)126 3252 A
(it.)126 3420 A
3588(*/)S
2790 V
(36986)210 648 A
2370(if)S
(\(nextch)294 2496 A
2832(==)S
('\\0')168 2958 A
3168(||)S
(*reginput)378 3294 A
3714(==)S
(nextch\))294 3840 A
2880 V
(36987)210 648 A
2706(if)S
(\(regmatch\(next\)\))672 2832 A
(return\(1\);)420 3546 A
2970 V
(36988)210 648 A
2370(/*)S
(Couldn't)336 2496 A
2874(or)S
(didn't)252 3000 A
3294(--)S
(back)168 3420 A
(up.)126 3630 A
3798(*/)S
3060 V
(36989)210 648 A
(no--;)210 2370 A
3150 V
(36990)210 648 A
(reginput)336 2370 A
2748(=)S
(save)168 2832 A
3042(+)S
(no;)126 3126 A
3240 V
(36991)210 648 A
2034(})S
3330 V
(36992)210 648 A
(return\(0\);)420 2034 A
3420 V
(36993)210 648 A
1698(})S
3510 V
(36994)210 648 A
(break;)252 1698 A
3600 V
(36995)210 648 A
(case)168 1530 A
(END:)168 1740 A
3690 V
(36996)210 648 A
(return\(1\);)420 1698 A
2370(/*)S
(Success!)336 2496 A
2874(*/)S
3780 V
(36997)210 648 A
(break;)252 1698 A
3870 V
(36998)210 648 A
(default:)336 1530 A
3960 V
(36999)210 648 A
(regerror\("memory)672 1698 A
(corruption"\);)546 2412 A
4050 V
(37000)210 648 A
(return\(0\);)420 1698 A
4140 V
(37001)210 648 A
(break;)252 1698 A
4230 V
(37002)210 648 A
1362(})S
4320 V
(37003)210 648 A
4410 V
(37004)210 648 A
(scan)168 1362 A
1572(=)S
(next;)210 1656 A
4500 V
(37005)210 648 A
1110(})S
4590 V
(37006)210 648 A
4680 V
(37007)210 648 A
1110(/*)S
1236(We)S
(get)126 1362 A
(here)168 1530 A
(only)168 1740 A
1950(if)S
(there's)294 2076 A
(trouble)294 2412 A
2748(--)S
(normally)336 2874 A
("case)210 3252 A
(END")168 3504 A
3714(is)S
(the)126 3840 A
4770 V
(37008)210 648 A
1152(*)S
(terminating)462 1236 A
(point.)252 1740 A
2034(*/)S
4860 V
(37009)210 648 A
(regerror\("corrupted)798 1110 A
(pointers"\);)462 1950 A
4950 V
(37010)210 648 A
(return\(0\);)420 1110 A
5040 V
(37011)210 648 A
1026(})S
5220 V
(37013)210 648 A
1026(/*)S
5310 V
(37014)210 648 A
1068(-)S
(regrepeat)378 1152 A
1572(-)S
(repeatedly)420 1656 A
(match)210 2118 A
(something)378 2370 A
(simple,)294 2790 A
(report)252 3126 A
(how)126 3420 A
(many)168 3588 A
5400 V
(37015)210 648 A
1068(*/)S
5490 V
(37016)210 648 A
(PRIVATE)294 1026 A
(int)126 1362 A
(regrepeat\(p\))504 1530 A
5580 V
(37017)210 648 A
(char)168 1026 A
(*p;)126 1236 A
5670 V
(37018)210 648 A
1026({)S
5760 V
(37019)210 648 A
(register)336 1110 A
(int)126 1488 A
(count)210 1656 A
1908(=)S
1992(0;)S
5850 V
(37020)210 648 A
(register)336 1110 A
(char)168 1488 A
(*scan;)252 1698 A
5940 V
(37021)210 648 A
(register)336 1110 A
(char)168 1488 A
(*opnd;)252 1698 A
6030 V
(37022)210 648 A
6120 V
(37023)210 648 A
(scan)168 1110 A
1320(=)S
(reginput;)378 1404 A
6210 V
(37024)210 648 A
(opnd)168 1110 A
1320(=)S
(OPERAND\(p\);)462 1404 A
8418 V
EP
%%Page: 368 368
BP
/slant 0 def
/height 0 def
630 V
12 B
(368)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(37025)210 648 A
(switch)252 1110 A
(\(OP\(p\)\))294 1404 A
1740({)S
990 V
(37026)210 648 A
(case)168 1278 A
(ANY:)168 1488 A
1080 V
(37027)210 648 A
(count)210 1362 A
1614(=)S
(strlen\(scan\);)546 1698 A
1170 V
(37028)210 648 A
(scan)168 1362 A
1572(+=)S
(count;)252 1698 A
1260 V
(37029)210 648 A
(break;)252 1362 A
1350 V
(37030)210 648 A
(case)168 1278 A
(EXACTLY:)336 1488 A
1440 V
(37031)210 648 A
(while)210 1362 A
(\(*opnd)252 1614 A
1908(==)S
(*scan\))252 2034 A
2328({)S
1530 V
(37032)210 648 A
(count++;)336 1698 A
1620 V
(37033)210 648 A
(scan++;)294 1698 A
1710 V
(37034)210 648 A
1362(})S
1800 V
(37035)210 648 A
(break;)252 1362 A
1890 V
(37036)210 648 A
(case)168 1278 A
(ANYOF:)252 1488 A
1980 V
(37037)210 648 A
(while)210 1362 A
(\(*scan)252 1614 A
1908(!=)S
('\\0')168 2034 A
2244(&&)S
(strchr\(opnd,)504 2370 A
(*scan\))252 2916 A
3210(!=)S
(\(char)210 3336 A
(*\)NULL\))294 3588 A
3924({)S
2070 V
(37038)210 648 A
(count++;)336 1698 A
2160 V
(37039)210 648 A
(scan++;)294 1698 A
2250 V
(37040)210 648 A
1362(})S
2340 V
(37041)210 648 A
(break;)252 1362 A
2430 V
(37042)210 648 A
(case)168 1278 A
(ANYBUT:)294 1488 A
2520 V
(37043)210 648 A
(while)210 1362 A
(\(*scan)252 1614 A
1908(!=)S
('\\0')168 2034 A
2244(&&)S
(strchr\(opnd,)504 2370 A
(*scan\))252 2916 A
3210(==)S
(\(char)210 3336 A
(*\)NULL\))294 3588 A
3924({)S
2610 V
(37044)210 648 A
(count++;)336 1698 A
2700 V
(37045)210 648 A
(scan++;)294 1698 A
2790 V
(37046)210 648 A
1362(})S
2880 V
(37047)210 648 A
(break;)252 1362 A
2970 V
(37048)210 648 A
(default:)336 1278 A
2370(/*)S
2496(Oh)S
(dear.)210 2622 A
(Called)252 2916 A
(inappropriately.)672 3210 A
3924(*/)S
3060 V
(37049)210 648 A
(regerror\("internal)756 1362 A
(foulup"\);)378 2160 A
3150 V
(37050)210 648 A
(count)210 1362 A
1614(=)S
1698(0;)S
2370(/*)S
(Best)168 2496 A
(compromise.)462 2706 A
3210(*/)S
3240 V
(37051)210 648 A
(break;)252 1362 A
3330 V
(37052)210 648 A
1110(})S
3420 V
(37053)210 648 A
(reginput)336 1110 A
1488(=)S
(scan;)210 1572 A
3510 V
(37054)210 648 A
3600 V
(37055)210 648 A
(return\(count\);)588 1110 A
3690 V
(37056)210 648 A
1026(})S
3870 V
(37058)210 648 A
1026(/*)S
3960 V
(37059)210 648 A
1068(-)S
(regnext)294 1152 A
1488(-)S
(dig)126 1572 A
(the)126 1740 A
("next")252 1908 A
(pointer)294 2202 A
(out)126 2538 A
2706(of)S
2832(a)S
(node)168 2916 A
4050 V
(37060)210 648 A
1068(*/)S
4140 V
(37061)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regnext\(p\))462 1572 A
4230 V
(37062)210 648 A
(register)336 1026 A
(char)168 1404 A
(*p;)126 1614 A
4320 V
(37063)210 648 A
1026({)S
4410 V
(37064)210 648 A
(register)336 1110 A
(int)126 1488 A
(offset;)294 1656 A
4500 V
(37065)210 648 A
4590 V
(37066)210 648 A
1110(if)S
1236(\(p)S
1362(==)S
(&regdummy\))420 1488 A
(return\(\(char)504 1950 A
(*\)NULL\);)336 2496 A
4680 V
(37067)210 648 A
4770 V
(37068)210 648 A
(offset)252 1110 A
1404(=)S
(NEXT\(p\);)336 1488 A
4860 V
(37069)210 648 A
1110(if)S
(\(offset)294 1236 A
1572(==)S
1698(0\))S
(return\(\(char)504 1824 A
(*\)NULL\);)336 2370 A
4950 V
(37070)210 648 A
5040 V
(37071)210 648 A
1110(if)S
(\(OP\(p\))252 1236 A
1530(==)S
(BACK\))210 1656 A
5130 V
(37072)210 648 A
(return\(p)336 1362 A
1740(-)S
(offset\);)336 1824 A
5220 V
(37073)210 648 A
(else)168 1110 A
5310 V
(37074)210 648 A
(return\(p)336 1362 A
1740(+)S
(offset\);)336 1824 A
5400 V
(37075)210 648 A
1026(})S
5580 V
(37077)210 648 A
(#ifdef)252 1026 A
(DEBUG)210 1320 A
5670 V
(37078)210 648 A
5760 V
(37079)210 648 A
(STATIC)252 1026 A
(char)168 1320 A
(*regprop\(\);)462 1530 A
5850 V
(37080)210 648 A
5940 V
(37081)210 648 A
1026(/*)S
6030 V
(37082)210 648 A
1068(-)S
(regdump)294 1152 A
1488(-)S
(dump)168 1572 A
1782(a)S
(regexp)252 1866 A
(onto)168 2160 A
(stdout)252 2370 A
2664(in)S
(vaguely)294 2790 A
(comprehensible)588 3126 A
(form)168 3756 A
6120 V
(37083)210 648 A
1068(*/)S
6210 V
(37084)210 648 A
(void)168 1026 A
(regdump\(r\))420 1236 A
8418 V
EP
%%Page: 369 369
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
12 B
(369)180 4248 A
900 V
7 LST
(37085)210 648 A
(regexp)252 1026 A
(*r;)126 1320 A
990 V
(37086)210 648 A
1026({)S
1080 V
(37087)210 648 A
(register)336 1110 A
(char)168 1488 A
(*s;)126 1698 A
1170 V
(37088)210 648 A
(register)336 1110 A
(char)168 1488 A
1698(op)S
1824(=)S
(EXACTLY;)336 1908 A
2370(/*)S
(Arbitrary)378 2496 A
(non-END)294 2916 A
(op.)126 3252 A
3420(*/)S
1260 V
(37089)210 648 A
(register)336 1110 A
(char)168 1488 A
(*next;)252 1698 A
1350 V
(37090)210 648 A
1440 V
(37091)210 648 A
1110(s)S
1194(=)S
(r->program)420 1278 A
1740(+)S
1824(1;)S
1530 V
(37092)210 648 A
(while)210 1110 A
(\(op)126 1362 A
1530(!=)S
(END\))168 1656 A
1866({)S
2370(/*)S
(While)210 2496 A
(that)168 2748 A
(wasn't)252 2958 A
(END)126 3252 A
(last)168 3420 A
(time...)294 3630 A
3966(*/)S
1620 V
(37093)210 648 A
1362(op)S
1488(=)S
(OP\(s\);)252 1572 A
1710 V
(37094)210 648 A
(printf\("%2d%s",)630 1362 A
(\(int\))210 2034 A
2286(\(s)S
2412(-)S
(r->program\),)504 2496 A
(regprop\(s\)\);)504 3042 A
3714(/*)S
(Where,)252 3840 A
(what.)210 4134 A
4386(*/)S
1800 V
(37095)210 648 A
(next)168 1362 A
1572(=)S
(regnext\(s\);)462 1656 A
1890 V
(37096)210 648 A
1362(if)S
(\(next)210 1488 A
1740(==)S
(\(char)210 1866 A
(*\)NULL\))294 2118 A
2706(/*)S
(Next)168 2832 A
(ptr.)168 3042 A
3252(*/)S
1980 V
(37097)210 648 A
(printf\("\(0\)"\);)588 1698 A
2070 V
(37098)210 648 A
(else)168 1362 A
2160 V
(37099)210 648 A
(printf\("\(%d\)",)588 1698 A
(\(int\))210 2328 A
2580(\(s)S
2706(-)S
(r->program\))462 2790 A
3294(+)S
(\(int\))210 3378 A
(\(next)210 3630 A
3882(-)S
(s\)\);)168 3966 A
2250 V
(37100)210 648 A
1362(s)S
1446(+=)S
1572(3;)S
2340 V
(37101)210 648 A
1362(if)S
(\(op)126 1488 A
1656(==)S
(ANYOF)210 1782 A
2034(||)S
2160(op)S
2286(==)S
(ANYBUT)252 2412 A
2706(||)S
2832(op)S
2958(==)S
(EXACTLY\))336 3084 A
3462({)S
2430 V
(37102)210 648 A
1698(/*)S
(Literal)294 1824 A
(string,)294 2160 A
(where)210 2496 A
(present.)336 2748 A
3126(*/)S
2520 V
(37103)210 648 A
(while)210 1698 A
(\(*s)126 1950 A
2118(!=)S
('\\0'\))210 2244 A
2496({)S
2610 V
(37104)210 648 A
(putchar\(*s\);)504 2034 A
2700 V
(37105)210 648 A
(s++;)168 2034 A
2790 V
(37106)210 648 A
1698(})S
2880 V
(37107)210 648 A
(s++;)168 1698 A
2970 V
(37108)210 648 A
1362(})S
3060 V
(37109)210 648 A
(putchar\('\\n'\);)588 1362 A
3150 V
(37110)210 648 A
1110(})S
3240 V
(37111)210 648 A
3330 V
(37112)210 648 A
1110(/*)S
(Header)252 1236 A
(fields)252 1530 A
1824(of)S
(interest.)378 1950 A
2370(*/)S
3420 V
(37113)210 648 A
1110(if)S
(\(r->regstart)504 1236 A
1782(!=)S
('\\0'\))210 1908 A
(printf\("start)546 2160 A
2748(c')S
2874(",)S
(r->regstart\);)546 3000 A
3510 V
(37114)210 648 A
1110(if)S
(\(r->reganch\))504 1236 A
(printf\("anchored)672 1782 A
("\);)126 2496 A
3600 V
(37115)210 648 A
1110(if)S
(\(r->regmust)462 1236 A
1740(!=)S
(\(char)210 1866 A
(*\)NULL\))294 2118 A
(printf\("must)504 2454 A
(have)168 3000 A
(\\"%s\\"",)336 3210 A
(r->regmust\);)504 3588 A
3690 V
(37116)210 648 A
(printf\("\\n"\);)546 1110 A
3780 V
(37117)210 648 A
1026(})S
3960 V
(37119)210 648 A
1026(/*)S
4050 V
(37120)210 648 A
1068(-)S
(regprop)294 1152 A
1488(-)S
(printable)378 1572 A
(representation)588 1992 A
2622(of)S
(opcode)252 2748 A
4140 V
(37121)210 648 A
1068(*/)S
4230 V
(37122)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(*regprop\(op\))504 1572 A
4320 V
(37123)210 648 A
(char)168 1026 A
(*op;)168 1236 A
4410 V
(37124)210 648 A
1026({)S
4500 V
(37125)210 648 A
(register)336 1110 A
(char)168 1488 A
(*p;)126 1698 A
4590 V
(37126)210 648 A
(PRIVATE)294 1110 A
(char)168 1446 A
(buf[50];)336 1656 A
4680 V
(37127)210 648 A
4770 V
(37128)210 648 A
(\(void\))252 1110 A
(strcpy\(buf,)462 1404 A
(":"\);)210 1908 A
4860 V
(37129)210 648 A
4950 V
(37130)210 648 A
(switch)252 1110 A
(\(OP\(op\)\))336 1404 A
1782({)S
5040 V
(37131)210 648 A
(case)168 1278 A
(BOL:)168 1488 A
1698(p)S
1782(=)S
("BOL";)252 1866 A
(break;)252 2706 A
5130 V
(37132)210 648 A
(case)168 1278 A
(EOL:)168 1488 A
1698(p)S
1782(=)S
("EOL";)252 1866 A
(break;)252 2706 A
5220 V
(37133)210 648 A
(case)168 1278 A
(ANY:)168 1488 A
1698(p)S
1782(=)S
("ANY";)252 1866 A
(break;)252 2706 A
5310 V
(37134)210 648 A
(case)168 1278 A
(ANYOF:)252 1488 A
2034(p)S
2118(=)S
("ANYOF";)336 2202 A
(break;)252 3042 A
5400 V
(37135)210 648 A
(case)168 1278 A
(ANYBUT:)294 1488 A
2034(p)S
2118(=)S
("ANYBUT";)378 2202 A
(break;)252 3042 A
5490 V
(37136)210 648 A
(case)168 1278 A
(BRANCH:)294 1488 A
2034(p)S
2118(=)S
("BRANCH";)378 2202 A
(break;)252 3042 A
5580 V
(37137)210 648 A
(case)168 1278 A
(EXACTLY:)336 1488 A
2034(p)S
2118(=)S
("EXACTLY";)420 2202 A
(break;)252 3042 A
5670 V
(37138)210 648 A
(case)168 1278 A
(NOTHING:)336 1488 A
2034(p)S
2118(=)S
("NOTHING";)420 2202 A
(break;)252 3042 A
5760 V
(37139)210 648 A
(case)168 1278 A
(BACK:)210 1488 A
2034(p)S
2118(=)S
("BACK";)294 2202 A
(break;)252 3042 A
5850 V
(37140)210 648 A
(case)168 1278 A
(END:)168 1488 A
1698(p)S
1782(=)S
("END";)252 1866 A
(break;)252 2706 A
5940 V
(37141)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(1:)S
6030 V
(37142)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(2:)S
6120 V
(37143)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(3:)S
6210 V
(37144)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(4:)S
8418 V
EP
%%Page: 370 370
BP
/slant 0 def
/height 0 def
630 V
12 B
(370)180 648 A
11 R
1947(File:)S
(src/lib/other/regexp.c)948 2180 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(37145)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(5:)S
990 V
(37146)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(6:)S
1080 V
(37147)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(7:)S
1170 V
(37148)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(8:)S
1260 V
(37149)210 648 A
(case)168 1278 A
(OPEN)168 1488 A
1698(+)S
1782(9:)S
1350 V
(37150)210 648 A
(sprintf\(buf)462 1362 A
1866(+)S
(strlen\(buf\),)504 1950 A
("OPEN%d",)378 2496 A
(OP\(op\))252 2916 A
3210(-)S
(OPEN\);)252 3294 A
1440 V
(37151)210 648 A
1362(p)S
1446(=)S
(\(char)210 1530 A
(*\)NULL;)294 1782 A
1530 V
(37152)210 648 A
(break;)252 1362 A
1620 V
(37153)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(1:)S
1710 V
(37154)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(2:)S
1800 V
(37155)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(3:)S
1890 V
(37156)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(4:)S
1980 V
(37157)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(5:)S
2070 V
(37158)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(6:)S
2160 V
(37159)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(7:)S
2250 V
(37160)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(8:)S
2340 V
(37161)210 648 A
(case)168 1278 A
(CLOSE)210 1488 A
1740(+)S
1824(9:)S
2430 V
(37162)210 648 A
(sprintf\(buf)462 1362 A
1866(+)S
(strlen\(buf\),)504 1950 A
("CLOSE%d",)420 2496 A
(OP\(op\))252 2958 A
3252(-)S
(CLOSE\);)294 3336 A
2520 V
(37163)210 648 A
1362(p)S
1446(=)S
(\(char)210 1530 A
(*\)NULL;)294 1782 A
2610 V
(37164)210 648 A
(break;)252 1362 A
2700 V
(37165)210 648 A
(case)168 1278 A
(STAR:)210 1488 A
2034(p)S
2118(=)S
("STAR";)294 2202 A
(break;)252 3042 A
2790 V
(37166)210 648 A
(case)168 1278 A
(PLUS:)210 1488 A
2034(p)S
2118(=)S
("PLUS";)294 2202 A
(break;)252 3042 A
2880 V
(37167)210 648 A
(default:)336 1278 A
(regerror\("corrupted)798 1698 A
(opcode"\);)378 2538 A
2958(p)S
3042(=)S
(\(char)210 3126 A
3378(*\))S
(NULL;)210 3504 A
(break;)252 3756 A
2970 V
(37168)210 648 A
1110(})S
3060 V
(37169)210 648 A
1110(if)S
1236(\(p)S
1362(!=)S
(\(char)210 1488 A
(*\)NULL\))294 1740 A
(\(void\))252 2076 A
(strcat\(buf,)462 2370 A
(p\);)126 2874 A
3150 V
(37170)210 648 A
(return\(buf\);)504 1110 A
3240 V
(37171)210 648 A
1026(})S
3420 V
(37173)210 648 A
(#endif)252 1026 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/other/regsub.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(37200)210 648 A
1026(/*)S
(regsub)252 1152 A
4140 V
(37201)210 648 A
1068(*)S
4230 V
(37202)210 648 A
1068(*)S
(Copyright)378 1362 A
(\(c\))126 1782 A
(1986)168 1950 A
2160(by)S
(University)420 2286 A
2748(of)S
(Toronto.)336 2874 A
4320 V
(37203)210 648 A
1068(*)S
(Written)294 1362 A
1698(by)S
(Henry)210 1824 A
(Spencer.)336 2076 A
(Not)126 2496 A
(derived)294 2664 A
(from)168 3000 A
(licensed)336 3210 A
(software.)378 3588 A
4410 V
(37204)210 648 A
1068(*)S
4500 V
(37205)210 648 A
1068(*)S
(Permission)420 1362 A
1824(is)S
(granted)294 1950 A
2286(to)S
(anyone)252 2412 A
2706(to)S
(use)126 2832 A
(this)168 3000 A
(software)336 3210 A
(for)126 3588 A
(any)126 3756 A
4590 V
(37206)210 648 A
1068(*)S
(purpose)294 1362 A
1698(on)S
(any)126 1824 A
(computer)336 1992 A
(system,)294 2370 A
(and)126 2706 A
2874(to)S
(redistribute)504 3000 A
3546(it)S
(freely,)294 3672 A
4680 V
(37207)210 648 A
1068(*)S
(subject)294 1362 A
1698(to)S
(the)126 1824 A
(following)378 1992 A
(restrictions:)546 2412 A
4770 V
(37208)210 648 A
1068(*)S
4860 V
(37209)210 648 A
1068(*)S
1362(1.)S
(The)126 1488 A
(author)252 1656 A
1950(is)S
(not)126 2076 A
(responsible)462 2244 A
(for)126 2748 A
(the)126 2916 A
(consequences)504 3084 A
3630(of)S
(use)126 3756 A
3924(of)S
4950 V
(37210)210 648 A
1068(*)S
(this)168 1698 A
(software,)378 1908 A
2328(no)S
(matter)252 2454 A
(how)126 2748 A
(awful,)252 2916 A
(even)168 3210 A
3420(if)S
(they)168 3546 A
(arise)210 3756 A
5040 V
(37211)210 648 A
1068(*)S
(from)168 1698 A
(defects)294 1908 A
2244(in)S
(it.)126 2370 A
5130 V
(37212)210 648 A
1068(*)S
5220 V
(37213)210 648 A
1068(*)S
1362(2.)S
(The)126 1488 A
(origin)252 1656 A
1950(of)S
(this)168 2076 A
(software)336 2286 A
(must)168 2664 A
(not)126 2874 A
3042(be)S
(misrepresented,)630 3168 A
(either)252 3840 A
5310 V
(37214)210 648 A
1068(*)S
1698(by)S
(explicit)336 1824 A
(claim)210 2202 A
2454(or)S
2580(by)S
(omission.)378 2706 A
5400 V
(37215)210 648 A
1068(*)S
5490 V
(37216)210 648 A
1068(*)S
1362(3.)S
(Altered)294 1488 A
(versions)336 1824 A
(must)168 2202 A
2412(be)S
(plainly)294 2538 A
(marked)252 2874 A
3168(as)S
(such,)210 3294 A
(and)126 3546 A
(must)168 3714 A
(not)126 3924 A
5580 V
(37217)210 648 A
1068(*)S
1698(be)S
(misrepresented)588 1824 A
2454(as)S
(being)210 2580 A
(the)126 2832 A
(original)336 3000 A
(software.)378 3378 A
5670 V
(37218)210 648 A
1068(*/)S
5760 V
(37219)210 648 A
5850 V
(37220)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5940 V
(37221)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
6030 V
(37222)210 648 A
(#include)336 1026 A
(<regexp.h>)420 1404 A
6120 V
(37223)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
6210 V
(37224)210 648 A
8418 V
EP
%%Page: 371 371
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/other/regsub.c)941 2184 A
12 B
(371)180 4248 A
900 V
7 LST
(37225)210 648 A
1026(/*)S
(The)126 1152 A
(first)210 1320 A
(byte)168 1572 A
1782(of)S
(the)126 1908 A
(regexp)252 2076 A
(internal)336 2370 A
("program")378 2748 A
3168(is)S
(actually)336 3294 A
(this)168 3672 A
(magic)210 3882 A
990 V
(37226)210 648 A
1068(*)S
(number;)294 1152 A
(the)126 1488 A
(start)210 1656 A
(node)168 1908 A
(begins)252 2118 A
2412(in)S
(the)126 2538 A
(second)252 2706 A
(byte.)210 3000 A
1080 V
(37227)210 648 A
1068(*/)S
1170 V
(37228)210 648 A
(#define)294 1026 A
(MAGIC)210 1362 A
(0234)168 1698 A
1260 V
(37229)210 648 A
1350 V
(37230)210 648 A
(#define)294 1026 A
(CHARBITS)336 1362 A
(0377)168 1740 A
1440 V
(37231)210 648 A
(#ifndef)294 1026 A
(CHARBITS)336 1362 A
1530 V
(37232)210 648 A
(#define)294 1026 A
(UCHARAT\(p\))420 1362 A
(\(\(int\)*\(unsigned)672 2034 A
(char)168 2748 A
(*\)\(p\)\))252 2958 A
1620 V
(37233)210 648 A
(#else)210 1026 A
1710 V
(37234)210 648 A
(#define)294 1026 A
(UCHARAT\(p\))420 1362 A
(\(\(int\)*\(p\)&CHARBITS\))840 2034 A
1800 V
(37235)210 648 A
(#endif)252 1026 A
1890 V
(37236)210 648 A
1980 V
(37237)210 648 A
1026(/*)S
2070 V
(37238)210 648 A
1068(-)S
(regsub)252 1152 A
1446(-)S
(perform)294 1530 A
(substitutions)546 1866 A
(after)210 2454 A
2706(a)S
(regexp)252 2790 A
(match)210 3084 A
2160 V
(37239)210 648 A
1068(*/)S
2250 V
(37240)210 648 A
(void)168 1026 A
(regsub\(prog,)504 1236 A
(source,)294 1782 A
(dest\))210 2118 A
2340 V
(37241)210 648 A
(regexp)252 1026 A
(*prog;)252 1320 A
2430 V
(37242)210 648 A
(char)168 1026 A
(*source;)336 1236 A
2520 V
(37243)210 648 A
(char)168 1026 A
(*dest;)252 1236 A
2610 V
(37244)210 648 A
1026({)S
2700 V
(37245)210 648 A
(register)336 1110 A
(char)168 1488 A
(*src;)210 1698 A
2790 V
(37246)210 648 A
(register)336 1110 A
(char)168 1488 A
(*dst;)210 1698 A
2880 V
(37247)210 648 A
(register)336 1110 A
(char)168 1488 A
1698(c;)S
2970 V
(37248)210 648 A
(register)336 1110 A
(int)126 1488 A
(no;)126 1656 A
3060 V
(37249)210 648 A
(register)336 1110 A
(int)126 1488 A
(len;)168 1656 A
3150 V
(37250)210 648 A
3240 V
(37251)210 648 A
1110(if)S
(\(prog)210 1236 A
1488(==)S
(\(regexp)294 1614 A
(*\)NULL)252 1950 A
2244(||)S
(source)252 2370 A
2664(==)S
(\(char)210 2790 A
(*\)NULL)252 3042 A
3336(||)S
(dest)168 3462 A
3672(==)S
(\(char)210 3798 A
(*\)NULL\))294 4050 A
4386({)S
3330 V
(37252)210 648 A
(regerror\("NULL)588 1362 A
(parm)168 1992 A
2202(to)S
(regsub"\);)378 2328 A
3420 V
(37253)210 648 A
(return;)294 1362 A
3510 V
(37254)210 648 A
1110(})S
3600 V
(37255)210 648 A
1110(if)S
(\(UCHARAT\(prog->program\))966 1236 A
2244(!=)S
(MAGIC\))252 2370 A
2664({)S
3690 V
(37256)210 648 A
(regerror\("damaged)714 1362 A
(regexp)252 2118 A
(fed)126 2412 A
2580(to)S
(regsub"\);)378 2706 A
3780 V
(37257)210 648 A
(return;)294 1362 A
3870 V
(37258)210 648 A
1110(})S
3960 V
(37259)210 648 A
(src)126 1110 A
1278(=)S
(source;)294 1362 A
4050 V
(37260)210 648 A
(dst)126 1110 A
1278(=)S
(dest;)210 1362 A
4140 V
(37261)210 648 A
(while)210 1110 A
(\(\(c)126 1362 A
1530(=)S
(*src++\))294 1614 A
1950(!=)S
('\\0'\))210 2076 A
2328({)S
4230 V
(37262)210 648 A
1362(if)S
1488(\(c)S
1614(==)S
('&'\))168 1740 A
4320 V
(37263)210 648 A
1698(no)S
1824(=)S
1908(0;)S
4410 V
(37264)210 648 A
(else)168 1362 A
1572(if)S
1698(\(c)S
1824(==)S
('\\\\')168 1950 A
2160(&&)S
('0')126 2286 A
2454(<=)S
(*src)168 2580 A
2790(&&)S
(*src)168 2916 A
3126(<=)S
('9'\))168 3252 A
4500 V
(37265)210 648 A
1698(no)S
1824(=)S
(*src++)252 1908 A
2202(-)S
('0';)168 2286 A
4590 V
(37266)210 648 A
(else)168 1362 A
4680 V
(37267)210 648 A
1698(no)S
1824(=)S
(-1;)126 1908 A
4770 V
(37268)210 648 A
4860 V
(37269)210 648 A
1362(if)S
(\(no)126 1488 A
1656(<)S
1740(0\))S
1866({)S
2370(/*)S
(Ordinary)336 2496 A
(character.)420 2874 A
3336(*/)S
4950 V
(37270)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('\\\\')168 2076 A
2286(&&)S
(\(*src)210 2412 A
2664(==)S
('\\\\')168 2790 A
3000(||)S
(*src)168 3126 A
3336(==)S
('&'\)\))210 3462 A
3714(c)S
3798(=)S
(*src++;)294 3882 A
5040 V
(37271)210 648 A
(*dst++)252 1698 A
1992(=)S
2076(c;)S
5130 V
(37272)210 648 A
1362(})S
(else)168 1446 A
5220 V
(37273)210 648 A
1362(if)S
(\(prog->startp[no])714 1488 A
2244(!=)S
(\(char)210 2370 A
(*\)NULL)252 2622 A
2916(&&)S
(prog->endp[no])588 3042 A
3672(!=)S
(\(char)210 3798 A
(*\)NULL\))294 4050 A
4386({)S
5310 V
(37274)210 648 A
(len)126 1698 A
1866(=)S
(\(int\))210 1950 A
(\(prog->endp[no])630 2202 A
2874(-)S
(prog->startp[no]\);)756 2958 A
5400 V
(37275)210 648 A
(strncpy\(dst,)504 1698 A
(prog->startp[no],)714 2244 A
(len\);)210 3000 A
5490 V
(37276)210 648 A
(dst)126 1698 A
1866(+=)S
(len;)168 1992 A
5580 V
(37277)210 648 A
1698(if)S
(\(len)168 1824 A
2034(!=)S
2160(0)S
2244(&&)S
(*\(dst)210 2370 A
2622(-)S
2706(1\))S
2832(==)S
('\\0'\))210 2958 A
3210({)S
3378(/*)S
(strncpy)294 3504 A
(hit)126 3840 A
(NUL.)168 4008 A
4218(*/)S
5670 V
(37278)210 648 A
(regerror\("damaged)714 2034 A
(match)210 2790 A
(string"\);)378 3042 A
5760 V
(37279)210 648 A
(return;)294 2034 A
5850 V
(37280)210 648 A
1698(})S
5940 V
(37281)210 648 A
1362(})S
6030 V
(37282)210 648 A
1110(})S
6120 V
(37283)210 648 A
(*dst++)252 1110 A
1404(=)S
('\\0';)210 1488 A
6210 V
(37284)210 648 A
1026(})S
8418 V
EP
%%Page: 372 372
BP
/slant 0 def
/height 0 def
630 V
12 B
(372)180 648 A
11 R
1957(File:)S
(src/lib/other/rindex.c)929 2190 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/other/rindex.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(37300)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(37301)210 648 A
1026(/*)S
(rindex)252 1152 A
1446(-)S
(find)168 1530 A
(last)168 1740 A
(occurrence)420 1950 A
2412(of)S
2538(a)S
(character)378 2622 A
3042(in)S
3168(a)S
(string)252 3252 A
3588(*/)S
1530 V
(37302)210 648 A
1620 V
(37303)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1710 V
(37304)210 648 A
1800 V
(37305)210 648 A
(char)168 1026 A
(*rindex\(s,)420 1236 A
(charwanted\))462 1698 A
2370(/*)S
(found)210 2496 A
(char,)210 2748 A
3000(or)S
(NULL)168 3126 A
3336(if)S
(none)168 3462 A
3672(*/)S
1890 V
(37306)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*s;)126 1530 A
1980 V
(37307)210 648 A
(char)168 1026 A
(charwanted;)462 1236 A
2070 V
(37308)210 648 A
1026({)S
2160 V
(37309)210 648 A
(return\(strrchr\(s,)714 1110 A
(charwanted\)\);)546 1866 A
2250 V
(37310)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/other/stderr.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(37400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(37401)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
3330 V
(37402)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(37403)210 648 A
3510 V
(37404)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(std_err,)336 1740 A
(\(char)210 2118 A
(*s\)\);)210 2370 A
3600 V
(37405)210 648 A
3690 V
(37406)210 648 A
(void)168 1026 A
(std_err\(s\))420 1236 A
3780 V
(37407)210 648 A
(char)168 1026 A
(*s;)126 1236 A
3870 V
(37408)210 648 A
1026({)S
3960 V
(37409)210 648 A
(register)336 1110 A
(char)168 1488 A
1698(*p)S
1824(=)S
1908(s;)S
4050 V
(37410)210 648 A
4140 V
(37411)210 648 A
(while)210 1110 A
(\(*p)126 1362 A
1530(!=)S
1656(0\))S
(p++;)168 1782 A
4230 V
(37412)210 648 A
(write\(2,)336 1110 A
1488(s,)S
(\(int\))210 1614 A
1866(\(p)S
1992(-)S
(s\)\);)168 2076 A
4320 V
(37413)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/swab.c)840 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(37500)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5040 V
(37501)210 648 A
1026(/*)S
(swab\(3\))294 1194 A
5130 V
(37502)210 648 A
1068(*)S
5220 V
(37503)210 648 A
1068(*)S
(Author:)294 1194 A
(Terrence)336 1530 A
1908(W.)S
(Holm)168 2034 A
(Sep.)168 2622 A
(1988)168 2832 A
5310 V
(37504)210 648 A
1068(*/)S
5400 V
(37505)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(swab,)210 1740 A
(\(char)210 1992 A
(*from,)252 2244 A
(char)168 2538 A
(*to,)168 2748 A
(int)126 2958 A
(count\)\);)336 3126 A
5490 V
(37506)210 648 A
5580 V
(37507)210 648 A
(void)168 1026 A
(swab\(from,)420 1236 A
(to,)126 1698 A
(count\))252 1866 A
5670 V
(37508)210 648 A
(char)168 1026 A
(*from;)252 1236 A
5760 V
(37509)210 648 A
(char)168 1026 A
(*to;)168 1236 A
5850 V
(37510)210 648 A
(int)126 1026 A
(count;)252 1194 A
5940 V
(37511)210 648 A
1026({)S
6030 V
(37512)210 648 A
(register)336 1110 A
(char)168 1488 A
(temp;)210 1698 A
6120 V
(37513)210 648 A
6210 V
(37514)210 648 A
(count)210 1110 A
(>>=)126 1362 A
1530(1;)S
8418 V
EP
%%Page: 373 373
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1984(File:)S
(src/lib/other/swab.c)874 2217 A
12 B
(373)180 4248 A
900 V
7 LST
(37515)210 648 A
990 V
(37516)210 648 A
(while)210 1110 A
(\(--count)336 1362 A
1740(>=)S
1866(0\))S
1992({)S
1080 V
(37517)210 648 A
(temp)168 1362 A
1572(=)S
(*from++;)336 1656 A
1170 V
(37518)210 648 A
(*to++)210 1362 A
1614(=)S
(*from++;)336 1698 A
1260 V
(37519)210 648 A
(*to++)210 1362 A
1614(=)S
(temp;)210 1698 A
1350 V
(37520)210 648 A
1110(})S
1440 V
(37521)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/other/syscall.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(37600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2340 V
(37601)210 648 A
2430 V
(37602)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(_syscall\(who,)546 1488 A
(syscallnr,)420 2076 A
(msgptr\))294 2538 A
2520 V
(37603)210 648 A
(int)126 1026 A
(who;)168 1194 A
2610 V
(37604)210 648 A
(int)126 1026 A
(syscallnr;)420 1194 A
2700 V
(37605)210 648 A
(register)336 1026 A
(message)294 1404 A
(*msgptr;)336 1740 A
2790 V
(37606)210 648 A
1026({)S
2880 V
(37607)210 648 A
(int)126 1110 A
(status;)294 1278 A
2970 V
(37608)210 648 A
3060 V
(37609)210 648 A
(msgptr->m_type)588 1110 A
1740(=)S
(syscallnr;)420 1824 A
3150 V
(37610)210 648 A
(status)252 1110 A
1404(=)S
(_sendrec\(who,)546 1488 A
(msgptr\);)336 2076 A
3240 V
(37611)210 648 A
1110(if)S
(\(status)294 1236 A
1572(!=)S
1698(0\))S
1824({)S
3330 V
(37612)210 648 A
1362(/*)S
('sendrec')378 1488 A
(itself)252 1908 A
(failed.)294 2202 A
2538(*/)S
3420 V
(37613)210 648 A
1362(/*)S
(XXX)126 1488 A
1656(-)S
(strerror)336 1740 A
(doesn't)294 2118 A
(know)168 2454 A
(all)126 2664 A
(the)126 2832 A
(codes)210 3000 A
3252(*/)S
3510 V
(37614)210 648 A
(msgptr->m_type)588 1362 A
1992(=)S
(status;)294 2076 A
3600 V
(37615)210 648 A
1110(})S
3690 V
(37616)210 648 A
1110(if)S
(\(msgptr->m_type)630 1236 A
1908(<)S
1992(0\))S
2118({)S
3780 V
(37617)210 648 A
(errno)210 1362 A
1614(=)S
(-msgptr->m_type;)672 1698 A
3870 V
(37618)210 648 A
(return\(-1\);)462 1362 A
3960 V
(37619)210 648 A
1110(})S
4050 V
(37620)210 648 A
(return\(msgptr->m_type\);)966 1110 A
4140 V
(37621)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/sysconf.c)966 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(37700)210 648 A
1026(/*)S
(sysconf.c)378 1152 A
(POSIX)210 3378 A
(4.8.1)210 3630 A
5040 V
(37701)210 648 A
1068(*)S
(long)168 1362 A
(int)126 1572 A
(sysconf\(int)462 1740 A
(name\);)252 2244 A
5130 V
(37702)210 648 A
1068(*)S
5220 V
(37703)210 648 A
1068(*)S
(POSIX)210 1362 A
(allows)252 1614 A
(some)168 1908 A
2118(of)S
(the)126 2244 A
(values)252 2412 A
2706(in)S
(<limits.h>)420 2832 A
3294(to)S
3420(be)S
(increased)378 3546 A
3966(at)S
5310 V
(37704)210 648 A
1068(*)S
(run)126 1362 A
(time.)210 1530 A
(The)126 1824 A
(sysconf\(\))378 1992 A
(function)336 2412 A
(allows)252 2790 A
(such)168 3084 A
(values)252 3294 A
3588(to)S
3714(be)S
(checked)294 3840 A
5400 V
(37705)210 648 A
1068(*)S
1362(at)S
(run)126 1488 A
(time.)210 1656 A
(MINIX)210 1950 A
(does)168 2202 A
(not)126 2412 A
(use)126 2580 A
(this)168 2748 A
(facility)336 2958 A
3336(-)S
(the)126 3420 A
(run)126 3588 A
(time)168 3756 A
5490 V
(37706)210 648 A
1068(*)S
(limits)252 1362 A
(are)126 1656 A
(those)210 1824 A
(given)210 2076 A
2328(in)S
(<limits.h>.)462 2454 A
5580 V
(37707)210 648 A
1068(*/)S
5670 V
(37708)210 648 A
5760 V
(37709)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5850 V
(37710)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5940 V
(37711)210 648 A
(#include)336 1026 A
(<time.h>)336 1404 A
6030 V
(37712)210 648 A
6120 V
(37713)210 648 A
(PUBLIC)252 1026 A
(long)168 1320 A
(int)126 1530 A
(sysconf\(name\))546 1698 A
6210 V
(37714)210 648 A
(int)126 1026 A
(name;)210 1194 A
2370(/*)S
(property)336 2496 A
(being)210 2874 A
(inspected)378 3126 A
3546(*/)S
8418 V
EP
%%Page: 374 374
BP
/slant 0 def
/height 0 def
630 V
12 B
(374)180 648 A
11 R
1929(File:)S
(src/lib/other/sysconf.c)984 2162 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(37715)210 648 A
1026({)S
990 V
(37716)210 648 A
(switch\(name\))504 1110 A
1656({)S
1080 V
(37717)210 648 A
(case)168 1362 A
(_SC_ARG_MAX:)504 1572 A
1170 V
(37718)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(ARG_MAX;)336 2286 A
1260 V
(37719)210 648 A
1350 V
(37720)210 648 A
(case)168 1362 A
(_SC_CHILD_MAX:)588 1572 A
1440 V
(37721)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(CHILD_MAX;)420 2286 A
1530 V
(37722)210 648 A
1620 V
(37723)210 648 A
(case)168 1362 A
(_SC_CLK_TCK:)504 1572 A
1710 V
(37724)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(CLOCKS_PER_SEC;)630 2286 A
1800 V
(37725)210 648 A
1890 V
(37726)210 648 A
(case)168 1362 A
(_SC_NGROUPS_MAX:)672 1572 A
1980 V
(37727)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(NGROUPS_MAX;)504 2286 A
2070 V
(37728)210 648 A
2160 V
(37729)210 648 A
(case)168 1362 A
(_SC_OPEN_MAX:)546 1572 A
2250 V
(37730)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(OPEN_MAX;)378 2286 A
2340 V
(37731)210 648 A
2430 V
(37732)210 648 A
(case)168 1362 A
(_SC_JOB_CONTROL:)672 1572 A
2520 V
(37733)210 648 A
(return)252 1698 A
(-1L;)168 1992 A
3042(/*)S
3168(no)S
(job)126 3294 A
(control)294 3462 A
3798(*/)S
2610 V
(37734)210 648 A
2700 V
(37735)210 648 A
(case)168 1362 A
(_SC_SAVED_IDS:)588 1572 A
2790 V
(37736)210 648 A
(return)252 1698 A
(-1L;)168 1992 A
3042(/*)S
3168(no)S
(saved)210 3294 A
(uid/gid)294 3546 A
3882(*/)S
2880 V
(37737)210 648 A
2970 V
(37738)210 648 A
(case)168 1362 A
(_SC_VERSION:)504 1572 A
3060 V
(37739)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(_POSIX_VERSION;)630 2286 A
3150 V
(37740)210 648 A
3240 V
(37741)210 648 A
(case)168 1362 A
(_SC_STREAM_MAX:)630 1572 A
3330 V
(37742)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(STREAM_MAX;)462 2286 A
3420 V
(37743)210 648 A
3510 V
(37744)210 648 A
(case)168 1362 A
(_SC_TZNAME_MAX:)630 1572 A
3600 V
(37745)210 648 A
(return)252 1698 A
(\(long\))252 1992 A
(TZNAME_MAX;)462 2286 A
3690 V
(37746)210 648 A
3780 V
(37747)210 648 A
(default:)336 1362 A
3870 V
(37748)210 648 A
(errno)210 1698 A
1950(=)S
(EINVAL;)294 2034 A
3960 V
(37749)210 648 A
(return)252 1698 A
(-1L;)168 1992 A
4050 V
(37750)210 648 A
1110(})S
4140 V
(37751)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/telldir.c)966 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(37800)210 648 A
1026(/*)S
(telldir\(\))378 1362 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
5040 V
(37801)210 648 A
1068(*)S
3714(24)S
(Apr)126 3840 A
(1989)168 4008 A
5130 V
(37802)210 648 A
1068(*/)S
5220 V
(37803)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
5310 V
(37804)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5400 V
(37805)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
5490 V
(37806)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
5580 V
(37807)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
5670 V
(37808)210 648 A
5760 V
(37809)210 648 A
(off_t)210 1026 A
(telldir\(DIR)462 1278 A
(*dp\))168 1782 A
5850 V
(37810)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(current)294 1614 A
(read)168 1950 A
(position)336 2160 A
2538(in)S
2664(a)S
(directory.)420 2748 A
3210(*/)S
5940 V
(37811)210 648 A
1026({)S
6030 V
(37812)210 648 A
1362(if)S
(\(dp)126 1488 A
1656(==)S
(nil\))168 1782 A
1992({)S
(errno=)252 2076 A
(EBADF;)252 2370 A
(return)252 2664 A
(-1;)126 2958 A
3126(})S
6120 V
(37813)210 648 A
6210 V
(37814)210 648 A
(return)252 1362 A
(dp->_pos;)378 1656 A
8418 V
EP
%%Page: 375 375
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1965(File:)S
(src/lib/other/telldir.c)912 2198 A
12 B
(375)180 4248 A
900 V
7 LST
(37815)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/other/termcap.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(37900)210 648 A
1026(/*)S
1890 V
(37901)210 648 A
1068(*)S
(termcap.c)378 1362 A
(V1.1)168 2034 A
(20/7/87)294 2370 A
(agc)126 3042 A
(Joypace)294 3378 A
(Ltd)126 3714 A
1980 V
(37902)210 648 A
1068(*)S
2070 V
(37903)210 648 A
1068(*)S
(Copyright)378 1362 A
(Joypace)294 1782 A
(Ltd,)168 2118 A
(London,)294 2328 A
(UK,)126 2664 A
(1987.)210 2832 A
(All)126 3084 A
(rights)252 3252 A
(reserved.)378 3546 A
2160 V
(37904)210 648 A
1068(*)S
(This)168 1362 A
(file)168 1572 A
(may)126 1782 A
1950(be)S
(freely)252 2076 A
(distributed)462 2370 A
(provided)336 2874 A
(that)168 3252 A
(this)168 3462 A
(notice)252 3672 A
2250 V
(37905)210 648 A
1068(*)S
(remains)294 1362 A
(attached.)378 1698 A
2340 V
(37906)210 648 A
1068(*)S
2430 V
(37907)210 648 A
1068(*)S
1362(A)S
(public)252 1446 A
(domain)252 1740 A
(implementation)588 2034 A
2664(of)S
(the)126 2790 A
(termcap\(3\))420 2958 A
(routines.)378 3420 A
2520 V
(37908)210 648 A
1068(*)S
2610 V
(37909)210 648 A
1068(*)S
2700 V
(37910)210 648 A
1068(*)S
2790 V
(37911)210 648 A
1068(*)S
(Klamer)252 1404 A
(Schutte)294 1698 A
(V1.2)168 2286 A
(Nov.)168 2622 A
(1988)168 2832 A
2880 V
(37912)210 648 A
1068(*)S
2970 V
(37913)210 648 A
1068(*)S
1236(-)S
(Can)126 1320 A
(match)210 1488 A
(multiple)336 1740 A
(terminal)336 2118 A
(names)210 2496 A
([tgetent])378 3420 A
3060 V
(37914)210 648 A
1068(*)S
1236(-)S
(Removal)294 1320 A
1656(of)S
(**area)252 1782 A
(assignments)462 2076 A
([tgetstr])378 3420 A
3150 V
(37915)210 648 A
1068(*)S
3240 V
(37916)210 648 A
1068(*)S
(Terrence)336 1404 A
1782(W.)S
(Holm)168 1908 A
(V1.3)168 2286 A
(May,)168 2622 A
(Sep,)168 2832 A
(Oct.)168 3042 A
(1988)168 3294 A
3330 V
(37917)210 648 A
1068(*)S
3420 V
(37918)210 648 A
1068(*)S
1236(-)S
(Correct)294 1320 A
(when)168 1656 A
(TERM)168 1866 A
2076(!=)S
(name)168 2202 A
(and)126 2412 A
(TERMCAP)294 2580 A
2916(is)S
(defined)294 3042 A
([tgetent])378 3420 A
3510 V
(37919)210 648 A
1068(*)S
1236(-)S
(Correct)294 1320 A
(the)126 1656 A
(comparison)420 1824 A
(for)126 2286 A
(the)126 2454 A
(terminal)336 2622 A
(name)168 3000 A
([tgetent])378 3420 A
3600 V
(37920)210 648 A
1068(*)S
1236(-)S
(Correct)294 1320 A
(the)126 1656 A
(value)210 1824 A
2076(of)S
2202(\303x)S
(escapes)294 2328 A
([tgetstr])378 3420 A
3690 V
(37921)210 648 A
1068(*)S
1236(-)S
(Added)210 1320 A
1572(%r)S
1698(to)S
(reverse)294 1824 A
(row/column)420 2160 A
([tgoto])294 3420 A
3780 V
(37922)210 648 A
1068(*)S
1236(-)S
(Fixed)210 1320 A
(end)126 1572 A
1740(of)S
(definition)420 1866 A
(test)168 2328 A
([tgetnum/flag/str])756 3420 A
3870 V
(37923)210 648 A
1068(*)S
3960 V
(37924)210 648 A
1068(*)S
(Terrence)336 1404 A
1782(W.)S
(Holm)168 1908 A
(V1.4)168 2286 A
(Jan.)168 2622 A
(1989)168 2832 A
4050 V
(37925)210 648 A
1068(*)S
4140 V
(37926)210 648 A
1068(*)S
1236(-)S
(Incorporated)504 1320 A
(Klamer's)336 1866 A
(V1.2)168 2244 A
(fixes)210 2454 A
(into)168 2706 A
(V1.3)168 2916 A
4230 V
(37927)210 648 A
1068(*)S
1236(-)S
(Added)210 1320 A
(%d,)126 1572 A
(\(old)168 1740 A
1950(%d)S
2076(is)S
(now)126 2202 A
(%2\))126 2370 A
([tgoto])294 3420 A
4320 V
(37928)210 648 A
1068(*)S
1236(-)S
(Allow)210 1320 A
('#')126 1572 A
(comments)336 1740 A
2118(in)S
(definition)420 2244 A
(file)168 2706 A
([tgetent])378 3420 A
4410 V
(37929)210 648 A
1068(*/)S
4500 V
(37930)210 648 A
4590 V
(37931)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4680 V
(37932)210 648 A
(#include)336 1026 A
(<termcap.h>)462 1404 A
4770 V
(37933)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1404 A
4860 V
(37934)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4950 V
(37935)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5040 V
(37936)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
5130 V
(37937)210 648 A
5220 V
(37938)210 648 A
(char)168 1026 A
(*capab)252 1236 A
1530(=)S
(\(char)210 1614 A
(*\)NULL;)294 1866 A
2706(/*)S
(the)126 2832 A
(capability)420 3000 A
(itself)252 3462 A
3756(*/)S
5310 V
(37939)210 648 A
5400 V
(37940)210 648 A
(#if)126 1026 A
1194(0)S
5490 V
(37941)210 648 A
1026(/*)S
(The)126 1194 A
(following)378 1362 A
(are)126 1782 A
(not)126 1950 A
(yet)126 2118 A
(used.)210 2286 A
2580(*/)S
5580 V
(37942)210 648 A
(extern)252 1026 A
(short)210 1320 A
(ospeed;)294 1572 A
2370(/*)S
(output)252 2496 A
(speed)210 2790 A
3042(*/)S
5670 V
(37943)210 648 A
(extern)252 1026 A
(char)168 1320 A
(PC;)126 1530 A
2370(/*)S
(padding)294 2496 A
(character)378 2832 A
3252(*/)S
5760 V
(37944)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*BC;)168 1530 A
2370(/*)S
(back)168 2496 A
(cursor)252 2706 A
(movement)336 3000 A
3378(*/)S
5850 V
(37945)210 648 A
(extern)252 1026 A
(char)168 1320 A
(*UP;)168 1530 A
2370(/*)S
2496(up)S
(cursor)252 2622 A
(movement)336 2916 A
3294(*/)S
5940 V
(37946)210 648 A
(#endif)252 1026 A
6030 V
(37947)210 648 A
6120 V
(37948)210 648 A
1026(/*)S
6210 V
(37949)210 648 A
1068(*)S
(tgetent)294 1362 A
1698(-)S
(get)126 1782 A
(the)126 1950 A
(termcap)294 2118 A
(entry)210 2454 A
(for)126 2706 A
(terminal)336 2874 A
(name,)210 3252 A
(and)126 3504 A
(put)126 3672 A
3840(it)S
8418 V
EP
%%Page: 376 376
BP
/slant 0 def
/height 0 def
630 V
12 B
(376)180 648 A
11 R
1919(File:)S
(src/lib/other/termcap.c)1005 2152 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(37950)210 648 A
1068(*)S
1362(in)S
1488(bp)S
(\(which)252 1614 A
(must)168 1908 A
2118(be)S
2244(an)S
(array)210 2370 A
2622(of)S
(1024)168 2748 A
(chars\).)294 2958 A
(Returns)294 3294 A
3630(1)S
3714(if)S
990 V
(37951)210 648 A
1068(*)S
(termcap)294 1362 A
(entry)210 1698 A
(found,)252 1950 A
2244(0)S
2328(if)S
(not)126 2454 A
(found,)252 2622 A
(and)126 2916 A
3084(-1)S
3210(if)S
(file)168 3336 A
(not)126 3546 A
(found.)252 3714 A
1080 V
(37952)210 648 A
1068(*/)S
1170 V
(37953)210 648 A
1260 V
(37954)210 648 A
(int)126 1026 A
(tgetent\(bp,)462 1194 A
(name\))210 1698 A
1350 V
(37955)210 648 A
(char)168 1026 A
(*bp;)168 1236 A
1440 V
(37956)210 648 A
(char)168 1026 A
(*name;)252 1236 A
1530 V
(37957)210 648 A
1026({)S
1620 V
(37958)210 648 A
(FILE)168 1110 A
(*fp;)168 1320 A
1710 V
(37959)210 648 A
(char)168 1110 A
(*file;)252 1320 A
1800 V
(37960)210 648 A
(char)168 1110 A
(*term;)252 1320 A
1890 V
(37961)210 648 A
(short)210 1110 A
(len)126 1362 A
1530(=)S
(strlen\(name\);)546 1614 A
1980 V
(37962)210 648 A
2070 V
(37963)210 648 A
(capab)210 1110 A
1362(=)S
(bp;)126 1446 A
2160 V
(37964)210 648 A
2250 V
(37965)210 648 A
1110(/*)S
1236(If)S
(TERMCAP)294 1362 A
(begins)252 1698 A
(with)168 1992 A
2202(a)S
('/')126 2286 A
(then)168 2454 A
(use)126 2664 A
(TERMCAP)294 2832 A
3168(as)S
(the)126 3294 A
(path)168 3462 A
3756(*/)S
2340 V
(37966)210 648 A
1110(/*)S
(Name)168 1236 A
1446(of)S
(the)126 1572 A
(termcap)294 1740 A
(definitions)462 2076 A
(file.)210 2580 A
2832(If)S
(TERMCAP)294 2958 A
3294(is)S
3420(a)S
3756(*/)S
2430 V
(37967)210 648 A
1110(/*)S
(Definition)420 1236 A
(and)126 1698 A
(TERM)168 1866 A
(equals)252 2076 A
("name")252 2370 A
(then)168 2664 A
(use)126 2874 A
(TERMCAP)294 3042 A
3378(as)S
(the)126 3504 A
3756(*/)S
2520 V
(37968)210 648 A
1110(/*)S
(Definition.)462 1236 A
(Otherwise)378 1740 A
(use)126 2160 A
("/etc/termcap")588 2328 A
2958(as)S
(the)126 3084 A
(path)168 3252 A
(name.)210 3462 A
3756(*/)S
2610 V
(37969)210 648 A
2700 V
(37970)210 648 A
1110(if)S
(\(\(file)252 1236 A
1530(=)S
(getenv\("TERMCAP"\)\))756 1614 A
2412(==)S
(\(char)210 2538 A
(*\)NULL\))294 2790 A
2790 V
(37971)210 648 A
(file)168 1362 A
1572(=)S
("/etc/termcap";)630 1656 A
2880 V
(37972)210 648 A
(else)168 1110 A
1320(if)S
(\(*file)252 1446 A
1740(!=)S
('/'\))168 1866 A
2970 V
(37973)210 648 A
1362(if)S
(\(\(term)252 1488 A
1782(=)S
(getenv\("TERM"\)\))630 1866 A
2538(!=)S
(\(char)210 2664 A
(*\)NULL)252 2916 A
3210(&&)S
(strcmp\(term,)504 3336 A
(name\))210 3882 A
4134(==)S
4260(0\))S
4386({)S
3060 V
(37974)210 648 A
(*bp)126 1698 A
1866(=)S
('\\0';)210 1950 A
3150 V
(37975)210 648 A
(strncat\(bp,)462 1698 A
(file,)210 2202 A
(1023\);)252 2454 A
3240 V
(37976)210 648 A
(return\(1\);)420 1698 A
3330 V
(37977)210 648 A
1362(})S
(else)168 1446 A
3420 V
(37978)210 648 A
(file)168 1698 A
1908(=)S
("/etc/termcap";)630 1992 A
3510 V
(37979)210 648 A
3600 V
(37980)210 648 A
1110(if)S
(\(\(fp)168 1236 A
1446(=)S
(fopen\(file,)462 1530 A
("r"\)\))210 2034 A
2286(==)S
(\(FILE)210 2412 A
2664(*\))S
(NULL\))210 2790 A
3042({)S
3690 V
(37981)210 648 A
(capab)210 1362 A
1614(=)S
(\(char)210 1698 A
(*\)NULL;)294 1950 A
2706(/*)S
2832(no)S
(valid)210 2958 A
(termcap)294 3210 A
3588(*/)S
3780 V
(37982)210 648 A
(return\(-1\);)462 1362 A
3870 V
(37983)210 648 A
1110(})S
3960 V
(37984)210 648 A
(for)126 1110 A
(\(;;\))168 1278 A
1488({)S
4050 V
(37985)210 648 A
1362(/*)S
(Read)168 1488 A
1698(in)S
(each)168 1824 A
(definition)420 2034 A
2496(*/)S
4140 V
(37986)210 648 A
(int)126 1362 A
(def_len)294 1530 A
1866(=)S
1950(0;)S
4230 V
(37987)210 648 A
(char)168 1362 A
(*cp)126 1572 A
1740(=)S
(bp;)126 1824 A
4320 V
(37988)210 648 A
4410 V
(37989)210 648 A
1362(do)S
1488({)S
4500 V
(37990)210 648 A
1698(if)S
(\(fgets\(&bp[def_len],)840 1824 A
(\(unsigned)378 2706 A
(int\)\(1024)378 3126 A
3546(-)S
(def_len\),)378 3630 A
(fp\))126 4050 A
4218(==)S
(\(char)210 4344 A
(*\)NULL\))294 4596 A
4932({)S
4590 V
(37991)210 648 A
(fclose\(fp\);)462 2034 A
4680 V
(37992)210 648 A
(capab)210 2034 A
2286(=)S
(\(char)210 2370 A
(*\)NULL;)294 2622 A
3042(/*)S
3168(no)S
(valid)210 3294 A
(termcap)294 3546 A
3882(*/)S
4770 V
(37993)210 648 A
(return\(0\);)420 2034 A
4860 V
(37994)210 648 A
1698(})S
4950 V
(37995)210 648 A
(def_len)294 1698 A
2034(=)S
(strlen\(bp\))420 2118 A
2580(-)S
2664(2;)S
5040 V
(37996)210 648 A
1362(})S
(while)210 1446 A
(\(bp[def_len])504 1698 A
2244(==)S
('\\\\'\);)252 2370 A
5130 V
(37997)210 648 A
5220 V
(37998)210 648 A
(while)210 1362 A
(\(isspace\(*cp\)\))588 1614 A
(cp++;)210 2244 A
5310 V
(37999)210 648 A
5400 V
(38000)210 648 A
1362(/*)S
(Comment)294 1488 A
(lines)210 1824 A
(start)210 2076 A
(with)168 2328 A
2538(a)S
('#')126 2622 A
2832(*/)S
5490 V
(38001)210 648 A
1362(if)S
(\(*cp)168 1488 A
1698(==)S
('#'\))168 1824 A
(continue;)378 2034 A
5580 V
(38002)210 648 A
5670 V
(38003)210 648 A
1362(/*)S
(See)126 1488 A
1656(if)S
(any)126 1782 A
1950(of)S
(the)126 2076 A
(terminal)336 2244 A
(names)210 2622 A
2874(in)S
(this)168 3000 A
(definition)420 3210 A
3672(*/)S
5760 V
(38004)210 648 A
1362(/*)S
(Match)210 1488 A
("name".)294 1740 A
4092(*/)S
5850 V
(38005)210 648 A
5940 V
(38006)210 648 A
1362(do)S
1488({)S
6030 V
(38007)210 648 A
1698(if)S
(\(strncmp\(name,)588 1824 A
(cp,)126 2454 A
(len\))168 2622 A
2832(==)S
2958(0)S
3042(&&)S
6120 V
(38008)210 648 A
(\(cp[len])336 1866 A
2244(==)S
('|')126 2370 A
2538(||)S
(cp[len])294 2664 A
3000(==)S
(':'\)\))210 3126 A
3378({)S
6210 V
(38009)210 648 A
(fclose\(fp\);)462 2034 A
8418 V
EP
%%Page: 377 377
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1919(File:)S
(src/lib/other/termcap.c)1005 2152 A
12 B
(377)180 4248 A
900 V
7 LST
(38010)210 648 A
(return\(1\);)420 2034 A
990 V
(38011)210 648 A
1698(})S
1080 V
(38012)210 648 A
(while)210 1698 A
(\(\(*cp\))252 1950 A
2244(&&)S
(\(*cp)168 2370 A
2580(!=)S
('|'\))168 2706 A
2916(&&)S
(\(*cp)168 3042 A
3252(!=)S
(':'\)\))210 3378 A
(cp++;)210 3630 A
1170 V
(38013)210 648 A
1362(})S
(while)210 1446 A
(\(*cp++)252 1698 A
1992(==)S
('|'\);)210 2118 A
1260 V
(38014)210 648 A
1110(})S
1350 V
(38015)210 648 A
1026(})S
1620 V
(38018)210 648 A
1026(/*)S
1710 V
(38019)210 648 A
1068(*)S
(tgetnum)294 1362 A
1698(-)S
(get)126 1782 A
(the)126 1950 A
(numeric)294 2118 A
(terminal)336 2454 A
(capability)420 2832 A
(corresponding)546 3294 A
1800 V
(38020)210 648 A
1068(*)S
1362(to)S
(id.)126 1488 A
(Returns)294 1656 A
(the)126 1992 A
(value,)252 2160 A
2454(-1)S
2580(if)S
(invalid.)336 2706 A
1890 V
(38021)210 648 A
1068(*/)S
1980 V
(38022)210 648 A
2070 V
(38023)210 648 A
(int)126 1026 A
(tgetnum\(id\))462 1194 A
2160 V
(38024)210 648 A
(char)168 1026 A
(*id;)168 1236 A
2250 V
(38025)210 648 A
1026({)S
2340 V
(38026)210 648 A
(register)336 1110 A
(char)168 1488 A
(*cp)126 1698 A
1866(=)S
(capab;)252 1950 A
2430 V
(38027)210 648 A
2520 V
(38028)210 648 A
1110(if)S
(\(cp)126 1236 A
1404(==)S
(\(char)210 1530 A
(*\)NULL)252 1782 A
2076(||)S
2202(id)S
2328(==)S
(\(char)210 2454 A
(*\)NULL\))294 2706 A
(return\(-1\);)462 3042 A
2610 V
(38029)210 648 A
2700 V
(38030)210 648 A
(for)126 1110 A
(\(;;\))168 1278 A
1488({)S
2790 V
(38031)210 648 A
(while)210 1362 A
(\(*cp++)252 1614 A
1908(!=)S
(':'\))168 2034 A
2880 V
(38032)210 648 A
1698(if)S
(\(cp[-1])294 1824 A
2160(==)S
('\\0'\))210 2286 A
(return\(-1\);)462 2538 A
2970 V
(38033)210 648 A
3060 V
(38034)210 648 A
(while)210 1362 A
(\(isspace\(*cp\)\))588 1614 A
(cp++;)210 2244 A
3150 V
(38035)210 648 A
3240 V
(38036)210 648 A
1362(if)S
(\(strncmp\(cp,)504 1488 A
(id,)126 2034 A
2202(2\))S
2328(==)S
2454(0)S
2538(&&)S
(cp[2])210 2664 A
2916(==)S
('#'\))168 3042 A
(return\(atoi\(cp)588 3252 A
3882(+)S
(3\)\);)168 3966 A
3330 V
(38037)210 648 A
1110(})S
3420 V
(38038)210 648 A
1026(})S
3690 V
(38041)210 648 A
1026(/*)S
3780 V
(38042)210 648 A
1068(*)S
(tgetflag)336 1362 A
1740(-)S
(get)126 1824 A
(the)126 1992 A
(boolean)294 2160 A
(flag)168 2496 A
(corresponding)546 2706 A
3294(to)S
(id.)126 3420 A
(Returns)294 3588 A
3924(-1)S
3870 V
(38043)210 648 A
1068(*)S
1362(if)S
(invalid,)336 1488 A
1866(0)S
1950(if)S
(the)126 2076 A
(flag)168 2244 A
2454(is)S
(not)126 2580 A
2748(in)S
(termcap)294 2874 A
(entry,)252 3210 A
3504(or)S
3630(1)S
3714(if)S
3840(it)S
3966(is)S
3960 V
(38044)210 648 A
1068(*)S
(present.)336 1362 A
4050 V
(38045)210 648 A
1068(*/)S
4140 V
(38046)210 648 A
4230 V
(38047)210 648 A
(int)126 1026 A
(tgetflag\(id\))504 1194 A
4320 V
(38048)210 648 A
(char)168 1026 A
(*id;)168 1236 A
4410 V
(38049)210 648 A
1026({)S
4500 V
(38050)210 648 A
(register)336 1110 A
(char)168 1488 A
(*cp)126 1698 A
1866(=)S
(capab;)252 1950 A
4590 V
(38051)210 648 A
4680 V
(38052)210 648 A
1110(if)S
(\(cp)126 1236 A
1404(==)S
(\(char)210 1530 A
(*\)NULL)252 1782 A
2076(||)S
2202(id)S
2328(==)S
(\(char)210 2454 A
(*\)NULL\))294 2706 A
(return\(-1\);)462 3042 A
4770 V
(38053)210 648 A
4860 V
(38054)210 648 A
(for)126 1110 A
(\(;;\))168 1278 A
1488({)S
4950 V
(38055)210 648 A
(while)210 1362 A
(\(*cp++)252 1614 A
1908(!=)S
(':'\))168 2034 A
5040 V
(38056)210 648 A
1698(if)S
(\(cp[-1])294 1824 A
2160(==)S
('\\0'\))210 2286 A
(return\(0\);)420 2538 A
5130 V
(38057)210 648 A
5220 V
(38058)210 648 A
(while)210 1362 A
(\(isspace\(*cp\)\))588 1614 A
(cp++;)210 2244 A
5310 V
(38059)210 648 A
5400 V
(38060)210 648 A
1362(if)S
(\(strncmp\(cp,)504 1488 A
(id,)126 2034 A
2202(2\))S
2328(==)S
2454(0\))S
(return\(1\);)420 2580 A
5490 V
(38061)210 648 A
1110(})S
5580 V
(38062)210 648 A
1026(})S
5850 V
(38065)210 648 A
1026(/*)S
5940 V
(38066)210 648 A
1068(*)S
(tgetstr)294 1362 A
1698(-)S
(get)126 1782 A
(the)126 1950 A
(string)252 2118 A
(capability)420 2412 A
(corresponding)546 2874 A
3462(to)S
3588(id)S
(and)126 3714 A
(place)210 3882 A
6030 V
(38067)210 648 A
1068(*)S
1362(it)S
1488(in)S
(area)168 1614 A
(\(advancing)420 1824 A
(area)168 2286 A
2496(at)S
(same)168 2622 A
(time\).)252 2832 A
(Expand)252 3126 A
(escape)252 3420 A
(sequences)378 3714 A
6120 V
(38068)210 648 A
1068(*)S
(etc.)168 1362 A
(Returns)294 1572 A
(the)126 1908 A
(string,)294 2076 A
2412(or)S
(NULL)168 2538 A
2748(if)S
2874(it)S
(can't)210 3000 A
3252(do)S
(it.)126 3378 A
6210 V
(38069)210 648 A
1068(*/)S
8418 V
EP
%%Page: 378 378
BP
/slant 0 def
/height 0 def
630 V
12 B
(378)180 648 A
11 R
1919(File:)S
(src/lib/other/termcap.c)1005 2152 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(38070)210 648 A
990 V
(38071)210 648 A
(char)168 1026 A
(*tgetstr\(id,)504 1236 A
(area\))210 1782 A
1080 V
(38072)210 648 A
(char)168 1026 A
(*id;)168 1236 A
1170 V
(38073)210 648 A
(char)168 1026 A
(**area;)294 1236 A
1260 V
(38074)210 648 A
1026({)S
1350 V
(38075)210 648 A
(register)336 1110 A
(char)168 1488 A
(*cp)126 1698 A
1866(=)S
(capab;)252 1950 A
1440 V
(38076)210 648 A
(register)336 1110 A
(char)168 1488 A
(*wsp)168 1698 A
1908(=)S
(*area;)252 1992 A
2370(/*)S
(workspace)378 2496 A
(pointer)294 2916 A
3294(*/)S
1530 V
(38077)210 648 A
1620 V
(38078)210 648 A
1110(if)S
(\(cp)126 1236 A
1404(==)S
(\(char)210 1530 A
(*\)NULL)252 1782 A
2076(||)S
2202(id)S
2328(==)S
(\(char)210 2454 A
(*\)NULL\))294 2706 A
(return\(\(char)504 3042 A
(*\)NULL\);)336 3588 A
1710 V
(38079)210 648 A
1800 V
(38080)210 648 A
(for)126 1110 A
(\(;;\))168 1278 A
1488({)S
1890 V
(38081)210 648 A
(while)210 1362 A
(\(*cp++)252 1614 A
1908(!=)S
(':'\))168 2034 A
1980 V
(38082)210 648 A
1698(if)S
(\(cp[-1])294 1824 A
2160(==)S
('\\0'\))210 2286 A
(return\(\(char)504 2538 A
(*\)NULL\);)336 3084 A
2070 V
(38083)210 648 A
2160 V
(38084)210 648 A
(while)210 1362 A
(\(isspace\(*cp\)\))588 1614 A
(cp++;)210 2244 A
2250 V
(38085)210 648 A
2340 V
(38086)210 648 A
1362(if)S
(\(strncmp\(cp,)504 1488 A
(id,)126 2034 A
2202(2\))S
2328(==)S
2454(0)S
2538(&&)S
(cp[2])210 2664 A
2916(==)S
('='\))168 3042 A
3252({)S
2430 V
(38087)210 648 A
(for)126 1698 A
(\(cp)126 1866 A
2034(+=)S
2160(3;)S
(*cp)126 2286 A
2454(&&)S
(*cp)126 2580 A
2748(!=)S
(':';)168 2874 A
(wsp++,)252 3084 A
(cp++\))210 3378 A
(switch)252 3630 A
(\(*cp\))210 3924 A
4176({)S
2520 V
(38088)210 648 A
(case)168 2202 A
('\303':)168 2412 A
2610 V
(38089)210 648 A
(*wsp)168 2370 A
2580(=)S
(*++cp)210 2664 A
2916(-)S
('@';)168 3000 A
2700 V
(38090)210 648 A
(break;)252 2370 A
2790 V
(38091)210 648 A
2880 V
(38092)210 648 A
(case)168 2202 A
('\\\\':)210 2412 A
2970 V
(38093)210 648 A
(switch)252 2370 A
(\(*++cp\))294 2664 A
3000({)S
3060 V
(38094)210 648 A
(case)168 2538 A
('E':)168 2748 A
3150 V
(38095)210 648 A
(*wsp)168 2706 A
2916(=)S
('\\033';)294 3000 A
3240 V
(38096)210 648 A
(break;)252 2706 A
3330 V
(38097)210 648 A
(case)168 2538 A
('n':)168 2748 A
3420 V
(38098)210 648 A
(*wsp)168 2706 A
2916(=)S
('\\n';)210 3000 A
3510 V
(38099)210 648 A
(break;)252 2706 A
3600 V
(38100)210 648 A
(case)168 2538 A
('r':)168 2748 A
3690 V
(38101)210 648 A
(*wsp)168 2706 A
2916(=)S
('\\r';)210 3000 A
3780 V
(38102)210 648 A
(break;)252 2706 A
3870 V
(38103)210 648 A
(case)168 2538 A
('t':)168 2748 A
3960 V
(38104)210 648 A
(*wsp)168 2706 A
2916(=)S
('\\t';)210 3000 A
4050 V
(38105)210 648 A
(break;)252 2706 A
4140 V
(38106)210 648 A
(case)168 2538 A
('b':)168 2748 A
4230 V
(38107)210 648 A
(*wsp)168 2706 A
2916(=)S
('\\b';)210 3000 A
4320 V
(38108)210 648 A
(break;)252 2706 A
4410 V
(38109)210 648 A
(case)168 2538 A
('f':)168 2748 A
4500 V
(38110)210 648 A
(*wsp)168 2706 A
2916(=)S
('\\f';)210 3000 A
4590 V
(38111)210 648 A
(break;)252 2706 A
4680 V
(38112)210 648 A
(case)168 2538 A
('0':)168 2748 A
4770 V
(38113)210 648 A
(case)168 2538 A
('1':)168 2748 A
4860 V
(38114)210 648 A
(case)168 2538 A
('2':)168 2748 A
4950 V
(38115)210 648 A
(case)168 2538 A
('3':)168 2748 A
5040 V
(38116)210 648 A
2706({)S
5130 V
(38117)210 648 A
(int)126 3042 A
3210(i;)S
5220 V
(38118)210 648 A
(int)126 3042 A
3210(t)S
3294(=)S
3378(0;)S
5310 V
(38119)210 648 A
(for)126 3042 A
3210(\(i)S
3336(=)S
3420(0;)S
3546(i)S
3630(<)S
3714(3)S
3798(&&)S
5400 V
(38120)210 648 A
(isdigit\(*cp\);)546 3252 A
(++i,)168 3840 A
(++cp\))210 4050 A
5490 V
(38121)210 648 A
3378(t)S
3462(=)S
3546(t)S
3630(*)S
3714(8)S
3798(+)S
(*cp)126 3882 A
4050(-)S
('0';)168 4134 A
5580 V
(38122)210 648 A
(*wsp)168 3042 A
3252(=)S
3336(t;)S
5670 V
(38123)210 648 A
(cp--;)210 3042 A
5760 V
(38124)210 648 A
(break;)252 3042 A
5850 V
(38125)210 648 A
2706(})S
5940 V
(38126)210 648 A
(default:)336 2538 A
6030 V
(38127)210 648 A
(*wsp)168 2706 A
2916(=)S
(*cp;)168 3000 A
6120 V
(38128)210 648 A
2370(})S
6210 V
(38129)210 648 A
(break;)252 2370 A
8418 V
EP
%%Page: 379 379
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1919(File:)S
(src/lib/other/termcap.c)1005 2152 A
12 B
(379)180 4248 A
900 V
7 LST
(38130)210 648 A
990 V
(38131)210 648 A
(default:)336 2202 A
(*wsp)168 2706 A
2916(=)S
(*cp;)168 3000 A
1080 V
(38132)210 648 A
2034(})S
1170 V
(38133)210 648 A
1260 V
(38134)210 648 A
(*wsp++)252 1698 A
1992(=)S
('\\0';)210 2076 A
1350 V
(38135)210 648 A
1440 V
(38136)210 648 A
1698({)S
1530 V
(38137)210 648 A
(char)168 2034 A
(*ret)168 2244 A
2454(=)S
(*area;)252 2538 A
1620 V
(38138)210 648 A
(*area)210 2034 A
2286(=)S
(wsp;)168 2370 A
1710 V
(38139)210 648 A
(return\(ret\);)504 2034 A
1800 V
(38140)210 648 A
1698(})S
1890 V
(38141)210 648 A
1362(})S
1980 V
(38142)210 648 A
1110(})S
2370(/*)S
(end)126 2496 A
(for\(;;\))294 2664 A
3000(*/)S
2070 V
(38143)210 648 A
1026(})S
2430 V
(38147)210 648 A
1026(/*)S
2520 V
(38148)210 648 A
1068(*)S
(tgoto)210 1362 A
1614(-)S
(given)210 1698 A
(the)126 1950 A
(cursor)252 2118 A
(motion)252 2412 A
(string)252 2706 A
(cm,)126 3000 A
(make)168 3168 A
3378(up)S
(the)126 3504 A
(string)252 3672 A
2610 V
(38149)210 648 A
1068(*)S
(for)126 1362 A
(the)126 1530 A
(cursor)252 1698 A
1992(to)S
2118(go)S
2244(to)S
(\(destcol,)378 2370 A
(destline\),)420 2790 A
(and)126 3252 A
(return)252 3420 A
(the)126 3714 A
(string.)294 3882 A
2700 V
(38150)210 648 A
1068(*)S
(Returns)294 1362 A
("OOPS")252 1698 A
1992(if)S
(something's)462 2118 A
(gone)168 2622 A
(wrong,)252 2832 A
3126(or)S
(the)126 3252 A
(string)252 3420 A
(otherwise.)420 3714 A
2790 V
(38151)210 648 A
1068(*/)S
2880 V
(38152)210 648 A
2970 V
(38153)210 648 A
(char)168 1026 A
(*tgoto\(cm,)420 1236 A
(destcol,)336 1698 A
(destline\))378 2076 A
3060 V
(38154)210 648 A
(char)168 1026 A
(*cm;)168 1236 A
3150 V
(38155)210 648 A
(int)126 1026 A
(destcol;)336 1194 A
3240 V
(38156)210 648 A
(int)126 1026 A
(destline;)378 1194 A
3330 V
(38157)210 648 A
1026({)S
3420 V
(38158)210 648 A
(PRIVATE)294 1110 A
(char)168 1446 A
(ret[24];)336 1656 A
3510 V
(38159)210 648 A
(char)168 1110 A
(*rp)126 1320 A
1488(=)S
(ret;)168 1572 A
3600 V
(38160)210 648 A
(int)126 1110 A
(incr)168 1278 A
1488(=)S
1572(0;)S
3690 V
(38161)210 648 A
(int)126 1110 A
(argno)210 1278 A
1530(=)S
1614(0;)S
3780 V
(38162)210 648 A
(int)126 1110 A
(numval;)294 1278 A
3870 V
(38163)210 648 A
3960 V
(38164)210 648 A
(for)126 1110 A
1278(\(;)S
(*cm;)168 1404 A
(cm++\))210 1614 A
1866({)S
4050 V
(38165)210 648 A
1362(if)S
(\(*cm)168 1488 A
1698(==)S
('%'\))168 1824 A
2034({)S
4140 V
(38166)210 648 A
(switch)252 1698 A
(\(*++cm\))294 1992 A
2328({)S
4230 V
(38167)210 648 A
(case)168 1866 A
('i':)168 2076 A
(incr)168 2370 A
2580(=)S
2664(1;)S
(break;)252 4050 A
4320 V
(38168)210 648 A
4410 V
(38169)210 648 A
(case)168 1866 A
('r':)168 2076 A
(argno)210 2370 A
2622(=)S
2706(1;)S
(break;)252 4050 A
4500 V
(38170)210 648 A
4590 V
(38171)210 648 A
(case)168 1866 A
('+':)168 2076 A
4680 V
(38172)210 648 A
(numval)252 2034 A
2328(=)S
(\(argno)252 2412 A
2706(==)S
2832(0)S
2916(?)S
(destline)336 3000 A
3378(:)S
(destcol\);)378 3462 A
4770 V
(38173)210 648 A
(*rp++)210 2034 A
2286(=)S
(numval)252 2370 A
2664(+)S
(incr)168 2748 A
2958(+)S
(*++cm;)252 3042 A
4860 V
(38174)210 648 A
(argno)210 2034 A
2286(=)S
2370(1)S
2454(-)S
(argno;)252 2538 A
4950 V
(38175)210 648 A
(break;)252 2034 A
5040 V
(38176)210 648 A
5130 V
(38177)210 648 A
(case)168 1866 A
('2':)168 2076 A
5220 V
(38178)210 648 A
(numval)252 2034 A
2328(=)S
(\(argno)252 2412 A
2706(==)S
2832(0)S
2916(?)S
(destline)336 3000 A
3378(:)S
(destcol\);)378 3462 A
5310 V
(38179)210 648 A
(numval)252 2034 A
2328(=)S
(\(numval)294 2412 A
2748(+)S
(incr\))210 2832 A
3084(%)S
(100;)168 3168 A
5400 V
(38180)210 648 A
(*rp++)210 2034 A
2286(=)S
('0')126 2370 A
2538(+)S
(\(numval)294 2622 A
2958(/)S
(10\);)168 3042 A
5490 V
(38181)210 648 A
(*rp++)210 2034 A
2286(=)S
('0')126 2370 A
2538(+)S
(\(numval)294 2622 A
2958(%)S
(10\);)168 3042 A
5580 V
(38182)210 648 A
(argno)210 2034 A
2286(=)S
2370(1)S
2454(-)S
(argno;)252 2538 A
5670 V
(38183)210 648 A
(break;)252 2034 A
5760 V
(38184)210 648 A
5850 V
(38185)210 648 A
(case)168 1866 A
('d':)168 2076 A
5940 V
(38186)210 648 A
(numval)252 2034 A
2328(=)S
(\(argno)252 2412 A
2706(==)S
2832(0)S
2916(?)S
(destline)336 3000 A
3378(:)S
(destcol\);)378 3462 A
6030 V
(38187)210 648 A
(numval)252 2034 A
2328(=)S
(\(numval)294 2412 A
2748(+)S
(incr\))210 2832 A
3084(%)S
(1000;)210 3168 A
6120 V
(38188)210 648 A
2034(if)S
(\(numval)294 2160 A
2496(>)S
(99\))126 2580 A
(*rp++)210 2748 A
3000(=)S
('0')126 3084 A
3252(+)S
(\(numval)294 3336 A
3672(/)S
(100\);)210 3756 A
6210 V
(38189)210 648 A
2034(if)S
(\(numval)294 2160 A
2496(>)S
2580(9\))S
(*rp++)210 2706 A
2958(=)S
('0')126 3042 A
3210(+)S
(\(numval)294 3294 A
3630(/)S
(10\))126 3714 A
3882(%)S
(10;)126 3966 A
8418 V
EP
%%Page: 380 380
BP
/slant 0 def
/height 0 def
630 V
12 B
(380)180 648 A
11 R
1919(File:)S
(src/lib/other/termcap.c)1005 2152 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(38190)210 648 A
(*rp++)210 2034 A
2286(=)S
('0')126 2370 A
2538(+)S
(\(numval)294 2622 A
2958(%)S
(10\);)168 3042 A
990 V
(38191)210 648 A
(argno)210 2034 A
2286(=)S
2370(1)S
2454(-)S
(argno;)252 2538 A
1080 V
(38192)210 648 A
(break;)252 2034 A
1170 V
(38193)210 648 A
1260 V
(38194)210 648 A
(case)168 1866 A
('%':)168 2076 A
(*rp++)210 2370 A
2622(=)S
('%';)168 2706 A
(break;)252 4050 A
1350 V
(38195)210 648 A
1440 V
(38196)210 648 A
(default:)336 1866 A
(return\("OOPS"\);)630 2370 A
1530 V
(38197)210 648 A
1698(})S
1620 V
(38198)210 648 A
1710 V
(38199)210 648 A
1362(})S
(else)168 1446 A
1800 V
(38200)210 648 A
(*rp++)210 1698 A
1950(=)S
(*cm;)168 2034 A
1890 V
(38201)210 648 A
1110(})S
1980 V
(38202)210 648 A
2070 V
(38203)210 648 A
(*rp)126 1110 A
1278(=)S
('\\0';)210 1362 A
2160 V
(38204)210 648 A
(return\(ret\);)504 1110 A
2250 V
(38205)210 648 A
1026(})S
2610 V
(38209)210 648 A
1026(/*)S
2700 V
(38210)210 648 A
1068(*)S
(tputs)210 1362 A
1614(-)S
(put)126 1698 A
(the)126 1866 A
(string)252 2034 A
2328(cp)S
(out)126 2454 A
(onto)168 2622 A
(the)126 2832 A
(terminal,)378 3000 A
(using)210 3420 A
(the)126 3672 A
(function)336 3840 A
2790 V
(38211)210 648 A
1068(*)S
(outc.)210 1362 A
(This)168 1614 A
(should)252 1824 A
2118(do)S
(padding)294 2244 A
(for)126 2580 A
(the)126 2748 A
(terminal,)378 2916 A
(but)126 3336 A
3504(I)S
(can't)210 3588 A
(find)168 3840 A
4050(a)S
2880 V
(38212)210 648 A
1068(*)S
(terminal)336 1362 A
(that)168 1740 A
(needs)210 1950 A
(padding)294 2202 A
2538(at)S
(the)126 2664 A
(moment...)378 2832 A
2970 V
(38213)210 648 A
1068(*/)S
3060 V
(38214)210 648 A
3150 V
(38215)210 648 A
(int)126 1026 A
(tputs\(cp,)378 1194 A
(affcnt,)294 1614 A
(outc\))210 1950 A
3240 V
(38216)210 648 A
(register)336 1026 A
(char)168 1404 A
(*cp;)168 1614 A
3330 V
(38217)210 648 A
(int)126 1026 A
(affcnt;)294 1194 A
3420 V
(38218)210 648 A
(_PROTOTYPE\()462 1026 A
(void)168 1530 A
(\(*outc\),)336 1740 A
(\(int)168 2118 A
(ch\)\);)210 2328 A
3510 V
(38219)210 648 A
1026({)S
3600 V
(38220)210 648 A
1110(if)S
(\(cp)126 1236 A
1404(==)S
(\(char)210 1530 A
(*\)NULL\))294 1782 A
(return\(1\);)420 2118 A
3690 V
(38221)210 648 A
1110(/*)S
1236(Do)S
(any)126 1362 A
(padding)294 1530 A
(interpretation)588 1866 A
2496(-)S
(left)168 2580 A
(null)168 2790 A
(for)126 3000 A
(MINIX)210 3168 A
(just)168 3420 A
(now)126 3630 A
3798(*/)S
3780 V
(38222)210 648 A
(while)210 1110 A
(\(*cp\))210 1362 A
(\(*outc\))294 1614 A
(\(*cp++\);)336 1950 A
3870 V
(38223)210 648 A
(return\(1\);)420 1110 A
3960 V
(38224)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/ttyname.c)966 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(38300)210 648 A
1026(/*)S
(ttyname.c)378 1152 A
(POSIX)210 3378 A
(4.7.2)210 3630 A
5040 V
(38301)210 648 A
1068(*)S
(char)168 1362 A
(*ttyname\(int)504 1572 A
(fildes\);)336 2118 A
5130 V
(38302)210 648 A
1068(*)S
5220 V
(38303)210 648 A
1068(*)S
(Determines)420 1362 A
(name)168 1824 A
2034(of)S
2160(a)S
(terminal)336 2244 A
(device.)294 2622 A
5310 V
(38304)210 648 A
1068(*/)S
5400 V
(38305)210 648 A
5490 V
(38306)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5580 V
(38307)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
5670 V
(38308)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
5760 V
(38309)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
5850 V
(38310)210 648 A
(#include)336 1026 A
(<stddef.h>)420 1404 A
5940 V
(38311)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
6030 V
(38312)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
6120 V
(38313)210 648 A
6210 V
(38314)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(base[])252 1572 A
1866(=)S
("/dev";)294 1950 A
8418 V
EP
%%Page: 381 381
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1919(File:)S
(src/lib/other/ttyname.c)1004 2152 A
12 B
(381)180 4248 A
900 V
7 LST
(38315)210 648 A
(PRIVATE)294 1026 A
(char)168 1362 A
(path[sizeof\(base\))714 1572 A
2328(+)S
2412(1)S
2496(+)S
(NAME_MAX];)420 2580 A
3042(/*)S
(extra)210 3168 A
3420(1)S
(for)126 3504 A
('/')126 3672 A
3840(*/)S
990 V
(38316)210 648 A
1080 V
(38317)210 648 A
(PUBLIC)252 1026 A
(char)168 1320 A
(*ttyname\(fildes\))672 1530 A
1170 V
(38318)210 648 A
(int)126 1026 A
(fildes;)294 1194 A
1260 V
(38319)210 648 A
1026({)S
1350 V
(38320)210 648 A
(DIR)126 1110 A
(*devices;)378 1278 A
1440 V
(38321)210 648 A
(struct)252 1110 A
(dirent)252 1404 A
(*entry;)294 1698 A
1530 V
(38322)210 648 A
(struct)252 1110 A
(stat)168 1404 A
(tty_stat;)378 1614 A
1620 V
(38323)210 648 A
(struct)252 1110 A
(stat)168 1404 A
(dev_stat;)378 1614 A
1710 V
(38324)210 648 A
1800 V
(38325)210 648 A
1110(/*)S
(Simple)252 1236 A
(first)210 1530 A
(test:)210 1782 A
(file)168 2034 A
(descriptor)420 2244 A
(must)168 2706 A
2916(be)S
3042(a)S
(character)378 3126 A
(device)252 3546 A
3840(*/)S
1890 V
(38326)210 648 A
1110(if)S
(\(fstat\(fildes,)588 1236 A
(&tty_stat\))420 1866 A
2328(<)S
2412(0)S
2496(||)S
(!S_ISCHR\(tty_stat.st_mode\)\))1134 2622 A
1980 V
(38327)210 648 A
(return)252 1362 A
(\(char)210 1656 A
1908(*\))S
(NULL;)210 2034 A
2070 V
(38328)210 648 A
2160 V
(38329)210 648 A
1110(/*)S
(Open)168 1236 A
(device)252 1446 A
(directory)378 1740 A
(for)126 2160 A
(reading)294 2328 A
2706(*/)S
2250 V
(38330)210 648 A
1110(if)S
(\(\(devices)378 1236 A
1656(=)S
(opendir\(base\)\))588 1740 A
2370(==)S
(\(DIR)168 2496 A
2706(*\))S
(NULL\))210 2832 A
2340 V
(38331)210 648 A
(return)252 1362 A
(\(char)210 1656 A
1908(*\))S
(NULL;)210 2034 A
2430 V
(38332)210 648 A
2520 V
(38333)210 648 A
1110(/*)S
(Scan)168 1236 A
(the)126 1446 A
(entries)294 1614 A
(for)126 1950 A
(one)126 2118 A
(that)168 2286 A
(matches)294 2496 A
(perfectly)378 2832 A
3252(*/)S
2610 V
(38334)210 648 A
(while)210 1110 A
(\(\(entry)294 1362 A
1698(=)S
(readdir\(devices\)\))714 1782 A
2538(!=)S
(\(struct)294 2664 A
(dirent)252 3000 A
3294(*\))S
(NULL\))210 3420 A
3672({)S
2700 V
(38335)210 648 A
1362(if)S
(\(tty_stat.st_ino)672 1488 A
2202(!=)S
(entry->d_ino\))546 2328 A
2790 V
(38336)210 648 A
(continue;)378 1698 A
2880 V
(38337)210 648 A
(strcpy\(path,)504 1362 A
(base\);)252 1908 A
2970 V
(38338)210 648 A
(strcat\(path,)504 1362 A
("/"\);)210 1908 A
3060 V
(38339)210 648 A
(strcat\(path,)504 1362 A
(entry->d_name\);)630 1908 A
3150 V
(38340)210 648 A
1362(if)S
(\(stat\(path,)462 1488 A
(&dev_stat\))420 1992 A
2454(<)S
2538(0)S
2622(||)S
(!S_ISCHR\(dev_stat.st_mode\)\))1134 2748 A
3240 V
(38341)210 648 A
(continue;)378 1698 A
3330 V
(38342)210 648 A
1362(if)S
(\(tty_stat.st_ino)672 1488 A
2202(==)S
(dev_stat.st_ino)630 2328 A
3000(&&)S
3420 V
(38343)210 648 A
(tty_stat.st_dev)630 1530 A
2202(==)S
(dev_stat.st_dev)630 2328 A
3000(&&)S
3510 V
(38344)210 648 A
(tty_stat.st_rdev)672 1530 A
2244(==)S
(dev_stat.st_rdev\))714 2370 A
3126({)S
3600 V
(38345)210 648 A
(closedir\(devices\);)756 1698 A
3690 V
(38346)210 648 A
(return)252 1698 A
(path;)210 1992 A
3780 V
(38347)210 648 A
1362(})S
3870 V
(38348)210 648 A
1110(})S
3960 V
(38349)210 648 A
4050 V
(38350)210 648 A
(closedir\(devices\);)756 1110 A
4140 V
(38351)210 648 A
(return)252 1110 A
(\(char)210 1404 A
1656(*\))S
(NULL;)210 1782 A
4230 V
(38352)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/other/ttyslot.c)966 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(38400)210 648 A
1026(/*)S
5040 V
(38401)210 648 A
(ttyslot.c)378 1026 A
5130 V
(38402)210 648 A
5220 V
(38403)210 648 A
(Return)252 1026 A
(the)126 1320 A
(index)210 1488 A
1740(in)S
(the)126 1866 A
(utmp)168 2034 A
(file)168 2244 A
(for)126 2454 A
(the)126 2622 A
(current)294 2790 A
(user's)252 3126 A
(terminal.)378 3420 A
(The)126 3840 A
5310 V
(38404)210 648 A
(current)294 1026 A
(user's)252 1362 A
(terminal)336 1656 A
2034(is)S
(the)126 2160 A
(first)210 2328 A
(file)168 2580 A
(descriptor)420 2790 A
3252(in)S
(the)126 3378 A
(range)210 3546 A
(0..2)168 3798 A
5400 V
(38405)210 648 A
(for)126 1026 A
(which)210 1194 A
(ttyname\(\))378 1446 A
(returns)294 1866 A
2202(a)S
(name.)210 2286 A
(The)126 2538 A
(index)210 2706 A
2958(is)S
(the)126 3084 A
(line)168 3252 A
(number)252 3462 A
3756(in)S
(the)126 3882 A
5490 V
(38406)210 648 A
(/etc/ttytab)462 1026 A
(file.)210 1530 A
1782(0)S
(will)168 1866 A
2076(be)S
(returned)336 2202 A
2580(in)S
(case)168 2706 A
2916(of)S
3042(an)S
(error.)252 3168 A
5580 V
(38407)210 648 A
5670 V
(38408)210 648 A
(Created:)336 1026 A
(Oct)126 1698 A
(11,)126 1866 A
(1992)168 2034 A
2244(by)S
(Philip)252 2370 A
(Homburg)294 2664 A
5760 V
(38409)210 648 A
1026(*/)S
5850 V
(38410)210 648 A
5940 V
(38411)210 648 A
(#define)294 1026 A
(_MINIX_SOURCE)546 1362 A
6030 V
(38412)210 648 A
6120 V
(38413)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
6210 V
(38414)210 648 A
(#include)336 1026 A
(<ttyent.h>)420 1404 A
8418 V
EP
%%Page: 382 382
BP
/slant 0 def
/height 0 def
630 V
12 B
(382)180 648 A
11 R
1960(File:)S
(src/lib/other/ttyslot.c)923 2193 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(38415)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
990 V
(38416)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1080 V
(38417)210 648 A
1170 V
(38418)210 648 A
(int)126 1026 A
(ttyslot\(\))378 1194 A
1260 V
(38419)210 648 A
1026({)S
1350 V
(38420)210 648 A
(int)126 1362 A
(slot;)210 1530 A
1440 V
(38421)210 648 A
1530 V
(38422)210 648 A
(slot=)210 1362 A
(fttyslot\(0\);)504 1614 A
1620 V
(38423)210 648 A
1362(if)S
(\(slot)210 1488 A
1740(==)S
1866(0\))S
(slot=)210 1992 A
(fttyslot\(1\);)504 2244 A
1710 V
(38424)210 648 A
1362(if)S
(\(slot)210 1488 A
1740(==)S
1866(0\))S
(slot=)210 1992 A
(fttyslot\(2\);)504 2244 A
1800 V
(38425)210 648 A
(return)252 1362 A
(slot;)210 1656 A
1890 V
(38426)210 648 A
1026(})S
2070 V
(38428)210 648 A
(int)126 1026 A
(fttyslot\(fd\))504 1194 A
2160 V
(38429)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2250 V
(38430)210 648 A
1026({)S
2340 V
(38431)210 648 A
(char)168 1362 A
(*tname;)294 1572 A
2430 V
(38432)210 648 A
(int)126 1362 A
(lineno;)294 1530 A
2520 V
(38433)210 648 A
(struct)252 1362 A
(ttyent)252 1656 A
(*ttyp;)252 1950 A
2610 V
(38434)210 648 A
2700 V
(38435)210 648 A
(tname=)252 1362 A
(ttyname\(fd\);)504 1656 A
2790 V
(38436)210 648 A
1362(if)S
(\(tname)252 1488 A
1782(==)S
(NULL\))210 1908 A
(return)252 2160 A
2454(0;)S
2880 V
(38437)210 648 A
2970 V
(38438)210 648 A
1362(/*)S
(Assume)252 1488 A
(that)168 1782 A
(tty)126 1992 A
(devices)294 2160 A
(are)126 2496 A
2664(in)S
(/dev)168 2790 A
3000(*/)S
3060 V
(38439)210 648 A
1362(if)S
(\(strncmp\(tname,)630 1488 A
("/dev/",)336 2160 A
2538(5\))S
2664(!=)S
2790(0\))S
3150 V
(38440)210 648 A
(return)252 1698 A
1992(0;)S
2370(/*)S
(Malformed)378 2496 A
(tty)126 2916 A
(name.)210 3084 A
3336(*/)S
3240 V
(38441)210 648 A
(tname)210 1362 A
1614(+=)S
1740(5;)S
3330 V
(38442)210 648 A
3420 V
(38443)210 648 A
1362(/*)S
(Scan)168 1488 A
(/etc/ttytab.)504 1698 A
2244(*/)S
3510 V
(38444)210 648 A
(lineno=)294 1362 A
1698(1;)S
3600 V
(38445)210 648 A
(while)210 1362 A
(\(\(ttyp=)294 1614 A
(getttyent\(\)\))504 1950 A
2496(!=)S
(NULL\))210 2622 A
3690 V
(38446)210 648 A
1362({)S
3780 V
(38447)210 648 A
1698(if)S
(\(strcmp\(tname,)588 1824 A
(ttyp->ty_name\))588 2454 A
3084(==)S
3210(0\))S
3870 V
(38448)210 648 A
1698({)S
3960 V
(38449)210 648 A
(endttyent\(\);)504 2034 A
4050 V
(38450)210 648 A
(return)252 2034 A
(lineno;)294 2328 A
4140 V
(38451)210 648 A
1698(})S
4230 V
(38452)210 648 A
(lineno++;)378 1698 A
4320 V
(38453)210 648 A
1362(})S
4410 V
(38454)210 648 A
1362(/*)S
1488(No)S
(match)210 1614 A
1866(*/)S
4500 V
(38455)210 648 A
(endttyent\(\);)504 1362 A
4590 V
(38456)210 648 A
(return)252 1362 A
1656(0;)S
4680 V
(38457)210 648 A
1026(})S
4860 V
(38459)210 648 A
1026(/*)S
4950 V
(38460)210 648 A
1068(*)S
($PchHeader:)462 1152 A
(/mount/hd2/minix/lib/misc/RCS/ttyslot.c,v)1722 1656 A
(1.3)126 3420 A
(1994/12/22)420 3588 A
(13:49:12)336 4050 A
(philip)252 4428 A
(Exp)126 4722 A
4890($)S
5040 V
(38461)210 648 A
1068(*/)S
8418 V
EP
%%Page: 383 383
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1954(File:)S
(src/lib/posix/__exit.c)934 2187 A
12 B
(383)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/__exit.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(38500)210 648 A
(#define)294 1026 A
(_exit)210 1362 A
(__exit)252 1698 A
1440 V
(38501)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1530 V
(38502)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1620 V
(38503)210 648 A
1710 V
(38504)210 648 A
(PUBLIC)252 1026 A
(void)168 1320 A
(_exit\(status\))546 1530 A
1800 V
(38505)210 648 A
(int)126 1026 A
(status;)294 1194 A
1890 V
(38506)210 648 A
1026({)S
1980 V
(38507)210 648 A
(message)294 1110 A
1446(m;)S
2070 V
(38508)210 648 A
2160 V
(38509)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(status;)294 1530 A
2250 V
(38510)210 648 A
(_syscall\(MM,)504 1110 A
(EXIT,)210 1656 A
(&m\);)168 1908 A
2340 V
(38511)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_access.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(38600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(38601)210 648 A
(#define)294 1026 A
(access)252 1362 A
(_access)294 1698 A
3330 V
(38602)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(38603)210 648 A
3510 V
(38604)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(access\(name,)504 1488 A
(mode\))210 2034 A
3600 V
(38605)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
3690 V
(38606)210 648 A
(int)126 1026 A
(mode;)210 1194 A
3780 V
(38607)210 648 A
1026({)S
3870 V
(38608)210 648 A
(message)294 1110 A
1446(m;)S
3960 V
(38609)210 648 A
4050 V
(38610)210 648 A
(m.m3_i2)294 1110 A
1446(=)S
(mode;)210 1530 A
4140 V
(38611)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
4230 V
(38612)210 648 A
(return\(_syscall\(FS,)798 1110 A
(ACCESS,)294 1950 A
(&m\)\);)210 2286 A
4320 V
(38613)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_alarm.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(38700)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5040 V
(38701)210 648 A
(#define)294 1026 A
(alarm)210 1362 A
(_alarm)252 1698 A
5130 V
(38702)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5220 V
(38703)210 648 A
5310 V
(38704)210 648 A
(PUBLIC)252 1026 A
(unsigned)336 1320 A
(int)126 1698 A
(alarm\(sec\))420 1866 A
5400 V
(38705)210 648 A
(unsigned)336 1026 A
(int)126 1404 A
(sec;)168 1572 A
5490 V
(38706)210 648 A
1026({)S
5580 V
(38707)210 648 A
(message)294 1110 A
1446(m;)S
5670 V
(38708)210 648 A
5760 V
(38709)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(\(int\))210 1530 A
(sec;)168 1782 A
5850 V
(38710)210 648 A
(return\()294 1110 A
(\(unsigned\))420 1446 A
(_syscall\(MM,)504 1908 A
(ALARM,)252 2454 A
(&m\)\);)210 2748 A
5940 V
(38711)210 648 A
1026(})S
8418 V
EP
%%Page: 384 384
BP
/slant 0 def
/height 0 def
630 V
12 B
(384)180 648 A
11 R
1812(File:)S
(src/lib/posix/_cfgetispeed.c)1219 2045 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_cfgetispeed.c)1176 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(38800)210 648 A
1026(/*)S
1440 V
(38801)210 648 A
(posix/_cfgetispeed)756 1026 A
1530 V
(38802)210 648 A
1620 V
(38803)210 648 A
(Created:)336 1026 A
(June)168 1698 A
(11,)126 1908 A
(1993)168 2076 A
2286(by)S
(Philip)252 2412 A
(Homburg)294 2706 A
1710 V
(38804)210 648 A
1026(*/)S
1800 V
(38805)210 648 A
1890 V
(38806)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
1980 V
(38807)210 648 A
2070 V
(38808)210 648 A
(speed_t)294 1026 A
(_cfgetispeed\(const)756 1362 A
(struct)252 2160 A
(termios)294 2454 A
(*termios_p\))462 2790 A
2160 V
(38809)210 648 A
1026({)S
2250 V
(38810)210 648 A
(return)252 1110 A
(termios_p->c_ispeed;)840 1404 A
2340 V
(38811)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_cfgetospeed.c)1176 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(38900)210 648 A
1026(/*)S
3240 V
(38901)210 648 A
(posix/_cfgetospeed)756 1026 A
3330 V
(38902)210 648 A
3420 V
(38903)210 648 A
(Created:)336 1026 A
(June)168 1698 A
(11,)126 1908 A
(1993)168 2076 A
2286(by)S
(Philip)252 2412 A
(Homburg)294 2706 A
3510 V
(38904)210 648 A
1026(*/)S
3600 V
(38905)210 648 A
3690 V
(38906)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
3780 V
(38907)210 648 A
3870 V
(38908)210 648 A
(speed_t)294 1026 A
(_cfgetospeed\(const)756 1362 A
(struct)252 2160 A
(termios)294 2454 A
(*termios_p\))462 2790 A
3960 V
(38909)210 648 A
1026({)S
4050 V
(38910)210 648 A
(return)252 1110 A
(termios_p->c_ospeed;)840 1404 A
4140 V
(38911)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_cfsetispeed.c)1176 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(39000)210 648 A
1026(/*)S
5040 V
(39001)210 648 A
(posix/_cfsetispeed)756 1026 A
5130 V
(39002)210 648 A
5220 V
(39003)210 648 A
(Created:)336 1026 A
(June)168 1698 A
(11,)126 1908 A
(1993)168 2076 A
2286(by)S
(Philip)252 2412 A
(Homburg)294 2706 A
5310 V
(39004)210 648 A
1026(*/)S
5400 V
(39005)210 648 A
5490 V
(39006)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
5580 V
(39007)210 648 A
5670 V
(39008)210 648 A
(int)126 1026 A
(_cfsetispeed\(struct)798 1194 A
(termios)294 2034 A
(*termios_p,)462 2370 A
(speed_t)294 2874 A
(speed\))252 3210 A
5760 V
(39009)210 648 A
1026({)S
5850 V
(39010)210 648 A
(termios_p->c_ispeed=)840 1110 A
(speed;)252 1992 A
5940 V
(39011)210 648 A
(return)252 1110 A
1404(0;)S
6030 V
(39012)210 648 A
1026(})S
8418 V
EP
%%Page: 385 385
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1806(File:)S
(src/lib/posix/_cfsetospeed.c)1231 2039 A
12 B
(385)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_cfsetospeed.c)1176 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(39100)210 648 A
1026(/*)S
1440 V
(39101)210 648 A
(posix/_cfsetospeed)756 1026 A
1530 V
(39102)210 648 A
1620 V
(39103)210 648 A
(Created:)336 1026 A
(June)168 1698 A
(11,)126 1908 A
(1993)168 2076 A
2286(by)S
(Philip)252 2412 A
(Homburg)294 2706 A
1710 V
(39104)210 648 A
1026(*/)S
1800 V
(39105)210 648 A
1890 V
(39106)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
1980 V
(39107)210 648 A
2070 V
(39108)210 648 A
(int)126 1026 A
(_cfsetospeed\(struct)798 1194 A
(termios)294 2034 A
(*termios_p,)462 2370 A
(speed_t)294 2874 A
(speed\))252 3210 A
2160 V
(39109)210 648 A
1026({)S
2250 V
(39110)210 648 A
(termios_p->c_ospeed=)840 1110 A
(speed;)252 1992 A
2340 V
(39111)210 648 A
(return)252 1110 A
1404(0;)S
2430 V
(39112)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_chdir.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(39200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(39201)210 648 A
(#define)294 1026 A
(chdir)210 1362 A
(_chdir)252 1698 A
3330 V
(39202)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(39203)210 648 A
3510 V
(39204)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(chdir\(name\))462 1488 A
3600 V
(39205)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
3690 V
(39206)210 648 A
1026({)S
3780 V
(39207)210 648 A
(message)294 1110 A
1446(m;)S
3870 V
(39208)210 648 A
3960 V
(39209)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
4050 V
(39210)210 648 A
(return\(_syscall\(FS,)798 1110 A
(CHDIR,)252 1950 A
(&m\)\);)210 2244 A
4140 V
(39211)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_chmod.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(39300)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5040 V
(39301)210 648 A
(#define)294 1026 A
(chmod)210 1362 A
(_chmod)252 1698 A
5130 V
(39302)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
5220 V
(39303)210 648 A
5310 V
(39304)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(chmod\(name,)462 1488 A
(mode\))210 1992 A
5400 V
(39305)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
5490 V
(39306)210 648 A
(Mode_t)252 1026 A
(mode;)210 1320 A
5580 V
(39307)210 648 A
1026({)S
5670 V
(39308)210 648 A
(message)294 1110 A
1446(m;)S
5760 V
(39309)210 648 A
5850 V
(39310)210 648 A
(m.m3_i2)294 1110 A
1446(=)S
(mode;)210 1530 A
5940 V
(39311)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
6030 V
(39312)210 648 A
(return\(_syscall\(FS,)798 1110 A
(CHMOD,)252 1950 A
(&m\)\);)210 2244 A
6120 V
(39313)210 648 A
1026(})S
8418 V
EP
%%Page: 386 386
BP
/slant 0 def
/height 0 def
630 V
12 B
(386)180 648 A
11 R
1918(File:)S
(src/lib/posix/_chown.c)1007 2151 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_chown.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(39400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(39401)210 648 A
(#define)294 1026 A
(chown)210 1362 A
(_chown)252 1698 A
1530 V
(39402)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1620 V
(39403)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1710 V
(39404)210 648 A
1800 V
(39405)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(chown\(name,)462 1488 A
(owner,)252 1992 A
(grp\))168 2286 A
1890 V
(39406)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
1980 V
(39407)210 648 A
(Uid_t)210 1026 A
(owner;)252 1278 A
2070 V
(39408)210 648 A
(Gid_t)210 1026 A
(grp;)168 1278 A
2160 V
(39409)210 648 A
1026({)S
2250 V
(39410)210 648 A
(message)294 1110 A
1446(m;)S
2340 V
(39411)210 648 A
2430 V
(39412)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
2520 V
(39413)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(owner;)252 1530 A
2610 V
(39414)210 648 A
(m.m1_i3)294 1110 A
1446(=)S
(grp;)168 1530 A
2700 V
(39415)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name;)210 1908 A
2790 V
(39416)210 648 A
(return\(_syscall\(FS,)798 1110 A
(CHOWN,)252 1950 A
(&m\)\);)210 2244 A
2880 V
(39417)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/posix/_chroot.c)966 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(39500)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(39501)210 648 A
(#define)294 1026 A
(chroot)252 1362 A
(_chroot)294 1698 A
3780 V
(39502)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3870 V
(39503)210 648 A
3960 V
(39504)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(chroot\(name\))504 1488 A
4050 V
(39505)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
4140 V
(39506)210 648 A
1026({)S
4230 V
(39507)210 648 A
(message)294 1110 A
1446(m;)S
4320 V
(39508)210 648 A
4410 V
(39509)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
4500 V
(39510)210 648 A
(return\(_syscall\(FS,)798 1110 A
(CHROOT,)294 1950 A
(&m\)\);)210 2286 A
4590 V
(39511)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/posix/_close.c)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(39600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(39601)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1698 A
5580 V
(39602)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5670 V
(39603)210 648 A
5760 V
(39604)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(close\(fd\))378 1488 A
5850 V
(39605)210 648 A
(int)126 1026 A
(fd;)126 1194 A
5940 V
(39606)210 648 A
1026({)S
6030 V
(39607)210 648 A
(message)294 1110 A
1446(m;)S
6120 V
(39608)210 648 A
6210 V
(39609)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(fd;)126 1530 A
8418 V
EP
%%Page: 387 387
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/posix/_close.c)941 2184 A
12 B
(387)180 4248 A
900 V
7 LST
(39610)210 648 A
(return\(_syscall\(FS,)798 1110 A
(CLOSE,)252 1950 A
(&m\)\);)210 2244 A
990 V
(39611)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/posix/_closedir.c)1050 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(39700)210 648 A
1026(/*)S
(closedir\(\))420 1362 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
1890 V
(39701)210 648 A
1068(*)S
3714(24)S
(Apr)126 3840 A
(1989)168 4008 A
1980 V
(39702)210 648 A
1068(*/)S
2070 V
(39703)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
2160 V
(39704)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2250 V
(39705)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1698 A
2340 V
(39706)210 648 A
(#define)294 1026 A
(closedir)336 1362 A
(_closedir)378 1740 A
2430 V
(39707)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2520 V
(39708)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
2610 V
(39709)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2700 V
(39710)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
2790 V
(39711)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
2880 V
(39712)210 648 A
2970 V
(39713)210 648 A
(int)126 1026 A
(closedir\(DIR)504 1194 A
(*dp\))168 1740 A
3060 V
(39714)210 648 A
1026(/*)S
(Finish)252 1152 A
(reading)294 1446 A
1782(a)S
(directory.)420 1866 A
2328(*/)S
3150 V
(39715)210 648 A
1026({)S
3240 V
(39716)210 648 A
(int)126 1362 A
1530(d;)S
3330 V
(39717)210 648 A
3420 V
(39718)210 648 A
1362(if)S
(\(dp)126 1488 A
1656(==)S
(nil\))168 1782 A
1992({)S
(errno=)252 2076 A
(EBADF;)252 2370 A
(return)252 2664 A
(-1;)126 2958 A
3126(})S
3510 V
(39719)210 648 A
3600 V
(39720)210 648 A
1362(d=)S
(dp->_fd;)336 1488 A
3690 V
(39721)210 648 A
(free\(\(void)420 1362 A
1824(*\))S
(dp\);)168 1950 A
3780 V
(39722)210 648 A
(return)252 1362 A
(close\(d\);)378 1656 A
3870 V
(39723)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/posix/_creat.c)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(39800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4590 V
(39801)210 648 A
(#define)294 1026 A
(creat)210 1362 A
(_creat)252 1698 A
4680 V
(39802)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
4770 V
(39803)210 648 A
4860 V
(39804)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(creat\(name,)462 1488 A
(mode\))210 1992 A
4950 V
(39805)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
5040 V
(39806)210 648 A
(Mode_t)252 1026 A
(mode;)210 1320 A
5130 V
(39807)210 648 A
1026({)S
5220 V
(39808)210 648 A
(message)294 1110 A
1446(m;)S
5310 V
(39809)210 648 A
5400 V
(39810)210 648 A
(m.m3_i2)294 1110 A
1446(=)S
(mode;)210 1530 A
5490 V
(39811)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
5580 V
(39812)210 648 A
(return\(_syscall\(FS,)798 1110 A
(CREAT,)252 1950 A
(&m\)\);)210 2244 A
5670 V
(39813)210 648 A
1026(})S
8418 V
EP
%%Page: 388 388
BP
/slant 0 def
/height 0 def
630 V
12 B
(388)180 648 A
11 R
1983(File:)S
(src/lib/posix/_dup.c)877 2216 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_dup.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(39900)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(39901)210 648 A
(#define)294 1026 A
(dup)126 1362 A
(_dup)168 1698 A
1530 V
(39902)210 648 A
(#define)294 1026 A
(fcntl)210 1362 A
(_fcntl)252 1698 A
1620 V
(39903)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
1710 V
(39904)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1800 V
(39905)210 648 A
1890 V
(39906)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(dup\(fd\))294 1488 A
1980 V
(39907)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2070 V
(39908)210 648 A
1026({)S
2160 V
(39909)210 648 A
(return\(fcntl\(fd,)672 1110 A
(F_DUPFD,)336 1824 A
(0\)\);)168 2202 A
2250 V
(39910)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_dup2.c)882 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(40000)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(40001)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1698 A
3330 V
(40002)210 648 A
(#define)294 1026 A
(dup2)168 1362 A
(_dup2)210 1698 A
3420 V
(40003)210 648 A
(#define)294 1026 A
(fcntl)210 1362 A
(_fcntl)252 1698 A
3510 V
(40004)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
3600 V
(40005)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3690 V
(40006)210 648 A
3780 V
(40007)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(dup2\(fd,)336 1488 A
(fd2\))168 1866 A
3870 V
(40008)210 648 A
(int)126 1026 A
(fd,)126 1194 A
(fd2;)168 1362 A
3960 V
(40009)210 648 A
1026({)S
4050 V
(40010)210 648 A
1026(/*)S
(The)126 1152 A
(behavior)336 1320 A
1698(of)S
(dup2)168 1824 A
2034(is)S
(defined)294 2160 A
2496(by)S
(POSIX)210 2622 A
2874(in)S
(6.2.1.2)294 3000 A
3336(as)S
(almost,)294 3462 A
(but)126 3798 A
(not)126 3966 A
4140 V
(40011)210 648 A
1068(*)S
(quite)210 1152 A
(the)126 1404 A
(same)168 1572 A
1782(as)S
(fcntl.)252 1908 A
4230 V
(40012)210 648 A
1068(*/)S
4320 V
(40013)210 648 A
4410 V
(40014)210 648 A
1110(if)S
(\(fd2)168 1236 A
1446(<)S
1530(0)S
1614(||)S
(fd2)126 1740 A
1908(>)S
(OPEN_MAX\))378 1992 A
2412({)S
4500 V
(40015)210 648 A
(errno)210 1362 A
1614(=)S
(EBADF;)252 1698 A
4590 V
(40016)210 648 A
(return\(-1\);)462 1362 A
4680 V
(40017)210 648 A
1110(})S
4770 V
(40018)210 648 A
4860 V
(40019)210 648 A
1110(/*)S
(Check)210 1236 A
1488(to)S
(see)126 1614 A
1782(if)S
(fildes)252 1908 A
2202(is)S
(valid.)252 2328 A
2622(*/)S
4950 V
(40020)210 648 A
1110(if)S
(\(fcntl\(fd,)420 1236 A
(F_GETFL\))336 1698 A
2076(<)S
2160(0\))S
2286({)S
5040 V
(40021)210 648 A
1362(/*)S
('fd')168 1488 A
1698(is)S
(not)126 1824 A
(valid.)252 1992 A
2286(*/)S
5130 V
(40022)210 648 A
(return\(-1\);)462 1362 A
5220 V
(40023)210 648 A
1110(})S
(else)168 1194 A
1404({)S
5310 V
(40024)210 648 A
1362(/*)S
('fd')168 1488 A
1698(is)S
(valid.)252 1824 A
2118(*/)S
5400 V
(40025)210 648 A
1362(if)S
(\(fd)126 1488 A
1656(==)S
(fd2\))168 1782 A
(return\(fd2\);)504 1992 A
5490 V
(40026)210 648 A
(close\(fd2\);)462 1362 A
5580 V
(40027)210 648 A
(return\(fcntl\(fd,)672 1362 A
(F_DUPFD,)336 2076 A
(fd2\)\);)252 2454 A
5670 V
(40028)210 648 A
1110(})S
5760 V
(40029)210 648 A
1026(})S
8418 V
EP
%%Page: 389 389
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1963(File:)S
(src/lib/posix/_exec.c)917 2196 A
12 B
(389)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_exec.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(40100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(40101)210 648 A
(#define)294 1026 A
(execl)210 1362 A
(_execl)252 1698 A
1530 V
(40102)210 648 A
(#define)294 1026 A
(execle)252 1362 A
(_execle)294 1698 A
1620 V
(40103)210 648 A
(#define)294 1026 A
(execv)210 1362 A
(_execv)252 1698 A
1710 V
(40104)210 648 A
(#define)294 1026 A
(execve)252 1362 A
(_execve)294 1698 A
1800 V
(40105)210 648 A
(#define)294 1026 A
(sbrk)168 1362 A
(_sbrk)210 1698 A
1890 V
(40106)210 648 A
(#include)336 1026 A
(<minix/minlib.h>)672 1404 A
1980 V
(40107)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1404 A
2070 V
(40108)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2160 V
(40109)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2250 V
(40110)210 648 A
2340 V
(40111)210 648 A
(extern)252 1026 A
(char)168 1320 A
(**environ;)420 1530 A
2430 V
(40112)210 648 A
2520 V
(40113)210 648 A
(#define)294 1026 A
(PTRSIZE)294 1362 A
(\(sizeof\(char)504 1698 A
(*\)\))126 2244 A
2610 V
(40114)210 648 A
2700 V
(40115)210 648 A
(#ifdef)252 1026 A
(_ANSI)210 1320 A
2790 V
(40116)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(execl\(const)462 1488 A
(char)168 1992 A
(*name,)252 2202 A
(const)210 2496 A
(char)168 2748 A
(*arg,)210 2958 A
(...\))168 3210 A
2880 V
(40117)210 648 A
(#else)210 1026 A
2970 V
(40118)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(execl\(name\))462 1488 A
3060 V
(40119)210 648 A
(char)168 1026 A
(*name;)252 1236 A
3150 V
(40120)210 648 A
(#endif)252 1026 A
3240 V
(40121)210 648 A
1026({)S
3330 V
(40122)210 648 A
(va_list)294 1110 A
(argp;)210 1446 A
3420 V
(40123)210 648 A
(int)126 1110 A
(result;)294 1278 A
3510 V
(40124)210 648 A
3600 V
(40125)210 648 A
(va_start\(argp,)588 1110 A
(name\);)252 1740 A
3690 V
(40126)210 648 A
3780 V
(40127)210 648 A
1110(/*)S
(The)126 1236 A
(following)378 1404 A
(cast)168 1824 A
2034(of)S
(argp)168 2160 A
2370(is)S
(not)126 2496 A
(portable.)378 2664 A
(Doing)210 3126 A
3378(it)S
(right)210 3504 A
3756(by)S
(copying)294 3882 A
3870 V
(40128)210 648 A
1152(*)S
(the)126 1236 A
(args)168 1404 A
1614(to)S
1740(a)S
(true)168 1824 A
(array)210 2034 A
(will)168 2286 A
(cost)168 2496 A
2706(as)S
(much)168 2832 A
3042(as)S
(ARG_MAX)294 3168 A
(bytes)210 3504 A
3756(of)S
(space.)252 3882 A
3960 V
(40129)210 648 A
1152(*/)S
4050 V
(40130)210 648 A
(result)252 1110 A
1404(=)S
(execve\(name,)504 1488 A
(\(char)210 2034 A
(**\))126 2286 A
(argp,)210 2454 A
(environ\);)378 2706 A
4140 V
(40131)210 648 A
(va_end\(argp\);)546 1110 A
4230 V
(40132)210 648 A
(return\(result\);)630 1110 A
4320 V
(40133)210 648 A
1026(})S
4590 V
(40136)210 648 A
(#ifdef)252 1026 A
(_ANSI)210 1320 A
4680 V
(40137)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(execle\(const)504 1488 A
(char)168 2034 A
(*name,)252 2244 A
(const)210 2538 A
(char)168 2790 A
(*arg,)210 3000 A
(...\))168 3252 A
4770 V
(40138)210 648 A
(#else)210 1026 A
4860 V
(40139)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(execle\(name\))504 1488 A
4950 V
(40140)210 648 A
(char)168 1026 A
(*name;)252 1236 A
5040 V
(40141)210 648 A
(#endif)252 1026 A
5130 V
(40142)210 648 A
1026({)S
5220 V
(40143)210 648 A
(va_list)294 1110 A
(argp;)210 1446 A
5310 V
(40144)210 648 A
(char)168 1110 A
(**p;)168 1320 A
5400 V
(40145)210 648 A
(int)126 1110 A
(result;)294 1278 A
5490 V
(40146)210 648 A
5580 V
(40147)210 648 A
(va_start\(argp,)588 1110 A
(name\);)252 1740 A
5670 V
(40148)210 648 A
5760 V
(40149)210 648 A
1110(/*)S
(The)126 1236 A
(following)378 1404 A
(cast)168 1824 A
2034(of)S
(argp)168 2160 A
2370(is)S
(not)126 2496 A
(portable,)378 2664 A
3084(as)S
(for)126 3210 A
(execl\(\).)336 3378 A
3756(*/)S
5850 V
(40150)210 648 A
1110(p)S
1194(=)S
(\(char)210 1278 A
(**\))126 1530 A
(argp;)210 1698 A
5940 V
(40151)210 648 A
(while)210 1110 A
(\(*p++)210 1362 A
1614(!=)S
(NIL_PTR\))336 1740 A
6030 V
(40152)210 648 A
1362(;)S
2370(/*)S
(null)168 2496 A
(statement)378 2706 A
3126(*/)S
6120 V
(40153)210 648 A
(result)252 1110 A
1404(=)S
(execve\(name,)504 1488 A
(\(char)210 2034 A
(**\))126 2286 A
(argp,)210 2454 A
(\(char)210 2706 A
(**\))126 2958 A
(*p\);)168 3126 A
6210 V
(40154)210 648 A
(va_end\(argp\);)546 1110 A
8418 V
EP
%%Page: 390 390
BP
/slant 0 def
/height 0 def
630 V
12 B
(390)180 648 A
11 R
1963(File:)S
(src/lib/posix/_exec.c)917 2196 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(40155)210 648 A
(return\(result\);)630 1110 A
990 V
(40156)210 648 A
1026(})S
1260 V
(40159)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(execv\(name,)462 1488 A
(argv\))210 1992 A
1350 V
(40160)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
1440 V
(40161)210 648 A
(char)168 1026 A
1236(*)S
(_CONST)252 1320 A
(argv[];)294 1614 A
1530 V
(40162)210 648 A
1026({)S
1620 V
(40163)210 648 A
(return\(execve\(name,)798 1110 A
(argv,)210 1950 A
(environ\)\);)420 2202 A
1710 V
(40164)210 648 A
1026(})S
1980 V
(40167)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(execve\(path,)504 1488 A
(argv,)210 2034 A
(envp\))210 2286 A
2070 V
(40168)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*path;)252 1530 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(name)168 2958 A
3168(of)S
(file)168 3294 A
3504(to)S
3630(be)S
(executed)336 3756 A
4134(*/)S
2160 V
(40169)210 648 A
(char)168 1026 A
1236(*)S
(_CONST)252 1320 A
(argv[];)294 1614 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(argument)336 2958 A
(array)210 3336 A
3588(*/)S
2250 V
(40170)210 648 A
(char)168 1026 A
1236(*)S
(_CONST)252 1320 A
(envp[];)294 1614 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(environment)462 2958 A
3462(*/)S
2340 V
(40171)210 648 A
1026({)S
2430 V
(40172)210 648 A
(int)126 1110 A
1278(i,)S
1404(j;)S
2520 V
(40173)210 648 A
2610 V
(40174)210 648 A
1110(/*)S
(Count)210 1236 A
(the)126 1488 A
(argument)336 1656 A
(pointers)336 2034 A
(and)126 2412 A
(environment)462 2580 A
(pointers.)378 3084 A
3504(*/)S
2700 V
(40175)210 648 A
1110(i)S
1194(=)S
1278(0;)S
2790 V
(40176)210 648 A
1110(if)S
(\(argv)210 1236 A
1488(!=)S
(NULL\))210 1614 A
2880 V
(40177)210 648 A
1110({)S
2970 V
(40178)210 648 A
(while)210 1362 A
(\(argv[i])336 1614 A
1992(!=)S
(NULL\))210 2118 A
(i++;)168 2370 A
3060 V
(40179)210 648 A
1110(})S
3150 V
(40180)210 648 A
1110(j)S
1194(=)S
1278(0;)S
3240 V
(40181)210 648 A
1110(if)S
(\(envp)210 1236 A
1488(!=)S
(NULL\))210 1614 A
3330 V
(40182)210 648 A
1110({)S
3420 V
(40183)210 648 A
(while)210 1362 A
(\(envp[j])336 1614 A
1992(!=)S
(NULL\))210 2118 A
(j++;)168 2370 A
3510 V
(40184)210 648 A
1110(})S
3600 V
(40185)210 648 A
3690 V
(40186)210 648 A
(return\(__execve\(path,)882 1110 A
(argv,)210 2034 A
(envp,)210 2286 A
2538(i,)S
(j\)\);)168 2664 A
3780 V
(40187)210 648 A
1026(})S
4050 V
(40190)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(__execve\(path,)588 1488 A
(argv,)210 2118 A
(envp,)210 2370 A
(nargs,)252 2622 A
(nenvps\))294 2916 A
4140 V
(40191)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*path;)252 1530 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(name)168 2958 A
3168(of)S
(file)168 3294 A
3504(to)S
3630(be)S
(executed)336 3756 A
4134(*/)S
4230 V
(40192)210 648 A
(char)168 1026 A
1236(*)S
(_CONST)252 1320 A
(argv[];)294 1614 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(argument)336 2958 A
(array)210 3336 A
3588(*/)S
4320 V
(40193)210 648 A
(char)168 1026 A
1236(*)S
(_CONST)252 1320 A
(envp[];)294 1614 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(environment)462 2958 A
3462(*/)S
4410 V
(40194)210 648 A
(int)126 1026 A
(nargs;)252 1194 A
2370(/*)S
(number)252 2496 A
2790(of)S
(args)168 2916 A
3126(*/)S
4500 V
(40195)210 648 A
(int)126 1026 A
(nenvps;)294 1194 A
2370(/*)S
(number)252 2496 A
2790(of)S
(environment)462 2916 A
(strings)294 3420 A
3756(*/)S
4590 V
(40196)210 648 A
1026({)S
4680 V
(40197)210 648 A
1026(/*)S
(This)168 1152 A
1362(is)S
(split)210 1488 A
(off)126 1740 A
(from)168 1908 A
(execve)252 2118 A
2412(to)S
2538(be)S
(called)252 2664 A
(from)168 2958 A
(execvp,)294 3168 A
3504(so)S
(execvp)252 3630 A
(does)168 3924 A
(not)126 4134 A
4770 V
(40198)210 648 A
1068(*)S
(have)168 1152 A
1362(to)S
(allocate)336 1488 A
1866(up)S
1992(to)S
(ARG_MAX)294 2118 A
(bytes)210 2454 A
(just)168 2706 A
2916(to)S
(prepend)294 3042 A
("sh")168 3378 A
3588(to)S
(the)126 3714 A
(arg)126 3882 A
(array.)252 4050 A
4860 V
(40199)210 648 A
1068(*/)S
4950 V
(40200)210 648 A
5040 V
(40201)210 648 A
(char)168 1110 A
(*hp,)168 1320 A
(**ap,)210 1530 A
(*p;)126 1782 A
5130 V
(40202)210 648 A
(int)126 1110 A
1278(i,)S
(stackbytes,)462 1404 A
(npointers,)420 1908 A
(overflow,)378 2370 A
(temp;)210 2790 A
5220 V
(40203)210 648 A
(char)168 1110 A
(*stack;)294 1320 A
5310 V
(40204)210 648 A
(message)294 1110 A
1446(m;)S
5400 V
(40205)210 648 A
5490 V
(40206)210 648 A
1110(/*)S
(Decide)252 1236 A
(how)126 1530 A
(big)126 1698 A
1866(a)S
(stack)210 1950 A
2202(is)S
(needed.)294 2328 A
2664(Be)S
(paranoid)336 2790 A
(about)210 3168 A
(overflow.)378 3420 A
3840(*/)S
5580 V
(40207)210 648 A
(overflow)336 1110 A
1488(=)S
(FALSE;)252 1572 A
5670 V
(40208)210 648 A
(npointers)378 1110 A
1530(=)S
1614(1)S
1698(+)S
(nargs)210 1782 A
2034(+)S
2118(1)S
2202(+)S
(nenvps)252 2286 A
2580(+)S
2664(1;)S
3042(/*)S
(1's)126 3168 A
(for)126 3336 A
(argc)168 3504 A
(and)126 3714 A
(NULLs)210 3882 A
4134(*/)S
5760 V
(40209)210 648 A
(stackbytes)420 1110 A
1572(=)S
(nargs)210 1656 A
1908(+)S
(nenvps;)294 1992 A
2706(/*)S
2832(1)S
(byte)168 2916 A
(for)126 3126 A
(each)168 3294 A
(null)168 3504 A
3714(in)S
(strings)294 3840 A
4176(*/)S
5850 V
(40210)210 648 A
1110(if)S
(\(nargs)252 1236 A
1530(<)S
1614(0)S
1698(||)S
(nenvps)252 1824 A
2118(<)S
2202(0)S
2286(||)S
(stackbytes)420 2412 A
2874(<)S
(nargs)210 2958 A
3210(||)S
(npointers)378 3336 A
3756(<)S
(stackbytes\))462 3840 A
5940 V
(40211)210 648 A
(overflow)336 1362 A
1740(=)S
(TRUE;)210 1824 A
6030 V
(40212)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
(PTRSIZE;)336 1488 A
1866(i)S
1950(!=)S
2076(0;)S
(i--\))168 2202 A
2412({)S
6120 V
(40213)210 648 A
(temp)168 1362 A
1572(=)S
(stackbytes)420 1656 A
2118(+)S
(npointers;)420 2202 A
6210 V
(40214)210 648 A
1362(if)S
(\(temp)210 1488 A
1740(<)S
(stackbytes\))462 1824 A
(overflow)336 2328 A
2706(=)S
(TRUE;)210 2790 A
8418 V
EP
%%Page: 391 391
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1963(File:)S
(src/lib/posix/_exec.c)917 2196 A
12 B
(391)180 4248 A
900 V
7 LST
(40215)210 648 A
(stackbytes)420 1362 A
1824(=)S
(temp;)210 1908 A
990 V
(40216)210 648 A
1110(})S
1080 V
(40217)210 648 A
1110(ap)S
1236(=)S
(\(char)210 1320 A
(**\))126 1572 A
(argv;)210 1740 A
1170 V
(40218)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(nargs;)252 1782 A
(i++\))168 2076 A
2286({)S
1260 V
(40219)210 648 A
(temp)168 1362 A
1572(=)S
(stackbytes)420 1656 A
2118(+)S
(strlen\(*ap++\);)588 2202 A
1350 V
(40220)210 648 A
1362(if)S
(\(temp)210 1488 A
1740(<)S
(stackbytes\))462 1824 A
(overflow)336 2328 A
2706(=)S
(TRUE;)210 2790 A
1440 V
(40221)210 648 A
(stackbytes)420 1362 A
1824(=)S
(temp;)210 1908 A
1530 V
(40222)210 648 A
1110(})S
1620 V
(40223)210 648 A
1110(ap)S
1236(=)S
(\(char)210 1320 A
(**\))126 1572 A
(envp;)210 1740 A
1710 V
(40224)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(nenvps;)294 1782 A
(i++\))168 2118 A
2328({)S
1800 V
(40225)210 648 A
(temp)168 1362 A
1572(=)S
(stackbytes)420 1656 A
2118(+)S
(strlen\(*ap++\);)588 2202 A
1890 V
(40226)210 648 A
1362(if)S
(\(temp)210 1488 A
1740(<)S
(stackbytes\))462 1824 A
(overflow)336 2328 A
2706(=)S
(TRUE;)210 2790 A
1980 V
(40227)210 648 A
(stackbytes)420 1362 A
1824(=)S
(temp;)210 1908 A
2070 V
(40228)210 648 A
1110(})S
2160 V
(40229)210 648 A
(temp)168 1110 A
1320(=)S
(stackbytes)420 1404 A
1866(+)S
(PTRSIZE)294 1950 A
2286(-)S
2370(1;)S
2250 V
(40230)210 648 A
1110(if)S
(\(temp)210 1236 A
1488(<)S
(stackbytes\))462 1572 A
(overflow)336 2076 A
2454(=)S
(TRUE;)210 2538 A
2340 V
(40231)210 648 A
(stackbytes)420 1110 A
1572(=)S
(\(temp)210 1656 A
1908(/)S
(PTRSIZE\))336 1992 A
2370(*)S
(PTRSIZE;)336 2454 A
2430 V
(40232)210 648 A
2520 V
(40233)210 648 A
1110(/*)S
(Check)210 1236 A
(for)126 1488 A
(overflow)336 1656 A
(before)252 2034 A
(committing)420 2328 A
(sbrk.)210 2790 A
3042(*/)S
2610 V
(40234)210 648 A
1110(if)S
(\(overflow\))420 1236 A
1698({)S
2700 V
(40235)210 648 A
(errno)210 1362 A
1614(=)S
(E2BIG;)252 1698 A
2790 V
(40236)210 648 A
(return\(-1\);)462 1362 A
2880 V
(40237)210 648 A
1110(})S
2970 V
(40238)210 648 A
3060 V
(40239)210 648 A
1110(/*)S
(Allocate)336 1236 A
(the)126 1614 A
(stack.)252 1782 A
2076(*/)S
3150 V
(40240)210 648 A
(stack)210 1110 A
1362(=)S
(sbrk\(stackbytes\);)714 1446 A
3240 V
(40241)210 648 A
1110(if)S
(\(stack)252 1236 A
1530(==)S
(\(char)210 1656 A
1908(*\))S
(-1\))126 2034 A
2202({)S
3330 V
(40242)210 648 A
(errno)210 1362 A
1614(=)S
(E2BIG;)252 1698 A
3420 V
(40243)210 648 A
(return\(-1\);)462 1362 A
3510 V
(40244)210 648 A
1110(})S
3600 V
(40245)210 648 A
3690 V
(40246)210 648 A
1110(/*)S
(Prepare)294 1236 A
(the)126 1572 A
(stack)210 1740 A
(vector)252 1992 A
(and)126 2286 A
(argc.)210 2454 A
2706(*/)S
3780 V
(40247)210 648 A
1110(ap)S
1236(=)S
(\(char)210 1320 A
(**\))126 1572 A
(stack;)252 1740 A
3870 V
(40248)210 648 A
1110(hp)S
1236(=)S
(&stack[npointers)672 1320 A
2034(*)S
(PTRSIZE];)378 2118 A
3960 V
(40249)210 648 A
(*ap++)210 1110 A
1362(=)S
(\(char)210 1446 A
1698(*\))S
(nargs;)252 1824 A
4050 V
(40250)210 648 A
4140 V
(40251)210 648 A
1110(/*)S
(Prepare)294 1236 A
(the)126 1572 A
(argument)336 1740 A
(pointers)336 2118 A
(and)126 2496 A
(strings.)336 2664 A
3042(*/)S
4230 V
(40252)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(nargs;)252 1782 A
(i++\))168 2076 A
2286({)S
4320 V
(40253)210 648 A
(*ap++)210 1362 A
1614(=)S
(\(char)210 1698 A
1950(*\))S
(\(hp)126 2076 A
2244(-)S
(stack\);)294 2328 A
4410 V
(40254)210 648 A
1362(p)S
1446(=)S
(*argv++;)336 1530 A
4500 V
(40255)210 648 A
(while)210 1362 A
1614(\()S
(\(*hp++)252 1698 A
1992(=)S
(*p++\))210 2076 A
2328(!=)S
2454(0\))S
4590 V
(40256)210 648 A
1698(;)S
4680 V
(40257)210 648 A
1110(})S
4770 V
(40258)210 648 A
(*ap++)210 1110 A
1362(=)S
(\(char)210 1446 A
1698(*\))S
(NULL;)210 1824 A
4860 V
(40259)210 648 A
4950 V
(40260)210 648 A
1110(/*)S
(Prepare)294 1236 A
(the)126 1572 A
(environment)462 1740 A
(pointers)336 2244 A
(and)126 2622 A
(strings.)336 2790 A
3168(*/)S
5040 V
(40261)210 648 A
(for)126 1110 A
1278(\(i)S
1404(=)S
1488(0;)S
1614(i)S
1698(<)S
(nenvps;)294 1782 A
(i++\))168 2118 A
2328({)S
5130 V
(40262)210 648 A
(*ap++)210 1362 A
1614(=)S
(\(char)210 1698 A
1950(*\))S
(\(hp)126 2076 A
2244(-)S
(stack\);)294 2328 A
5220 V
(40263)210 648 A
1362(p)S
1446(=)S
(*envp++;)336 1530 A
5310 V
(40264)210 648 A
(while)210 1362 A
1614(\()S
(\(*hp++)252 1698 A
1992(=)S
(*p++\))210 2076 A
2328(!=)S
2454(0\))S
5400 V
(40265)210 648 A
1698(;)S
5490 V
(40266)210 648 A
1110(})S
5580 V
(40267)210 648 A
(*ap++)210 1110 A
1362(=)S
(\(char)210 1446 A
1698(*\))S
(NULL;)210 1824 A
5670 V
(40268)210 648 A
5760 V
(40269)210 648 A
1110(/*)S
1236(Do)S
(the)126 1362 A
(real)168 1530 A
(work.)210 1740 A
1992(*/)S
5850 V
(40270)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(path\))504 1530 A
2076(+)S
2160(1;)S
5940 V
(40271)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(stackbytes;)462 1530 A
6030 V
(40272)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(path;)210 1908 A
6120 V
(40273)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(stack;)252 1530 A
6210 V
(40274)210 648 A
(\(void\))252 1110 A
(_syscall\(MM,)504 1404 A
(EXEC,)210 1950 A
(&m\);)168 2202 A
8418 V
EP
%%Page: 392 392
BP
/slant 0 def
/height 0 def
630 V
12 B
(392)180 648 A
11 R
1963(File:)S
(src/lib/posix/_exec.c)917 2196 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(40275)210 648 A
990 V
(40276)210 648 A
1110(/*)S
(The)126 1236 A
(exec)168 1404 A
(failed.)294 1614 A
1950(*/)S
1080 V
(40277)210 648 A
(sbrk\(-stackbytes\);)756 1110 A
1170 V
(40278)210 648 A
(return\(m.m_type\);)714 1110 A
1260 V
(40279)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/posix/_execn.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(40300)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2340 V
(40301)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2430 V
(40302)210 648 A
2520 V
(40303)210 648 A
(#define)294 1026 A
(PTRSIZE)294 1362 A
(sizeof\(char)462 1698 A
2202(*\))S
2610 V
(40304)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(_execn,)294 1698 A
(\(char)210 2034 A
2286(*)S
(name\)\);)294 2370 A
2700 V
(40305)210 648 A
2790 V
(40306)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(_execn\(name\))504 1488 A
2880 V
(40307)210 648 A
(char)168 1026 A
(*name;)252 1236 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(file)168 2958 A
3168(to)S
3294(be)S
(exec'd)252 3420 A
3714(*/)S
2970 V
(40308)210 648 A
1026({)S
3060 V
(40309)210 648 A
1026(/*)S
(Special)294 1152 A
(version)294 1488 A
(used)168 1824 A
(when)168 2034 A
(there)210 2244 A
(are)126 2496 A
2664(no)S
(args)168 2790 A
(and)126 3000 A
3168(no)S
(environment.)504 3294 A
(This)168 3882 A
(call)168 4092 A
3150 V
(40310)210 648 A
1068(*)S
1152(is)S
(principally)462 1278 A
(used)168 1782 A
1992(by)S
(INIT,)210 2118 A
2370(to)S
(avoid)210 2496 A
(having)252 2748 A
3042(to)S
(allocate)336 3168 A
(ARG_MAX.)336 3546 A
3240 V
(40311)210 648 A
1068(*/)S
3330 V
(40312)210 648 A
3420 V
(40313)210 648 A
(PRIVATE)294 1110 A
(char)168 1446 A
(stack[3)294 1656 A
1992(*)S
(PTRSIZE];)378 2076 A
3510 V
(40314)210 648 A
(message)294 1110 A
1446(m;)S
3600 V
(40315)210 648 A
3690 V
(40316)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
3780 V
(40317)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(sizeof\(stack\);)588 1530 A
3870 V
(40318)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(name;)210 1530 A
3960 V
(40319)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(stack;)252 1530 A
4050 V
(40320)210 648 A
(\(void\))252 1110 A
(_syscall\(MM,)504 1404 A
(EXEC,)210 1950 A
(&m\);)168 2202 A
4140 V
(40321)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_fcntl.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(40400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5040 V
(40401)210 648 A
(#define)294 1026 A
(fcntl)210 1362 A
(_fcntl)252 1614 A
5130 V
(40402)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
5220 V
(40403)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1404 A
5310 V
(40404)210 648 A
5400 V
(40405)210 648 A
(#if)126 1026 A
(_ANSI)210 1194 A
5490 V
(40406)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(fcntl\(int)378 1488 A
(fd,)126 1908 A
(int)126 2076 A
(cmd,)168 2244 A
(...\))168 2454 A
5580 V
(40407)210 648 A
(#else)210 1026 A
5670 V
(40408)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(fcntl\(fd,)378 1488 A
(cmd\))168 1908 A
5760 V
(40409)210 648 A
(int)126 1026 A
(fd;)126 1194 A
5850 V
(40410)210 648 A
(int)126 1026 A
(cmd;)168 1194 A
5940 V
(40411)210 648 A
(#endif)252 1026 A
6030 V
(40412)210 648 A
1026({)S
6120 V
(40413)210 648 A
(va_list)294 1110 A
(argp;)210 1446 A
6210 V
(40414)210 648 A
(message)294 1110 A
1446(m;)S
8418 V
EP
%%Page: 393 393
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1963(File:)S
(src/lib/posix/_fcntl.c)916 2196 A
12 B
(393)180 4248 A
900 V
7 LST
(40415)210 648 A
990 V
(40416)210 648 A
(va_start\(argp,)588 1110 A
(cmd\);)210 1740 A
1080 V
(40417)210 648 A
1170 V
(40418)210 648 A
1110(/*)S
(Set)126 1236 A
1404(up)S
(for)126 1530 A
(the)126 1698 A
(sensible)336 1866 A
(case)168 2244 A
(where)210 2454 A
(there)210 2706 A
2958(is)S
3084(no)S
(variable)336 3210 A
(parameter.)420 3588 A
(This)168 4092 A
1260 V
(40419)210 648 A
1152(*)S
(covers)252 1236 A
(F_GETFD,)336 1530 A
(F_GETFL)294 1908 A
(and)126 2244 A
(invalid)294 2412 A
(commands.)378 2748 A
1350 V
(40420)210 648 A
1152(*/)S
1440 V
(40421)210 648 A
(m.m1_i3)294 1110 A
1446(=)S
1530(0;)S
1530 V
(40422)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(NIL_PTR;)336 1530 A
1620 V
(40423)210 648 A
1710 V
(40424)210 648 A
1110(/*)S
(Adjust)252 1236 A
(for)126 1530 A
(the)126 1698 A
(stupid)252 1866 A
(cases.)252 2160 A
2454(*/)S
1800 V
(40425)210 648 A
(switch\(cmd\))462 1110 A
1614({)S
1890 V
(40426)210 648 A
(case)168 1236 A
(F_DUPFD:)336 1446 A
1980 V
(40427)210 648 A
(case)168 1236 A
(F_SETFD:)336 1446 A
2070 V
(40428)210 648 A
(case)168 1236 A
(F_SETFL:)336 1446 A
2160 V
(40429)210 648 A
(m.m1_i3)294 1362 A
1698(=)S
(va_arg\(argp,)504 1782 A
(int\);)210 2328 A
2250 V
(40430)210 648 A
(break;)252 1362 A
2340 V
(40431)210 648 A
(case)168 1236 A
(F_GETLK:)336 1446 A
2430 V
(40432)210 648 A
(case)168 1236 A
(F_SETLK:)336 1446 A
2520 V
(40433)210 648 A
(case)168 1236 A
(F_SETLKW:)378 1446 A
2610 V
(40434)210 648 A
(m.m1_p1)294 1362 A
1698(=)S
(\(char)210 1782 A
2034(*\))S
(va_arg\(argp,)504 2160 A
(struct)252 2706 A
(flock)210 3000 A
(*\);)126 3252 A
2700 V
(40435)210 648 A
(break;)252 1362 A
2790 V
(40436)210 648 A
1110(})S
2880 V
(40437)210 648 A
2970 V
(40438)210 648 A
1110(/*)S
(Clean)210 1236 A
1488(up)S
(and)126 1614 A
(make)168 1782 A
(the)126 1992 A
(system)252 2160 A
(call.)210 2454 A
2706(*/)S
3060 V
(40439)210 648 A
(va_end\(argp\);)546 1110 A
3150 V
(40440)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(fd;)126 1530 A
3240 V
(40441)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(cmd;)168 1530 A
3330 V
(40442)210 648 A
(return\(_syscall\(FS,)798 1110 A
(FCNTL,)252 1950 A
(&m\)\);)210 2244 A
3420 V
(40443)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/posix/_fork.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(40500)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4140 V
(40501)210 648 A
(#define)294 1026 A
(fork)168 1362 A
(_fork)210 1698 A
4230 V
(40502)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4320 V
(40503)210 648 A
4410 V
(40504)210 648 A
(PUBLIC)252 1026 A
(pid_t)210 1320 A
(fork\(\))252 1572 A
4500 V
(40505)210 648 A
1026({)S
4590 V
(40506)210 648 A
(message)294 1110 A
1446(m;)S
4680 V
(40507)210 648 A
4770 V
(40508)210 648 A
(return\(_syscall\(MM,)798 1110 A
(FORK,)210 1950 A
(&m\)\);)210 2202 A
4860 V
(40509)210 648 A
1026(})S
8418 V
EP
%%Page: 394 394
BP
/slant 0 def
/height 0 def
630 V
12 B
(394)180 648 A
11 R
1853(File:)S
(src/lib/posix/_fpathconf.c)1137 2086 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_fpathconf.c)1092 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(40600)210 648 A
1026(/*)S
(POSIX)210 1152 A
(fpathconf)378 1404 A
(\(Sec.)210 1824 A
(5.7.1\))252 2076 A
(Author:)294 3042 A
(Andy)168 3378 A
(Tanenbaum)378 3588 A
4008(*/)S
1440 V
(40601)210 648 A
1530 V
(40602)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1620 V
(40603)210 648 A
(#define)294 1026 A
(fstat)210 1362 A
(_fstat)252 2034 A
1710 V
(40604)210 648 A
(#define)294 1026 A
(fpathconf)378 1362 A
(_fpathconf)420 2034 A
1800 V
(40605)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
1890 V
(40606)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
1980 V
(40607)210 648 A
(#include)336 1026 A
(<limits.h>)420 1404 A
2070 V
(40608)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2160 V
(40609)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
2250 V
(40610)210 648 A
2340 V
(40611)210 648 A
(PUBLIC)252 1026 A
(long)168 1320 A
(fpathconf\(fd,)546 1530 A
(name\))210 2118 A
2430 V
(40612)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2370(/*)S
(file)168 2496 A
(descriptor)420 2706 A
(being)210 3168 A
(interrogated)504 3420 A
3966(*/)S
2520 V
(40613)210 648 A
(int)126 1026 A
(name;)210 1194 A
2370(/*)S
(property)336 2496 A
(being)210 2874 A
(inspected)378 3126 A
3546(*/)S
2610 V
(40614)210 648 A
1026({)S
2700 V
(40615)210 648 A
1026(/*)S
(POSIX)210 1152 A
(allows)252 1404 A
(some)168 1698 A
1908(of)S
(the)126 2034 A
(values)252 2202 A
2496(in)S
(<limits.h>)420 2622 A
3084(to)S
3210(be)S
(increased)378 3336 A
3756(at)S
2790 V
(40616)210 648 A
1068(*)S
(run)126 1152 A
(time.)210 1320 A
(The)126 1614 A
(pathconf)336 1782 A
(and)126 2160 A
(fpathconf)378 2328 A
(functions)378 2748 A
(allow)210 3168 A
(these)210 3420 A
(values)252 3672 A
2880 V
(40617)210 648 A
1068(*)S
1152(to)S
1278(be)S
(checked)294 1404 A
1740(at)S
(run)126 1866 A
(time.)210 2034 A
(MINIX)210 2328 A
(does)168 2580 A
(not)126 2790 A
(use)126 2958 A
(this)168 3126 A
(facility.)378 3336 A
2970 V
(40618)210 648 A
1068(*)S
(The)126 1152 A
(run-time)336 1320 A
(limits)252 1698 A
(are)126 1992 A
(those)210 2160 A
(given)210 2412 A
2664(in)S
(<limits.h>.)462 2790 A
3060 V
(40619)210 648 A
1068(*/)S
3150 V
(40620)210 648 A
3240 V
(40621)210 648 A
(struct)252 1110 A
(stat)168 1404 A
(stbuf;)252 1614 A
3330 V
(40622)210 648 A
3420 V
(40623)210 648 A
(switch\(name\))504 1110 A
1656({)S
3510 V
(40624)210 648 A
(case)168 1362 A
(_PC_LINK_MAX:)546 1572 A
3600 V
(40625)210 648 A
1698(/*)S
(Fstat)210 1824 A
(the)126 2076 A
(file.)210 2244 A
2538(If)S
(that)168 2664 A
(fails,)252 2874 A
(return)252 3168 A
(-1.)126 3462 A
3630(*/)S
3690 V
(40626)210 648 A
1698(if)S
(\(fstat\(fd,)420 1824 A
(&stbuf\))294 2286 A
2622(!=)S
2748(0\))S
(return\(-1\);)462 2874 A
3780 V
(40627)210 648 A
1698(if)S
(\(S_ISDIR\(stbuf.st_mode\)\))1008 1824 A
3870 V
(40628)210 648 A
(return\(1L\);)462 2034 A
2706(/*)S
2832(no)S
(links)210 2958 A
3210(to)S
(directories)462 3336 A
3840(*/)S
3960 V
(40629)210 648 A
(else)168 1698 A
4050 V
(40630)210 648 A
(return\()294 2034 A
(\(long\))252 2370 A
(LINK_MAX\);)420 2664 A
4140 V
(40631)210 648 A
4230 V
(40632)210 648 A
(case)168 1362 A
(_PC_MAX_CANON:)588 1572 A
4320 V
(40633)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(MAX_CANON\);)462 2328 A
4410 V
(40634)210 648 A
4500 V
(40635)210 648 A
(case)168 1362 A
(_PC_MAX_INPUT:)588 1572 A
4590 V
(40636)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(MAX_INPUT\);)462 2328 A
4680 V
(40637)210 648 A
4770 V
(40638)210 648 A
(case)168 1362 A
(_PC_NAME_MAX:)546 1572 A
4860 V
(40639)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(NAME_MAX\);)420 2328 A
4950 V
(40640)210 648 A
5040 V
(40641)210 648 A
(case)168 1362 A
(_PC_PATH_MAX:)546 1572 A
5130 V
(40642)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(PATH_MAX\);)420 2328 A
5220 V
(40643)210 648 A
5310 V
(40644)210 648 A
(case)168 1362 A
(_PC_PIPE_BUF:)546 1572 A
5400 V
(40645)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(PIPE_BUF\);)420 2328 A
5490 V
(40646)210 648 A
5580 V
(40647)210 648 A
(case)168 1362 A
(_PC_CHOWN_RESTRICTED:)882 1572 A
5670 V
(40648)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(_POSIX_CHOWN_RESTRICTED\);)1050 2328 A
5760 V
(40649)210 648 A
5850 V
(40650)210 648 A
(case)168 1362 A
(_PC_NO_TRUNC:)546 1572 A
5940 V
(40651)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(_POSIX_NO_TRUNC\);)714 2328 A
6030 V
(40652)210 648 A
6120 V
(40653)210 648 A
(case)168 1362 A
(_PC_VDISABLE:)546 1572 A
6210 V
(40654)210 648 A
(return\()294 1698 A
(\(long\))252 2034 A
(_POSIX_VDISABLE\);)714 2328 A
8418 V
EP
%%Page: 395 395
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1853(File:)S
(src/lib/posix/_fpathconf.c)1137 2086 A
12 B
(395)180 4248 A
900 V
7 LST
(40655)210 648 A
990 V
(40656)210 648 A
(default:)336 1362 A
1080 V
(40657)210 648 A
(errno)210 1698 A
1950(=)S
(EINVAL;)294 2034 A
1170 V
(40658)210 648 A
(return\(-1\);)462 1698 A
1260 V
(40659)210 648 A
1110(})S
1350 V
(40660)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/posix/_fstat.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(40700)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2340 V
(40701)210 648 A
(#define)294 1026 A
(fstat)210 1362 A
(_fstat)252 1698 A
2430 V
(40702)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
2520 V
(40703)210 648 A
2610 V
(40704)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(fstat\(fd,)378 1488 A
(buffer\))294 1908 A
2700 V
(40705)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2790 V
(40706)210 648 A
(struct)252 1026 A
(stat)168 1320 A
(*buffer;)336 1530 A
2880 V
(40707)210 648 A
1026({)S
2970 V
(40708)210 648 A
(message)294 1110 A
1446(m;)S
3060 V
(40709)210 648 A
3150 V
(40710)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(fd;)126 1530 A
3240 V
(40711)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(buffer;)294 1908 A
3330 V
(40712)210 648 A
(return\(_syscall\(FS,)798 1110 A
(FSTAT,)252 1950 A
(&m\)\);)210 2244 A
3420 V
(40713)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/posix/_getcwd.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(40800)210 648 A
1026(/*)S
(getcwd\(\))336 1362 A
1740(-)S
(get)126 1824 A
(the)126 1992 A
(name)168 2160 A
2370(of)S
(the)126 2496 A
(current)294 2664 A
(working)294 3000 A
(directory.)420 3336 A
4140 V
(40801)210 648 A
1068(*)S
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
4230 V
(40802)210 648 A
1068(*)S
3714(30)S
(Apr)126 3840 A
(1989)168 4008 A
4320 V
(40803)210 648 A
1068(*/)S
4410 V
(40804)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
4500 V
(40805)210 648 A
(#define)294 1026 A
(chdir)210 1362 A
(_chdir)252 1614 A
4590 V
(40806)210 648 A
(#define)294 1026 A
(closedir)336 1362 A
(_closedir)378 1740 A
4680 V
(40807)210 648 A
(#define)294 1026 A
(getcwd)252 1362 A
(_getcwd)294 1656 A
4770 V
(40808)210 648 A
(#define)294 1026 A
(opendir)294 1362 A
(_opendir)336 1698 A
4860 V
(40809)210 648 A
(#define)294 1026 A
(readdir)294 1362 A
(_readdir)336 1698 A
4950 V
(40810)210 648 A
(#define)294 1026 A
(rewinddir)378 1362 A
(_rewinddir)420 1782 A
5040 V
(40811)210 648 A
(#define)294 1026 A
(stat)168 1362 A
(_stat)210 1572 A
5130 V
(40812)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
5220 V
(40813)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
5310 V
(40814)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
5400 V
(40815)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5490 V
(40816)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
5580 V
(40817)210 648 A
(#include)336 1026 A
(<limits.h>)420 1404 A
5670 V
(40818)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5760 V
(40819)210 648 A
5850 V
(40820)210 648 A
(static)252 1026 A
(int)126 1320 A
(addpath\(const)546 1488 A
(char)168 2076 A
(*path,)252 2286 A
(char)168 2580 A
(**ap,)210 2790 A
(const)210 3042 A
(char)168 3294 A
(*entry\))294 3504 A
5940 V
(40821)210 648 A
1026(/*)S
(Add)126 1152 A
(the)126 1320 A
(name)168 1488 A
1698(of)S
1824(a)S
(directory)378 1908 A
(entry)210 2328 A
2580(at)S
(the)126 2706 A
(front)210 2874 A
3126(of)S
(the)126 3252 A
(path)168 3420 A
(being)210 3630 A
(built.)252 3882 A
6030 V
(40822)210 648 A
1068(*)S
(Note)168 1152 A
(that)168 1362 A
(the)126 1572 A
(result)252 1740 A
(always)252 2034 A
(starts)252 2328 A
(with)168 2622 A
2832(a)S
(slash.)252 2916 A
6120 V
(40823)210 648 A
1068(*/)S
6210 V
(40824)210 648 A
1026({)S
8418 V
EP
%%Page: 396 396
BP
/slant 0 def
/height 0 def
630 V
12 B
(396)180 648 A
11 R
1905(File:)S
(src/lib/posix/_getcwd.c)1033 2138 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(40825)210 648 A
(const)210 1362 A
(char)168 1614 A
(*e=)126 1824 A
(entry;)252 1992 A
990 V
(40826)210 648 A
(char)168 1362 A
(*p=)126 1572 A
(*ap;)168 1740 A
1080 V
(40827)210 648 A
1170 V
(40828)210 648 A
(while)210 1362 A
(\(*e)126 1614 A
1782(!=)S
1908(0\))S
(e++;)168 2034 A
1260 V
(40829)210 648 A
1350 V
(40830)210 648 A
(while)210 1362 A
1614(\(e)S
1740(>)S
(entry)210 1824 A
2076(&&)S
2202(p)S
2286(>)S
(path\))210 2370 A
(*--p)168 2622 A
2832(=)S
(*--e;)210 2916 A
1440 V
(40831)210 648 A
1530 V
(40832)210 648 A
1362(if)S
1488(\(p)S
1614(==)S
(path\))210 1740 A
(return)252 1992 A
(-1;)126 2286 A
1620 V
(40833)210 648 A
(*--p)168 1362 A
1572(=)S
('/';)168 1656 A
1710 V
(40834)210 648 A
(*ap=)168 1362 A
1572(p;)S
1800 V
(40835)210 648 A
(return)252 1362 A
1656(0;)S
1890 V
(40836)210 648 A
1026(})S
2070 V
(40838)210 648 A
(static)252 1026 A
(int)126 1320 A
(recover\(char)504 1488 A
(*p\))126 2034 A
2160 V
(40839)210 648 A
1026(/*)S
(Undo)168 1152 A
(all)126 1362 A
(those)210 1530 A
(chdir\(".."\)'s)546 1782 A
(that)168 2370 A
(have)168 2580 A
(been)168 2790 A
(recorded)336 3000 A
3378(by)S
(addpath.)336 3504 A
(This)168 3924 A
2250 V
(40840)210 648 A
1068(*)S
(has)126 1152 A
1320(to)S
1446(be)S
(done)168 1572 A
(entry)210 1782 A
2034(by)S
(entry,)252 2160 A
(because)294 2454 A
(the)126 2790 A
(whole)210 2958 A
(pathname)336 3210 A
(may)126 3588 A
3756(be)S
(too)126 3882 A
(long.)210 4050 A
2340 V
(40841)210 648 A
1068(*/)S
2430 V
(40842)210 648 A
1026({)S
2520 V
(40843)210 648 A
(int)126 1362 A
1530(e=)S
(errno,)252 1656 A
(slash;)252 1950 A
2610 V
(40844)210 648 A
(char)168 1362 A
(*p0;)168 1572 A
2700 V
(40845)210 648 A
2790 V
(40846)210 648 A
(while)210 1362 A
(\(*p)126 1614 A
1782(!=)S
1908(0\))S
2034({)S
2880 V
(40847)210 648 A
(p0=)126 1698 A
(++p;)168 1866 A
2970 V
(40848)210 648 A
3060 V
(40849)210 648 A
1698(do)S
(p++;)168 1824 A
(while)210 2034 A
(\(*p)126 2286 A
2454(!=)S
2580(0)S
2664(&&)S
2790(*p)S
2916(!=)S
('/'\);)210 3042 A
3150 V
(40850)210 648 A
(slash=)252 1698 A
(*p;)126 1992 A
(*p=)126 2160 A
2328(0;)S
3240 V
(40851)210 648 A
3330 V
(40852)210 648 A
1698(if)S
(\(chdir\(p0\))420 1824 A
2286(<)S
2370(0\))S
(return)252 2496 A
(-1;)126 2790 A
3420 V
(40853)210 648 A
(*p=)126 1698 A
(slash;)252 1866 A
3510 V
(40854)210 648 A
1362(})S
3600 V
(40855)210 648 A
(errno=)252 1362 A
1656(e;)S
3690 V
(40856)210 648 A
(return)252 1362 A
1656(0;)S
3780 V
(40857)210 648 A
1026(})S
3960 V
(40859)210 648 A
(char)168 1026 A
(*getcwd\(char)504 1236 A
(*path,)252 1782 A
(size_t)252 2076 A
(size\))210 2370 A
4050 V
(40860)210 648 A
1026({)S
4140 V
(40861)210 648 A
(struct)252 1362 A
(stat)168 1656 A
(above,)252 1866 A
(current,)336 2160 A
(tmp;)168 2538 A
4230 V
(40862)210 648 A
(struct)252 1362 A
(dirent)252 1656 A
(*entry;)294 1950 A
4320 V
(40863)210 648 A
(DIR)126 1362 A
(*d;)126 1530 A
4410 V
(40864)210 648 A
(char)168 1362 A
(*p,)126 1572 A
(*up,)168 1740 A
(*dotdot;)336 1950 A
4500 V
(40865)210 648 A
(int)126 1362 A
(cycle;)252 1530 A
4590 V
(40866)210 648 A
4680 V
(40867)210 648 A
1362(if)S
(\(path)210 1488 A
1740(==)S
(nil)126 1866 A
2034(||)S
(size)168 2160 A
2370(<=)S
2496(2\))S
2622({)S
(errno=)252 2706 A
(EINVAL;)294 3000 A
(return)252 3336 A
(nil;)168 3630 A
3840(})S
4770 V
(40868)210 648 A
4860 V
(40869)210 648 A
1362(p=)S
(path)168 1488 A
1698(+)S
(size;)210 1782 A
4950 V
(40870)210 648 A
(*--p)168 1362 A
1572(=)S
1656(0;)S
5040 V
(40871)210 648 A
5130 V
(40872)210 648 A
1362(if)S
(\(stat\(".",)420 1488 A
(&current\))378 1950 A
2370(<)S
2454(0\))S
(return)252 2580 A
(nil;)168 2874 A
5220 V
(40873)210 648 A
5310 V
(40874)210 648 A
(while)210 1362 A
(\(1\))126 1614 A
1782({)S
5400 V
(40875)210 648 A
(dotdot=)294 1698 A
("..";)210 2034 A
5490 V
(40876)210 648 A
1698(if)S
(\(stat\(dotdot,)546 1824 A
(&above\))294 2412 A
2748(<)S
2832(0\))S
2958({)S
(recover\(p\);)462 3042 A
(return)252 3546 A
(nil;)168 3840 A
4050(})S
5580 V
(40877)210 648 A
5670 V
(40878)210 648 A
1698(if)S
(\(above.st_dev)546 1824 A
2412(==)S
(current.st_dev)588 2538 A
5760 V
(40879)210 648 A
2706(&&)S
(above.st_ino)504 2832 A
3378(==)S
(current.st_ino\))630 3504 A
5850 V
(40880)210 648 A
(break;)252 2034 A
2370(/*)S
(Root)168 2496 A
(dir)126 2706 A
(found)210 2874 A
3126(*/)S
5940 V
(40881)210 648 A
6030 V
(40882)210 648 A
1698(if)S
(\(\(d=)168 1824 A
(opendir\(dotdot\)\))672 2034 A
2748(==)S
(nil\))168 2874 A
3084({)S
(recover\(p\);)462 3168 A
(return)252 3672 A
(nil;)168 3966 A
4176(})S
6120 V
(40883)210 648 A
6210 V
(40884)210 648 A
1698(/*)S
(Cycle)210 1824 A
2076(is)S
2202(0)S
(for)126 2286 A
2454(a)S
(simple)252 2538 A
(inode)210 2832 A
3084(nr)S
(search,)294 3210 A
3546(or)S
3672(1)S
(for)126 3756 A
3924(a)S
(search)252 4008 A
8418 V
EP
%%Page: 397 397
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1905(File:)S
(src/lib/posix/_getcwd.c)1033 2138 A
12 B
(397)180 4248 A
900 V
7 LST
(40885)210 648 A
1740(*)S
(for)126 1824 A
(inode)210 1992 A
(*and*)210 2244 A
(device)252 2496 A
(nr.)126 2790 A
990 V
(40886)210 648 A
1740(*/)S
1080 V
(40887)210 648 A
(cycle=)252 1698 A
(above.st_dev)504 1992 A
2538(==)S
(current.st_dev)588 2664 A
3294(?)S
3378(0)S
3462(:)S
3546(1;)S
1170 V
(40888)210 648 A
1260 V
(40889)210 648 A
1698(do)S
1824({)S
1350 V
(40890)210 648 A
(char)168 2034 A
(name[3)252 2244 A
2538(+)S
(NAME_MAX)336 2622 A
3000(+)S
(1];)126 3084 A
1440 V
(40891)210 648 A
1530 V
(40892)210 648 A
(tmp.st_ino=)462 2034 A
2538(0;)S
1620 V
(40893)210 648 A
2034(if)S
(\(\(entry=)336 2160 A
(readdir\(d\)\))462 2538 A
3042(==)S
(nil\))168 3168 A
3378({)S
1710 V
(40894)210 648 A
(switch)252 2370 A
(\(++cycle\))378 2664 A
3084({)S
1800 V
(40895)210 648 A
(case)168 2370 A
2580(1:)S
1890 V
(40896)210 648 A
(rewinddir\(d\);)546 2706 A
1980 V
(40897)210 648 A
(continue;)378 2706 A
2070 V
(40898)210 648 A
(case)168 2370 A
2580(2:)S
2160 V
(40899)210 648 A
(closedir\(d\);)504 2706 A
2250 V
(40900)210 648 A
(errno=)252 2706 A
(ENOENT;)294 3000 A
2340 V
(40901)210 648 A
(recover\(p\);)462 2706 A
2430 V
(40902)210 648 A
(return)252 2706 A
(nil;)168 3000 A
2520 V
(40903)210 648 A
2370(})S
2610 V
(40904)210 648 A
2034(})S
2700 V
(40905)210 648 A
2034(if)S
(\(strcmp\(entry->d_name,)924 2160 A
("."\))168 3126 A
3336(==)S
3462(0\))S
(continue;)378 3588 A
2790 V
(40906)210 648 A
2034(if)S
(\(strcmp\(entry->d_name,)924 2160 A
(".."\))210 3126 A
3378(==)S
3504(0\))S
(continue;)378 3630 A
2880 V
(40907)210 648 A
2970 V
(40908)210 648 A
(switch)252 2034 A
(\(cycle\))294 2328 A
2664({)S
3060 V
(40909)210 648 A
(case)168 2034 A
2244(0:)S
3150 V
(40910)210 648 A
2370(/*)S
(Simple)252 2496 A
(test)168 2790 A
3000(on)S
(inode)210 3126 A
(nr.)126 3378 A
3546(*/)S
3240 V
(40911)210 648 A
2370(if)S
(\(entry->d_ino)546 2496 A
3084(!=)S
(current.st_ino\))630 3210 A
(continue;)378 3882 A
3330 V
(40912)210 648 A
(/*FALL)252 2370 A
(THROUGH*/)378 2664 A
3420 V
(40913)210 648 A
3510 V
(40914)210 648 A
(case)168 2034 A
2244(1:)S
3600 V
(40915)210 648 A
2370(/*)S
(Current)294 2496 A
2832(is)S
(mounted.)336 2958 A
3336(*/)S
3690 V
(40916)210 648 A
(strcpy\(name,)504 2370 A
("../"\);)294 2916 A
3780 V
(40917)210 648 A
(strcpy\(name+3,)588 2370 A
(entry->d_name\);)630 3000 A
3870 V
(40918)210 648 A
2370(if)S
(\(stat\(name,)462 2496 A
(&tmp\))210 3000 A
3252(<)S
3336(0\))S
(continue;)378 3462 A
3960 V
(40919)210 648 A
(break;)252 2370 A
4050 V
(40920)210 648 A
2034(})S
4140 V
(40921)210 648 A
1698(})S
(while)210 1782 A
(\(tmp.st_ino)462 2034 A
2538(!=)S
(current.st_ino)588 2664 A
4230 V
(40922)210 648 A
2706(||)S
(tmp.st_dev)420 2832 A
3294(!=)S
(current.st_dev\);)672 3420 A
4320 V
(40923)210 648 A
4410 V
(40924)210 648 A
(up=)126 1698 A
1866(p;)S
4500 V
(40925)210 648 A
1698(if)S
(\(addpath\(path,)588 1824 A
(&up,)168 2454 A
(entry->d_name\))588 2664 A
3294(<)S
3378(0\))S
3504({)S
4590 V
(40926)210 648 A
(closedir\(d\);)504 2034 A
4680 V
(40927)210 648 A
(errno)210 2034 A
2286(=)S
(ERANGE;)294 2370 A
4770 V
(40928)210 648 A
(recover\(p\);)462 2034 A
4860 V
(40929)210 648 A
(return)252 2034 A
(nil;)168 2328 A
4950 V
(40930)210 648 A
1698(})S
5040 V
(40931)210 648 A
(closedir\(d\);)504 1698 A
5130 V
(40932)210 648 A
5220 V
(40933)210 648 A
1698(if)S
(\(chdir\(dotdot\))588 1824 A
2454(<)S
2538(0\))S
2664({)S
(recover\(p\);)462 2748 A
(return)252 3252 A
(nil;)168 3546 A
3756(})S
5310 V
(40934)210 648 A
1698(p=)S
(up;)126 1824 A
5400 V
(40935)210 648 A
5490 V
(40936)210 648 A
(current=)336 1698 A
(above;)252 2076 A
5580 V
(40937)210 648 A
1362(})S
5670 V
(40938)210 648 A
1362(if)S
(\(recover\(p\))462 1488 A
1992(<)S
2076(0\))S
(return)252 2202 A
(nil;)168 2496 A
2706(/*)S
(Undo)168 2832 A
(all)126 3042 A
(those)210 3210 A
(chdir\(".."\)'s.)588 3462 A
4092(*/)S
5760 V
(40939)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(==)S
1782(0\))S
(*--p)168 1908 A
2118(=)S
('/';)168 2202 A
2706(/*)S
(Cwd)126 2832 A
3000(is)S
("/")126 3126 A
3294(if)S
(nothing)294 3420 A
(added)210 3756 A
4008(*/)S
5850 V
(40940)210 648 A
1362(if)S
1488(\(p)S
1614(>)S
(path\))210 1698 A
(strcpy\(path,)504 1950 A
(p\);)126 2496 A
2706(/*)S
(Move)168 2832 A
(string)252 3042 A
3336(to)S
(start)210 3462 A
3714(of)S
(path.)210 3840 A
4092(*/)S
5940 V
(40941)210 648 A
(return)252 1362 A
(path;)210 1656 A
6030 V
(40942)210 648 A
1026(})S
8418 V
EP
%%Page: 398 398
BP
/slant 0 def
/height 0 def
630 V
12 B
(398)180 648 A
11 R
1902(File:)S
(src/lib/posix/_getegid.c)1039 2135 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_getegid.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(41000)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(41001)210 648 A
(#define)294 1026 A
(getegid)294 1362 A
(_getegid)336 1698 A
1530 V
(41002)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1620 V
(41003)210 648 A
1710 V
(41004)210 648 A
(PUBLIC)252 1026 A
(gid_t)210 1320 A
(getegid\(\))378 1572 A
1800 V
(41005)210 648 A
1026({)S
1890 V
(41006)210 648 A
(message)294 1110 A
1446(m;)S
1980 V
(41007)210 648 A
2070 V
(41008)210 648 A
1110(/*)S
(POSIX)210 1236 A
(says)168 1488 A
(that)168 1698 A
(this)168 1908 A
(function)336 2118 A
2496(is)S
(always)252 2622 A
(successful)420 2916 A
(and)126 3378 A
(that)168 3546 A
3756(no)S
2160 V
(41009)210 648 A
1152(*)S
(return)252 1236 A
(value)210 1530 A
1782(is)S
(reserved)336 1908 A
2286(to)S
(indicate)336 2412 A
2790(an)S
(error.)252 2916 A
(Minix)210 3252 A
(syscalls)336 3504 A
2250 V
(41010)210 648 A
1152(*)S
(are)126 1236 A
(not)126 1404 A
(always)252 1572 A
(successful)420 1866 A
(and)126 2328 A
(Minix)210 2496 A
(returns)294 2748 A
(the)126 3084 A
(unreserved)420 3252 A
(value)210 3714 A
2340 V
(41011)210 648 A
1152(*)S
(\(gid_t\))294 1236 A
1572(-1)S
(when)168 1698 A
(there)210 1908 A
2160(is)S
2286(an)S
(error.)252 2412 A
2430 V
(41012)210 648 A
1152(*/)S
2520 V
(41013)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(GETGID,)294 1824 A
(&m\))126 2160 A
2328(<)S
2412(0\))S
(return)252 2538 A
2832(\()S
(\(gid_t\))294 2916 A
(-1\);)168 3252 A
2610 V
(41014)210 648 A
(return\()294 1110 A
(\(gid_t\))294 1446 A
(m.m2_i1\);)378 1782 A
2700 V
(41015)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/posix/_geteuid.c)1008 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(41100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(41101)210 648 A
(#define)294 1026 A
(geteuid)294 1362 A
(_geteuid)336 1698 A
3780 V
(41102)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3870 V
(41103)210 648 A
3960 V
(41104)210 648 A
(PUBLIC)252 1026 A
(uid_t)210 1320 A
(geteuid\(\))378 1572 A
4050 V
(41105)210 648 A
1026({)S
4140 V
(41106)210 648 A
(message)294 1110 A
1446(m;)S
4230 V
(41107)210 648 A
4320 V
(41108)210 648 A
1110(/*)S
(POSIX)210 1236 A
(says)168 1488 A
(that)168 1698 A
(this)168 1908 A
(function)336 2118 A
2496(is)S
(always)252 2622 A
(successful)420 2916 A
(and)126 3378 A
(that)168 3546 A
3756(no)S
4410 V
(41109)210 648 A
1152(*)S
(return)252 1236 A
(value)210 1530 A
1782(is)S
(reserved)336 1908 A
2286(to)S
(indicate)336 2412 A
2790(an)S
(error.)252 2916 A
(Minix)210 3252 A
(syscalls)336 3504 A
4500 V
(41110)210 648 A
1152(*)S
(are)126 1236 A
(not)126 1404 A
(always)252 1572 A
(successful)420 1866 A
(and)126 2328 A
(Minix)210 2496 A
(returns)294 2748 A
(the)126 3084 A
(unreserved)420 3252 A
(value)210 3714 A
4590 V
(41111)210 648 A
1152(*)S
(\(uid_t\))294 1236 A
1572(-1)S
(when)168 1698 A
(there)210 1908 A
2160(is)S
2286(an)S
(error.)252 2412 A
4680 V
(41112)210 648 A
1152(*/)S
4770 V
(41113)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(GETUID,)294 1824 A
(&m\))126 2160 A
2328(<)S
2412(0\))S
(return)252 2538 A
2832(\()S
(\(uid_t\))294 2916 A
(-1\);)168 3252 A
4860 V
(41114)210 648 A
(return\()294 1110 A
(\(uid_t\))294 1446 A
(m.m2_i1\);)378 1782 A
4950 V
(41115)210 648 A
1026(})S
8418 V
EP
%%Page: 399 399
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1927(File:)S
(src/lib/posix/_getgid.c)989 2160 A
12 B
(399)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_getgid.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(41200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(41201)210 648 A
(#define)294 1026 A
(getgid)252 1362 A
(_getgid)294 1698 A
1530 V
(41202)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1620 V
(41203)210 648 A
1710 V
(41204)210 648 A
(PUBLIC)252 1026 A
(gid_t)210 1320 A
(getgid\(\))336 1572 A
1800 V
(41205)210 648 A
1026({)S
1890 V
(41206)210 648 A
(message)294 1110 A
1446(m;)S
1980 V
(41207)210 648 A
2070 V
(41208)210 648 A
(return\()294 1110 A
(\(gid_t\))294 1446 A
(_syscall\(MM,)504 1782 A
(GETGID,)294 2328 A
(&m\)\);)210 2664 A
2160 V
(41209)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_getgroups.c)1092 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(41300)210 648 A
1026(/*)S
(getgroups.c)462 1152 A
(POSIX)210 3378 A
(4.2.3)210 3630 A
3240 V
(41301)210 648 A
1068(*)S
(int)126 1362 A
(getgroups\(gidsetsize,)882 1530 A
(grouplist\);)462 2454 A
3330 V
(41302)210 648 A
1068(*)S
3420 V
(41303)210 648 A
1068(*)S
(This)168 1362 A
(call)168 1572 A
(relates)294 1782 A
2118(to)S
(suplementary)504 2244 A
(group)210 2790 A
(ids,)168 3042 A
(which)210 3252 A
(are)126 3504 A
(not)126 3672 A
3510 V
(41304)210 648 A
1068(*)S
(supported)378 1362 A
1782(in)S
(MINIX.)252 1908 A
3600 V
(41305)210 648 A
1068(*/)S
3690 V
(41306)210 648 A
3780 V
(41307)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3870 V
(41308)210 648 A
(#define)294 1026 A
(getgroups)378 1362 A
(_getgroups)420 1782 A
3960 V
(41309)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4050 V
(41310)210 648 A
(#include)336 1026 A
(<time.h>)336 1404 A
4140 V
(41311)210 648 A
4230 V
(41312)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(getgroups\(gidsetsize,)882 1488 A
(grouplist\))420 2412 A
4320 V
(41313)210 648 A
(int)126 1026 A
(gidsetsize;)462 1194 A
4410 V
(41314)210 648 A
(gid_t)210 1026 A
(grouplist[];)504 1278 A
4500 V
(41315)210 648 A
1026({)S
4590 V
(41316)210 648 A
(return\(0\);)420 1110 A
4680 V
(41317)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/posix/_getpgrp.c)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(41400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(41401)210 648 A
(#define)294 1026 A
(getpgrp)294 1362 A
(_getpgrp)336 1698 A
5580 V
(41402)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5670 V
(41403)210 648 A
5760 V
(41404)210 648 A
(PUBLIC)252 1026 A
(pid_t)210 1320 A
(getpgrp\(\))378 1572 A
5850 V
(41405)210 648 A
1026({)S
5940 V
(41406)210 648 A
(message)294 1110 A
1446(m;)S
6030 V
(41407)210 648 A
6120 V
(41408)210 648 A
(return\(_syscall\(MM,)798 1110 A
(GETPGRP,)336 1950 A
(&m\)\);)210 2328 A
6210 V
(41409)210 648 A
1026(})S
8418 V
EP
%%Page: 400 400
BP
/slant 0 def
/height 0 def
630 V
12 B
(400)180 648 A
11 R
1927(File:)S
(src/lib/posix/_getpid.c)989 2160 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_getpid.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(41500)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(41501)210 648 A
(#define)294 1026 A
(getpid)252 1362 A
(_getpid)294 1698 A
1530 V
(41502)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1620 V
(41503)210 648 A
1710 V
(41504)210 648 A
(PUBLIC)252 1026 A
(pid_t)210 1320 A
(getpid\(\))336 1572 A
1800 V
(41505)210 648 A
1026({)S
1890 V
(41506)210 648 A
(message)294 1110 A
1446(m;)S
1980 V
(41507)210 648 A
2070 V
(41508)210 648 A
(return\(_syscall\(MM,)798 1110 A
(GETPID,)294 1950 A
(&m\)\);)210 2286 A
2160 V
(41509)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_getppid.c)1008 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(41600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(41601)210 648 A
(#define)294 1026 A
(getppid)294 1362 A
(_getppid)336 1698 A
3330 V
(41602)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(41603)210 648 A
3510 V
(41604)210 648 A
(PUBLIC)252 1026 A
(pid_t)210 1320 A
(getppid\(\))378 1572 A
3600 V
(41605)210 648 A
1026({)S
3690 V
(41606)210 648 A
(message)294 1110 A
1446(m;)S
3780 V
(41607)210 648 A
3870 V
(41608)210 648 A
1110(/*)S
(POSIX)210 1236 A
(says)168 1488 A
(that)168 1698 A
(this)168 1908 A
(function)336 2118 A
2496(is)S
(always)252 2622 A
(successful)420 2916 A
(and)126 3378 A
(that)168 3546 A
3756(no)S
3960 V
(41609)210 648 A
1152(*)S
(return)252 1236 A
(value)210 1530 A
1782(is)S
(reserved)336 1908 A
2286(to)S
(indicate)336 2412 A
2790(an)S
(error.)252 2916 A
(Minix)210 3252 A
(syscalls)336 3504 A
4050 V
(41610)210 648 A
1152(*)S
(are)126 1236 A
(not)126 1404 A
(always)252 1572 A
(successful)420 1866 A
(and)126 2328 A
(Minix)210 2496 A
(returns)294 2748 A
(the)126 3084 A
(reserved)336 3252 A
(value)210 3630 A
4140 V
(41611)210 648 A
1152(*)S
(\(pid_t\))294 1236 A
1572(-1)S
(when)168 1698 A
(there)210 1908 A
2160(is)S
2286(an)S
(error.)252 2412 A
4230 V
(41612)210 648 A
1152(*/)S
4320 V
(41613)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(GETPID,)294 1824 A
(&m\))126 2160 A
2328(<)S
2412(0\))S
(return)252 2538 A
2832(\()S
(\(pid_t\))294 2916 A
(-1\);)168 3252 A
4410 V
(41614)210 648 A
(return\()294 1110 A
(\(pid_t\))294 1446 A
(m.m2_i1\);)378 1782 A
4500 V
(41615)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/posix/_getuid.c)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(41700)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(41701)210 648 A
(#define)294 1026 A
(getuid)252 1362 A
(_getuid)294 1698 A
5580 V
(41702)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5670 V
(41703)210 648 A
5760 V
(41704)210 648 A
(PUBLIC)252 1026 A
(uid_t)210 1320 A
(getuid\(\))336 1572 A
5850 V
(41705)210 648 A
1026({)S
5940 V
(41706)210 648 A
(message)294 1110 A
1446(m;)S
6030 V
(41707)210 648 A
6120 V
(41708)210 648 A
(return\()294 1110 A
(\(uid_t\))294 1446 A
(_syscall\(MM,)504 1782 A
(GETUID,)294 2328 A
(&m\)\);)210 2664 A
6210 V
(41709)210 648 A
1026(})S
8418 V
EP
%%Page: 401 401
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1966(File:)S
(src/lib/posix/_ioctl.c)910 2199 A
12 B
(401)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_ioctl.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(41800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(41801)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1698 A
1530 V
(41802)210 648 A
(#include)336 1026 A
(<minix/com.h>)546 1404 A
1620 V
(41803)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
1710 V
(41804)210 648 A
1800 V
(41805)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(ioctl\(fd,)378 1488 A
(request,)336 1908 A
(data\))210 2286 A
1890 V
(41806)210 648 A
(int)126 1026 A
(fd;)126 1194 A
1980 V
(41807)210 648 A
(int)126 1026 A
(request;)336 1194 A
2070 V
(41808)210 648 A
(void)168 1026 A
(*data;)252 1236 A
2160 V
(41809)210 648 A
1026({)S
2250 V
(41810)210 648 A
(message)294 1110 A
1446(m;)S
2340 V
(41811)210 648 A
2430 V
(41812)210 648 A
(m.TTY_LINE)420 1110 A
1572(=)S
(fd;)126 1656 A
2520 V
(41813)210 648 A
(m.TTY_REQUEST)546 1110 A
1698(=)S
(request;)336 1782 A
2610 V
(41814)210 648 A
(m.ADDRESS)378 1110 A
1530(=)S
(\(char)210 1614 A
1866(*\))S
(data;)210 1992 A
2700 V
(41815)210 648 A
(return\(_syscall\(FS,)798 1110 A
(IOCTL,)252 1950 A
(&m\)\);)210 2244 A
2790 V
(41816)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/posix/_isatty.c)966 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(41900)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(41901)210 648 A
(#define)294 1026 A
(isatty)252 1362 A
(_isatty)294 1656 A
3780 V
(41902)210 648 A
(#define)294 1026 A
(tcgetattr)378 1362 A
(_tcgetattr)420 1782 A
3870 V
(41903)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
3960 V
(41904)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4050 V
(41905)210 648 A
4140 V
(41906)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(isatty\(fd\))420 1488 A
4230 V
(41907)210 648 A
(int)126 1026 A
(fd;)126 1194 A
4320 V
(41908)210 648 A
1026({)S
4410 V
(41909)210 648 A
(struct)252 1110 A
(termios)294 1404 A
(dummy;)252 1740 A
4500 V
(41910)210 648 A
4590 V
(41911)210 648 A
(return\(tcgetattr\(fd,)840 1110 A
(&dummy\))294 1992 A
2328(==)S
(0\);)126 2454 A
4680 V
(41912)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/posix/_kill.c)882 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(42000)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(42001)210 648 A
(#define)294 1026 A
(kill)168 1362 A
(_kill)210 1698 A
5580 V
(42002)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
5670 V
(42003)210 648 A
5760 V
(42004)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(kill\(proc,)420 1488 A
(sig\))168 1950 A
5850 V
(42005)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(which)210 2496 A
(process)294 2748 A
3084(is)S
3210(to)S
3336(be)S
(sent)168 3462 A
(the)126 3672 A
(signal)252 3840 A
4134(*/)S
5940 V
(42006)210 648 A
(int)126 1026 A
(sig;)168 1194 A
2370(/*)S
(signal)252 2496 A
(number)252 2790 A
3084(*/)S
6030 V
(42007)210 648 A
1026({)S
6120 V
(42008)210 648 A
(message)294 1110 A
1446(m;)S
6210 V
(42009)210 648 A
8418 V
EP
%%Page: 402 402
BP
/slant 0 def
/height 0 def
630 V
12 B
(402)180 648 A
11 R
1991(File:)S
(src/lib/posix/_kill.c)860 2224 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(42010)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
990 V
(42011)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(sig;)168 1530 A
1080 V
(42012)210 648 A
(return\(_syscall\(MM,)798 1110 A
(KILL,)210 1950 A
(&m\)\);)210 2202 A
1170 V
(42013)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/posix/_link.c)882 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(42100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1890 V
(42101)210 648 A
(#define)294 1026 A
(link)168 1362 A
(_link)210 1698 A
1980 V
(42102)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2070 V
(42103)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2160 V
(42104)210 648 A
2250 V
(42105)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(link\(name,)420 1488 A
(name2\))252 1950 A
2340 V
(42106)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name,)252 1530 A
(*name2;)294 1824 A
2430 V
(42107)210 648 A
1026({)S
2520 V
(42108)210 648 A
(message)294 1110 A
1446(m;)S
2610 V
(42109)210 648 A
2700 V
(42110)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
2790 V
(42111)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(strlen\(name2\))546 1530 A
2118(+)S
2202(1;)S
2880 V
(42112)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name;)210 1908 A
2970 V
(42113)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name2;)252 1908 A
3060 V
(42114)210 648 A
(return\(_syscall\(FS,)798 1110 A
(LINK,)210 1950 A
(&m\)\);)210 2202 A
3150 V
(42115)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/posix/_lseek.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(42200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4140 V
(42201)210 648 A
(#define)294 1026 A
(lseek)210 1362 A
(_lseek)252 1698 A
4230 V
(42202)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4320 V
(42203)210 648 A
4410 V
(42204)210 648 A
(PUBLIC)252 1026 A
(off_t)210 1320 A
(lseek\(fd,)378 1572 A
(offset,)294 1992 A
(whence\))294 2328 A
4500 V
(42205)210 648 A
(int)126 1026 A
(fd;)126 1194 A
4590 V
(42206)210 648 A
(off_t)210 1026 A
(offset;)294 1278 A
4680 V
(42207)210 648 A
(int)126 1026 A
(whence;)294 1194 A
4770 V
(42208)210 648 A
1026({)S
4860 V
(42209)210 648 A
(message)294 1110 A
1446(m;)S
4950 V
(42210)210 648 A
5040 V
(42211)210 648 A
(m.m2_i1)294 1110 A
1446(=)S
(fd;)126 1530 A
5130 V
(42212)210 648 A
(m.m2_l1)294 1110 A
1446(=)S
(offset;)294 1530 A
5220 V
(42213)210 648 A
(m.m2_i2)294 1110 A
1446(=)S
(whence;)294 1530 A
5310 V
(42214)210 648 A
1110(if)S
(\(_syscall\(FS,)546 1236 A
(LSEEK,)252 1824 A
(&m\))126 2118 A
2286(<)S
2370(0\))S
(return\()294 2496 A
(\(off_t\))294 2832 A
(-1\);)168 3168 A
5400 V
(42215)210 648 A
(return\()294 1110 A
(\(off_t\))294 1446 A
(m.m2_l1\);)378 1782 A
5490 V
(42216)210 648 A
1026(})S
8418 V
EP
%%Page: 403 403
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1933(File:)S
(src/lib/posix/_mkdir.c)976 2166 A
12 B
(403)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_mkdir.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(42300)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(42301)210 648 A
(#define)294 1026 A
(mkdir)210 1362 A
(_mkdir)252 1698 A
1530 V
(42302)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
1620 V
(42303)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1710 V
(42304)210 648 A
1800 V
(42305)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(mkdir\(name,)462 1488 A
(mode\))210 1992 A
1890 V
(42306)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
1980 V
(42307)210 648 A
(Mode_t)252 1026 A
(mode;)210 1320 A
2070 V
(42308)210 648 A
1026({)S
2160 V
(42309)210 648 A
(message)294 1110 A
1446(m;)S
2250 V
(42310)210 648 A
2340 V
(42311)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
2430 V
(42312)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(mode;)210 1530 A
2520 V
(42313)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name;)210 1908 A
2610 V
(42314)210 648 A
(return\(_syscall\(FS,)798 1110 A
(MKDIR,)252 1950 A
(&m\)\);)210 2244 A
2700 V
(42315)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/posix/_mkfifo.c)966 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(42400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(42401)210 648 A
(#define)294 1026 A
(mkfifo)252 1362 A
(_mkfifo)294 1698 A
3780 V
(42402)210 648 A
(#define)294 1026 A
(mknod)210 1362 A
(_mknod)252 1698 A
3870 V
(42403)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
3960 V
(42404)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4050 V
(42405)210 648 A
4140 V
(42406)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(mkfifo\(name,)504 1488 A
(mode\))210 2034 A
4230 V
(42407)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
4320 V
(42408)210 648 A
(Mode_t)252 1026 A
(mode;)210 1320 A
4410 V
(42409)210 648 A
1026({)S
4500 V
(42410)210 648 A
(return)252 1110 A
(mknod\(name,)462 1404 A
(mode)168 1908 A
2118(|)S
(S_IFIFO,)336 2202 A
(\(Dev_t\))294 2580 A
(0\);)126 2916 A
4590 V
(42411)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/posix/_mknod.c)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(42500)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(42501)210 648 A
(#define)294 1026 A
(mknod)210 1362 A
(_mknod)252 1698 A
5580 V
(42502)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5670 V
(42503)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
5760 V
(42504)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5850 V
(42505)210 648 A
5940 V
(42506)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(mknod\(name,)462 1488 A
(mode,)210 1992 A
(dev\))168 2244 A
6030 V
(42507)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
6120 V
(42508)210 648 A
(Mode_t)252 1026 A
(mode;)210 1320 A
6210 V
(42509)210 648 A
(Dev_t)210 1026 A
(dev;)168 1278 A
8418 V
EP
%%Page: 404 404
BP
/slant 0 def
/height 0 def
630 V
12 B
(404)180 648 A
11 R
1912(File:)S
(src/lib/posix/_mknod.c)1018 2145 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(42510)210 648 A
1026({)S
990 V
(42511)210 648 A
(message)294 1110 A
1446(m;)S
1080 V
(42512)210 648 A
1170 V
(42513)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
1260 V
(42514)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(mode;)210 1530 A
1350 V
(42515)210 648 A
(m.m1_i3)294 1110 A
1446(=)S
(dev;)168 1530 A
1440 V
(42516)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name;)210 1908 A
1530 V
(42517)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(\(\(int\))252 1908 A
(0\);)126 2202 A
2706(/*)S
(obsolete)336 2832 A
(size)168 3210 A
(field)210 3420 A
3672(*/)S
1620 V
(42518)210 648 A
(return\(_syscall\(FS,)798 1110 A
(MKNOD,)252 1950 A
(&m\)\);)210 2244 A
1710 V
(42519)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/posix/_mktemp.c)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(42600)210 648 A
1026(/*)S
(mktemp)252 1152 A
1446(-)S
(make)168 1530 A
1740(a)S
(name)168 1824 A
(for)126 2034 A
2202(a)S
(temporary)378 2286 A
(file)168 2706 A
2916(*/)S
2790 V
(42601)210 648 A
2880 V
(42602)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2970 V
(42603)210 648 A
(#define)294 1026 A
(access)252 1362 A
(_access)294 1698 A
3060 V
(42604)210 648 A
(#define)294 1026 A
(getpid)252 1362 A
(_getpid)294 1698 A
3150 V
(42605)210 648 A
(#define)294 1026 A
(mktemp)252 1362 A
(_mktemp)294 1698 A
3240 V
(42606)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3330 V
(42607)210 648 A
3420 V
(42608)210 648 A
(PUBLIC)252 1026 A
(char)168 1320 A
(*mktemp\(template\))714 1530 A
3510 V
(42609)210 648 A
(char)168 1026 A
(*template;)420 1236 A
3600 V
(42610)210 648 A
1026({)S
3690 V
(42611)210 648 A
(register)336 1110 A
(int)126 1488 A
1656(k;)S
3780 V
(42612)210 648 A
(register)336 1110 A
(char)168 1488 A
(*p;)126 1698 A
3870 V
(42613)210 648 A
(register)336 1110 A
(pid_t)210 1488 A
(pid;)168 1740 A
3960 V
(42614)210 648 A
4050 V
(42615)210 648 A
(pid)126 1110 A
1278(=)S
(getpid\(\);)378 1362 A
2370(/*)S
(get)126 2496 A
(process)294 2664 A
3000(id)S
3126(as)S
(semi-unique)462 3252 A
(number)252 3756 A
4050(*/)S
4140 V
(42616)210 648 A
1110(p)S
1194(=)S
(template;)378 1278 A
4230 V
(42617)210 648 A
(while)210 1110 A
(\(*p)126 1362 A
1530(!=)S
1656(0\))S
(p++;)168 1782 A
2370(/*)S
(find)168 2496 A
(end)126 2706 A
2874(of)S
(string)252 3000 A
3294(*/)S
4320 V
(42618)210 648 A
4410 V
(42619)210 648 A
1110(/*)S
(Replace)294 1236 A
(XXXXXX)252 1572 A
1866(at)S
(end)126 1992 A
2160(of)S
(template)336 2286 A
(with)168 2664 A
2874(a)S
(letter,)294 2958 A
(then)168 3294 A
3504(as)S
(many)168 3630 A
3840(of)S
(the)126 3966 A
4500 V
(42620)210 648 A
1152(*)S
(trailing)336 1236 A
(digits)252 1614 A
1908(of)S
(the)126 2034 A
(pid)126 2202 A
2370(as)S
(fit.)168 2496 A
4590 V
(42621)210 648 A
1152(*/)S
4680 V
(42622)210 648 A
(while)210 1110 A
(\(*--p)210 1362 A
1614(==)S
('X'\))168 1740 A
1950({)S
4770 V
(42623)210 648 A
1362(*p)S
1488(=)S
('0')126 1572 A
1740(+)S
(\(pid)168 1824 A
2034(%)S
(10\);)168 2118 A
4860 V
(42624)210 648 A
(pid)126 1362 A
1530(/=)S
(10;)126 1656 A
4950 V
(42625)210 648 A
1110(})S
5040 V
(42626)210 648 A
1110(if)S
(\(*++p)210 1236 A
1488(!=)S
1614(0\))S
1740({)S
5130 V
(42627)210 648 A
(for)126 1362 A
1530(\(k)S
1656(=)S
('a';)168 1740 A
1950(k)S
2034(<=)S
('z';)168 2160 A
(k++\))168 2370 A
2580({)S
5220 V
(42628)210 648 A
1698(*p)S
1824(=)S
1908(k;)S
5310 V
(42629)210 648 A
1698(if)S
(\(access\(template,)714 1824 A
(F_OK\))210 2580 A
2832(<)S
2916(0\))S
(return\(template\);)714 3042 A
5400 V
(42630)210 648 A
1362(})S
5490 V
(42631)210 648 A
1110(})S
5580 V
(42632)210 648 A
(return\("/"\);)504 1110 A
5670 V
(42633)210 648 A
1026(})S
8418 V
EP
%%Page: 405 405
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1924(File:)S
(src/lib/posix/_mount.c)994 2157 A
12 B
(405)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_mount.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(42700)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(42701)210 648 A
(#define)294 1026 A
(mount)210 1362 A
(_mount)252 1698 A
1530 V
(42702)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
1620 V
(42703)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1710 V
(42704)210 648 A
1800 V
(42705)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(mount\(special,)588 1488 A
(name,)210 2118 A
(rwflag\))294 2370 A
1890 V
(42706)210 648 A
(char)168 1026 A
(*name,)252 1236 A
(*special;)378 1530 A
1980 V
(42707)210 648 A
(int)126 1026 A
(rwflag;)294 1194 A
2070 V
(42708)210 648 A
1026({)S
2160 V
(42709)210 648 A
(message)294 1110 A
1446(m;)S
2250 V
(42710)210 648 A
2340 V
(42711)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(special\))630 1530 A
2202(+)S
2286(1;)S
2430 V
(42712)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
2520 V
(42713)210 648 A
(m.m1_i3)294 1110 A
1446(=)S
(rwflag;)294 1530 A
2610 V
(42714)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(special;)336 1530 A
2700 V
(42715)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(name;)210 1530 A
2790 V
(42716)210 648 A
(return\(_syscall\(FS,)798 1110 A
(MOUNT,)252 1950 A
(&m\)\);)210 2244 A
2880 V
(42717)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/posix/_open.c)882 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(42800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(42801)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 1698 A
3780 V
(42802)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
3870 V
(42803)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1404 A
3960 V
(42804)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4050 V
(42805)210 648 A
4140 V
(42806)210 648 A
(#if)126 1026 A
(_ANSI)210 1194 A
4230 V
(42807)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(open\(const)420 1488 A
(char)168 1950 A
(*name,)252 2160 A
(int)126 2454 A
(flags,)252 2622 A
(...\))168 2916 A
4320 V
(42808)210 648 A
(#else)210 1026 A
4410 V
(42809)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(open\(name,)420 1488 A
(flags\))252 1950 A
4500 V
(42810)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
4590 V
(42811)210 648 A
(int)126 1026 A
(flags;)252 1194 A
4680 V
(42812)210 648 A
(#endif)252 1026 A
4770 V
(42813)210 648 A
1026({)S
4860 V
(42814)210 648 A
(va_list)294 1110 A
(argp;)210 1446 A
4950 V
(42815)210 648 A
(message)294 1110 A
1446(m;)S
5040 V
(42816)210 648 A
5130 V
(42817)210 648 A
(va_start\(argp,)588 1110 A
(flags\);)294 1740 A
5220 V
(42818)210 648 A
1110(if)S
(\(flags)252 1236 A
1530(&)S
(O_CREAT\))336 1614 A
1992({)S
5310 V
(42819)210 648 A
(m.m1_i1)294 1362 A
1698(=)S
(strlen\(name\))504 1782 A
2328(+)S
2412(1;)S
5400 V
(42820)210 648 A
(m.m1_i2)294 1362 A
1698(=)S
(flags;)252 1782 A
5490 V
(42821)210 648 A
(m.m1_i3)294 1362 A
1698(=)S
(va_arg\(argp,)504 1782 A
(Mode_t\);)336 2328 A
5580 V
(42822)210 648 A
(m.m1_p1)294 1362 A
1698(=)S
(\(char)210 1782 A
2034(*\))S
(name;)210 2160 A
5670 V
(42823)210 648 A
1110(})S
(else)168 1194 A
1404({)S
5760 V
(42824)210 648 A
(_loadname\(name,)630 1362 A
(&m\);)168 2034 A
5850 V
(42825)210 648 A
(m.m3_i2)294 1362 A
1698(=)S
(flags;)252 1782 A
5940 V
(42826)210 648 A
1110(})S
6030 V
(42827)210 648 A
(va_end\(argp\);)546 1110 A
6120 V
(42828)210 648 A
(return)252 1110 A
(\(_syscall\(FS,)546 1404 A
(OPEN,)210 1992 A
(&m\)\);)210 2244 A
6210 V
(42829)210 648 A
1026(})S
8418 V
EP
%%Page: 406 406
BP
/slant 0 def
/height 0 def
630 V
12 B
(406)180 648 A
11 R
1896(File:)S
(src/lib/posix/_opendir.c)1050 2129 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_opendir.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(42900)210 648 A
1026(/*)S
(opendir\(\))378 1362 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
1440 V
(42901)210 648 A
1068(*)S
3714(24)S
(Apr)126 3840 A
(1989)168 4008 A
1530 V
(42902)210 648 A
1068(*/)S
1620 V
(42903)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
1710 V
(42904)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1800 V
(42905)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1698 A
1890 V
(42906)210 648 A
(#define)294 1026 A
(fcntl)210 1362 A
(_fcntl)252 1698 A
1980 V
(42907)210 648 A
(#define)294 1026 A
(fstat)210 1362 A
(_fstat)252 1698 A
2070 V
(42908)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 1698 A
2160 V
(42909)210 648 A
(#define)294 1026 A
(opendir)294 1362 A
(_opendir)336 1698 A
2250 V
(42910)210 648 A
(#define)294 1026 A
(stat)168 1362 A
(_stat)210 1698 A
2340 V
(42911)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2430 V
(42912)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
2520 V
(42913)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
2610 V
(42914)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2700 V
(42915)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
2790 V
(42916)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
2880 V
(42917)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
2970 V
(42918)210 648 A
3060 V
(42919)210 648 A
(DIR)126 1026 A
(*opendir\(const)588 1194 A
(char)168 1824 A
(*name\))252 2034 A
3150 V
(42920)210 648 A
1026(/*)S
(Open)168 1152 A
1362(a)S
(directory)378 1446 A
(for)126 1866 A
(reading.)336 2034 A
2412(*/)S
3240 V
(42921)210 648 A
1026({)S
3330 V
(42922)210 648 A
(int)126 1362 A
1530(d,)S
1656(f;)S
3420 V
(42923)210 648 A
(DIR)126 1362 A
(*dp;)168 1530 A
3510 V
(42924)210 648 A
(struct)252 1362 A
(stat)168 1656 A
(st;)126 1866 A
3600 V
(42925)210 648 A
3690 V
(42926)210 648 A
1362(/*)S
(Only)168 1488 A
(read)168 1698 A
(directories.)504 1908 A
2454(*/)S
3780 V
(42927)210 648 A
1362(if)S
(\(stat\(name,)462 1488 A
(&st\))168 1992 A
2202(<)S
2286(0\))S
(return)252 2412 A
(nil;)168 2706 A
3870 V
(42928)210 648 A
1362(if)S
(\(!S_ISDIR\(st.st_mode\)\))924 1488 A
2454({)S
(errno=)252 2538 A
(ENOTDIR;)336 2832 A
(return)252 3210 A
(nil;)168 3504 A
3714(})S
3960 V
(42929)210 648 A
4050 V
(42930)210 648 A
1362(if)S
(\(\(d=)168 1488 A
(open\(name,)420 1698 A
(O_RDONLY)336 2160 A
2538(|)S
(O_NONBLOCK\)\))504 2622 A
3168(<)S
3252(0\))S
(return)252 3378 A
(nil;)168 3672 A
4140 V
(42931)210 648 A
4230 V
(42932)210 648 A
1362(/*)S
(Check)210 1488 A
(the)126 1740 A
(type)168 1908 A
(again,)252 2118 A
(mark)168 2412 A
(close-on-exec,)588 2622 A
(get)126 3252 A
3420(a)S
(buffer.)294 3504 A
3840(*/)S
4320 V
(42933)210 648 A
1362(if)S
(\(fstat\(d,)378 1488 A
(&st\))168 1908 A
2118(<)S
2202(0)S
4410 V
(42934)210 648 A
1698(||)S
(\(errno=)294 1824 A
(ENOTDIR,)336 2160 A
(!S_ISDIR\(st.st_mode\)\))882 2538 A
4500 V
(42935)210 648 A
1698(||)S
(\(f=)126 1824 A
(fcntl\(d,)336 1992 A
(F_GETFD\)\))378 2370 A
2790(<)S
2874(0)S
4590 V
(42936)210 648 A
1698(||)S
(fcntl\(d,)336 1824 A
(F_SETFD,)336 2202 A
2580(f)S
2664(|)S
(FD_CLOEXEC\))462 2748 A
3252(<)S
3336(0)S
4680 V
(42937)210 648 A
1698(||)S
(\(dp=)168 1824 A
(\(DIR)168 2034 A
2244(*\))S
(malloc\(sizeof\(*dp\)\)\))840 2370 A
3252(==)S
(nil)126 3378 A
4770 V
(42938)210 648 A
1362(\))S
1446({)S
4860 V
(42939)210 648 A
(int)126 1698 A
(err=)168 1866 A
(errno;)252 2076 A
4950 V
(42940)210 648 A
(\(void\))252 1698 A
(close\(d\);)378 1992 A
5040 V
(42941)210 648 A
(errno=)252 1698 A
(err;)168 1992 A
5130 V
(42942)210 648 A
(return)252 1698 A
(nil;)168 1992 A
5220 V
(42943)210 648 A
1362(})S
5310 V
(42944)210 648 A
5400 V
(42945)210 648 A
(dp->_fd=)336 1362 A
1740(d;)S
5490 V
(42946)210 648 A
(dp->_v7=)336 1362 A
(-1;)126 1740 A
5580 V
(42947)210 648 A
(dp->_count=)462 1362 A
1866(0;)S
5670 V
(42948)210 648 A
(dp->_pos=)378 1362 A
1782(0;)S
5760 V
(42949)210 648 A
5850 V
(42950)210 648 A
(return)252 1362 A
(dp;)126 1656 A
5940 V
(42951)210 648 A
1026(})S
8418 V
EP
%%Page: 407 407
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1871(File:)S
(src/lib/posix/_pathconf.c)1100 2104 A
12 B
(407)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_pathconf.c)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(43000)210 648 A
1026(/*)S
(POSIX)210 1152 A
(pathconf)336 1404 A
(\(Sec.)210 1782 A
(5.7.1\))252 2034 A
(Author:)294 2706 A
(Andy)168 3042 A
(Tanenbaum)378 3252 A
3672(*/)S
1440 V
(43001)210 648 A
1530 V
(43002)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1620 V
(43003)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 2034 A
1710 V
(43004)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 2034 A
1800 V
(43005)210 648 A
(#define)294 1026 A
(pathconf)336 1362 A
(_pathconf)378 2034 A
1890 V
(43006)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
1980 V
(43007)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
2070 V
(43008)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2160 V
(43009)210 648 A
2250 V
(43010)210 648 A
(PUBLIC)252 1026 A
(long)168 1320 A
(pathconf\(path,)588 1530 A
(name\))210 2160 A
2340 V
(43011)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*path;)252 1530 A
2370(/*)S
(name)168 2496 A
2706(of)S
(file)168 2832 A
(being)210 3042 A
(interrogated)504 3294 A
3840(*/)S
2430 V
(43012)210 648 A
(int)126 1026 A
(name;)210 1194 A
2370(/*)S
(property)336 2496 A
(being)210 2874 A
(inspected)378 3126 A
3546(*/)S
2520 V
(43013)210 648 A
1026({)S
2610 V
(43014)210 648 A
1026(/*)S
(POSIX)210 1152 A
(allows)252 1404 A
(some)168 1698 A
1908(of)S
(the)126 2034 A
(values)252 2202 A
2496(in)S
(<limits.h>)420 2622 A
3084(to)S
3210(be)S
(increased)378 3336 A
3756(at)S
2700 V
(43015)210 648 A
1068(*)S
(run)126 1152 A
(time.)210 1320 A
(The)126 1614 A
(pathconf)336 1782 A
(and)126 2160 A
(fpathconf)378 2328 A
(functions)378 2748 A
(allow)210 3168 A
(these)210 3420 A
(values)252 3672 A
2790 V
(43016)210 648 A
1068(*)S
1152(to)S
1278(be)S
(checked)294 1404 A
1740(at)S
(run)126 1866 A
(time.)210 2034 A
(MINIX)210 2328 A
(does)168 2580 A
(not)126 2790 A
(use)126 2958 A
(this)168 3126 A
(facility.)378 3336 A
2880 V
(43017)210 648 A
1068(*)S
(The)126 1152 A
(run-time)336 1320 A
(limits)252 1698 A
(are)126 1992 A
(those)210 2160 A
(given)210 2412 A
2664(in)S
(<limits.h>.)462 2790 A
2970 V
(43018)210 648 A
1068(*/)S
3060 V
(43019)210 648 A
3150 V
(43020)210 648 A
(int)126 1110 A
(fd;)126 1278 A
3240 V
(43021)210 648 A
(long)168 1110 A
(val;)168 1320 A
3330 V
(43022)210 648 A
3420 V
(43023)210 648 A
1110(if)S
1236(\()S
(\(fd)126 1320 A
1488(=)S
(open\(path,)420 1572 A
(O_RDONLY\)\))420 2034 A
2496(<)S
2580(0\))S
(return\(-1L\);)504 2706 A
3510 V
(43024)210 648 A
(val)126 1110 A
1278(=)S
(fpathconf\(fd,)546 1362 A
(name\);)252 1950 A
3600 V
(43025)210 648 A
(close\(fd\);)420 1110 A
3690 V
(43026)210 648 A
(return\(val\);)504 1110 A
3780 V
(43027)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/posix/_pause.c)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(43100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4590 V
(43101)210 648 A
(#define)294 1026 A
(pause)210 1362 A
(_pause)252 1698 A
4680 V
(43102)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4770 V
(43103)210 648 A
4860 V
(43104)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(pause\(\))294 1488 A
4950 V
(43105)210 648 A
1026({)S
5040 V
(43106)210 648 A
(message)294 1110 A
1446(m;)S
5130 V
(43107)210 648 A
5220 V
(43108)210 648 A
(return\(_syscall\(MM,)798 1110 A
(PAUSE,)252 1950 A
(&m\)\);)210 2244 A
5310 V
(43109)210 648 A
1026(})S
8418 V
EP
%%Page: 408 408
BP
/slant 0 def
/height 0 def
630 V
12 B
(408)180 648 A
11 R
1970(File:)S
(src/lib/posix/_pipe.c)903 2203 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_pipe.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(43200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(43201)210 648 A
(#define)294 1026 A
(pipe)168 1362 A
(_pipe)210 1698 A
1530 V
(43202)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1620 V
(43203)210 648 A
1710 V
(43204)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(pipe\(fild\))420 1488 A
1800 V
(43205)210 648 A
(int)126 1026 A
(fild[2];)336 1194 A
1890 V
(43206)210 648 A
1026({)S
1980 V
(43207)210 648 A
(message)294 1110 A
1446(m;)S
2070 V
(43208)210 648 A
2160 V
(43209)210 648 A
1110(if)S
(\(_syscall\(FS,)546 1236 A
(PIPE,)210 1824 A
(&m\))126 2076 A
2244(<)S
2328(0\))S
(return\(-1\);)462 2454 A
2250 V
(43210)210 648 A
(fild[0])294 1110 A
1446(=)S
(m.m1_i1;)336 1530 A
2340 V
(43211)210 648 A
(fild[1])294 1110 A
1446(=)S
(m.m1_i2;)336 1530 A
2430 V
(43212)210 648 A
(return\(0\);)420 1110 A
2520 V
(43213)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_ptrace.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(43300)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(43301)210 648 A
(#define)294 1026 A
(ptrace)252 1362 A
(_ptrace)294 1698 A
3330 V
(43302)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(43303)210 648 A
3510 V
(43304)210 648 A
(PUBLIC)252 1026 A
(long)168 1320 A
(ptrace\(req,)462 1530 A
(pid,)168 2034 A
(addr,)210 2244 A
(data\))210 2496 A
3600 V
(43305)210 648 A
(int)126 1026 A
(req;)168 1194 A
3690 V
(43306)210 648 A
(pid_t)210 1026 A
(pid;)168 1278 A
3780 V
(43307)210 648 A
(long)168 1026 A
(addr;)210 1236 A
3870 V
(43308)210 648 A
(long)168 1026 A
(data;)210 1236 A
3960 V
(43309)210 648 A
1026({)S
4050 V
(43310)210 648 A
(message)294 1110 A
1446(m;)S
4140 V
(43311)210 648 A
4230 V
(43312)210 648 A
(m.m2_i1)294 1110 A
1446(=)S
(pid;)168 1530 A
4320 V
(43313)210 648 A
(m.m2_i2)294 1110 A
1446(=)S
(req;)168 1530 A
4410 V
(43314)210 648 A
(m.m2_l1)294 1110 A
1446(=)S
(addr;)210 1530 A
4500 V
(43315)210 648 A
(m.m2_l2)294 1110 A
1446(=)S
(data;)210 1530 A
4590 V
(43316)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(PTRACE,)294 1824 A
(&m\))126 2160 A
2328(<)S
2412(0\))S
(return\(-1\);)462 2538 A
4680 V
(43317)210 648 A
4770 V
(43318)210 648 A
1110(/*)S
(There)210 1236 A
(was)126 1488 A
1656(no)S
(error,)252 1782 A
(but)126 2076 A
2244(-1)S
2370(is)S
2496(a)S
(legal)210 2580 A
(return)252 2832 A
(value.)252 3126 A
(Clear)210 3462 A
(errno)210 3714 A
3966(if)S
4860 V
(43319)210 648 A
1152(*)S
(necessary)378 1236 A
1656(to)S
(distinguish)462 1782 A
(this)168 2286 A
(case.)210 2496 A
(_syscall)336 2790 A
(has)126 3168 A
(set)126 3336 A
(errno)210 3504 A
3756(to)S
(nonzero)294 3882 A
4950 V
(43320)210 648 A
1152(*)S
(for)126 1236 A
(the)126 1404 A
(error)210 1572 A
(case.)210 1824 A
5040 V
(43321)210 648 A
1152(*/)S
5130 V
(43322)210 648 A
1110(if)S
(\(m.m2_l2)336 1236 A
1614(==)S
(-1\))126 1740 A
(errno)210 1908 A
2160(=)S
2244(0;)S
5220 V
(43323)210 648 A
(return\(m.m2_l2\);)672 1110 A
5310 V
(43324)210 648 A
1026(})S
8418 V
EP
%%Page: 409 409
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1969(File:)S
(src/lib/posix/_read.c)904 2202 A
12 B
(409)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_read.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(43400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(43401)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1698 A
1530 V
(43402)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1620 V
(43403)210 648 A
1710 V
(43404)210 648 A
(PUBLIC)252 1026 A
(ssize_t)294 1320 A
(read\(fd,)336 1656 A
(buffer,)294 2034 A
(nbytes\))294 2370 A
1800 V
(43405)210 648 A
(int)126 1026 A
(fd;)126 1194 A
1890 V
(43406)210 648 A
(void)168 1026 A
(*buffer;)336 1236 A
1980 V
(43407)210 648 A
(size_t)252 1026 A
(nbytes;)294 1320 A
2070 V
(43408)210 648 A
1026({)S
2160 V
(43409)210 648 A
(message)294 1110 A
1446(m;)S
2250 V
(43410)210 648 A
2340 V
(43411)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(fd;)126 1530 A
2430 V
(43412)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(nbytes;)294 1530 A
2520 V
(43413)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(buffer;)294 1908 A
2610 V
(43414)210 648 A
(return\(_syscall\(FS,)798 1110 A
(READ,)210 1950 A
(&m\)\);)210 2202 A
2700 V
(43415)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/posix/_readdir.c)1008 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(43500)210 648 A
1026(/*)S
(readdir\(\))378 1362 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
3690 V
(43501)210 648 A
1068(*)S
3714(24)S
(Apr)126 3840 A
(1989)168 4008 A
3780 V
(43502)210 648 A
1068(*/)S
3870 V
(43503)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
3960 V
(43504)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4050 V
(43505)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1698 A
4140 V
(43506)210 648 A
(#define)294 1026 A
(readdir)294 1362 A
(_readdir)336 1698 A
4230 V
(43507)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
4320 V
(43508)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
4410 V
(43509)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
4500 V
(43510)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4590 V
(43511)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1404 A
4680 V
(43512)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
4770 V
(43513)210 648 A
(#include)336 1026 A
(<limits.h>)420 1404 A
4860 V
(43514)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
4950 V
(43515)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
5040 V
(43516)210 648 A
5130 V
(43517)210 648 A
(#define)294 1026 A
(v7ent\(p\))336 1362 A
(\(\(struct)336 2034 A
(_v7_direct)420 2412 A
2874(*\))S
(\(p\)\))168 3000 A
5220 V
(43518)210 648 A
5310 V
(43519)210 648 A
(struct)252 1026 A
(dirent)252 1320 A
(*readdir\(DIR)504 1614 A
(*dp\))168 2160 A
5400 V
(43520)210 648 A
1026(/*)S
(Return)252 1152 A
(the)126 1446 A
(next)168 1614 A
(entry)210 1824 A
2076(in)S
2202(a)S
(directory.)420 2286 A
(Handle)252 2790 A
3084(V7)S
(and)126 3210 A
(FLEX)168 3378 A
(format)252 3588 A
(dirs.)210 3882 A
4134(*/)S
5490 V
(43521)210 648 A
1026({)S
5580 V
(43522)210 648 A
(struct)252 1362 A
(dirent)252 1656 A
(*e;)126 1950 A
5670 V
(43523)210 648 A
5760 V
(43524)210 648 A
1362(if)S
(\(dp)126 1488 A
1656(==)S
(nil\))168 1782 A
1992({)S
(errno=)252 2076 A
(EBADF;)252 2370 A
(return)252 2664 A
(nil;)168 2958 A
3168(})S
5850 V
(43525)210 648 A
5940 V
(43526)210 648 A
1362(do)S
1488({)S
6030 V
(43527)210 648 A
1698(if)S
(\(dp->_count)462 1824 A
2328(<=)S
2454(0\))S
2580({)S
6120 V
(43528)210 648 A
2034(/*)S
(Read)168 2160 A
(the)126 2370 A
(next)168 2538 A
(directory)378 2748 A
(block.)252 3168 A
3462(*/)S
6210 V
(43529)210 648 A
(dp->_count=)462 2034 A
(read\(dp->_fd,)546 2538 A
(dp->_buf,)378 3126 A
(sizeof\(dp->_buf\)\);)756 3546 A
8418 V
EP
%%Page: 410 410
BP
/slant 0 def
/height 0 def
630 V
12 B
(410)180 648 A
11 R
1908(File:)S
(src/lib/posix/_readdir.c)1027 2141 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(43530)210 648 A
2034(if)S
(\(dp->_count)462 2160 A
2664(<=)S
2790(0\))S
(return)252 2916 A
(nil;)168 3210 A
990 V
(43531)210 648 A
1080 V
(43532)210 648 A
(dp->_count/=)504 2034 A
(sizeof\(dp->_buf[0]\);)840 2580 A
1170 V
(43533)210 648 A
(dp->_ptr=)378 2034 A
(dp->_buf;)378 2454 A
1260 V
(43534)210 648 A
1350 V
(43535)210 648 A
2034(/*)S
(Extent)252 2160 A
2454(is)S
(zero)168 2580 A
2790(of)S
(the)126 2916 A
(first)210 3084 A
(flex)168 3336 A
(entry.)252 3546 A
3840(*/)S
1440 V
(43536)210 648 A
2034(if)S
(\(dp->_v7)336 2160 A
2538(==)S
(\(char\)-1\))378 2664 A
(dp->_v7=)336 3084 A
(dp->_buf[0].d_extent;)882 3462 A
1530 V
(43537)210 648 A
1698(})S
1620 V
(43538)210 648 A
1710 V
(43539)210 648 A
1698(if)S
(\(!dp->_v7\))420 1824 A
2286({)S
1800 V
(43540)210 648 A
2034(/*)S
(FLEX.)210 2160 A
2412(*/)S
1890 V
(43541)210 648 A
2034(e=)S
(\(struct)294 2160 A
(dirent)252 2496 A
2790(*\))S
(dp->_ptr;)378 2916 A
1980 V
(43542)210 648 A
1698(})S
(else)168 1782 A
1992({)S
2070 V
(43543)210 648 A
2034(/*)S
(V7:)126 2160 A
(transform)378 2328 A
2748(to)S
(FLEX.)210 2874 A
3126(*/)S
2160 V
(43544)210 648 A
2034(e=)S
(\(struct)294 2160 A
(dirent)252 2496 A
2790(*\))S
(dp->_v7f;)378 2916 A
2250 V
(43545)210 648 A
(e->d_ino=)378 2034 A
(v7ent\(dp->_ptr\)->d_ino;)966 2454 A
2340 V
(43546)210 648 A
(e->d_extent=)504 2034 A
2580(1;)S
2430 V
(43547)210 648 A
(memcpy\(e->d_name,)714 2034 A
(v7ent\(dp->_ptr\)->d_name,)1008 2790 A
(14\);)168 3840 A
2520 V
(43548)210 648 A
(e->d_name[14]=)588 2034 A
2664(0;)S
2610 V
(43549)210 648 A
1698(})S
2700 V
(43550)210 648 A
2790 V
(43551)210 648 A
(dp->_ptr+=)420 1698 A
2160(1)S
2244(+)S
(e->d_extent;)504 2328 A
2880 V
(43552)210 648 A
(dp->_count-=)504 1698 A
2244(1)S
2328(+)S
(e->d_extent;)504 2412 A
2970 V
(43553)210 648 A
(dp->_pos+=)420 1698 A
2160(\(1)S
2286(+)S
(e->d_extent\))504 2370 A
2916(*)S
(sizeof\(*dp->_ptr\);)756 3000 A
3060 V
(43554)210 648 A
3150 V
(43555)210 648 A
1362(})S
(while)210 1446 A
(\(e->d_ino)378 1698 A
2118(==)S
(0\);)126 2244 A
3240 V
(43556)210 648 A
(return)252 1362 A
1656(e;)S
3330 V
(43557)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/posix/_rename.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(43600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4140 V
(43601)210 648 A
(#define)294 1026 A
(rename)252 1362 A
(_rename)294 1698 A
4230 V
(43602)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4320 V
(43603)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1404 A
4410 V
(43604)210 648 A
4500 V
(43605)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(rename\(name,)504 1488 A
(name2\))252 2034 A
4590 V
(43606)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name,)252 1530 A
(*name2;)294 1824 A
4680 V
(43607)210 648 A
1026({)S
4770 V
(43608)210 648 A
(message)294 1110 A
1446(m;)S
4860 V
(43609)210 648 A
4950 V
(43610)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
5040 V
(43611)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(strlen\(name2\))546 1530 A
2118(+)S
2202(1;)S
5130 V
(43612)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name;)210 1908 A
5220 V
(43613)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name2;)252 1908 A
5310 V
(43614)210 648 A
(return\(_syscall\(FS,)798 1110 A
(RENAME,)294 1950 A
(&m\)\);)210 2286 A
5400 V
(43615)210 648 A
1026(})S
8418 V
EP
%%Page: 411 411
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1850(File:)S
(src/lib/posix/_rewinddir.c)1143 2083 A
12 B
(411)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_rewinddir.c)1092 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(43700)210 648 A
1026(/*)S
(rewinddir\(\))462 1362 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
1440 V
(43701)210 648 A
1068(*)S
3714(24)S
(Apr)126 3840 A
(1989)168 4008 A
1530 V
(43702)210 648 A
1068(*/)S
1620 V
(43703)210 648 A
(#define)294 1026 A
(nil)126 1362 A
1530(0)S
1710 V
(43704)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1800 V
(43705)210 648 A
(#define)294 1026 A
(rewinddir)378 1362 A
(_rewinddir)420 1782 A
1890 V
(43706)210 648 A
(#define)294 1026 A
(seekdir)294 1362 A
(_seekdir)336 1698 A
1980 V
(43707)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
2070 V
(43708)210 648 A
(#include)336 1026 A
(<dirent.h>)420 1404 A
2160 V
(43709)210 648 A
2250 V
(43710)210 648 A
(void)168 1026 A
(rewinddir\(DIR)546 1236 A
(*dp\))168 1824 A
2340 V
(43711)210 648 A
1026({)S
2430 V
(43712)210 648 A
(\(void\))252 1362 A
(seekdir\(dp,)462 1656 A
(0\);)126 2160 A
2520 V
(43713)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_rmdir.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(43800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(43801)210 648 A
(#define)294 1026 A
(rmdir)210 1362 A
(_rmdir)252 1698 A
3330 V
(43802)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(43803)210 648 A
3510 V
(43804)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(rmdir\(name\))462 1488 A
3600 V
(43805)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
3690 V
(43806)210 648 A
1026({)S
3780 V
(43807)210 648 A
(message)294 1110 A
1446(m;)S
3870 V
(43808)210 648 A
3960 V
(43809)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
4050 V
(43810)210 648 A
(return\(_syscall\(FS,)798 1110 A
(RMDIR,)252 1950 A
(&m\)\);)210 2244 A
4140 V
(43811)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_setgid.c)966 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(43900)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5040 V
(43901)210 648 A
(#define)294 1026 A
(setgid)252 1362 A
(_setgid)294 1698 A
5130 V
(43902)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5220 V
(43903)210 648 A
5310 V
(43904)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(setgid\(grp\))462 1488 A
5400 V
(43905)210 648 A
(gid_t)210 1026 A
(grp;)168 1278 A
5490 V
(43906)210 648 A
1026({)S
5580 V
(43907)210 648 A
(message)294 1110 A
1446(m;)S
5670 V
(43908)210 648 A
5760 V
(43909)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(\(int\))210 1530 A
(grp;)168 1782 A
5850 V
(43910)210 648 A
(return\(_syscall\(MM,)798 1110 A
(SETGID,)294 1950 A
(&m\)\);)210 2286 A
5940 V
(43911)210 648 A
1026(})S
8418 V
EP
%%Page: 412 412
BP
/slant 0 def
/height 0 def
630 V
12 B
(412)180 648 A
11 R
1939(File:)S
(src/lib/posix/_setsid.c)965 2172 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_setsid.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(44000)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(44001)210 648 A
(#define)294 1026 A
(setsid)252 1362 A
(_setsid)294 1698 A
1530 V
(44002)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
1620 V
(44003)210 648 A
1710 V
(44004)210 648 A
(PUBLIC)252 1026 A
(pid_t)210 1320 A
(setsid\(\))336 1572 A
1800 V
(44005)210 648 A
1026({)S
1890 V
(44006)210 648 A
(message)294 1110 A
1446(m;)S
1980 V
(44007)210 648 A
2070 V
(44008)210 648 A
(return\(_syscall\(MM,)798 1110 A
(SETSID,)294 1950 A
(&m\)\);)210 2286 A
2160 V
(44009)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_setuid.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(44100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(44101)210 648 A
(#define)294 1026 A
(setuid)252 1362 A
(_setuid)294 1698 A
3330 V
(44102)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(44103)210 648 A
3510 V
(44104)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(setuid\(usr\))462 1488 A
3600 V
(44105)210 648 A
(Uid_t)210 1026 A
(usr;)168 1278 A
3690 V
(44106)210 648 A
1026({)S
3780 V
(44107)210 648 A
(message)294 1110 A
1446(m;)S
3870 V
(44108)210 648 A
3960 V
(44109)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(usr;)168 1530 A
4050 V
(44110)210 648 A
(return\(_syscall\(MM,)798 1110 A
(SETUID,)294 1950 A
(&m\)\);)210 2286 A
4140 V
(44111)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_sigaction.c)1092 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(44200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5040 V
(44201)210 648 A
(#define)294 1026 A
(sigaction)378 1362 A
(_sigaction)420 1782 A
5130 V
(44202)210 648 A
(#include)336 1026 A
(<sys/sigcontext.h>)756 1404 A
5220 V
(44203)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
5310 V
(44204)210 648 A
5400 V
(44205)210 648 A
(_PROTOTYPE\(int)588 1026 A
(__sigreturn,)504 1656 A
(\(void\)\);)336 2202 A
5490 V
(44206)210 648 A
5580 V
(44207)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigaction\(sig,)588 1488 A
(act,)168 2118 A
(oact\))210 2328 A
5670 V
(44208)210 648 A
(int)126 1026 A
(sig;)168 1194 A
5760 V
(44209)210 648 A
(_CONST)252 1026 A
(struct)252 1320 A
(sigaction)378 1614 A
(*act;)210 2034 A
5850 V
(44210)210 648 A
(struct)252 1026 A
(sigaction)378 1320 A
(*oact;)252 1740 A
5940 V
(44211)210 648 A
1026({)S
6030 V
(44212)210 648 A
(message)294 1110 A
1446(m;)S
6120 V
(44213)210 648 A
6210 V
(44214)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(sig;)168 1530 A
8418 V
EP
%%Page: 413 413
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1865(File:)S
(src/lib/posix/_sigaction.c)1113 2098 A
12 B
(413)180 4248 A
900 V
7 LST
(44215)210 648 A
990 V
(44216)210 648 A
1110(/*)S
(XXX)126 1236 A
1404(-)S
(yet)126 1488 A
(more)168 1656 A
(type)168 1866 A
(puns)168 2076 A
(because)294 2286 A
(message)294 2622 A
(struct)252 2958 A
3252(is)S
(short)210 3378 A
3630(of)S
(types.)252 3756 A
4050(*/)S
1080 V
(44217)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(act;)168 1908 A
1170 V
(44218)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(oact;)210 1908 A
1260 V
(44219)210 648 A
(m.m1_p3)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(__sigreturn;)504 1908 A
1350 V
(44220)210 648 A
1440 V
(44221)210 648 A
(return\(_syscall\(MM,)798 1110 A
(SIGACTION,)420 1950 A
(&m\)\);)210 2412 A
1530 V
(44222)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/posix/_sigpending.c)1134 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(44300)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2340 V
(44301)210 648 A
(#define)294 1026 A
(sigpending)420 1362 A
(_sigpending)462 1824 A
2430 V
(44302)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
2520 V
(44303)210 648 A
2610 V
(44304)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigpending\(set\))630 1488 A
2700 V
(44305)210 648 A
(sigset_t)336 1026 A
(*set;)210 1404 A
2790 V
(44306)210 648 A
1026({)S
2880 V
(44307)210 648 A
(message)294 1110 A
1446(m;)S
2970 V
(44308)210 648 A
3060 V
(44309)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(SIGPENDING,)462 1824 A
(&m\))126 2328 A
2496(<)S
2580(0\))S
(return\(-1\);)462 2706 A
3150 V
(44310)210 648 A
(*set)168 1110 A
1320(=)S
(\(sigset_t\))420 1404 A
(m.m2_l1;)336 1866 A
3240 V
(44311)210 648 A
(return\(m.m_type\);)714 1110 A
3330 V
(44312)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/posix/_sigprocmask.c)1176 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(44400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4140 V
(44401)210 648 A
(#define)294 1026 A
(sigprocmask)462 1362 A
(_sigprocmask)504 1866 A
4230 V
(44402)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
4320 V
(44403)210 648 A
4410 V
(44404)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigprocmask\(how,)672 1488 A
(set,)168 2202 A
(oset\))210 2412 A
4500 V
(44405)210 648 A
(int)126 1026 A
(how;)168 1194 A
4590 V
(44406)210 648 A
(_CONST)252 1026 A
(sigset_t)336 1320 A
(*set;)210 1698 A
4680 V
(44407)210 648 A
(sigset_t)336 1026 A
(*oset;)252 1404 A
4770 V
(44408)210 648 A
1026({)S
4860 V
(44409)210 648 A
(message)294 1110 A
1446(m;)S
4950 V
(44410)210 648 A
5040 V
(44411)210 648 A
1110(if)S
(\(set)168 1236 A
1446(==)S
(\(sigset_t)378 1572 A
1992(*\))S
(NULL\))210 2118 A
2370({)S
5130 V
(44412)210 648 A
(m.m2_i1)294 1362 A
1698(=)S
(SIG_INQUIRE;)504 1782 A
5220 V
(44413)210 648 A
(m.m2_l1)294 1362 A
1698(=)S
1782(0;)S
5310 V
(44414)210 648 A
1110(})S
(else)168 1194 A
1404({)S
5400 V
(44415)210 648 A
(m.m2_i1)294 1362 A
1698(=)S
(how;)168 1782 A
5490 V
(44416)210 648 A
(m.m2_l1)294 1362 A
1698(=)S
(\(long\))252 1782 A
(*set;)210 2076 A
5580 V
(44417)210 648 A
1110(})S
5670 V
(44418)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(SIGPROCMASK,)504 1824 A
(&m\))126 2370 A
2538(<)S
2622(0\))S
(return\(-1\);)462 2748 A
5760 V
(44419)210 648 A
1110(if)S
(\(oset)210 1236 A
1488(!=)S
(\(sigset_t)378 1614 A
2034(*\))S
(NULL\))210 2160 A
(*oset)210 2412 A
2664(=)S
(\(sigset_t\))420 2748 A
(\(m.m2_l1\);)420 3210 A
5850 V
(44420)210 648 A
(return\(m.m_type\);)714 1110 A
5940 V
(44421)210 648 A
1026(})S
8418 V
EP
%%Page: 414 414
BP
/slant 0 def
/height 0 def
630 V
12 B
(414)180 648 A
11 R
1868(File:)S
(src/lib/posix/_sigreturn.c)1106 2101 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_sigreturn.c)1092 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(44500)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(44501)210 648 A
(#define)294 1026 A
(sigfillset)420 1362 A
(_sigfillset)462 2034 A
1530 V
(44502)210 648 A
(#define)294 1026 A
(sigjmp)252 1362 A
(_sigjmp)294 2034 A
1620 V
(44503)210 648 A
(#define)294 1026 A
(sigprocmask)462 1362 A
(_sigprocmask)504 2034 A
1710 V
(44504)210 648 A
(#define)294 1026 A
(sigreturn)378 1362 A
(_sigreturn)420 2034 A
1800 V
(44505)210 648 A
(#include)336 1026 A
(<sys/sigcontext.h>)756 1404 A
1890 V
(44506)210 648 A
(#include)336 1026 A
(<setjmp.h>)420 1404 A
1980 V
(44507)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
2070 V
(44508)210 648 A
2160 V
(44509)210 648 A
(_PROTOTYPE\()462 1026 A
(int)126 1530 A
(sigjmp,)294 1698 A
(\(jmp_buf)336 2034 A
(jb,)126 2412 A
(int)126 2580 A
(retval\)\);)378 2748 A
2250 V
(44510)210 648 A
2340 V
(44511)210 648 A
(#if)126 1026 A
(\(_SETJMP_SAVES_REGS)798 1194 A
2034(==)S
2160(0\))S
2430 V
(44512)210 648 A
1026(/*)S
('sigreturn')462 1152 A
(using)210 1656 A
1908(a)S
(short)210 1992 A
(format)252 2244 A
(jmp_buf)294 2538 A
(\(no)126 2874 A
(registers)378 3042 A
(saved\).)294 3462 A
3798(*/)S
2520 V
(44513)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigjmp\(jb,)420 1488 A
(retval\))294 1950 A
2610 V
(44514)210 648 A
(jmp_buf)294 1026 A
(jb;)126 1362 A
2700 V
(44515)210 648 A
(int)126 1026 A
(retval;)294 1194 A
2790 V
(44516)210 648 A
1026({)S
2880 V
(44517)210 648 A
(struct)252 1110 A
(sigcontext)420 1404 A
(sc;)126 1866 A
2970 V
(44518)210 648 A
3060 V
(44519)210 648 A
(sc.sc_flags)462 1110 A
1614(=)S
(jb[0].__flags;)588 1698 A
3150 V
(44520)210 648 A
(sc.sc_mask)420 1110 A
1572(=)S
(jb[0].__mask;)546 1656 A
3240 V
(44521)210 648 A
3330 V
(44522)210 648 A
(#if)126 1026 A
(\(CHIP)210 1194 A
1446(==)S
(INTEL\))252 1572 A
3420 V
(44523)210 648 A
(sc.sc_pc)336 1110 A
1488(=)S
(\(int\))210 1572 A
(jb[0].__pc;)462 1824 A
3510 V
(44524)210 648 A
(sc.sc_sp)336 1110 A
1488(=)S
(\(int\))210 1572 A
(jb[0].__sp;)462 1824 A
3600 V
(44525)210 648 A
(sc.sc_fp)336 1110 A
1488(=)S
(\(int\))210 1572 A
(jb[0].__lb;)462 1824 A
3690 V
(44526)210 648 A
(#endif)252 1026 A
3780 V
(44527)210 648 A
3870 V
(44528)210 648 A
(#if)126 1026 A
(\(CHIP)210 1194 A
1446(==)S
(M68000\))294 1572 A
3960 V
(44529)210 648 A
(sc.sc_pc)336 1110 A
1488(=)S
(\(long\))252 1572 A
(jb[0].__pc;)462 1866 A
4050 V
(44530)210 648 A
(sc.sc_sp)336 1110 A
1488(=)S
(\(long\))252 1572 A
(jb[0].__sp;)462 1866 A
4140 V
(44531)210 648 A
(sc.sc_fp)336 1110 A
1488(=)S
(\(long\))252 1572 A
(jb[0].__lb;)462 1866 A
4230 V
(44532)210 648 A
(#endif)252 1026 A
4320 V
(44533)210 648 A
4410 V
(44534)210 648 A
(sc.sc_retreg)504 1110 A
1656(=)S
(retval;)294 1740 A
4500 V
(44535)210 648 A
(return)252 1110 A
(sigreturn\(&sc\);)630 1404 A
4590 V
(44536)210 648 A
1026(})S
4680 V
(44537)210 648 A
(#endif)252 1026 A
4770 V
(44538)210 648 A
4860 V
(44539)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigreturn\(scp\))588 1488 A
4950 V
(44540)210 648 A
(register)336 1026 A
(struct)252 1404 A
(sigcontext)420 1698 A
(*scp;)210 2160 A
5040 V
(44541)210 648 A
1026({)S
5130 V
(44542)210 648 A
(sigset_t)336 1110 A
(set;)168 1488 A
5220 V
(44543)210 648 A
5310 V
(44544)210 648 A
1110(/*)S
(The)126 1236 A
(message)294 1404 A
(can't)210 1740 A
1992(be)S
2118(on)S
(the)126 2244 A
(stack,)252 2412 A
(because)294 2706 A
(the)126 3042 A
(stack)210 3210 A
(will)168 3462 A
(vanish)252 3672 A
(out)126 3966 A
5400 V
(44545)210 648 A
1152(*)S
(from)168 1236 A
(under)210 1446 A
(us.)126 1698 A
(The)126 1908 A
(send)168 2076 A
(part)168 2286 A
2496(of)S
(sendrec)294 2622 A
(will)168 2958 A
(succeed,)336 3168 A
(but)126 3546 A
(when)168 3714 A
5490 V
(44546)210 648 A
1152(*)S
1236(a)S
(message)294 1320 A
1656(is)S
(sent)168 1782 A
1992(to)S
(restart)294 2118 A
(the)126 2454 A
(current)294 2622 A
(process,)336 2958 A
(who)126 3336 A
(knows)210 3504 A
(what)168 3756 A
(will)168 3966 A
5580 V
(44547)210 648 A
1152(*)S
1236(be)S
1362(in)S
(the)126 1488 A
(place)210 1656 A
(formerly)336 1908 A
(occupied)336 2286 A
2664(by)S
(the)126 2790 A
(message?)336 2958 A
5670 V
(44548)210 648 A
1152(*/)S
5760 V
(44549)210 648 A
(static)252 1110 A
(message)294 1404 A
1740(m;)S
5850 V
(44550)210 648 A
5940 V
(44551)210 648 A
1110(/*)S
(Protect)294 1236 A
(against)294 1572 A
(race)168 1908 A
(conditions)420 2118 A
2580(by)S
(blocking)336 2706 A
(all)126 3084 A
(interrupts.)462 3252 A
3756(*/)S
6030 V
(44552)210 648 A
(sigfillset\(&set\);)714 1110 A
2370(/*)S
(splhi)210 2496 A
2748(*/)S
6120 V
(44553)210 648 A
(sigprocmask\(SIG_SETMASK,)1008 1110 A
(&set,)210 2160 A
(\(sigset_t)378 2412 A
2832(*\))S
(NULL\);)252 2958 A
6210 V
(44554)210 648 A
8418 V
EP
%%Page: 415 415
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1868(File:)S
(src/lib/posix/_sigreturn.c)1106 2101 A
12 B
(415)180 4248 A
900 V
7 LST
(44555)210 648 A
(m.m2_l1)294 1110 A
1446(=)S
(scp->sc_mask;)546 1530 A
990 V
(44556)210 648 A
(m.m2_i2)294 1110 A
1446(=)S
(scp->sc_flags;)588 1530 A
1080 V
(44557)210 648 A
(m.m2_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(scp;)168 1908 A
1170 V
(44558)210 648 A
(return\(_syscall\(MM,)798 1110 A
(SIGRETURN,)420 1950 A
(&m\)\);)210 2412 A
2706(/*)S
(normally)336 2832 A
(this)168 3210 A
(doesn't)294 3420 A
(return)252 3756 A
4050(*/)S
1260 V
(44559)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/posix/_sigset.c)966 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(44600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2340 V
(44601)210 648 A
1026(/*)S
(XXX)126 1152 A
1320(-)S
(these)210 1404 A
(have)168 1656 A
1866(to)S
1992(be)S
(hidden)252 2118 A
(because)294 2412 A
(signal\(\))336 2748 A
(uses)168 3126 A
(them)168 3336 A
(and)126 3546 A
(signal\(\))336 3714 A
4092(is)S
2430 V
(44602)210 648 A
1068(*)S
(ANSI)168 1152 A
(and)126 1362 A
(not)126 1530 A
(POSIX.)252 1698 A
2034(It)S
(would)210 2160 A
2412(be)S
(surely)252 2538 A
2832(be)S
(better)252 2958 A
3252(to)S
(use)126 3378 A
(macros)252 3546 A
(for)126 3840 A
(the)126 4008 A
2520 V
(44603)210 648 A
1068(*)S
(library)294 1152 A
(and)126 1488 A
(system)252 1656 A
(uses,)210 1950 A
(and)126 2202 A
(perhaps)294 2370 A
(macros)252 2706 A
3000(as)S
(well)168 3126 A
3336(as)S
(functions)378 3462 A
(for)126 3882 A
(the)126 4050 A
2610 V
(44604)210 648 A
1068(*)S
(POSIX)210 1152 A
(user)168 1404 A
(interface.)420 1614 A
(The)126 2118 A
(macros)252 2286 A
(would)210 2580 A
(not)126 2832 A
(need)168 3000 A
(underlines.)462 3210 A
3756(It)S
(may)126 3882 A
4050(be)S
2700 V
(44605)210 648 A
1068(*)S
(inconvenient)504 1152 A
1698(to)S
(match)210 1824 A
(the)126 2076 A
(exact)210 2244 A
(semantics)378 2496 A
2916(of)S
(the)126 3042 A
(current)294 3210 A
(functions)378 3546 A
2790 V
(44606)210 648 A
1068(*)S
(because)294 1152 A
(the)126 1488 A
(interface)378 1656 A
2076(is)S
(bloated)294 2202 A
2538(by)S
(reporting)378 2664 A
(errors.)294 3084 A
(For)126 3462 A
(library)294 3630 A
(and)126 3966 A
2880 V
(44607)210 648 A
1068(*)S
(system)252 1152 A
(uses,)210 1446 A
(the)126 1698 A
(signal)252 1866 A
(number)252 2160 A
2454(is)S
(mostly)252 2580 A
(already)294 2874 A
(known)210 3210 A
3462(to)S
3588(be)S
(valid)210 3714 A
2970 V
(44608)210 648 A
1068(*)S
(before)252 1152 A
(the)126 1446 A
(sigset-changing)630 1614 A
(routines)336 2286 A
(are)126 2664 A
(called.)294 2832 A
3060 V
(44609)210 648 A
1068(*/)S
3150 V
(44610)210 648 A
(#define)294 1026 A
(sigaddset)378 1362 A
(_sigaddset)420 2034 A
3240 V
(44611)210 648 A
(#define)294 1026 A
(sigdelset)378 1362 A
(_sigdelset)420 2034 A
3330 V
(44612)210 648 A
(#define)294 1026 A
(sigemptyset)462 1362 A
(_sigemptyset)504 2034 A
3420 V
(44613)210 648 A
(#define)294 1026 A
(sigfillset)420 1362 A
(_sigfillset)462 2034 A
3510 V
(44614)210 648 A
(#define)294 1026 A
(sigismember)462 1362 A
(_sigismember)504 2034 A
3600 V
(44615)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
3690 V
(44616)210 648 A
3780 V
(44617)210 648 A
1026(/*)S
(Low)126 1152 A
(bit)126 1320 A
1488(of)S
(signal)252 1614 A
(masks.)252 1908 A
2202(*/)S
3870 V
(44618)210 648 A
(#define)294 1026 A
(SIGBIT_0)336 1362 A
(\(\(sigset_t\))462 2034 A
2538(1\))S
3960 V
(44619)210 648 A
4050 V
(44620)210 648 A
1026(/*)S
(Mask)168 1152 A
1362(of)S
(valid)210 1488 A
(signals)294 1740 A
2076(\(0)S
2202(-)S
(_NSIG\).)294 2286 A
(Assume)252 2664 A
(the)126 2958 A
(shift)210 3126 A
(doesn't)294 3378 A
(overflow.)378 3714 A
4134(*/)S
4140 V
(44621)210 648 A
(#define)294 1026 A
(SIGMASK)294 1362 A
(\(\(SIGBIT_0)420 2034 A
2496(<<)S
(\(_NSIG)252 2622 A
2916(+)S
(1\)\))126 3000 A
3168(-)S
3252(1\))S
4230 V
(44622)210 648 A
4320 V
(44623)210 648 A
(#define)294 1026 A
(sigisvalid\(signo\))714 1362 A
(\(\(unsigned\))462 2118 A
(\(signo\))294 2622 A
2958(<=)S
(_NSIG\))252 3084 A
4410 V
(44624)210 648 A
4500 V
(44625)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigaddset\(set,)588 1488 A
(signo\))252 2118 A
4590 V
(44626)210 648 A
(sigset_t)336 1026 A
(*set;)210 1404 A
4680 V
(44627)210 648 A
(int)126 1026 A
(signo;)252 1194 A
4770 V
(44628)210 648 A
1026({)S
4860 V
(44629)210 648 A
1110(if)S
(\(!sigisvalid\(signo\)\))840 1236 A
2118({)S
4950 V
(44630)210 648 A
(errno)210 1362 A
1614(=)S
(EINVAL;)294 1698 A
5040 V
(44631)210 648 A
(return)252 1362 A
(-1;)126 1656 A
5130 V
(44632)210 648 A
1110(})S
5220 V
(44633)210 648 A
(*set)168 1110 A
1320(|=)S
(SIGBIT_0)336 1446 A
1824(<<)S
(signo;)252 1950 A
5310 V
(44634)210 648 A
(return)252 1110 A
1404(0;)S
5400 V
(44635)210 648 A
1026(})S
5580 V
(44637)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigdelset\(set,)588 1488 A
(signo\))252 2118 A
5670 V
(44638)210 648 A
(sigset_t)336 1026 A
(*set;)210 1404 A
5760 V
(44639)210 648 A
(int)126 1026 A
(signo;)252 1194 A
5850 V
(44640)210 648 A
1026({)S
5940 V
(44641)210 648 A
1110(if)S
(\(!sigisvalid\(signo\)\))840 1236 A
2118({)S
6030 V
(44642)210 648 A
(errno)210 1362 A
1614(=)S
(EINVAL;)294 1698 A
6120 V
(44643)210 648 A
(return)252 1362 A
(-1;)126 1656 A
6210 V
(44644)210 648 A
1110(})S
8418 V
EP
%%Page: 416 416
BP
/slant 0 def
/height 0 def
630 V
12 B
(416)180 648 A
11 R
1939(File:)S
(src/lib/posix/_sigset.c)965 2172 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(44645)210 648 A
(*set)168 1110 A
1320(&=)S
(\304\(SIGBIT_0)420 1446 A
1908(<<)S
(signo\);)294 2034 A
990 V
(44646)210 648 A
(return)252 1110 A
1404(0;)S
1080 V
(44647)210 648 A
1026(})S
1260 V
(44649)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigemptyset\(set\))672 1488 A
1350 V
(44650)210 648 A
(sigset_t)336 1026 A
(*set;)210 1404 A
1440 V
(44651)210 648 A
1026({)S
1530 V
(44652)210 648 A
(*set)168 1110 A
1320(=)S
1404(0;)S
1620 V
(44653)210 648 A
(return)252 1110 A
1404(0;)S
1710 V
(44654)210 648 A
1026(})S
1890 V
(44656)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigfillset\(set\))630 1488 A
1980 V
(44657)210 648 A
(sigset_t)336 1026 A
(*set;)210 1404 A
2070 V
(44658)210 648 A
1026({)S
2160 V
(44659)210 648 A
(*set)168 1110 A
1320(=)S
(SIGMASK;)336 1404 A
2250 V
(44660)210 648 A
(return)252 1110 A
1404(0;)S
2340 V
(44661)210 648 A
1026(})S
2520 V
(44663)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigismember\(set,)672 1488 A
(signo\))252 2202 A
2610 V
(44664)210 648 A
(sigset_t)336 1026 A
(*set;)210 1404 A
2700 V
(44665)210 648 A
(int)126 1026 A
(signo;)252 1194 A
2790 V
(44666)210 648 A
1026({)S
2880 V
(44667)210 648 A
1110(if)S
(\(!sigisvalid\(signo\)\))840 1236 A
2118({)S
2970 V
(44668)210 648 A
(errno)210 1362 A
1614(=)S
(EINVAL;)294 1698 A
3060 V
(44669)210 648 A
(return)252 1362 A
(-1;)126 1656 A
3150 V
(44670)210 648 A
1110(})S
3240 V
(44671)210 648 A
1110(if)S
(\(*set)210 1236 A
1488(&)S
(\(SIGBIT_0)378 1572 A
1992(<<)S
(signo\)\))294 2118 A
3330 V
(44672)210 648 A
(return)252 1362 A
1656(1;)S
3420 V
(44673)210 648 A
(return)252 1110 A
1404(0;)S
3510 V
(44674)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/posix/_sigsetjmp.c)1092 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(44700)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4590 V
(44701)210 648 A
(#include)336 1026 A
(<sys/sigcontext.h>)756 1404 A
4680 V
(44702)210 648 A
(#include)336 1026 A
(<setjmp.h>)420 1404 A
4770 V
(44703)210 648 A
4860 V
(44704)210 648 A
(PUBLIC)252 1026 A
(void)168 1320 A
(siglongjmp\(env,)630 1530 A
(val\))168 2202 A
4950 V
(44705)210 648 A
(sigjmp_buf)420 1026 A
(env;)168 1488 A
5040 V
(44706)210 648 A
(int)126 1026 A
(val;)168 1194 A
5130 V
(44707)210 648 A
1026({)S
5220 V
(44708)210 648 A
1110(if)S
(\(env[0].__flags)630 1236 A
1908(&)S
(SC_SIGCONTEXT\))588 1992 A
5310 V
(44709)210 648 A
(longjmp\(env,)504 1362 A
(val\);)210 1908 A
5400 V
(44710)210 648 A
(else)168 1110 A
5490 V
(44711)210 648 A
(_longjmp\(env,)546 1362 A
(val\);)210 1950 A
5580 V
(44712)210 648 A
1026(})S
8418 V
EP
%%Page: 417 417
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1823(File:)S
(src/lib/posix/_sigsuspend.c)1197 2056 A
12 B
(417)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_sigsuspend.c)1134 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(44800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(44801)210 648 A
(#define)294 1026 A
(sigsuspend)420 1362 A
(_sigsuspend)462 1824 A
1530 V
(44802)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
1620 V
(44803)210 648 A
1710 V
(44804)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sigsuspend\(set\))630 1488 A
1800 V
(44805)210 648 A
(_CONST)252 1026 A
(sigset_t)336 1320 A
(*set;)210 1698 A
1890 V
(44806)210 648 A
1026({)S
1980 V
(44807)210 648 A
(message)294 1110 A
1446(m;)S
2070 V
(44808)210 648 A
2160 V
(44809)210 648 A
(m.m2_l1)294 1110 A
1446(=)S
(\(long\))252 1530 A
(*set;)210 1824 A
2250 V
(44810)210 648 A
(return\(_syscall\(MM,)798 1110 A
(SIGSUSPEND,)462 1950 A
(&m\)\);)210 2454 A
2340 V
(44811)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_sleep.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(44900)210 648 A
1026(/*)S
(sleep\(3\))336 1194 A
3240 V
(44901)210 648 A
1068(*)S
3330 V
(44902)210 648 A
1068(*)S
(Sleep\(n\))336 1194 A
(pauses)252 1572 A
(for)126 1866 A
('n')126 2034 A
(seconds)294 2202 A
2538(by)S
(scheduling)420 2664 A
3126(an)S
(alarm)210 3252 A
(interrupt.)420 3504 A
3420 V
(44903)210 648 A
1068(*)S
3510 V
(44904)210 648 A
1068(*)S
(Changed)294 1194 A
1530(to)S
(conform)294 1656 A
(with)168 1992 A
(POSIX)210 2202 A
(Terrence)336 2664 A
3042(W.)S
(Holm)168 3168 A
(Oct.)168 3588 A
(1988)168 3798 A
3600 V
(44905)210 648 A
1068(*/)S
3690 V
(44906)210 648 A
3780 V
(44907)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3870 V
(44908)210 648 A
(#define)294 1026 A
(sleep)210 1362 A
(_sleep)252 1614 A
3960 V
(44909)210 648 A
(#include)336 1026 A
(<signal.h>)420 1404 A
4050 V
(44910)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
4140 V
(44911)210 648 A
4230 V
(44912)210 648 A
(FORWARD)294 1026 A
(_PROTOTYPE\()462 1362 A
(void)168 1866 A
(_alfun,)294 2076 A
(\(int)168 2412 A
(signo\))252 2622 A
2916(\);)S
4320 V
(44913)210 648 A
4410 V
(44914)210 648 A
(PRIVATE)294 1026 A
(void)168 1362 A
(_alfun\(signo\))546 1572 A
4500 V
(44915)210 648 A
(int)126 1026 A
(signo;)252 1194 A
4590 V
(44916)210 648 A
1026({)S
4680 V
(44917)210 648 A
1026(/*)S
(Dummy)210 1152 A
(signal)252 1404 A
(handler)294 1698 A
(used)168 2034 A
(with)168 2244 A
(sleep\(\))294 2454 A
(below.)252 2790 A
3084(*/)S
4770 V
(44918)210 648 A
1026(})S
4950 V
(44920)210 648 A
(PUBLIC)252 1026 A
(unsigned)336 1320 A
(sleep\(secs\))462 1698 A
5040 V
(44921)210 648 A
(unsigned)336 1026 A
(secs;)210 1404 A
5130 V
(44922)210 648 A
1026({)S
5220 V
(44923)210 648 A
(unsigned)336 1110 A
(current_secs;)546 1488 A
5310 V
(44924)210 648 A
(unsigned)336 1110 A
(remaining_secs;)630 1488 A
5400 V
(44925)210 648 A
(struct)252 1110 A
(sigaction)378 1404 A
(act,)168 1824 A
(oact;)210 2034 A
5490 V
(44926)210 648 A
(sigset_t)336 1110 A
(ss;)126 1488 A
5580 V
(44927)210 648 A
5670 V
(44928)210 648 A
1110(if)S
(\(secs)210 1236 A
1488(==)S
1614(0\))S
(return\(0\);)420 1740 A
5760 V
(44929)210 648 A
5850 V
(44930)210 648 A
(current_secs)504 1110 A
1656(=)S
(alarm\(0\);)378 1740 A
2370(/*)S
2496(is)S
(there)210 2622 A
(currently)378 2874 A
3294(an)S
(alarm?)252 3420 A
3756(*/)S
5940 V
(44931)210 648 A
6030 V
(44932)210 648 A
1110(if)S
(\(current_secs)546 1236 A
1824(==)S
1950(0)S
2034(||)S
(current_secs)504 2160 A
2706(>)S
(secs\))210 2790 A
3042({)S
6120 V
(44933)210 648 A
(act.sa_flags)504 1362 A
1908(=)S
1992(0;)S
6210 V
(44934)210 648 A
(act.sa_mask)462 1362 A
1866(=)S
1950(0;)S
8418 V
EP
%%Page: 418 418
BP
/slant 0 def
/height 0 def
630 V
12 B
(418)180 648 A
11 R
1951(File:)S
(src/lib/posix/_sleep.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(44935)210 648 A
(act.sa_handler)588 1362 A
1992(=)S
(_alfun;)294 2076 A
990 V
(44936)210 648 A
(sigaction\(SIGALRM,)756 1362 A
(&act,)210 2160 A
(&oact\);)294 2412 A
1080 V
(44937)210 648 A
1170 V
(44938)210 648 A
(alarm\(secs\);)504 1362 A
1260 V
(44939)210 648 A
(sigemptyset\(&ss\);)714 1362 A
1350 V
(44940)210 648 A
(sigsuspend\(&ss\);)672 1362 A
1440 V
(44941)210 648 A
(remaining_secs)588 1362 A
1992(=)S
(alarm\(0\);)378 2076 A
1530 V
(44942)210 648 A
1620 V
(44943)210 648 A
(sigaction\(SIGALRM,)756 1362 A
(&oact,)252 2160 A
(\(struct)294 2454 A
(sigaction)378 2790 A
3210(*\))S
(NULL\);)252 3336 A
1710 V
(44944)210 648 A
1800 V
(44945)210 648 A
1362(if)S
(\(current_secs)546 1488 A
2076(>)S
(secs\))210 2160 A
1890 V
(44946)210 648 A
(alarm\(current_secs)756 1698 A
2496(-)S
(\(secs)210 2580 A
2832(-)S
(remaining_secs\)\);)714 2916 A
1980 V
(44947)210 648 A
2070 V
(44948)210 648 A
(return\(remaining_secs\);)966 1362 A
2160 V
(44949)210 648 A
1110(})S
2250 V
(44950)210 648 A
2340 V
(44951)210 648 A
1110(/*)S
(Current_secs)504 1236 A
1782(<=)S
(secs,)210 1908 A
(ie.)126 2202 A
(alarm)210 2370 A
(should)252 2622 A
(occur)210 2916 A
(before)252 3168 A
(secs.)210 3462 A
3756(*/)S
2430 V
(44952)210 648 A
2520 V
(44953)210 648 A
(alarm\(current_secs\);)840 1110 A
2610 V
(44954)210 648 A
(pause\(\);)336 1110 A
2700 V
(44955)210 648 A
(remaining_secs)588 1110 A
1740(=)S
(alarm\(0\);)378 1824 A
2790 V
(44956)210 648 A
2880 V
(44957)210 648 A
(alarm\(remaining_secs\);)924 1110 A
2970 V
(44958)210 648 A
3060 V
(44959)210 648 A
(return\(secs)462 1110 A
1614(-)S
(\(current_secs)546 1698 A
2286(-)S
(remaining_secs\)\);)714 2370 A
3150 V
(44960)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/posix/_stat.c)882 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(45000)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4140 V
(45001)210 648 A
(#define)294 1026 A
(stat)168 1362 A
(_stat)210 1698 A
4230 V
(45002)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
4320 V
(45003)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
4410 V
(45004)210 648 A
4500 V
(45005)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(stat\(name,)420 1488 A
(buffer\))294 1950 A
4590 V
(45006)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
4680 V
(45007)210 648 A
(struct)252 1026 A
(stat)168 1320 A
(*buffer;)336 1530 A
4770 V
(45008)210 648 A
1026({)S
4860 V
(45009)210 648 A
(message)294 1110 A
1446(m;)S
4950 V
(45010)210 648 A
5040 V
(45011)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(strlen\(name\))504 1530 A
2076(+)S
2160(1;)S
5130 V
(45012)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name;)210 1908 A
5220 V
(45013)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(buffer;)294 1908 A
5310 V
(45014)210 648 A
(return\(_syscall\(FS,)798 1110 A
(STAT,)210 1950 A
(&m\)\);)210 2202 A
5400 V
(45015)210 648 A
1026(})S
8418 V
EP
%%Page: 419 419
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1945(File:)S
(src/lib/posix/_stime.c)953 2178 A
12 B
(419)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_stime.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(45100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(45101)210 648 A
(#define)294 1026 A
(stime)210 1362 A
(_stime)252 1698 A
1530 V
(45102)210 648 A
(#include)336 1026 A
(<minix/minlib.h>)672 1404 A
1620 V
(45103)210 648 A
(#include)336 1026 A
(<time.h>)336 1404 A
1710 V
(45104)210 648 A
1800 V
(45105)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(stime\(top\))420 1488 A
1890 V
(45106)210 648 A
(long)168 1026 A
(*top;)210 1236 A
1980 V
(45107)210 648 A
1026({)S
2070 V
(45108)210 648 A
(message)294 1110 A
1446(m;)S
2160 V
(45109)210 648 A
2250 V
(45110)210 648 A
(m.m2_l1)294 1110 A
1446(=)S
(*top;)210 1530 A
2340 V
(45111)210 648 A
(return\(_syscall\(FS,)798 1110 A
(STIME,)252 1950 A
(&m\)\);)210 2244 A
2430 V
(45112)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_sync.c)882 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(45200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(45201)210 648 A
(#define)294 1026 A
(sync)168 1362 A
(_sync)210 1698 A
3330 V
(45202)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(45203)210 648 A
3510 V
(45204)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sync\(\))252 1488 A
3600 V
(45205)210 648 A
1026({)S
3690 V
(45206)210 648 A
(message)294 1110 A
1446(m;)S
3780 V
(45207)210 648 A
3870 V
(45208)210 648 A
(return\(_syscall\(FS,)798 1110 A
(SYNC,)210 1950 A
(&m\)\);)210 2202 A
3960 V
(45209)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_tcdrain.c)1008 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(45300)210 648 A
1026(/*)S
5040 V
(45301)210 648 A
(posix/_tcdrain.c)672 1026 A
5130 V
(45302)210 648 A
5220 V
(45303)210 648 A
(Created:)336 1026 A
(July)168 1698 A
(26,)126 1908 A
(1994)168 2076 A
2286(by)S
(Philip)252 2412 A
(Homburg)294 2706 A
5310 V
(45304)210 648 A
1026(*/)S
5400 V
(45305)210 648 A
5490 V
(45306)210 648 A
(#define)294 1026 A
(tcdrain)294 1362 A
(_tcdrain)336 1698 A
5580 V
(45307)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1614 A
5670 V
(45308)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
5760 V
(45309)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
5850 V
(45310)210 648 A
5940 V
(45311)210 648 A
(int)126 1026 A
(tcdrain\(fd\))462 1194 A
6030 V
(45312)210 648 A
(int)126 1026 A
(fd;)126 1194 A
6120 V
(45313)210 648 A
1026({)S
6210 V
(45314)210 648 A
(return\(ioctl\(fd,)672 1110 A
(TCDRAIN,)336 1824 A
(\(void)210 2202 A
(*\)0\)\);)252 2454 A
8418 V
EP
%%Page: 420 420
BP
/slant 0 def
/height 0 def
630 V
12 B
(420)180 648 A
11 R
1911(File:)S
(src/lib/posix/_tcdrain.c)1021 2144 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(45315)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/posix/_tcflow.c)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(45400)210 648 A
1026(/*)S
1890 V
(45401)210 648 A
(posix/_tcflow.c)630 1026 A
1980 V
(45402)210 648 A
2070 V
(45403)210 648 A
(Created:)336 1026 A
(June)168 1698 A
1908(8,)S
(1993)168 2034 A
2244(by)S
(Philip)252 2370 A
(Homburg)294 2664 A
2160 V
(45404)210 648 A
1026(*/)S
2250 V
(45405)210 648 A
2340 V
(45406)210 648 A
(#define)294 1026 A
(tcflow)252 1362 A
(_tcflow)294 1656 A
2430 V
(45407)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1614 A
2520 V
(45408)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
2610 V
(45409)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
2700 V
(45410)210 648 A
2790 V
(45411)210 648 A
(int)126 1026 A
(tcflow\(fd,)420 1194 A
(action\))294 1656 A
2880 V
(45412)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2970 V
(45413)210 648 A
(int)126 1026 A
(action;)294 1194 A
3060 V
(45414)210 648 A
1026({)S
3150 V
(45415)210 648 A
(return\(ioctl\(fd,)672 1110 A
(TCFLOW,)294 1824 A
(&action\)\);)420 2160 A
3240 V
(45416)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/posix/_tcflush.c)1008 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(45500)210 648 A
1026(/*)S
(tcflush\(\))378 1362 A
1782(-)S
(flush)210 1866 A
(buffered)336 2118 A
(characters)420 2496 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
4140 V
(45501)210 648 A
1068(*)S
3714(13)S
(Jan)126 3840 A
(1994)168 4008 A
4230 V
(45502)210 648 A
1068(*/)S
4320 V
(45503)210 648 A
(#define)294 1026 A
(tcflush)294 1362 A
(_tcflush)336 1698 A
4410 V
(45504)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1614 A
4500 V
(45505)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
4590 V
(45506)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
4680 V
(45507)210 648 A
4770 V
(45508)210 648 A
(int)126 1026 A
(tcflush\(int)462 1194 A
(fd,)126 1698 A
(int)126 1866 A
(queue_selector\))630 2034 A
4860 V
(45509)210 648 A
1026({)S
4950 V
(45510)210 648 A
(return\(ioctl\(fd,)672 1110 A
(TCFLSH,)294 1824 A
(&queue_selector\)\);)756 2160 A
5040 V
(45511)210 648 A
1026(})S
8418 V
EP
%%Page: 421 421
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1882(File:)S
(src/lib/posix/_tcgetattr.c)1078 2115 A
12 B
(421)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_tcgetattr.c)1092 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(45600)210 648 A
(#define)294 1026 A
(tcgetattr)378 1362 A
(_tcgetattr)420 1782 A
1440 V
(45601)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1614 A
1530 V
(45602)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
1620 V
(45603)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
1710 V
(45604)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
1800 V
(45605)210 648 A
1890 V
(45606)210 648 A
(int)126 1026 A
(tcgetattr\(fd,)546 1194 A
(termios_p\))420 1782 A
1980 V
(45607)210 648 A
(int)126 1026 A
(fd;)126 1194 A
2070 V
(45608)210 648 A
(struct)252 1026 A
(termios)294 1320 A
(*termios_p;)462 1656 A
2160 V
(45609)210 648 A
1026({)S
2250 V
(45610)210 648 A
(return\(ioctl\(fd,)672 1110 A
(TCGETS,)294 1824 A
(termios_p\)\);)504 2160 A
2340 V
(45611)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_tcsendbreak.c)1176 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(45700)210 648 A
1026(/*)S
(tcsendbreak\(\))546 1362 A
1950(-)S
(send)168 2034 A
2244(a)S
(break)210 2328 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
3240 V
(45701)210 648 A
1068(*)S
3714(13)S
(Jan)126 3840 A
(1994)168 4008 A
3330 V
(45702)210 648 A
1068(*/)S
3420 V
(45703)210 648 A
(#define)294 1026 A
(tcsendbreak)462 1362 A
(_tcsendbreak)504 1866 A
3510 V
(45704)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1614 A
3600 V
(45705)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
3690 V
(45706)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
3780 V
(45707)210 648 A
3870 V
(45708)210 648 A
(int)126 1026 A
(tcsendbreak\(int)630 1194 A
(fd,)126 1866 A
(int)126 2034 A
(duration\))378 2202 A
3960 V
(45709)210 648 A
1026({)S
4050 V
(45710)210 648 A
(return\(ioctl\(fd,)672 1110 A
(TCSBRK,)294 1824 A
(&duration\)\);)504 2160 A
4140 V
(45711)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_tcsetattr.c)1092 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(45800)210 648 A
1026(/*)S
5040 V
(45801)210 648 A
(posix/_tcsetattr.c)756 1026 A
5130 V
(45802)210 648 A
5220 V
(45803)210 648 A
(Created:)336 1026 A
(June)168 1698 A
(11,)126 1908 A
(1993)168 2076 A
2286(by)S
(Philip)252 2412 A
(Homburg)294 2706 A
5310 V
(45804)210 648 A
1026(*/)S
5400 V
(45805)210 648 A
5490 V
(45806)210 648 A
(#define)294 1026 A
(tcsetattr)378 1362 A
(_tcsetattr)420 1782 A
5580 V
(45807)210 648 A
(#define)294 1026 A
(ioctl)210 1362 A
(_ioctl)252 1614 A
5670 V
(45808)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
5760 V
(45809)210 648 A
(#include)336 1026 A
(<termios.h>)462 1404 A
5850 V
(45810)210 648 A
(#include)336 1026 A
(<sys/ioctl.h>)546 1404 A
5940 V
(45811)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
6030 V
(45812)210 648 A
6120 V
(45813)210 648 A
(int)126 1026 A
(tcsetattr\(fd,)546 1194 A
(opt_actions,)504 1782 A
(termios_p\))420 2328 A
6210 V
(45814)210 648 A
(int)126 1026 A
(fd;)126 1194 A
8418 V
EP
%%Page: 422 422
BP
/slant 0 def
/height 0 def
630 V
12 B
(422)180 648 A
11 R
1888(File:)S
(src/lib/posix/_tcsetattr.c)1066 2121 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(45815)210 648 A
(int)126 1026 A
(opt_actions;)504 1194 A
990 V
(45816)210 648 A
(_CONST)252 1026 A
(struct)252 1320 A
(termios)294 1614 A
(*termios_p;)462 1950 A
1080 V
(45817)210 648 A
1026({)S
1170 V
(45818)210 648 A
(int)126 1110 A
(request;)336 1278 A
1260 V
(45819)210 648 A
1350 V
(45820)210 648 A
(switch\(opt_actions\))798 1110 A
1440 V
(45821)210 648 A
1110({)S
1530 V
(45822)210 648 A
(case)168 1194 A
(TCSANOW:)336 1404 A
(request)294 2034 A
2370(=)S
(TCSETS;)294 2454 A
(break;)252 3042 A
1620 V
(45823)210 648 A
(case)168 1194 A
(TCSADRAIN:)420 1404 A
(request)294 2034 A
2370(=)S
(TCSETSW;)336 2454 A
(break;)252 3042 A
1710 V
(45824)210 648 A
(case)168 1194 A
(TCSAFLUSH:)420 1404 A
(request)294 2034 A
2370(=)S
(TCSETSF;)336 2454 A
(break;)252 3042 A
1800 V
(45825)210 648 A
(default:)336 1194 A
(errno)210 2034 A
2286(=)S
(EINVAL;)294 2370 A
(return\(-1\);)462 3042 A
1890 V
(45826)210 648 A
1110(};)S
1980 V
(45827)210 648 A
(return\(ioctl\(fd,)672 1110 A
(request,)336 1824 A
(\(void)210 2202 A
2454(*\))S
(termios_p\)\);)504 2580 A
2070 V
(45828)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/posix/_time.c)882 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(45900)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2790 V
(45901)210 648 A
(#define)294 1026 A
(time)168 1362 A
(_time)210 1698 A
2880 V
(45902)210 648 A
(#include)336 1026 A
(<time.h>)336 1404 A
2970 V
(45903)210 648 A
3060 V
(45904)210 648 A
(PUBLIC)252 1026 A
(time_t)252 1320 A
(time\(tp\))336 1614 A
3150 V
(45905)210 648 A
(time_t)252 1026 A
(*tp;)168 1320 A
3240 V
(45906)210 648 A
1026({)S
3330 V
(45907)210 648 A
(message)294 1110 A
1446(m;)S
3420 V
(45908)210 648 A
3510 V
(45909)210 648 A
1110(if)S
(\(_syscall\(FS,)546 1236 A
(TIME,)210 1824 A
(&m\))126 2076 A
2244(<)S
2328(0\))S
(return\()294 2454 A
(\(time_t\))336 2790 A
(-1\);)168 3168 A
3600 V
(45910)210 648 A
1110(if)S
(\(tp)126 1236 A
1404(!=)S
(\(time_t)294 1530 A
1866(*\))S
1992(0\))S
(*tp)126 2118 A
2286(=)S
(m.m2_l1;)336 2370 A
3690 V
(45911)210 648 A
(return\(m.m2_l1\);)672 1110 A
3780 V
(45912)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/posix/_times.c)924 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(46000)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4590 V
(46001)210 648 A
(#define)294 1026 A
(times)210 1362 A
(_times)252 1698 A
4680 V
(46002)210 648 A
(#include)336 1026 A
(<sys/times.h>)546 1404 A
4770 V
(46003)210 648 A
(#include)336 1026 A
(<time.h>)336 1404 A
4860 V
(46004)210 648 A
4950 V
(46005)210 648 A
(PUBLIC)252 1026 A
(clock_t)294 1320 A
(times\(buf\))420 1656 A
5040 V
(46006)210 648 A
(struct)252 1026 A
(tms)126 1320 A
(*buf;)210 1488 A
5130 V
(46007)210 648 A
1026({)S
5220 V
(46008)210 648 A
(message)294 1110 A
1446(m;)S
5310 V
(46009)210 648 A
5400 V
(46010)210 648 A
(m.m4_l5)294 1110 A
1446(=)S
1530(0;)S
2370(/*)S
(return)252 2496 A
(this)168 2790 A
3000(if)S
(system)252 3126 A
3420(is)S
(pre-1.6)294 3546 A
3882(*/)S
5490 V
(46011)210 648 A
1110(if)S
(\(_syscall\(FS,)546 1236 A
(TIMES,)252 1824 A
(&m\))126 2118 A
2286(<)S
2370(0\))S
(return\()294 2496 A
(\(clock_t\))378 2832 A
(-1\);)168 3252 A
5580 V
(46012)210 648 A
(buf->tms_utime)588 1110 A
1740(=)S
(m.m4_l1;)336 1824 A
5670 V
(46013)210 648 A
(buf->tms_stime)588 1110 A
1740(=)S
(m.m4_l2;)336 1824 A
5760 V
(46014)210 648 A
(buf->tms_cutime)630 1110 A
1782(=)S
(m.m4_l3;)336 1866 A
5850 V
(46015)210 648 A
(buf->tms_cstime)630 1110 A
1782(=)S
(m.m4_l4;)336 1866 A
5940 V
(46016)210 648 A
(return\(m.m4_l5\);)672 1110 A
6030 V
(46017)210 648 A
1026(})S
8418 V
EP
%%Page: 423 423
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1921(File:)S
(src/lib/posix/_umask.c)1001 2154 A
12 B
(423)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_umask.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(46100)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(46101)210 648 A
(#define)294 1026 A
(umask)210 1362 A
(_umask)252 1698 A
1530 V
(46102)210 648 A
(#include)336 1026 A
(<sys/stat.h>)504 1404 A
1620 V
(46103)210 648 A
1710 V
(46104)210 648 A
(PUBLIC)252 1026 A
(mode_t)252 1320 A
(umask\(complmode\))672 1614 A
1800 V
(46105)210 648 A
(Mode_t)252 1026 A
(complmode;)420 1320 A
1890 V
(46106)210 648 A
1026({)S
1980 V
(46107)210 648 A
(message)294 1110 A
1446(m;)S
2070 V
(46108)210 648 A
2160 V
(46109)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(complmode;)420 1530 A
2250 V
(46110)210 648 A
(return\()294 1110 A
(\(mode_t\))336 1446 A
(_syscall\(FS,)504 1824 A
(UMASK,)252 2370 A
(&m\)\);)210 2664 A
2340 V
(46111)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/posix/_umount.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(46200)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3240 V
(46201)210 648 A
(#define)294 1026 A
(umount)252 1362 A
(_umount)294 1698 A
3330 V
(46202)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3420 V
(46203)210 648 A
3510 V
(46204)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(umount\(name\))504 1488 A
3600 V
(46205)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
3690 V
(46206)210 648 A
1026({)S
3780 V
(46207)210 648 A
(message)294 1110 A
1446(m;)S
3870 V
(46208)210 648 A
3960 V
(46209)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
4050 V
(46210)210 648 A
(return\(_syscall\(FS,)798 1110 A
(UMOUNT,)294 1950 A
(&m\)\);)210 2286 A
4140 V
(46211)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/posix/_uname.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(46300)210 648 A
1026(/*)S
(uname\(\))294 1362 A
1698(-)S
(get)126 1782 A
(system)252 1950 A
(info)168 2244 A
(Author:)294 3378 A
(Kees)168 3714 A
3924(J.)S
(Bot)126 4050 A
5040 V
(46301)210 648 A
1068(*)S
3714(7)S
(Nov)126 3798 A
(1994)168 3966 A
5130 V
(46302)210 648 A
1068(*)S
(Returns)294 1152 A
(information)462 1488 A
(about)210 1992 A
(the)126 2244 A
(Minix)210 2412 A
(system.)294 2664 A
(Alas)168 3042 A
(most)168 3252 A
5220 V
(46303)210 648 A
1068(*)S
1152(of)S
1278(it)S
1404(is)S
(gathered)336 1530 A
1908(at)S
(compile)294 2034 A
(time,)210 2370 A
2622(so)S
(machine)294 2748 A
3084(is)S
(wrong,)252 3210 A
(and)126 3504 A
5310 V
(46304)210 648 A
1068(*)S
(release)294 1152 A
(and)126 1488 A
(version)294 1656 A
(become)252 1992 A
(wrong)210 2286 A
2538(if)S
(not)126 2664 A
(recompiled.)462 2832 A
5400 V
(46305)210 648 A
1068(*)S
(More)168 1152 A
(chip)168 1362 A
(types)210 1572 A
(and)126 1824 A
(Minix)210 1992 A
(versions)336 2244 A
(need)168 2622 A
2832(to)S
2958(be)S
(added.)252 3084 A
5490 V
(46306)210 648 A
1068(*/)S
5580 V
(46307)210 648 A
(#define)294 1026 A
(uname)210 1362 A
(_uname)252 1698 A
5670 V
(46308)210 648 A
(#define)294 1026 A
(open)168 1362 A
(_open)210 1698 A
5760 V
(46309)210 648 A
(#define)294 1026 A
(read)168 1362 A
(_read)210 1698 A
5850 V
(46310)210 648 A
(#define)294 1026 A
(close)210 1362 A
(_close)252 1698 A
5940 V
(46311)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1404 A
6030 V
(46312)210 648 A
(#include)336 1026 A
(<sys/utsname.h>)630 1404 A
6120 V
(46313)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
6210 V
(46314)210 648 A
(#include)336 1026 A
(<fcntl.h>)378 1404 A
8418 V
EP
%%Page: 424 424
BP
/slant 0 def
/height 0 def
630 V
12 B
(424)180 648 A
11 R
1917(File:)S
(src/lib/posix/_uname.c)1008 2150 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(46315)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
990 V
(46316)210 648 A
(#include)336 1026 A
(<errno.h>)378 1404 A
1080 V
(46317)210 648 A
(#include)336 1026 A
(<minix/config.h>)672 1404 A
1170 V
(46318)210 648 A
(#include)336 1026 A
(<minix/minlib.h>)672 1404 A
1260 V
(46319)210 648 A
1350 V
(46320)210 648 A
(int)126 1026 A
(uname\(name\))462 1194 A
(struct)252 1698 A
(utsname)294 1992 A
(*name;)252 2328 A
1440 V
(46321)210 648 A
1026({)S
1530 V
(46322)210 648 A
(int)126 1110 A
(hf,)126 1278 A
1446(n,)S
(err;)168 1572 A
1620 V
(46323)210 648 A
(char)168 1110 A
(*nl;)168 1320 A
1710 V
(46324)210 648 A
1800 V
(46325)210 648 A
1110(/*)S
(Read)168 1236 A
(the)126 1446 A
(node)168 1614 A
(name)168 1824 A
(from)168 2034 A
(/etc/hostname.file.)798 2244 A
3084(*/)S
1890 V
(46326)210 648 A
1110(if)S
(\(\(hf)168 1236 A
1446(=)S
(open\("/etc/hostname.file",)1092 1530 A
(O_RDONLY\)\))420 2664 A
3126(<)S
3210(0\))S
3336({)S
1980 V
(46327)210 648 A
1362(if)S
(\(errno)252 1488 A
1782(!=)S
(ENOENT\))294 1908 A
(return\(-1\);)462 2244 A
2070 V
(46328)210 648 A
(strcpy\(name->nodename,)924 1362 A
("noname"\);)420 2328 A
2160 V
(46329)210 648 A
1110(})S
(else)168 1194 A
1404({)S
2250 V
(46330)210 648 A
1362(n)S
1446(=)S
(read\(hf,)336 1530 A
(name->nodename,)630 1908 A
(sizeof\(name->nodename\))924 2580 A
3546(-)S
(1\);)126 3630 A
2340 V
(46331)210 648 A
(err)126 1362 A
1530(=)S
(errno;)252 1614 A
2430 V
(46332)210 648 A
(close\(hf\);)420 1362 A
2520 V
(46333)210 648 A
(errno)210 1362 A
1614(=)S
(err;)168 1698 A
2610 V
(46334)210 648 A
1362(if)S
1488(\(n)S
1614(<)S
1698(0\))S
(return\(-1\);)462 1824 A
2700 V
(46335)210 648 A
(name->nodename[n])714 1362 A
2118(=)S
2202(0;)S
2790 V
(46336)210 648 A
1362(if)S
(\(\(nl)168 1488 A
1698(=)S
(strchr\(name->nodename,)924 1782 A
('\\n'\)\))252 2748 A
3042(!=)S
(NULL\))210 3168 A
3420({)S
2880 V
(46337)210 648 A
(memset\(nl,)420 1698 A
2160(0,)S
(\(name->nodename)630 2286 A
2958(+)S
(sizeof\(name->nodename\)\))966 3042 A
4050(-)S
(nl\);)168 4134 A
2970 V
(46338)210 648 A
1362(})S
3060 V
(46339)210 648 A
1110(})S
3150 V
(46340)210 648 A
3240 V
(46341)210 648 A
(strcpy\(name->sysname,)882 1110 A
("Minix"\);)378 2034 A
3330 V
(46342)210 648 A
(strcpy\(name->release,)882 1110 A
(OS_RELEASE\);)504 2034 A
3420 V
(46343)210 648 A
(strcpy\(name->version,)882 1110 A
(OS_VERSION\);)504 2034 A
3510 V
(46344)210 648 A
(#if)126 1026 A
(\(CHIP)210 1194 A
1446(==)S
(INTEL\))252 1572 A
3600 V
(46345)210 648 A
(name->machine[0])672 1110 A
1824(=)S
('i';)168 1908 A
3690 V
(46346)210 648 A
(strcpy\(name->machine)840 1110 A
1992(+)S
2076(1,)S
(itoa\(getprocessor\(\)\)\);)924 2202 A
3780 V
(46347)210 648 A
(#if)126 1026 A
(_WORD_SIZE)420 1194 A
1656(==)S
1782(4)S
3870 V
(46348)210 648 A
(strcpy\(name->arch,)756 1110 A
("i386"\);)336 1908 A
3960 V
(46349)210 648 A
(#else)210 1026 A
4050 V
(46350)210 648 A
(strcpy\(name->arch,)756 1110 A
("i86"\);)294 1908 A
4140 V
(46351)210 648 A
(#endif)252 1026 A
4230 V
(46352)210 648 A
(#endif)252 1026 A
4320 V
(46353)210 648 A
(return\(0\);)420 1110 A
4410 V
(46354)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/posix/_unlink.c)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(46400)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
5490 V
(46401)210 648 A
(#define)294 1026 A
(unlink)252 1362 A
(_unlink)294 1698 A
5580 V
(46402)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
5670 V
(46403)210 648 A
5760 V
(46404)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(unlink\(name\))504 1488 A
5850 V
(46405)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
5940 V
(46406)210 648 A
1026({)S
6030 V
(46407)210 648 A
(message)294 1110 A
1446(m;)S
6120 V
(46408)210 648 A
6210 V
(46409)210 648 A
(_loadname\(name,)630 1110 A
(&m\);)168 1782 A
8418 V
EP
%%Page: 425 425
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1924(File:)S
(src/lib/posix/_unlink.c)994 2157 A
12 B
(425)180 4248 A
900 V
7 LST
(46410)210 648 A
(return\(_syscall\(FS,)798 1110 A
(UNLINK,)294 1950 A
(&m\)\);)210 2286 A
990 V
(46411)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/posix/_utime.c)924 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(46500)210 648 A
1026(/*)S
(utime\(2\))336 1152 A
(for)126 1530 A
(POSIX)210 1698 A
(Authors:)336 2370 A
(Terrence)336 2748 A
3126(W.)S
(Holm)168 3252 A
3462(&)S
(Edwin)210 3546 A
3798(L.)S
(Froese)252 3924 A
4218(*/)S
1890 V
(46501)210 648 A
1980 V
(46502)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2070 V
(46503)210 648 A
(#define)294 1026 A
(utime)210 1362 A
(_utime)252 1698 A
2160 V
(46504)210 648 A
(#include)336 1026 A
(<string.h>)420 1404 A
2250 V
(46505)210 648 A
(#include)336 1026 A
(<utime.h>)378 1404 A
2340 V
(46506)210 648 A
2430 V
(46507)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(utime\(name,)462 1488 A
(timp\))210 1992 A
2520 V
(46508)210 648 A
(_CONST)252 1026 A
(char)168 1320 A
(*name;)252 1530 A
2610 V
(46509)210 648 A
(_CONST)252 1026 A
(struct)252 1320 A
(utimbuf)294 1614 A
(*timp;)252 1950 A
2700 V
(46510)210 648 A
1026({)S
2790 V
(46511)210 648 A
(message)294 1110 A
1446(m;)S
2880 V
(46512)210 648 A
2970 V
(46513)210 648 A
1110(if)S
(\(timp)210 1236 A
1488(==)S
(NULL\))210 1614 A
1866({)S
3060 V
(46514)210 648 A
(m.m2_i1)294 1362 A
1698(=)S
1782(0;)S
2370(/*)S
(name)168 2496 A
(size)168 2706 A
2916(0)S
(means)210 3000 A
(NULL)168 3252 A
(imp')168 3462 A
3672(*/)S
3150 V
(46515)210 648 A
(m.m2_i2)294 1362 A
1698(=)S
(strlen\(name\))504 1782 A
2328(+)S
2412(1;)S
2706(/*)S
(actual)252 2832 A
(size)168 3126 A
(here)168 3336 A
3546(*/)S
3240 V
(46516)210 648 A
1110(})S
(else)168 1194 A
1404({)S
3330 V
(46517)210 648 A
(m.m2_l1)294 1362 A
1698(=)S
(timp->actime;)546 1782 A
3420 V
(46518)210 648 A
(m.m2_l2)294 1362 A
1698(=)S
(timp->modtime;)588 1782 A
3510 V
(46519)210 648 A
(m.m2_i1)294 1362 A
1698(=)S
(strlen\(name\))504 1782 A
2328(+)S
2412(1;)S
3600 V
(46520)210 648 A
1110(})S
3690 V
(46521)210 648 A
(m.m2_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(name;)210 1908 A
3780 V
(46522)210 648 A
(return\(_syscall\(FS,)798 1110 A
(UTIME,)252 1950 A
(&m\)\);)210 2244 A
3870 V
(46523)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/posix/_wait.c)882 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(46600)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
4590 V
(46601)210 648 A
(#define)294 1026 A
(wait)168 1362 A
(_wait)210 1698 A
4680 V
(46602)210 648 A
(#include)336 1026 A
(<sys/wait.h>)504 1404 A
4770 V
(46603)210 648 A
4860 V
(46604)210 648 A
(PUBLIC)252 1026 A
(pid_t)210 1320 A
(wait\(status\))504 1572 A
4950 V
(46605)210 648 A
(int)126 1026 A
(*status;)336 1194 A
5040 V
(46606)210 648 A
1026({)S
5130 V
(46607)210 648 A
(message)294 1110 A
1446(m;)S
5220 V
(46608)210 648 A
5310 V
(46609)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(WAIT,)210 1824 A
(&m\))126 2076 A
2244(<)S
2328(0\))S
(return\(-1\);)462 2454 A
5400 V
(46610)210 648 A
1110(if)S
(\(status)294 1236 A
1572(!=)S
1698(0\))S
(*status)294 1824 A
2160(=)S
(m.m2_i1;)336 2244 A
5490 V
(46611)210 648 A
(return\(m.m_type\);)714 1110 A
5580 V
(46612)210 648 A
1026(})S
8418 V
EP
%%Page: 426 426
BP
/slant 0 def
/height 0 def
630 V
12 B
(426)180 648 A
11 R
1899(File:)S
(src/lib/posix/_waitpid.c)1045 2132 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/posix/_waitpid.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(46700)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1440 V
(46701)210 648 A
(#define)294 1026 A
(waitpid)294 1362 A
(_waitpid)336 1698 A
1530 V
(46702)210 648 A
(#include)336 1026 A
(<sys/wait.h>)504 1404 A
1620 V
(46703)210 648 A
1710 V
(46704)210 648 A
(PUBLIC)252 1026 A
(pid_t)210 1320 A
(waitpid\(pid,)504 1572 A
(status,)294 2118 A
(options\))336 2454 A
1800 V
(46705)210 648 A
(pid_t)210 1026 A
(pid;)168 1278 A
1890 V
(46706)210 648 A
(int)126 1026 A
(*status;)336 1194 A
1980 V
(46707)210 648 A
(int)126 1026 A
(options;)336 1194 A
2070 V
(46708)210 648 A
1026({)S
2160 V
(46709)210 648 A
(message)294 1110 A
1446(m;)S
2250 V
(46710)210 648 A
2340 V
(46711)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(pid;)168 1530 A
2430 V
(46712)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(options;)336 1530 A
2520 V
(46713)210 648 A
1110(if)S
(\(_syscall\(MM,)546 1236 A
(WAITPID,)336 1824 A
(&m\))126 2202 A
2370(<)S
2454(0\))S
(return\(-1\);)462 2580 A
2610 V
(46714)210 648 A
1110(if)S
(\(status)294 1236 A
1572(!=)S
1698(0\))S
(*status)294 1824 A
2160(=)S
(m.m2_i1;)336 2244 A
2700 V
(46715)210 648 A
(return)252 1110 A
(m.m_type;)378 1404 A
2790 V
(46716)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/posix/_write.c)924 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(46800)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
3690 V
(46801)210 648 A
(#define)294 1026 A
(write)210 1362 A
(_write)252 1698 A
3780 V
(46802)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
3870 V
(46803)210 648 A
3960 V
(46804)210 648 A
(PUBLIC)252 1026 A
(ssize_t)294 1320 A
(write\(fd,)378 1656 A
(buffer,)294 2076 A
(nbytes\))294 2412 A
4050 V
(46805)210 648 A
(int)126 1026 A
(fd;)126 1194 A
4140 V
(46806)210 648 A
(_CONST)252 1026 A
(void)168 1320 A
(*buffer;)336 1530 A
4230 V
(46807)210 648 A
(size_t)252 1026 A
(nbytes;)294 1320 A
4320 V
(46808)210 648 A
1026({)S
4410 V
(46809)210 648 A
(message)294 1110 A
1446(m;)S
4500 V
(46810)210 648 A
4590 V
(46811)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(fd;)126 1530 A
4680 V
(46812)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(nbytes;)294 1530 A
4770 V
(46813)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(buffer;)294 1908 A
4860 V
(46814)210 648 A
(return\(_syscall\(FS,)798 1110 A
(WRITE,)252 1950 A
(&m\)\);)210 2244 A
4950 V
(46815)210 648 A
1026(})S
8418 V
EP
%%Page: 427 427
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1923(File:)S
(src/lib/stdio/loc_incl.h)996 2156 A
12 B
(427)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/loc_incl.h)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(46900)210 648 A
1026(/*)S
1440 V
(46901)210 648 A
1068(*)S
(loc_incl.h)420 1152 A
1614(-)S
(local)210 1698 A
(include)294 1950 A
(file)168 2286 A
(for)126 2496 A
(stdio)210 2664 A
(library)294 2916 A
1530 V
(46902)210 648 A
1068(*/)S
1620 V
(46903)210 648 A
1026(/*)S
($Header:)336 1152 A
(loc_incl.h,v)504 1530 A
(1.5)126 2076 A
(91/06/10)336 2244 A
(17:07:18)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
1710 V
(46904)210 648 A
1800 V
(46905)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(46906)210 648 A
1980 V
(46907)210 648 A
(#define)294 1026 A
(io_testflag\(p,x\))672 1362 A
(\(\(p\)->_flags)504 2370 A
2916(&)S
(\(x\)\))168 3000 A
2070 V
(46908)210 648 A
2160 V
(46909)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
2250 V
(46910)210 648 A
2340 V
(46911)210 648 A
(#ifdef)252 1026 A
(_ANSI)210 1320 A
2430 V
(46912)210 648 A
(int)126 1026 A
(_doprnt\(const)546 1194 A
(char)168 1782 A
(*format,)336 1992 A
(va_list)294 2370 A
(ap,)126 2706 A
(FILE)168 2874 A
(*stream\);)378 3084 A
2520 V
(46913)210 648 A
(int)126 1026 A
(_doscan\(FILE)504 1194 A
1740(*)S
(stream,)294 1824 A
(const)210 2160 A
(char)168 2412 A
(*format,)336 2622 A
(va_list)294 3000 A
(ap\);)168 3336 A
2610 V
(46914)210 648 A
(char)168 1026 A
(*_i_compute\(unsigned)840 1236 A
(long)168 2118 A
(val,)168 2328 A
(int)126 2538 A
(base,)210 2706 A
(char)168 2958 A
(*s,)126 3168 A
(int)126 3336 A
(nrdigits\);)420 3504 A
2700 V
(46915)210 648 A
(char)168 1026 A
(*_f_print\(va_list)714 1236 A
(*ap,)168 1992 A
(int)126 2202 A
(flags,)252 2370 A
(char)168 2664 A
(*s,)126 2874 A
(char)168 3042 A
3252(c,)S
(int)126 3378 A
(precision\);)462 3546 A
2790 V
(46916)210 648 A
(void)168 1026 A
(__cleanup\(void\);)672 1236 A
2880 V
(46917)210 648 A
2970 V
(46918)210 648 A
(FILE)168 1026 A
(*popen\(const)504 1236 A
(char)168 1782 A
(*command,)378 1992 A
(const)210 2412 A
(char)168 2664 A
(*type\);)294 2874 A
3060 V
(46919)210 648 A
(FILE)168 1026 A
(*fdopen\(int)462 1236 A
(fd,)126 1740 A
(const)210 1908 A
(char)168 2160 A
(*mode\);)294 2370 A
3150 V
(46920)210 648 A
3240 V
(46921)210 648 A
(#ifndef)294 1026 A
(NOFLOAT)294 1362 A
3330 V
(46922)210 648 A
(char)168 1026 A
(*_ecvt\(long)462 1236 A
(double)252 1740 A
(value,)252 2034 A
(int)126 2328 A
(ndigit,)294 2496 A
(int)126 2832 A
(*decpt,)294 3000 A
(int)126 3336 A
(*sign\);)294 3504 A
3420 V
(46923)210 648 A
(char)168 1026 A
(*_fcvt\(long)462 1236 A
(double)252 1740 A
(value,)252 2034 A
(int)126 2328 A
(ndigit,)294 2496 A
(int)126 2832 A
(*decpt,)294 3000 A
(int)126 3336 A
(*sign\);)294 3504 A
3510 V
(46924)210 648 A
(#endif)252 1026 A
1362(/*)S
(NOFLOAT)294 1488 A
1824(*/)S
3600 V
(46925)210 648 A
(#endif)252 1026 A
3690 V
(46926)210 648 A
3780 V
(46927)210 648 A
(#define)294 1026 A
(FL_LJUST)336 1362 A
(0x0001)252 2034 A
2706(/*)S
(left-justify)504 2832 A
(field)210 3378 A
3630(*/)S
3870 V
(46928)210 648 A
(#define)294 1026 A
(FL_SIGN)294 1362 A
(0x0002)252 2034 A
2706(/*)S
(sign)168 2832 A
3042(in)S
(signed)252 3168 A
(conversions)462 3462 A
3966(*/)S
3960 V
(46929)210 648 A
(#define)294 1026 A
(FL_SPACE)336 1362 A
(0x0004)252 2034 A
2706(/*)S
(space)210 2832 A
3084(in)S
(signed)252 3210 A
(conversions)462 3504 A
4008(*/)S
4050 V
(46930)210 648 A
(#define)294 1026 A
(FL_ALT)252 1362 A
(0x0008)252 2034 A
2706(/*)S
(alternate)378 2832 A
(form)168 3252 A
3462(*/)S
4140 V
(46931)210 648 A
(#define)294 1026 A
(FL_ZEROFILL)462 1362 A
(0x0010)252 2034 A
2706(/*)S
(fill)168 2832 A
(with)168 3042 A
(zero's)252 3252 A
3546(*/)S
4230 V
(46932)210 648 A
(#define)294 1026 A
(FL_SHORT)336 1362 A
(0x0020)252 2034 A
2706(/*)S
(optional)336 2832 A
3210(h)S
3294(*/)S
4320 V
(46933)210 648 A
(#define)294 1026 A
(FL_LONG)294 1362 A
(0x0040)252 2034 A
2706(/*)S
(optional)336 2832 A
3210(l)S
3294(*/)S
4410 V
(46934)210 648 A
(#define)294 1026 A
(FL_LONGDOUBLE)546 1362 A
(0x0080)252 2034 A
2706(/*)S
(optional)336 2832 A
3210(L)S
3294(*/)S
4500 V
(46935)210 648 A
(#define)294 1026 A
(FL_WIDTHSPEC)504 1362 A
(0x0100)252 2034 A
2706(/*)S
(field)210 2832 A
(width)210 3084 A
3336(is)S
(specified)378 3462 A
3882(*/)S
4590 V
(46936)210 648 A
(#define)294 1026 A
(FL_PRECSPEC)462 1362 A
(0x0200)252 2034 A
2706(/*)S
(precision)378 2832 A
3252(is)S
(specified)378 3378 A
3798(*/)S
4680 V
(46937)210 648 A
(#define)294 1026 A
(FL_SIGNEDCONV)546 1362 A
(0x0400)252 2034 A
2706(/*)S
(may)126 2832 A
(contain)294 3000 A
3336(a)S
(sign)168 3420 A
3630(*/)S
4770 V
(46938)210 648 A
(#define)294 1026 A
(FL_NOASSIGN)462 1362 A
(0x0800)252 2034 A
2706(/*)S
2832(do)S
(not)126 2958 A
(assign)252 3126 A
(\(in)126 3420 A
(scanf\))252 3588 A
3882(*/)S
4860 V
(46939)210 648 A
(#define)294 1026 A
(FL_NOMORE)378 1362 A
(0x1000)252 2034 A
2706(/*)S
(all)126 2832 A
(flags)210 3000 A
(collected)378 3252 A
3672(*/)S
8418 V
EP
%%Page: 428 428
BP
/slant 0 def
/height 0 def
630 V
12 B
(428)180 648 A
11 R
1934(File:)S
(src/lib/stdio/clearerr.c)975 2167 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/clearerr.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(47000)210 648 A
1026(/*)S
1440 V
(47001)210 648 A
1068(*)S
(clearerr.c)420 1152 A
1614(-)S
(clear)210 1698 A
(error)210 1950 A
(and)126 2202 A
(end-of-file)462 2370 A
(indicators)420 2874 A
3336(of)S
3462(a)S
(stream)252 3546 A
1530 V
(47002)210 648 A
1068(*/)S
1620 V
(47003)210 648 A
1026(/*)S
($Header:)336 1152 A
(clearerr.c,v)504 1530 A
(1.2)126 2076 A
(91/01/03)336 2244 A
(14:23:54)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
1710 V
(47004)210 648 A
1800 V
(47005)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(47006)210 648 A
1980 V
(47007)210 648 A
(void)168 1026 A
2070 V
(47008)210 648 A
(\(clearerr\)\(FILE)630 1026 A
(*stream\))336 1698 A
2160 V
(47009)210 648 A
1026({)S
2250 V
(47010)210 648 A
(clearerr\(stream\);)714 1362 A
2340 V
(47011)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/data.c)840 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(47100)210 648 A
1026(/*)S
3240 V
(47101)210 648 A
1068(*)S
(data.c)252 1152 A
1446(-)S
(this)168 1530 A
1740(is)S
(the)126 1866 A
(initialization)588 2034 A
(for)126 2664 A
(the)126 2832 A
(standard)336 3000 A
(streams)294 3378 A
3330 V
(47102)210 648 A
1068(*/)S
3420 V
(47103)210 648 A
1026(/*)S
($Header:)336 1152 A
(data.c,v)336 1530 A
(1.3)126 1908 A
(90/04/09)336 2076 A
(15:35:09)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
3510 V
(47104)210 648 A
3600 V
(47105)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(47106)210 648 A
3780 V
(47107)210 648 A
(struct)252 1026 A
(__iobuf)294 1320 A
(__stdin)294 1656 A
1992(=)S
2076({)S
3870 V
(47108)210 648 A
1362(0,)S
1488(0,)S
(_IOREAD,)336 1614 A
1992(0,)S
3960 V
(47109)210 648 A
(\(unsigned)378 1362 A
(char)168 1782 A
(*\)NULL,)294 1992 A
(\(unsigned)378 2328 A
(char)168 2748 A
(*\)NULL,)294 2958 A
4050 V
(47110)210 648 A
1026(};)S
4140 V
(47111)210 648 A
4230 V
(47112)210 648 A
(struct)252 1026 A
(__iobuf)294 1320 A
(__stdout)336 1656 A
2034(=)S
2118({)S
4320 V
(47113)210 648 A
1362(0,)S
1488(1,)S
(_IOWRITE,)378 1614 A
2034(0,)S
4410 V
(47114)210 648 A
(\(unsigned)378 1362 A
(char)168 1782 A
(*\)NULL,)294 1992 A
(\(unsigned)378 2328 A
(char)168 2748 A
(*\)NULL,)294 2958 A
4500 V
(47115)210 648 A
1026(};)S
4590 V
(47116)210 648 A
4680 V
(47117)210 648 A
(struct)252 1026 A
(__iobuf)294 1320 A
(__stderr)336 1656 A
2034(=)S
2118({)S
4770 V
(47118)210 648 A
1362(0,)S
1488(2,)S
(_IOWRITE)336 1614 A
1992(|)S
(_IOLBF,)294 2076 A
2412(0,)S
4860 V
(47119)210 648 A
(\(unsigned)378 1362 A
(char)168 1782 A
(*\)NULL,)294 1992 A
(\(unsigned)378 2328 A
(char)168 2748 A
(*\)NULL,)294 2958 A
4950 V
(47120)210 648 A
1026(};)S
5040 V
(47121)210 648 A
5130 V
(47122)210 648 A
(FILE)168 1026 A
(*__iotab[FOPEN_MAX])798 1236 A
2076(=)S
2160({)S
5220 V
(47123)210 648 A
(&__stdin,)378 1362 A
5310 V
(47124)210 648 A
(&__stdout,)420 1362 A
5400 V
(47125)210 648 A
(&__stderr,)420 1362 A
5490 V
(47126)210 648 A
1362(0)S
5580 V
(47127)210 648 A
1026(};)S
8418 V
EP
%%Page: 429 429
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1961(File:)S
(src/lib/stdio/doprnt.c)921 2194 A
12 B
(429)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/doprnt.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(47200)210 648 A
1026(/*)S
1440 V
(47201)210 648 A
1068(*)S
(doprnt.c)336 1152 A
1530(-)S
(print)210 1614 A
(formatted)378 1866 A
(output)252 2286 A
1530 V
(47202)210 648 A
1068(*/)S
1620 V
(47203)210 648 A
1026(/*)S
($Header:)336 1152 A
(doprnt.c,v)420 1530 A
(1.8)126 1992 A
(91/06/10)336 2160 A
(17:06:53)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
1710 V
(47204)210 648 A
1800 V
(47205)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
1890 V
(47206)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1980 V
(47207)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
2070 V
(47208)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2160 V
(47209)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
2250 V
(47210)210 648 A
2340 V
(47211)210 648 A
1026(/*)S
(gnum\(\))252 1152 A
1446(is)S
(used)168 1572 A
1782(to)S
(get)126 1908 A
(the)126 2076 A
(width)210 2244 A
(and)126 2496 A
(precision)378 2664 A
(fields)252 3084 A
3378(of)S
3504(a)S
(format.)294 3588 A
3924(*/)S
2430 V
(47212)210 648 A
(static)252 1026 A
(const)210 1320 A
(char)168 1572 A
1782(*)S
2520 V
(47213)210 648 A
(gnum\(register)546 1026 A
(const)210 1614 A
(char)168 1866 A
(*f,)126 2076 A
(int)126 2244 A
(*ip,)168 2412 A
(va_list)294 2622 A
(*app\))210 2958 A
2610 V
(47214)210 648 A
1026({)S
2700 V
(47215)210 648 A
(register)336 1362 A
(int)126 1740 A
2034(i,)S
2160(c;)S
2790 V
(47216)210 648 A
2880 V
(47217)210 648 A
1362(if)S
(\(*f)126 1488 A
1656(==)S
('*'\))168 1782 A
1992({)S
2970 V
(47218)210 648 A
(*ip)126 1698 A
1866(=)S
(va_arg\(\(*app\),)588 1950 A
(int\);)210 2580 A
3060 V
(47219)210 648 A
(f++;)168 1698 A
3150 V
(47220)210 648 A
1362(})S
(else)168 1446 A
1656({)S
3240 V
(47221)210 648 A
1698(i)S
1782(=)S
1866(0;)S
3330 V
(47222)210 648 A
(while)210 1698 A
(\(\(c)126 1950 A
2118(=)S
2202(*f)S
2328(-)S
('0'\))168 2412 A
2622(>=)S
2748(0)S
2832(&&)S
2958(c)S
3042(<=)S
3168(9\))S
3294({)S
3420 V
(47223)210 648 A
2034(i)S
2118(=)S
(i*10)168 2202 A
2412(+)S
2496(c;)S
3510 V
(47224)210 648 A
(f++;)168 2034 A
3600 V
(47225)210 648 A
1698(})S
3690 V
(47226)210 648 A
(*ip)126 1698 A
1866(=)S
1950(i;)S
3780 V
(47227)210 648 A
1362(})S
3870 V
(47228)210 648 A
(return)252 1362 A
1656(f;)S
3960 V
(47229)210 648 A
1026(})S
4140 V
(47231)210 648 A
(#if)126 1026 A
(_EM_WSIZE)378 1362 A
1782(==)S
(_EM_PSIZE)378 1908 A
4230 V
(47232)210 648 A
(#define)294 1026 A
(set_pointer\(flags\))756 1362 A
3378(/*)S
(nothing)294 3504 A
3840(*/)S
4320 V
(47233)210 648 A
(#elif)210 1026 A
(_EM_LSIZE)378 1362 A
1782(==)S
(_EM_PSIZE)378 1908 A
4410 V
(47234)210 648 A
(#define)294 1026 A
(set_pointer\(flags\))756 1362 A
(\(flags)252 2370 A
2664(|=)S
(FL_LONG\))336 2790 A
4500 V
(47235)210 648 A
(#else)210 1026 A
4590 V
(47236)210 648 A
(#error)252 1026 A
(garbage)294 1320 A
(pointer)294 1656 A
(size)168 1992 A
4680 V
(47237)210 648 A
(#define)294 1026 A
(set_pointer\(flags\))756 1362 A
2706(/*)S
(compilation)462 2832 A
(might)210 3336 A
(continue)336 3588 A
3966(*/)S
4770 V
(47238)210 648 A
(#endif)252 1026 A
4860 V
(47239)210 648 A
4950 V
(47240)210 648 A
1026(/*)S
(print)210 1152 A
1404(an)S
(ordinal)294 1530 A
(number)252 1866 A
2160(*/)S
5040 V
(47241)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
5130 V
(47242)210 648 A
(o_print\(va_list)630 1026 A
(*ap,)168 1698 A
(int)126 1908 A
(flags,)252 2076 A
(char)168 2370 A
(*s,)126 2580 A
(char)168 2748 A
2958(c,)S
(int)126 3084 A
(precision,)420 3252 A
(int)126 3714 A
(is_signed\))420 3882 A
5220 V
(47243)210 648 A
1026({)S
5310 V
(47244)210 648 A
(long)168 1362 A
(signed_val;)462 1572 A
5400 V
(47245)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(unsigned_val;)546 1950 A
5490 V
(47246)210 648 A
(char)168 1362 A
(*old_s)252 1572 A
1866(=)S
1950(s;)S
5580 V
(47247)210 648 A
(int)126 1362 A
(base;)210 1530 A
5670 V
(47248)210 648 A
5760 V
(47249)210 648 A
(switch)252 1362 A
(\(flags)252 1656 A
1950(&)S
(\(FL_SHORT)378 2034 A
2454(|)S
(FL_LONG\)\))378 2538 A
2958({)S
5850 V
(47250)210 648 A
(case)168 1362 A
(FL_SHORT:)378 1572 A
5940 V
(47251)210 648 A
1698(if)S
(\(is_signed\))462 1824 A
2328({)S
6030 V
(47252)210 648 A
(signed_val)420 2034 A
2496(=)S
(\(short\))294 2580 A
(va_arg\(*ap,)462 2916 A
(int\);)210 3420 A
6120 V
(47253)210 648 A
1698(})S
(else)168 1782 A
1992({)S
6210 V
(47254)210 648 A
(unsigned_val)504 2034 A
2580(=)S
(\(unsigned)378 2664 A
(short\))252 3084 A
(va_arg\(*ap,)462 3378 A
(unsigned\);)420 3882 A
8418 V
EP
%%Page: 430 430
BP
/slant 0 def
/height 0 def
630 V
12 B
(430)180 648 A
11 R
1961(File:)S
(src/lib/stdio/doprnt.c)921 2194 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(47255)210 648 A
1698(})S
990 V
(47256)210 648 A
(break;)252 1698 A
1080 V
(47257)210 648 A
(case)168 1362 A
(FL_LONG:)336 1572 A
1170 V
(47258)210 648 A
1698(if)S
(\(is_signed\))462 1824 A
2328({)S
1260 V
(47259)210 648 A
(signed_val)420 2034 A
2496(=)S
(va_arg\(*ap,)462 2580 A
(long\);)252 3084 A
1350 V
(47260)210 648 A
1698(})S
(else)168 1782 A
1992({)S
1440 V
(47261)210 648 A
(unsigned_val)504 2034 A
2580(=)S
(va_arg\(*ap,)462 2664 A
(unsigned)336 3168 A
(long\);)252 3546 A
1530 V
(47262)210 648 A
1698(})S
1620 V
(47263)210 648 A
(break;)252 1698 A
1710 V
(47264)210 648 A
(default:)336 1362 A
1800 V
(47265)210 648 A
1698(if)S
(\(is_signed\))462 1824 A
2328({)S
1890 V
(47266)210 648 A
(signed_val)420 2034 A
2496(=)S
(va_arg\(*ap,)462 2580 A
(int\);)210 3084 A
1980 V
(47267)210 648 A
1698(})S
(else)168 1782 A
1992({)S
2070 V
(47268)210 648 A
(unsigned_val)504 2034 A
2580(=)S
(va_arg\(*ap,)462 2664 A
(unsigned)336 3168 A
(int\);)210 3546 A
2160 V
(47269)210 648 A
1698(})S
2250 V
(47270)210 648 A
(break;)252 1698 A
2340 V
(47271)210 648 A
1362(})S
2430 V
(47272)210 648 A
2520 V
(47273)210 648 A
1362(if)S
(\(is_signed\))462 1488 A
1992({)S
2610 V
(47274)210 648 A
1698(if)S
(\(signed_val)462 1824 A
2328(<)S
2412(0\))S
2538({)S
2700 V
(47275)210 648 A
(*s++)168 2034 A
2244(=)S
('-';)168 2328 A
2790 V
(47276)210 648 A
(signed_val)420 2034 A
2496(=)S
(-signed_val;)504 2580 A
2880 V
(47277)210 648 A
1698(})S
(else)168 1782 A
1992(if)S
(\(flags)252 2118 A
2412(&)S
(FL_SIGN\))336 2496 A
(*s++)168 2874 A
3084(=)S
('+';)168 3168 A
2970 V
(47278)210 648 A
(else)168 1698 A
1908(if)S
(\(flags)252 2034 A
2328(&)S
(FL_SPACE\))378 2412 A
(*s++)168 2832 A
3042(=)S
3126(')S
3210(';)S
3060 V
(47279)210 648 A
(unsigned_val)504 1698 A
2244(=)S
(signed_val;)462 2328 A
3150 V
(47280)210 648 A
1362(})S
3240 V
(47281)210 648 A
1362(if)S
(\(\(flags)294 1488 A
1824(&)S
(FL_ALT\))294 1908 A
2244(&&)S
2370(\(c)S
2496(==)S
('o'\)\))210 2622 A
(*s++)168 2874 A
3084(=)S
('0';)168 3168 A
3330 V
(47282)210 648 A
1362(if)S
(\(!unsigned_val\))630 1488 A
2160({)S
3420 V
(47283)210 648 A
1740(if)S
(\(!precision\))504 1866 A
3510 V
(47284)210 648 A
(return)252 2034 A
2328(s;)S
3600 V
(47285)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(\(\(flags)336 1782 A
2160(&)S
(FL_ALT\))294 2244 A
2580(&&)S
2706(\(c)S
2832(==)S
('x')126 2958 A
3126(||)S
3252(c)S
3336(==)S
('X'\)\))210 3462 A
3690 V
(47286)210 648 A
1866(||)S
1992(c)S
2076(==)S
('p'\))168 2202 A
2412({)S
3780 V
(47287)210 648 A
(*s++)168 1698 A
1908(=)S
('0';)168 1992 A
3870 V
(47288)210 648 A
(*s++)168 1698 A
1908(=)S
1992(\(c)S
2118(==)S
('X')126 2244 A
2412(?)S
('X')126 2496 A
2664(:)S
('x'\);)210 2748 A
3960 V
(47289)210 648 A
1362(})S
4050 V
(47290)210 648 A
4140 V
(47291)210 648 A
(switch)252 1362 A
(\(c\))126 1656 A
1824({)S
4230 V
(47292)210 648 A
(case)168 1362 A
('b':)168 1572 A
(base)168 2034 A
2244(=)S
2328(2;)S
(break;)252 2706 A
4320 V
(47293)210 648 A
(case)168 1362 A
('o':)168 1572 A
(base)168 2034 A
2244(=)S
2328(8;)S
(break;)252 2706 A
4410 V
(47294)210 648 A
(case)168 1362 A
('d':)168 1572 A
4500 V
(47295)210 648 A
(case)168 1362 A
('i':)168 1572 A
4590 V
(47296)210 648 A
(case)168 1362 A
('u':)168 1572 A
(base)168 2034 A
2244(=)S
(10;)126 2328 A
(break;)252 2706 A
4680 V
(47297)210 648 A
(case)168 1362 A
('x':)168 1572 A
4770 V
(47298)210 648 A
(case)168 1362 A
('X':)168 1572 A
4860 V
(47299)210 648 A
(case)168 1362 A
('p':)168 1572 A
(base)168 2034 A
2244(=)S
(16;)126 2328 A
(break;)252 2706 A
4950 V
(47300)210 648 A
1362(})S
5040 V
(47301)210 648 A
5130 V
(47302)210 648 A
1362(s)S
1446(=)S
(_i_compute\(unsigned_val,)1008 1530 A
(base,)210 2580 A
2832(s,)S
(precision\);)462 2958 A
5220 V
(47303)210 648 A
5310 V
(47304)210 648 A
1362(if)S
1488(\(c)S
1614(==)S
('X'\))168 1740 A
5400 V
(47305)210 648 A
(while)210 1698 A
(\(old_s)252 1950 A
2244(!=)S
2370(s\))S
2496({)S
5490 V
(47306)210 648 A
(*old_s)252 2034 A
2328(=)S
(toupper\(*old_s\);)672 2412 A
5580 V
(47307)210 648 A
(old_s++;)336 2034 A
5670 V
(47308)210 648 A
1698(})S
5760 V
(47309)210 648 A
5850 V
(47310)210 648 A
(return)252 1362 A
1656(s;)S
5940 V
(47311)210 648 A
1026(})S
6120 V
(47313)210 648 A
(int)126 1026 A
6210 V
(47314)210 648 A
(_doprnt\(register)672 1026 A
(const)210 1740 A
(char)168 1992 A
(*fmt,)210 2202 A
(va_list)294 2454 A
(ap,)126 2790 A
(FILE)168 2958 A
(*stream\))336 3168 A
8418 V
EP
%%Page: 431 431
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1961(File:)S
(src/lib/stdio/doprnt.c)921 2194 A
12 B
(431)180 4248 A
900 V
7 LST
(47315)210 648 A
1026({)S
990 V
(47316)210 648 A
(register)336 1362 A
(char)168 1740 A
(*s;)126 2034 A
1080 V
(47317)210 648 A
(register)336 1362 A
(int)126 1740 A
2034(j;)S
1170 V
(47318)210 648 A
(int)126 1362 A
2034(i,)S
2160(c,)S
(width,)252 2286 A
(precision,)420 2580 A
(zfill,)252 3042 A
(flags,)252 3336 A
(between_fill;)546 3630 A
1260 V
(47319)210 648 A
(int)126 1362 A
(nrchars=0;)420 2034 A
1350 V
(47320)210 648 A
(const)210 1362 A
(char)168 1614 A
(*oldfmt;)336 2034 A
1440 V
(47321)210 648 A
(char)168 1362 A
(*s1,)168 2034 A
(buf[1025];)420 2244 A
1530 V
(47322)210 648 A
1620 V
(47323)210 648 A
(while)210 1362 A
1614(\(c)S
1740(=)S
(*fmt++\))294 1824 A
2160({)S
1710 V
(47324)210 648 A
1698(if)S
1824(\(c)S
1950(!=)S
('%'\))168 2076 A
2286({)S
1800 V
(47325)210 648 A
(#ifdef)252 1026 A
(CPM)126 1362 A
1890 V
(47326)210 648 A
2034(if)S
2160(\(c)S
2286(==)S
('\\n'\))210 2412 A
2664({)S
1980 V
(47327)210 648 A
2370(if)S
(\(putc\('\\r',)462 2496 A
(stream\))294 3000 A
3336(==)S
(EOF\))168 3462 A
2070 V
(47328)210 648 A
(return)252 2706 A
(nrchars)294 3000 A
3336(?)S
(-nrchars)336 3420 A
3798(:)S
(-1;)126 3882 A
2160 V
(47329)210 648 A
(nrchars++;)420 2370 A
2250 V
(47330)210 648 A
2034(})S
2340 V
(47331)210 648 A
(#endif)252 1026 A
2430 V
(47332)210 648 A
2034(if)S
(\(putc\(c,)336 2160 A
(stream\))294 2538 A
2874(==)S
(EOF\))168 3000 A
2520 V
(47333)210 648 A
(return)252 2370 A
(nrchars)294 2664 A
3000(?)S
(-nrchars)336 3084 A
3462(:)S
(-1;)126 3546 A
2610 V
(47334)210 648 A
(nrchars++;)420 2034 A
2700 V
(47335)210 648 A
(continue;)378 2034 A
2790 V
(47336)210 648 A
1698(})S
2880 V
(47337)210 648 A
(flags)210 1698 A
1950(=)S
2034(0;)S
2970 V
(47338)210 648 A
1698(do)S
1824({)S
3060 V
(47339)210 648 A
(switch\(*fmt\))504 2034 A
2580({)S
3150 V
(47340)210 648 A
(case)168 2034 A
('-':)168 2244 A
(flags)210 2706 A
2958(|=)S
(FL_LJUST;)378 3084 A
(break;)252 3714 A
3240 V
(47341)210 648 A
(case)168 2034 A
('+':)168 2244 A
(flags)210 2706 A
2958(|=)S
(FL_SIGN;)336 3084 A
(break;)252 3714 A
3330 V
(47342)210 648 A
(case)168 2034 A
2244(')S
2328(':)S
(flags)210 2706 A
2958(|=)S
(FL_SPACE;)378 3084 A
(break;)252 3714 A
3420 V
(47343)210 648 A
(case)168 2034 A
('#':)168 2244 A
(flags)210 2706 A
2958(|=)S
(FL_ALT;)294 3084 A
(break;)252 3714 A
3510 V
(47344)210 648 A
(case)168 2034 A
('0':)168 2244 A
(flags)210 2706 A
2958(|=)S
(FL_ZEROFILL;)504 3084 A
(break;)252 3714 A
3600 V
(47345)210 648 A
(default:)336 2034 A
(flags)210 2706 A
2958(|=)S
(FL_NOMORE;)420 3084 A
(continue;)378 3714 A
3690 V
(47346)210 648 A
2034(})S
3780 V
(47347)210 648 A
(fmt++;)252 2034 A
3870 V
(47348)210 648 A
1698(})S
(while\(!\(flags)546 1782 A
2370(&)S
(FL_NOMORE\)\);)504 2454 A
3960 V
(47349)210 648 A
4050 V
(47350)210 648 A
(oldfmt)252 1698 A
1992(=)S
(fmt;)168 2076 A
4140 V
(47351)210 648 A
(fmt)126 1698 A
1866(=)S
(gnum\(fmt,)378 1950 A
(&width,)294 2370 A
(&ap\);)210 2706 A
4230 V
(47352)210 648 A
1698(if)S
(\(fmt)168 1824 A
2034(!=)S
(oldfmt\))294 2160 A
(flags)210 2496 A
2748(|=)S
(FL_WIDTHSPEC;)546 2874 A
4320 V
(47353)210 648 A
4410 V
(47354)210 648 A
1698(if)S
(\(*fmt)210 1824 A
2076(==)S
('.'\))168 2202 A
2412({)S
4500 V
(47355)210 648 A
(fmt++;)252 2034 A
(oldfmt)252 2328 A
2622(=)S
(fmt;)168 2706 A
4590 V
(47356)210 648 A
(fmt)126 2034 A
2202(=)S
(gnum\(fmt,)378 2286 A
(&precision,)462 2706 A
(&ap\);)210 3210 A
4680 V
(47357)210 648 A
2034(if)S
(\(precision)420 2160 A
2622(>=)S
2748(0\))S
(flags)210 2874 A
3126(|=)S
(FL_PRECSPEC;)504 3252 A
4770 V
(47358)210 648 A
1698(})S
4860 V
(47359)210 648 A
4950 V
(47360)210 648 A
1698(if)S
(\(\(flags)294 1824 A
2160(&)S
(FL_WIDTHSPEC\))546 2244 A
2832(&&)S
(width)210 2958 A
3210(<)S
3294(0\))S
3420({)S
5040 V
(47361)210 648 A
(width)210 2034 A
2286(=)S
(-width;)294 2370 A
5130 V
(47362)210 648 A
(flags)210 2034 A
2286(|=)S
(FL_LJUST;)378 2412 A
5220 V
(47363)210 648 A
1698(})S
5310 V
(47364)210 648 A
1698(if)S
(\(!\(flags)336 1824 A
2202(&)S
(FL_WIDTHSPEC\)\))588 2286 A
(width)210 2916 A
3168(=)S
3252(0;)S
5400 V
(47365)210 648 A
5490 V
(47366)210 648 A
1698(if)S
(\(flags)252 1824 A
2118(&)S
(FL_SIGN\))336 2202 A
(flags)210 2580 A
2832(&=)S
(\304FL_SPACE;)420 2958 A
5580 V
(47367)210 648 A
5670 V
(47368)210 648 A
1698(if)S
(\(flags)252 1824 A
2118(&)S
(FL_LJUST\))378 2202 A
(flags)210 2622 A
2874(&=)S
(\304FL_ZEROFILL;)546 3000 A
5760 V
(47369)210 648 A
5850 V
(47370)210 648 A
5940 V
(47371)210 648 A
1698(s)S
1782(=)S
1866(s1)S
1992(=)S
(buf;)168 2076 A
6030 V
(47372)210 648 A
6120 V
(47373)210 648 A
(switch)252 1698 A
(\(*fmt\))252 1992 A
2286({)S
6210 V
(47374)210 648 A
(case)168 1698 A
('h':)168 1908 A
(flags)210 2370 A
2622(|=)S
(FL_SHORT;)378 2748 A
(fmt++;)252 3168 A
(break;)252 3462 A
8418 V
EP
%%Page: 432 432
BP
/slant 0 def
/height 0 def
630 V
12 B
(432)180 648 A
11 R
1961(File:)S
(src/lib/stdio/doprnt.c)921 2194 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(47375)210 648 A
(case)168 1698 A
('l':)168 1908 A
(flags)210 2370 A
2622(|=)S
(FL_LONG;)336 2748 A
(fmt++;)252 3126 A
(break;)252 3420 A
990 V
(47376)210 648 A
(case)168 1698 A
('L':)168 1908 A
(flags)210 2370 A
2622(|=)S
(FL_LONGDOUBLE;)588 2748 A
(fmt++;)252 3378 A
(break;)252 3672 A
1080 V
(47377)210 648 A
1698(})S
1170 V
(47378)210 648 A
1260 V
(47379)210 648 A
(switch)252 1698 A
1992(\(c)S
2118(=)S
(*fmt++\))294 2202 A
2538({)S
1350 V
(47380)210 648 A
(default:)336 1698 A
1440 V
(47381)210 648 A
(#ifdef)252 1026 A
(CPM)126 1362 A
1530 V
(47382)210 648 A
2034(if)S
2160(\(c)S
2286(==)S
('\\n'\))210 2412 A
2664({)S
1620 V
(47383)210 648 A
2370(if)S
(\(putc\('\\r',)462 2496 A
(stream\))294 3000 A
3336(==)S
(EOF\))168 3462 A
1710 V
(47384)210 648 A
(return)252 2706 A
(nrchars)294 3000 A
3336(?)S
(-nrchars)336 3420 A
3798(:)S
(-1;)126 3882 A
1800 V
(47385)210 648 A
(nrchars++;)420 2370 A
1890 V
(47386)210 648 A
2034(})S
1980 V
(47387)210 648 A
(#endif)252 1026 A
2070 V
(47388)210 648 A
2034(if)S
(\(putc\(c,)336 2160 A
(stream\))294 2538 A
2874(==)S
(EOF\))168 3000 A
2160 V
(47389)210 648 A
(return)252 2370 A
(nrchars)294 2664 A
3000(?)S
(-nrchars)336 3084 A
3462(:)S
(-1;)126 3546 A
2250 V
(47390)210 648 A
(nrchars++;)420 2034 A
2340 V
(47391)210 648 A
(continue;)378 2034 A
2430 V
(47392)210 648 A
(case)168 1698 A
('n':)168 1908 A
2520 V
(47393)210 648 A
2034(if)S
(\(flags)252 2160 A
2454(&)S
(FL_SHORT\))378 2538 A
2610 V
(47394)210 648 A
(*va_arg\(ap,)462 2370 A
(short)210 2874 A
3126(*\))S
3252(=)S
(\(short\))294 3336 A
(nrchars;)336 3672 A
2700 V
(47395)210 648 A
(else)168 2034 A
2244(if)S
(\(flags)252 2370 A
2664(&)S
(FL_LONG\))336 2748 A
2790 V
(47396)210 648 A
(*va_arg\(ap,)462 2370 A
(long)168 2874 A
3084(*\))S
3210(=)S
(\(long\))252 3294 A
(nrchars;)336 3588 A
2880 V
(47397)210 648 A
(else)168 2034 A
2970 V
(47398)210 648 A
(*va_arg\(ap,)462 2370 A
(int)126 2874 A
3042(*\))S
3168(=)S
(\(int\))210 3252 A
(nrchars;)336 3504 A
3060 V
(47399)210 648 A
(continue;)378 2034 A
3150 V
(47400)210 648 A
(case)168 1698 A
('s':)168 1908 A
3240 V
(47401)210 648 A
2034(s1)S
2160(=)S
(va_arg\(ap,)420 2244 A
(char)168 2706 A
(*\);)126 2916 A
3330 V
(47402)210 648 A
2034(if)S
(\(s1)126 2160 A
2328(==)S
(NULL\))210 2454 A
3420 V
(47403)210 648 A
2370(s1)S
2496(=)S
("\(null\)";)378 2580 A
3510 V
(47404)210 648 A
2034(s)S
2118(=)S
(s1;)126 2202 A
3600 V
(47405)210 648 A
(while)210 2034 A
(\(precision)420 2286 A
2748(||)S
(!\(flags)294 2874 A
3210(&)S
(FL_PRECSPEC\)\))546 3294 A
3882({)S
3690 V
(47406)210 648 A
2370(if)S
(\(*s)126 2496 A
2664(==)S
('\\0'\))210 2790 A
3780 V
(47407)210 648 A
(break;)252 2706 A
3870 V
(47408)210 648 A
(s++;)168 2370 A
3960 V
(47409)210 648 A
(precision--;)504 2370 A
4050 V
(47410)210 648 A
2034(})S
4140 V
(47411)210 648 A
(break;)252 2034 A
4230 V
(47412)210 648 A
(case)168 1698 A
('p':)168 1908 A
4320 V
(47413)210 648 A
(set_pointer\(flags\);)798 2034 A
4410 V
(47414)210 648 A
2034(/*)S
(fallthrough)462 2160 A
2664(*/)S
4500 V
(47415)210 648 A
(case)168 1698 A
('b':)168 1908 A
4590 V
(47416)210 648 A
(case)168 1698 A
('o':)168 1908 A
4680 V
(47417)210 648 A
(case)168 1698 A
('u':)168 1908 A
4770 V
(47418)210 648 A
(case)168 1698 A
('x':)168 1908 A
4860 V
(47419)210 648 A
(case)168 1698 A
('X':)168 1908 A
4950 V
(47420)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_PRECSPEC\)\))546 2622 A
(precision)378 3210 A
3630(=)S
3714(1;)S
5040 V
(47421)210 648 A
(else)168 2034 A
2244(if)S
2370(\(c)S
2496(!=)S
('p'\))168 2622 A
(flags)210 2832 A
3084(&=)S
(\304FL_ZEROFILL;)546 3210 A
5130 V
(47422)210 648 A
2034(s)S
2118(=)S
(o_print\(&ap,)504 2202 A
(flags,)252 2748 A
3042(s,)S
3168(c,)S
(precision,)420 3294 A
(0\);)126 3756 A
5220 V
(47423)210 648 A
(break;)252 2034 A
5310 V
(47424)210 648 A
(case)168 1698 A
('d':)168 1908 A
5400 V
(47425)210 648 A
(case)168 1698 A
('i':)168 1908 A
5490 V
(47426)210 648 A
(flags)210 2034 A
2286(|=)S
(FL_SIGNEDCONV;)588 2412 A
5580 V
(47427)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_PRECSPEC\)\))546 2622 A
(precision)378 3210 A
3630(=)S
3714(1;)S
5670 V
(47428)210 648 A
(else)168 2034 A
(flags)210 2244 A
2496(&=)S
(\304FL_ZEROFILL;)546 2622 A
5760 V
(47429)210 648 A
2034(s)S
2118(=)S
(o_print\(&ap,)504 2202 A
(flags,)252 2748 A
3042(s,)S
3168(c,)S
(precision,)420 3294 A
(1\);)126 3756 A
5850 V
(47430)210 648 A
(break;)252 2034 A
5940 V
(47431)210 648 A
(case)168 1698 A
('c':)168 1908 A
6030 V
(47432)210 648 A
(*s++)168 2034 A
2244(=)S
(va_arg\(ap,)420 2328 A
(int\);)210 2790 A
6120 V
(47433)210 648 A
(break;)252 2034 A
6210 V
(47434)210 648 A
(#ifndef)294 1026 A
(NOFLOAT)294 1362 A
8418 V
EP
%%Page: 433 433
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1961(File:)S
(src/lib/stdio/doprnt.c)921 2194 A
12 B
(433)180 4248 A
900 V
7 LST
(47435)210 648 A
(case)168 1698 A
('G':)168 1908 A
990 V
(47436)210 648 A
(case)168 1698 A
('g':)168 1908 A
1080 V
(47437)210 648 A
2034(if)S
(\(\(flags)294 2160 A
2496(&)S
(FL_PRECSPEC\))504 2580 A
3126(&&)S
(\(precision)420 3252 A
3714(==)S
(0\)\))126 3840 A
1170 V
(47438)210 648 A
(precision)378 2370 A
2790(=)S
2874(1;)S
1260 V
(47439)210 648 A
(case)168 1698 A
('f':)168 1908 A
1350 V
(47440)210 648 A
(case)168 1698 A
('E':)168 1908 A
1440 V
(47441)210 648 A
(case)168 1698 A
('e':)168 1908 A
1530 V
(47442)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_PRECSPEC\)\))546 2622 A
1620 V
(47443)210 648 A
(precision)378 2370 A
2790(=)S
2874(6;)S
1710 V
(47444)210 648 A
1800 V
(47445)210 648 A
2034(if)S
(\(precision)420 2160 A
2622(>=)S
(sizeof\(buf\)\))504 2748 A
1890 V
(47446)210 648 A
(precision)378 2370 A
2790(=)S
(sizeof\(buf\))462 2874 A
3378(-)S
3462(1;)S
1980 V
(47447)210 648 A
2070 V
(47448)210 648 A
(flags)210 2034 A
2286(|=)S
(FL_SIGNEDCONV;)588 2412 A
2160 V
(47449)210 648 A
2034(s)S
2118(=)S
(_f_print\(&ap,)546 2202 A
(flags,)252 2790 A
3084(s,)S
3210(c,)S
(precision\);)462 3336 A
2250 V
(47450)210 648 A
(break;)252 2034 A
2340 V
(47451)210 648 A
(#endif)252 1026 A
1362(/*)S
(NOFLOAT)294 1488 A
1824(*/)S
2430 V
(47452)210 648 A
(case)168 1698 A
('r':)168 1908 A
2520 V
(47453)210 648 A
2034(ap)S
2160(=)S
(va_arg\(ap,)420 2244 A
(va_list\);)378 2706 A
2610 V
(47454)210 648 A
(fmt)126 2034 A
2202(=)S
(va_arg\(ap,)420 2286 A
(char)168 2748 A
(*\);)126 2958 A
2700 V
(47455)210 648 A
(continue;)378 2034 A
2790 V
(47456)210 648 A
1698(})S
2880 V
(47457)210 648 A
(zfill)210 1698 A
1950(=)S
2034(')S
2118(';)S
2970 V
(47458)210 648 A
1698(if)S
(\(flags)252 1824 A
2118(&)S
(FL_ZEROFILL\))504 2202 A
(zfill)210 2748 A
3000(=)S
('0';)168 3084 A
3060 V
(47459)210 648 A
1698(j)S
1782(=)S
1866(s)S
1950(-)S
(s1;)126 2034 A
3150 V
(47460)210 648 A
3240 V
(47461)210 648 A
1698(/*)S
(between_fill)504 1824 A
2370(is)S
(true)168 2496 A
(under)210 2706 A
(the)126 2958 A
(following)378 3126 A
(conditions:)462 3546 A
3330 V
(47462)210 648 A
1740(*)S
1824(1-)S
(the)126 1950 A
(fill)168 2118 A
(character)378 2328 A
2748(is)S
('0')126 2874 A
3420 V
(47463)210 648 A
1740(*)S
(and)126 1824 A
3510 V
(47464)210 648 A
1740(*)S
(2a-)126 1824 A
(the)126 1992 A
(number)252 2160 A
2454(is)S
2580(of)S
(the)126 2706 A
(form)168 2874 A
(0x...)210 3084 A
3336(or)S
(0X...)210 3462 A
3600 V
(47465)210 648 A
1740(*)S
1824(or)S
3690 V
(47466)210 648 A
1740(*)S
(2b-)126 1824 A
(the)126 1992 A
(number)252 2160 A
(contains)336 2454 A
2832(a)S
(sign)168 2916 A
3126(or)S
(space)210 3252 A
3780 V
(47467)210 648 A
1740(*/)S
3870 V
(47468)210 648 A
(between_fill)504 1698 A
2244(=)S
2328(0;)S
3960 V
(47469)210 648 A
1698(if)S
(\(\(flags)294 1824 A
2160(&)S
(FL_ZEROFILL\))504 2244 A
4050 V
(47470)210 648 A
1866(&&)S
(\(\(\(c)168 1992 A
2202(==)S
('x')126 2328 A
2496(||)S
2622(c)S
2706(==)S
('X'\))168 2832 A
3042(&&)S
(\(flags)252 3168 A
3462(&)S
(FL_ALT\)\))336 3546 A
4140 V
(47471)210 648 A
2034(||)S
2160(\(c)S
2286(==)S
('p'\))168 2412 A
4230 V
(47472)210 648 A
2034(||)S
(\(\(flags)294 2160 A
2496(&)S
(FL_SIGNEDCONV\))588 2580 A
4320 V
(47473)210 648 A
2202(&&)S
2328(\()S
(*s1)126 2412 A
2580(==)S
('+')126 2706 A
2874(||)S
(*s1)126 3000 A
3168(==)S
('-')126 3294 A
3462(||)S
(*s1)126 3588 A
3756(==)S
3882(')S
('\)\)\)\))210 3966 A
4410 V
(47474)210 648 A
(between_fill++;)630 2034 A
4500 V
(47475)210 648 A
4590 V
(47476)210 648 A
1698(if)S
(\(\(i)126 1824 A
1992(=)S
(width)210 2076 A
2328(-)S
2412(j\))S
2538(>)S
2622(0\))S
4680 V
(47477)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_LJUST\)\))420 2622 A
3084({)S
3378(/*)S
(right)210 3504 A
(justify)294 3756 A
4092(*/)S
4770 V
(47478)210 648 A
(nrchars)294 2370 A
2706(+=)S
2832(i;)S
4860 V
(47479)210 648 A
2370(if)S
(\(between_fill\))588 2496 A
3126({)S
4950 V
(47480)210 648 A
2538(if)S
(\(flags)252 2664 A
2958(&)S
(FL_SIGNEDCONV\))588 3042 A
3672({)S
5040 V
(47481)210 648 A
(j--;)168 2706 A
(nrchars++;)420 2916 A
5130 V
(47482)210 648 A
2706(if)S
(\(putc\(*s1++,)504 2832 A
(stream\))294 3378 A
3714(==)S
(EOF\))168 3840 A
5220 V
(47483)210 648 A
(return)252 3042 A
(nrchars)294 3336 A
3672(?)S
(-nrchars)336 3756 A
4134(:)S
(-1;)126 4218 A
5310 V
(47484)210 648 A
2538(})S
(else)168 2622 A
2832({)S
5400 V
(47485)210 648 A
2706(j)S
2790(-=)S
2916(2;)S
(nrchars)294 3042 A
3378(+=)S
3504(2;)S
5490 V
(47486)210 648 A
2706(if)S
(\(\(putc\(*s1++,)546 2832 A
(stream\))294 3420 A
3756(==)S
(EOF\))168 3882 A
5580 V
(47487)210 648 A
2874(||)S
(\(putc\(*s1++,)504 3000 A
(stream\))294 3546 A
3882(==)S
(EOF\)\))210 4008 A
5670 V
(47488)210 648 A
(return)252 3042 A
(nrchars)294 3336 A
3672(?)S
(-nrchars)336 3756 A
4134(:)S
(-1;)126 4218 A
5760 V
(47489)210 648 A
2538(})S
5850 V
(47490)210 648 A
2370(})S
5940 V
(47491)210 648 A
2370(do)S
2496({)S
6030 V
(47492)210 648 A
2706(if)S
(\(putc\(zfill,)504 2832 A
(stream\))294 3378 A
3714(==)S
(EOF\))168 3840 A
6120 V
(47493)210 648 A
(return)252 3042 A
(nrchars)294 3336 A
3672(?)S
(-nrchars)336 3756 A
4134(:)S
(-1;)126 4218 A
6210 V
(47494)210 648 A
2370(})S
(while)210 2454 A
(\(--i\);)252 2706 A
8418 V
EP
%%Page: 434 434
BP
/slant 0 def
/height 0 def
630 V
12 B
(434)180 648 A
11 R
1961(File:)S
(src/lib/stdio/doprnt.c)921 2194 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(47495)210 648 A
2034(})S
990 V
(47496)210 648 A
1080 V
(47497)210 648 A
(nrchars)294 1698 A
2034(+=)S
2160(j;)S
1170 V
(47498)210 648 A
(while)210 1698 A
(\(--j)168 1950 A
2160(>=)S
2286(0\))S
2412({)S
1260 V
(47499)210 648 A
2034(if)S
(\(putc\(*s1++,)504 2160 A
(stream\))294 2706 A
3042(==)S
(EOF\))168 3168 A
1350 V
(47500)210 648 A
(return)252 2370 A
(nrchars)294 2664 A
3000(?)S
(-nrchars)336 3084 A
3462(:)S
(-1;)126 3546 A
1440 V
(47501)210 648 A
1698(})S
1530 V
(47502)210 648 A
1620 V
(47503)210 648 A
1698(if)S
1824(\(i)S
1950(>)S
2034(0\))S
(nrchars)294 2160 A
2496(+=)S
2622(i;)S
1710 V
(47504)210 648 A
(while)210 1698 A
(\(--i)168 1950 A
2160(>=)S
2286(0\))S
1800 V
(47505)210 648 A
2034(if)S
(\(putc\(zfill,)504 2160 A
(stream\))294 2706 A
3042(==)S
(EOF\))168 3168 A
1890 V
(47506)210 648 A
(return)252 2370 A
(nrchars)294 2664 A
3000(?)S
(-nrchars)336 3084 A
3462(:)S
(-1;)126 3546 A
1980 V
(47507)210 648 A
1362(})S
2070 V
(47508)210 648 A
(return)252 1362 A
(nrchars;)336 1656 A
2160 V
(47509)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/doscan.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(47600)210 648 A
1026(/*)S
3240 V
(47601)210 648 A
1068(*)S
(doscan.c)336 1152 A
1530(-)S
(scan)168 1614 A
(formatted)378 1824 A
(input)210 2244 A
3330 V
(47602)210 648 A
1068(*/)S
3420 V
(47603)210 648 A
1026(/*)S
($Header:)336 1152 A
(doscan.c,v)420 1530 A
(1.9)126 1992 A
(91/03/26)336 2160 A
(18:41:47)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
3510 V
(47604)210 648 A
3600 V
(47605)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(47606)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
3780 V
(47607)210 648 A
(#include)336 1026 A
(<ctype.h>)378 1698 A
3870 V
(47608)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
3960 V
(47609)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
4050 V
(47610)210 648 A
4140 V
(47611)210 648 A
(#if)126 1026 A
(_EM_WSIZE)378 1362 A
1782(==)S
(_EM_PSIZE)378 1908 A
4230 V
(47612)210 648 A
(#define)294 1026 A
(set_pointer\(flags\))756 1362 A
3378(/*)S
(nothing)294 3504 A
3840(*/)S
4320 V
(47613)210 648 A
(#elif)210 1026 A
(_EM_LSIZE)378 1362 A
1782(==)S
(_EM_PSIZE)378 1908 A
4410 V
(47614)210 648 A
(#define)294 1026 A
(set_pointer\(flags\))756 1362 A
(\(flags)252 2370 A
2664(|=)S
(FL_LONG\))336 2790 A
4500 V
(47615)210 648 A
(#else)210 1026 A
4590 V
(47616)210 648 A
(#error)252 1026 A
(garbage)294 1320 A
(pointer)294 1656 A
(size)168 1992 A
4680 V
(47617)210 648 A
(#define)294 1026 A
(set_pointer\(flags\))756 1362 A
2706(/*)S
(compilation)462 2832 A
(might)210 3336 A
(continue)336 3588 A
3966(*/)S
4770 V
(47618)210 648 A
(#endif)252 1026 A
4860 V
(47619)210 648 A
4950 V
(47620)210 648 A
(#define)294 1026 A
(NUMLEN)252 1362 A
(512)126 1698 A
5040 V
(47621)210 648 A
(#define)294 1026 A
(NR_CHARS)336 1362 A
(256)126 2034 A
5130 V
(47622)210 648 A
5220 V
(47623)210 648 A
(static)252 1026 A
(char)168 1320 A
(Xtable[NR_CHARS];)714 1698 A
5310 V
(47624)210 648 A
(static)252 1026 A
(char)168 1320 A
(inp_buf[NUMLEN];)672 1698 A
5400 V
(47625)210 648 A
5490 V
(47626)210 648 A
1026(/*)S
(Collect)294 1152 A
1488(a)S
(number)252 1572 A
1866(of)S
(characters)420 1992 A
(which)210 2454 A
(constitite)420 2706 A
3168(an)S
(ordinal)294 3294 A
(number.)294 3630 A
5580 V
(47627)210 648 A
1068(*)S
(When)168 1152 A
(the)126 1362 A
(type)168 1530 A
1740(is)S
('i',)168 1866 A
(the)126 2076 A
(base)168 2244 A
(can)126 2454 A
2622(be)S
2748(8,)S
(10,)126 2874 A
3042(or)S
(16,)126 3168 A
(depending)378 3336 A
3756(on)S
(the)126 3882 A
5670 V
(47628)210 648 A
1068(*)S
(first)210 1152 A
1404(1)S
1488(or)S
1614(2)S
(characters.)462 1698 A
(This)168 2202 A
(means)210 2412 A
(that)168 2664 A
(the)126 2874 A
(base)168 3042 A
(must)168 3252 A
3462(be)S
(adjusted)336 3588 A
5760 V
(47629)210 648 A
1068(*)S
(according)378 1152 A
1572(to)S
(the)126 1698 A
(format)252 1866 A
2160(of)S
(the)126 2286 A
(number.)294 2454 A
2790(At)S
(the)126 2916 A
(end)126 3084 A
3252(of)S
(the)126 3378 A
(function,)378 3546 A
(base)168 3966 A
5850 V
(47630)210 648 A
1068(*)S
1152(is)S
(then)168 1278 A
(set)126 1488 A
1656(to)S
1782(0,)S
1908(so)S
(strtol\(\))336 2034 A
(will)168 2412 A
(get)126 2622 A
(the)126 2790 A
(right)210 2958 A
(argument.)378 3210 A
5940 V
(47631)210 648 A
1068(*/)S
6030 V
(47632)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
6120 V
(47633)210 648 A
(o_collect\(register)756 1026 A
(int)126 1824 A
1992(c,)S
(register)336 2118 A
(FILE)168 2496 A
(*stream,)336 2706 A
(char)168 3084 A
(type,)210 3294 A
6210 V
(47634)210 648 A
(unsigned)336 2034 A
(int)126 2412 A
(width,)252 2580 A
(int)126 2874 A
(*basep\))294 3042 A
8418 V
EP
%%Page: 435 435
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/stdio/doscan.c)941 2184 A
12 B
(435)180 4248 A
900 V
7 LST
(47635)210 648 A
1026({)S
990 V
(47636)210 648 A
(register)336 1362 A
(char)168 1740 A
(*bufp)210 1950 A
2202(=)S
(inp_buf;)336 2286 A
1080 V
(47637)210 648 A
(register)336 1362 A
(int)126 1740 A
(base;)210 1908 A
1170 V
(47638)210 648 A
1260 V
(47639)210 648 A
(switch)252 1362 A
(\(type\))252 1656 A
1950({)S
1350 V
(47640)210 648 A
(case)168 1362 A
('i':)168 1572 A
2034(/*)S
2160(i)S
(means)210 2244 A
(octal,)252 2496 A
(decimal)294 2790 A
3126(or)S
(hexadecimal)462 3252 A
3756(*/)S
1440 V
(47641)210 648 A
(case)168 1362 A
('p':)168 1572 A
1530 V
(47642)210 648 A
(case)168 1362 A
('x':)168 1572 A
1620 V
(47643)210 648 A
(case)168 1362 A
('X':)168 1572 A
(base)168 2034 A
2244(=)S
(16;)126 2328 A
(break;)252 2706 A
1710 V
(47644)210 648 A
(case)168 1362 A
('d':)168 1572 A
1800 V
(47645)210 648 A
(case)168 1362 A
('u':)168 1572 A
(base)168 2034 A
2244(=)S
(10;)126 2328 A
(break;)252 2706 A
1890 V
(47646)210 648 A
(case)168 1362 A
('o':)168 1572 A
(base)168 2034 A
2244(=)S
2328(8;)S
(break;)252 2706 A
1980 V
(47647)210 648 A
(case)168 1362 A
('b':)168 1572 A
(base)168 2034 A
2244(=)S
2328(2;)S
(break;)252 2706 A
2070 V
(47648)210 648 A
1362(})S
2160 V
(47649)210 648 A
2250 V
(47650)210 648 A
1362(if)S
1488(\(c)S
1614(==)S
('-')126 1740 A
1908(||)S
2034(c)S
2118(==)S
('+'\))168 2244 A
2454({)S
2340 V
(47651)210 648 A
(*bufp++)294 1698 A
2034(=)S
2118(c;)S
2430 V
(47652)210 648 A
1698(if)S
(\(--width\))378 1824 A
2520 V
(47653)210 648 A
1866(c)S
1950(=)S
(getc\(stream\);)546 2034 A
2610 V
(47654)210 648 A
1362(})S
2700 V
(47655)210 648 A
2790 V
(47656)210 648 A
1362(if)S
(\(width)252 1488 A
1782(&&)S
1908(c)S
1992(==)S
('0')126 2118 A
2286(&&)S
(base)168 2412 A
2622(==)S
(16\))126 2748 A
2916({)S
2880 V
(47657)210 648 A
(*bufp++)294 1698 A
2034(=)S
2118(c;)S
2970 V
(47658)210 648 A
1698(if)S
(\(--width\))378 1824 A
3060 V
(47659)210 648 A
2034(c)S
2118(=)S
(getc\(stream\);)546 2202 A
3150 V
(47660)210 648 A
1698(if)S
1824(\(c)S
1950(!=)S
('x')126 2076 A
2244(&&)S
2370(c)S
2454(!=)S
('X'\))168 2580 A
2790({)S
3240 V
(47661)210 648 A
2034(if)S
(\(type)210 2160 A
2412(==)S
('i'\))168 2538 A
(base)168 2748 A
2958(=)S
3042(8;)S
3330 V
(47662)210 648 A
1698(})S
3420 V
(47663)210 648 A
(else)168 1698 A
1908(if)S
(\(width\))294 2034 A
2370({)S
3510 V
(47664)210 648 A
(*bufp++)294 2034 A
2370(=)S
2454(c;)S
3600 V
(47665)210 648 A
2034(if)S
(\(--width\))378 2160 A
3690 V
(47666)210 648 A
2370(c)S
2454(=)S
(getc\(stream\);)546 2538 A
3780 V
(47667)210 648 A
1698(})S
3870 V
(47668)210 648 A
1362(})S
3960 V
(47669)210 648 A
(else)168 1362 A
1572(if)S
(\(type)210 1698 A
1950(==)S
('i'\))168 2076 A
(base)168 2286 A
2496(=)S
(10;)126 2580 A
4050 V
(47670)210 648 A
4140 V
(47671)210 648 A
(while)210 1362 A
(\(width\))294 1614 A
1950({)S
4230 V
(47672)210 648 A
1698(if)S
(\(\(\(base)294 1824 A
2160(==)S
(10\))126 2286 A
2454(&&)S
(isdigit\(c\)\))462 2580 A
4320 V
(47673)210 648 A
1866(||)S
(\(\(base)252 1992 A
2286(==)S
(16\))126 2412 A
2580(&&)S
(isxdigit\(c\)\))504 2706 A
4410 V
(47674)210 648 A
1866(||)S
(\(\(base)252 1992 A
2286(==)S
2412(8\))S
2538(&&)S
(isdigit\(c\))420 2664 A
3126(&&)S
3252(\(c)S
3378(<)S
('8'\)\))210 3462 A
4500 V
(47675)210 648 A
1866(||)S
(\(\(base)252 1992 A
2286(==)S
2412(2\))S
2538(&&)S
(isdigit\(c\))420 2664 A
3126(&&)S
3252(\(c)S
3378(<)S
('2'\)\)\))252 3462 A
3756({)S
4590 V
(47676)210 648 A
(*bufp++)294 2034 A
2370(=)S
2454(c;)S
4680 V
(47677)210 648 A
2034(if)S
(\(--width\))378 2160 A
4770 V
(47678)210 648 A
2370(c)S
2454(=)S
(getc\(stream\);)546 2538 A
4860 V
(47679)210 648 A
1698(})S
4950 V
(47680)210 648 A
(else)168 1698 A
(break;)252 1908 A
5040 V
(47681)210 648 A
1362(})S
5130 V
(47682)210 648 A
5220 V
(47683)210 648 A
1362(if)S
(\(width)252 1488 A
1782(&&)S
1908(c)S
1992(!=)S
(EOF\))168 2118 A
(ungetc\(c,)378 2328 A
(stream\);)336 2748 A
5310 V
(47684)210 648 A
1362(if)S
(\(type)210 1488 A
1740(==)S
('i'\))168 1866 A
(base)168 2076 A
2286(=)S
2370(0;)S
5400 V
(47685)210 648 A
(*basep)252 1362 A
1656(=)S
(base;)210 1740 A
5490 V
(47686)210 648 A
(*bufp)210 1362 A
1614(=)S
('\\0';)210 1698 A
5580 V
(47687)210 648 A
(return)252 1362 A
(bufp)168 1656 A
1866(-)S
1950(1;)S
5670 V
(47688)210 648 A
1026(})S
5850 V
(47690)210 648 A
(#ifndef)294 1026 A
(NOFLOAT)294 1362 A
5940 V
(47691)210 648 A
1026(/*)S
(The)126 1152 A
(function)336 1320 A
(f_collect\(\))462 1698 A
(reads)210 2202 A
2454(a)S
(string)252 2538 A
(that)168 2832 A
(has)126 3042 A
(the)126 3210 A
(format)252 3378 A
3672(of)S
3798(a)S
6030 V
(47692)210 648 A
1068(*)S
(floating-point)588 1152 A
(number.)294 1782 A
(The)126 2118 A
(function)336 2286 A
(returns)294 2664 A
3000(as)S
(soon)168 3126 A
3336(as)S
3462(a)S
(format-error)504 3546 A
6120 V
(47693)210 648 A
1068(*)S
1152(is)S
(encountered,)504 1278 A
(leaving)294 1824 A
(the)126 2160 A
(offending)378 2328 A
(character)378 2748 A
3168(in)S
(the)126 3294 A
(input.)252 3462 A
(This)168 3756 A
(means)210 3966 A
6210 V
(47694)210 648 A
1068(*)S
(that)168 1152 A
(1.el)168 1362 A
(leaves)252 1572 A
(the)126 1866 A
('l')126 2034 A
2202(in)S
(the)126 2328 A
(input)210 2496 A
(queue.)252 2748 A
(Since)210 3042 A
(all)126 3294 A
(detection)378 3462 A
3882(of)S
8418 V
EP
%%Page: 436 436
BP
/slant 0 def
/height 0 def
630 V
12 B
(436)180 648 A
11 R
1951(File:)S
(src/lib/stdio/doscan.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(47695)210 648 A
1068(*)S
(format)252 1152 A
(errors)252 1446 A
1740(is)S
(done)168 1866 A
(here,)210 2076 A
(_doscan\(\))378 2328 A
(doesn't)294 2748 A
(call)168 3084 A
(strtod\(\))336 3294 A
(when)168 3672 A
(it's)168 3882 A
990 V
(47696)210 648 A
1068(*)S
(not)126 1152 A
(necessary,)420 1320 A
(although)336 1782 A
(the)126 2160 A
(use)126 2328 A
2496(of)S
(the)126 2622 A
(width)210 2790 A
(field)210 3042 A
(can)126 3294 A
(cause)210 3462 A
(incomplete)420 3714 A
1080 V
(47697)210 648 A
1068(*)S
(numbers)294 1152 A
1488(to)S
1614(be)S
(passed)252 1740 A
2034(to)S
(strtod\(\).)378 2160 A
(\(e.g.)210 2580 A
(1.3e+\))252 2832 A
1170 V
(47698)210 648 A
1068(*/)S
1260 V
(47699)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
1350 V
(47700)210 648 A
(f_collect\(register)756 1026 A
(int)126 1824 A
1992(c,)S
(register)336 2118 A
(FILE)168 2496 A
(*stream,)336 2706 A
(register)336 3084 A
(unsigned)336 3462 A
(int)126 3840 A
(width\))252 4008 A
1440 V
(47701)210 648 A
1026({)S
1530 V
(47702)210 648 A
(register)336 1362 A
(char)168 1740 A
(*bufp)210 1950 A
2202(=)S
(inp_buf;)336 2286 A
1620 V
(47703)210 648 A
(int)126 1362 A
(digit_seen)420 1530 A
1992(=)S
2076(0;)S
1710 V
(47704)210 648 A
1800 V
(47705)210 648 A
1362(if)S
1488(\(c)S
1614(==)S
('-')126 1740 A
1908(||)S
2034(c)S
2118(==)S
('+'\))168 2244 A
2454({)S
1890 V
(47706)210 648 A
(*bufp++)294 1698 A
2034(=)S
2118(c;)S
1980 V
(47707)210 648 A
1698(if)S
(\(--width\))378 1824 A
2070 V
(47708)210 648 A
2034(c)S
2118(=)S
(getc\(stream\);)546 2202 A
2160 V
(47709)210 648 A
1362(})S
2250 V
(47710)210 648 A
2340 V
(47711)210 648 A
(while)210 1362 A
(\(width)252 1614 A
1908(&&)S
(isdigit\(c\)\))462 2034 A
2538({)S
2430 V
(47712)210 648 A
(digit_seen++;)546 1698 A
2520 V
(47713)210 648 A
(*bufp++)294 1698 A
2034(=)S
2118(c;)S
2610 V
(47714)210 648 A
1698(if)S
(\(--width\))378 1824 A
2700 V
(47715)210 648 A
2034(c)S
2118(=)S
(getc\(stream\);)546 2202 A
2790 V
(47716)210 648 A
1362(})S
2880 V
(47717)210 648 A
1362(if)S
(\(width)252 1488 A
1782(&&)S
1908(c)S
1992(==)S
('.'\))168 2118 A
2328({)S
2970 V
(47718)210 648 A
(*bufp++)294 1698 A
2034(=)S
2118(c;)S
3060 V
(47719)210 648 A
(if\(--width\))462 1698 A
3150 V
(47720)210 648 A
2034(c)S
2118(=)S
(getc\(stream\);)546 2202 A
3240 V
(47721)210 648 A
(while)210 1698 A
(\(width)252 1950 A
2244(&&)S
(isdigit\(c\)\))462 2370 A
2874({)S
3330 V
(47722)210 648 A
(digit_seen++;)546 2034 A
3420 V
(47723)210 648 A
(*bufp++)294 2034 A
2370(=)S
2454(c;)S
3510 V
(47724)210 648 A
2034(if)S
(\(--width\))378 2160 A
3600 V
(47725)210 648 A
2370(c)S
2454(=)S
(getc\(stream\);)546 2538 A
3690 V
(47726)210 648 A
1698(})S
3780 V
(47727)210 648 A
1362(})S
3870 V
(47728)210 648 A
3960 V
(47729)210 648 A
1362(if)S
(\(!digit_seen\))546 1488 A
2076({)S
4050 V
(47730)210 648 A
1698(if)S
(\(width)252 1824 A
2118(&&)S
2244(c)S
2328(!=)S
(EOF\))168 2454 A
(ungetc\(c,)378 2664 A
(stream\);)336 3084 A
4140 V
(47731)210 648 A
(return)252 1698 A
(inp_buf)294 1992 A
2328(-)S
2412(1;)S
4230 V
(47732)210 648 A
1362(})S
4320 V
(47733)210 648 A
(else)168 1362 A
(digit_seen)420 1572 A
2034(=)S
2118(0;)S
4410 V
(47734)210 648 A
4500 V
(47735)210 648 A
1362(if)S
(\(width)252 1488 A
1782(&&)S
1908(\(c)S
2034(==)S
('e')126 2160 A
2328(||)S
2454(c)S
2538(==)S
('E'\)\))210 2664 A
2916({)S
4590 V
(47736)210 648 A
(*bufp++)294 1698 A
2034(=)S
2118(c;)S
4680 V
(47737)210 648 A
1698(if)S
(\(--width\))378 1824 A
4770 V
(47738)210 648 A
2034(c)S
2118(=)S
(getc\(stream\);)546 2202 A
4860 V
(47739)210 648 A
1698(if)S
(\(width)252 1824 A
2118(&&)S
2244(\(c)S
2370(==)S
('+')126 2496 A
2664(||)S
2790(c)S
2874(==)S
('-'\)\))210 3000 A
3252({)S
4950 V
(47740)210 648 A
(*bufp++)294 2034 A
2370(=)S
2454(c;)S
5040 V
(47741)210 648 A
2034(if)S
(\(--width\))378 2160 A
5130 V
(47742)210 648 A
2370(c)S
2454(=)S
(getc\(stream\);)546 2538 A
5220 V
(47743)210 648 A
1698(})S
5310 V
(47744)210 648 A
(while)210 1698 A
(\(width)252 1950 A
2244(&&)S
(isdigit\(c\)\))462 2370 A
2874({)S
5400 V
(47745)210 648 A
(digit_seen++;)546 2034 A
5490 V
(47746)210 648 A
(*bufp++)294 2034 A
2370(=)S
2454(c;)S
5580 V
(47747)210 648 A
2034(if)S
(\(--width\))378 2160 A
5670 V
(47748)210 648 A
2370(c)S
2454(=)S
(getc\(stream\);)546 2538 A
5760 V
(47749)210 648 A
1698(})S
5850 V
(47750)210 648 A
1698(if)S
(\(!digit_seen\))546 1824 A
2412({)S
5940 V
(47751)210 648 A
2034(if)S
(\(width)252 2160 A
2454(&&)S
2580(c)S
2664(!=)S
(EOF\))168 2790 A
(ungetc\(c,stream\);)714 3000 A
6030 V
(47752)210 648 A
(return)252 2034 A
(inp_buf)294 2328 A
2664(-)S
2748(1;)S
6120 V
(47753)210 648 A
1698(})S
6210 V
(47754)210 648 A
1362(})S
8418 V
EP
%%Page: 437 437
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/stdio/doscan.c)941 2184 A
12 B
(437)180 4248 A
900 V
7 LST
(47755)210 648 A
990 V
(47756)210 648 A
1362(if)S
(\(width)252 1488 A
1782(&&)S
1908(c)S
1992(!=)S
(EOF\))168 2118 A
(ungetc\(c,)378 2328 A
(stream\);)336 2748 A
1080 V
(47757)210 648 A
(*bufp)210 1362 A
1614(=)S
('\\0';)210 1698 A
1170 V
(47758)210 648 A
(return)252 1362 A
(bufp)168 1656 A
1866(-)S
1950(1;)S
1260 V
(47759)210 648 A
1026(})S
1350 V
(47760)210 648 A
(#endif)252 1026 A
1362(/*)S
(NOFLOAT)294 1488 A
1824(*/)S
1440 V
(47761)210 648 A
1530 V
(47762)210 648 A
1620 V
(47763)210 648 A
1026(/*)S
1710 V
(47764)210 648 A
1068(*)S
(the)126 1152 A
(routine)294 1320 A
(that)168 1656 A
(does)168 1866 A
(the)126 2076 A
(scanning)336 2244 A
1800 V
(47765)210 648 A
1068(*/)S
1890 V
(47766)210 648 A
1980 V
(47767)210 648 A
(int)126 1026 A
2070 V
(47768)210 648 A
(_doscan\(register)672 1026 A
(FILE)168 1740 A
(*stream,)336 1950 A
(const)210 2328 A
(char)168 2580 A
(*format,)336 2790 A
(va_list)294 3168 A
(ap\))126 3504 A
2160 V
(47769)210 648 A
1026({)S
2250 V
(47770)210 648 A
(int)126 1362 A
(done)168 2034 A
2244(=)S
2328(0;)S
2706(/*)S
(number)252 2832 A
3126(of)S
(items)210 3252 A
(done)168 3504 A
3714(*/)S
2340 V
(47771)210 648 A
(int)126 1362 A
(nrchars)294 2034 A
2370(=)S
2454(0;)S
2706(/*)S
(number)252 2832 A
3126(of)S
(characters)420 3252 A
(read)168 3714 A
3924(*/)S
2430 V
(47772)210 648 A
(int)126 1362 A
(conv)168 2034 A
2244(=)S
2328(0;)S
2706(/*)S
2832(#)S
2916(of)S
(conversions)462 3042 A
3546(*/)S
2520 V
(47773)210 648 A
(int)126 1362 A
(base;)210 2034 A
2706(/*)S
(conversion)420 2832 A
(base)168 3294 A
3504(*/)S
2610 V
(47774)210 648 A
(unsigned)336 1362 A
(long)168 1740 A
(val;)168 2034 A
2706(/*)S
2832(an)S
(integer)294 2958 A
(value)210 3294 A
3546(*/)S
2700 V
(47775)210 648 A
(register)336 1362 A
(char)168 1740 A
(*str;)210 2034 A
2706(/*)S
(temporary)378 2832 A
(pointer)294 3252 A
3588(*/)S
2790 V
(47776)210 648 A
(char)168 1362 A
(*tmp_string;)504 2034 A
2706(/*)S
(ditto)210 2832 A
3084(*/)S
2880 V
(47777)210 648 A
(unsigned)336 1362 A
(width)210 2034 A
2286(=)S
2370(0;)S
2706(/*)S
(width)210 2832 A
3084(of)S
(field)210 3210 A
3462(*/)S
2970 V
(47778)210 648 A
(int)126 1362 A
(flags;)252 2034 A
2706(/*)S
(some)168 2832 A
(flags)210 3042 A
3294(*/)S
3060 V
(47779)210 648 A
(int)126 1362 A
(reverse;)336 2034 A
2706(/*)S
(reverse)294 2832 A
(the)126 3168 A
(checking)336 3336 A
3714(in)S
([...])210 3840 A
4092(*/)S
3150 V
(47780)210 648 A
(int)126 1362 A
(kind;)210 2034 A
3240 V
(47781)210 648 A
(register)336 1362 A
(int)126 1740 A
2034(ic)S
2160(=)S
(EOF;)168 2244 A
2706(/*)S
(the)126 2832 A
(input)210 3000 A
(character)378 3252 A
3672(*/)S
3330 V
(47782)210 648 A
(#ifndef)294 1026 A
(NOFLOAT)294 1362 A
3420 V
(47783)210 648 A
(long)168 1362 A
(double)252 1572 A
(ld_val;)294 2034 A
3510 V
(47784)210 648 A
(#endif)252 1026 A
3600 V
(47785)210 648 A
3690 V
(47786)210 648 A
1362(if)S
(\(!*format\))420 1488 A
(return)252 1950 A
2244(0;)S
3780 V
(47787)210 648 A
3870 V
(47788)210 648 A
(while)210 1362 A
(\(1\))126 1614 A
1782({)S
3960 V
(47789)210 648 A
1698(if)S
(\(isspace\(*format\)\))756 1824 A
2622({)S
4050 V
(47790)210 648 A
(while)210 2034 A
(\(isspace\(*format\)\))756 2286 A
4140 V
(47791)210 648 A
(format++;)378 2370 A
3042(/*)S
(skip)168 3168 A
(whitespace)420 3378 A
3840(*/)S
4230 V
(47792)210 648 A
2034(ic)S
2160(=)S
(getc\(stream\);)546 2244 A
4320 V
(47793)210 648 A
(nrchars++;)420 2034 A
4410 V
(47794)210 648 A
(while)210 2034 A
(\(isspace)336 2286 A
(\(ic\)\))210 2664 A
2916({)S
4500 V
(47795)210 648 A
2370(ic)S
2496(=)S
(getc\(stream\);)546 2580 A
4590 V
(47796)210 648 A
(nrchars++;)420 2370 A
4680 V
(47797)210 648 A
2034(})S
4770 V
(47798)210 648 A
2034(if)S
(\(ic)126 2160 A
2328(!=)S
(EOF\))168 2454 A
(ungetc\(ic,stream\);)756 2664 A
4860 V
(47799)210 648 A
(nrchars--;)420 2034 A
4950 V
(47800)210 648 A
1698(})S
5040 V
(47801)210 648 A
1698(if)S
(\(!*format\))420 1824 A
(break;)252 2286 A
2706(/*)S
(end)126 2832 A
3000(of)S
(format)252 3126 A
3420(*/)S
5130 V
(47802)210 648 A
5220 V
(47803)210 648 A
1698(if)S
(\(*format)336 1824 A
2202(!=)S
('%'\))168 2328 A
2538({)S
5310 V
(47804)210 648 A
2034(ic)S
2160(=)S
(getc\(stream\);)546 2244 A
5400 V
(47805)210 648 A
(nrchars++;)420 2034 A
5490 V
(47806)210 648 A
2034(if)S
(\(ic)126 2160 A
2328(!=)S
(*format++\))420 2454 A
(break;)252 2916 A
3378(/*)S
(error)210 3504 A
3756(*/)S
5580 V
(47807)210 648 A
(continue;)378 2034 A
5670 V
(47808)210 648 A
1698(})S
5760 V
(47809)210 648 A
(format++;)378 1698 A
5850 V
(47810)210 648 A
1698(if)S
(\(*format)336 1824 A
2202(==)S
('%'\))168 2328 A
2538({)S
5940 V
(47811)210 648 A
2034(ic)S
2160(=)S
(getc\(stream\);)546 2244 A
6030 V
(47812)210 648 A
(nrchars++;)420 2034 A
6120 V
(47813)210 648 A
2034(if)S
(\(ic)126 2160 A
2328(==)S
('%'\))168 2454 A
2664({)S
6210 V
(47814)210 648 A
(format++;)378 2370 A
8418 V
EP
%%Page: 438 438
BP
/slant 0 def
/height 0 def
630 V
12 B
(438)180 648 A
11 R
1951(File:)S
(src/lib/stdio/doscan.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(47815)210 648 A
(continue;)378 2370 A
990 V
(47816)210 648 A
2034(})S
1080 V
(47817)210 648 A
(else)168 2034 A
(break;)252 2244 A
1170 V
(47818)210 648 A
1698(})S
1260 V
(47819)210 648 A
(flags)210 1698 A
1950(=)S
2034(0;)S
1350 V
(47820)210 648 A
1698(if)S
(\(*format)336 1824 A
2202(==)S
('*'\))168 2328 A
2538({)S
1440 V
(47821)210 648 A
(format++;)378 2034 A
1530 V
(47822)210 648 A
(flags)210 2034 A
2286(|=)S
(FL_NOASSIGN;)504 2412 A
1620 V
(47823)210 648 A
1698(})S
1710 V
(47824)210 648 A
1698(if)S
(\(isdigit)336 1824 A
(\(*format\)\))420 2202 A
2664({)S
1800 V
(47825)210 648 A
(flags)210 2034 A
2286(|=)S
(FL_WIDTHSPEC;)546 2412 A
1890 V
(47826)210 648 A
(for)126 2034 A
(\(width)252 2202 A
2496(=)S
2580(0;)S
(isdigit)294 2706 A
(\(*format\);\))462 3042 A
1980 V
(47827)210 648 A
(width)210 2370 A
2622(=)S
(width)210 2706 A
2958(*)S
3042(10)S
3168(+)S
(*format++)378 3252 A
3672(-)S
('0';)168 3756 A
2070 V
(47828)210 648 A
1698(})S
2160 V
(47829)210 648 A
2250 V
(47830)210 648 A
(switch)252 1698 A
(\(*format\))378 1992 A
2412({)S
2340 V
(47831)210 648 A
(case)168 1698 A
('h':)168 1908 A
(flags)210 2118 A
2370(|=)S
(FL_SHORT;)378 2496 A
(format++;)378 2916 A
(break;)252 3336 A
2430 V
(47832)210 648 A
(case)168 1698 A
('l':)168 1908 A
(flags)210 2118 A
2370(|=)S
(FL_LONG;)336 2496 A
(format++;)378 2874 A
(break;)252 3294 A
2520 V
(47833)210 648 A
(case)168 1698 A
('L':)168 1908 A
(flags)210 2118 A
2370(|=)S
(FL_LONGDOUBLE;)588 2496 A
(format++;)378 3126 A
(break;)252 3546 A
2610 V
(47834)210 648 A
1698(})S
2700 V
(47835)210 648 A
(kind)168 1698 A
1908(=)S
(*format;)336 1992 A
2790 V
(47836)210 648 A
1698(if)S
(\(\(kind)252 1824 A
2118(!=)S
('c'\))168 2244 A
2454(&&)S
(\(kind)210 2580 A
2832(!=)S
('['\))168 2958 A
3168(&&)S
(\(kind)210 3294 A
3546(!=)S
('n'\)\))210 3672 A
3924({)S
2880 V
(47837)210 648 A
2034(do)S
2160({)S
2970 V
(47838)210 648 A
2370(ic)S
2496(=)S
(getc\(stream\);)546 2580 A
3060 V
(47839)210 648 A
(nrchars++;)420 2370 A
3150 V
(47840)210 648 A
2034(})S
(while)210 2118 A
(\(isspace\(ic\)\);)588 2370 A
3240 V
(47841)210 648 A
2034(if)S
(\(ic)126 2160 A
2328(==)S
(EOF\))168 2454 A
(break;)252 2664 A
3378(/*)S
(outer)210 3504 A
(while)210 3756 A
4008(*/)S
3330 V
(47842)210 648 A
1698(})S
(else)168 1782 A
1992(if)S
(\(kind)210 2118 A
2370(!=)S
('n'\))168 2496 A
2706({)S
3378(/*)S
3504(%c)S
3630(or)S
3756(%[)S
3882(*/)S
3420 V
(47843)210 648 A
2034(ic)S
2160(=)S
(getc\(stream\);)546 2244 A
3510 V
(47844)210 648 A
2034(if)S
(\(ic)126 2160 A
2328(==)S
(EOF\))168 2454 A
(break;)252 2664 A
3378(/*)S
(outer)210 3504 A
(while)210 3756 A
4008(*/)S
3600 V
(47845)210 648 A
(nrchars++;)420 2034 A
3690 V
(47846)210 648 A
1698(})S
3780 V
(47847)210 648 A
(switch)252 1698 A
(\(kind\))252 1992 A
2286({)S
3870 V
(47848)210 648 A
(default:)336 1698 A
3960 V
(47849)210 648 A
2034(/*)S
(not)126 2160 A
(recognized,)462 2328 A
(like)168 2832 A
3042(%q)S
3168(*/)S
4050 V
(47850)210 648 A
(return)252 2034 A
(conv)168 2328 A
2538(||)S
(\(ic)126 2664 A
2832(!=)S
(EOF\))168 2958 A
3168(?)S
(done)168 3252 A
3462(:)S
(EOF;)168 3546 A
4140 V
(47851)210 648 A
(break;)252 2034 A
4230 V
(47852)210 648 A
(case)168 1698 A
('n':)168 1908 A
4320 V
(47853)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
3210({)S
3378(/*)S
(silly,)252 3504 A
(though)252 3798 A
4092(*/)S
4410 V
(47854)210 648 A
2370(if)S
(\(flags)252 2496 A
2790(&)S
(FL_SHORT\))378 2874 A
4500 V
(47855)210 648 A
(*va_arg\(ap,)462 2706 A
(short)210 3210 A
3462(*\))S
3588(=)S
(\(short\))294 3672 A
(nrchars;)336 4008 A
4590 V
(47856)210 648 A
(else)168 2370 A
2580(if)S
(\(flags)252 2706 A
3000(&)S
(FL_LONG\))336 3084 A
4680 V
(47857)210 648 A
(*va_arg\(ap,)462 2706 A
(long)168 3210 A
3420(*\))S
3546(=)S
(\(long\))252 3630 A
(nrchars;)336 3924 A
4770 V
(47858)210 648 A
(else)168 2370 A
4860 V
(47859)210 648 A
(*va_arg\(ap,)462 2706 A
(int)126 3210 A
3378(*\))S
3504(=)S
(\(int\))210 3588 A
(nrchars;)336 3840 A
4950 V
(47860)210 648 A
2034(})S
5040 V
(47861)210 648 A
(break;)252 2034 A
5130 V
(47862)210 648 A
(case)168 1698 A
('p':)168 1908 A
2706(/*)S
(pointer)294 2832 A
3168(*/)S
5220 V
(47863)210 648 A
(set_pointer\(flags\);)798 2034 A
5310 V
(47864)210 648 A
2034(/*)S
(fallthrough)462 2160 A
2664(*/)S
5400 V
(47865)210 648 A
(case)168 1698 A
('b':)168 1908 A
2706(/*)S
(binary)252 2832 A
3126(*/)S
5490 V
(47866)210 648 A
(case)168 1698 A
('d':)168 1908 A
2706(/*)S
(decimal)294 2832 A
3168(*/)S
5580 V
(47867)210 648 A
(case)168 1698 A
('i':)168 1908 A
2706(/*)S
(general)294 2832 A
(integer)294 3168 A
3504(*/)S
5670 V
(47868)210 648 A
(case)168 1698 A
('o':)168 1908 A
2706(/*)S
(octal)210 2832 A
3084(*/)S
5760 V
(47869)210 648 A
(case)168 1698 A
('u':)168 1908 A
2706(/*)S
(unsigned)336 2832 A
3210(*/)S
5850 V
(47870)210 648 A
(case)168 1698 A
('x':)168 1908 A
2706(/*)S
(hexadecimal)462 2832 A
3336(*/)S
5940 V
(47871)210 648 A
(case)168 1698 A
('X':)168 1908 A
2706(/*)S
(ditto)210 2832 A
3084(*/)S
6030 V
(47872)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_WIDTHSPEC\))546 2622 A
3210(||)S
(width)210 3336 A
3588(>)S
(NUMLEN\))294 3672 A
6120 V
(47873)210 648 A
(width)210 2370 A
2622(=)S
(NUMLEN;)294 2706 A
6210 V
(47874)210 648 A
2034(if)S
(\(!width\))336 2160 A
(return)252 2538 A
(done;)210 2832 A
8418 V
EP
%%Page: 439 439
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/stdio/doscan.c)941 2184 A
12 B
(439)180 4248 A
900 V
7 LST
(47875)210 648 A
990 V
(47876)210 648 A
(str)126 2034 A
2202(=)S
(o_collect\(ic,)546 2286 A
(stream,)294 2874 A
(kind,)210 3210 A
(width,)252 3462 A
(&base\);)294 3756 A
1080 V
(47877)210 648 A
2034(if)S
(\(str)168 2160 A
2370(<)S
(inp_buf)294 2454 A
1170 V
(47878)210 648 A
2202(||)S
(\(str)168 2328 A
2538(==)S
(inp_buf)294 2664 A
1260 V
(47879)210 648 A
2538(&&)S
(\(*str)210 2664 A
2916(==)S
('-')126 3042 A
1350 V
(47880)210 648 A
2706(||)S
(*str)168 2832 A
3042(==)S
('+'\)\)\))252 3168 A
(return)252 3462 A
(done;)210 3756 A
1440 V
(47881)210 648 A
1530 V
(47882)210 648 A
2034(/*)S
1620 V
(47883)210 648 A
2076(*)S
(Although)336 2160 A
(the)126 2538 A
(length)252 2706 A
3000(of)S
(the)126 3126 A
(number)252 3294 A
3588(is)S
(str-inp_buf+1)546 3714 A
1710 V
(47884)210 648 A
2076(*)S
2160(we)S
(don't)210 2286 A
(add)126 2538 A
(the)126 2706 A
2874(1)S
(since)210 2958 A
3210(we)S
(counted)294 3336 A
3672(it)S
(already)294 3798 A
1800 V
(47885)210 648 A
2076(*/)S
1890 V
(47886)210 648 A
(nrchars)294 2034 A
2370(+=)S
(str)126 2496 A
2664(-)S
(inp_buf;)336 2748 A
1980 V
(47887)210 648 A
2070 V
(47888)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
3210({)S
2160 V
(47889)210 648 A
2370(if)S
(\(kind)210 2496 A
2748(==)S
('d')126 2874 A
3042(||)S
(kind)168 3168 A
3378(==)S
('i'\))168 3504 A
2250 V
(47890)210 648 A
(val)126 2538 A
2706(=)S
(strtol\(inp_buf,)630 2790 A
(&tmp_string,)504 3462 A
(base\);)252 4008 A
2340 V
(47891)210 648 A
(else)168 2370 A
2430 V
(47892)210 648 A
(val)126 2538 A
2706(=)S
(strtoul\(inp_buf,)672 2790 A
(&tmp_string,)504 3504 A
(base\);)252 4050 A
2520 V
(47893)210 648 A
2370(if)S
(\(flags)252 2496 A
2790(&)S
(FL_LONG\))336 2874 A
2610 V
(47894)210 648 A
(*va_arg\(ap,)462 2706 A
(unsigned)336 3210 A
(long)168 3588 A
3798(*\))S
3924(=)S
(\(unsigned)378 4008 A
(long\))210 4428 A
(val;)168 4680 A
2700 V
(47895)210 648 A
(else)168 2370 A
2580(if)S
(\(flags)252 2706 A
3000(&)S
(FL_SHORT\))378 3084 A
2790 V
(47896)210 648 A
(*va_arg\(ap,)462 2706 A
(unsigned)336 3210 A
(short)210 3588 A
3840(*\))S
3966(=)S
(\(unsigned)378 4050 A
(short\))252 4470 A
(val;)168 4764 A
2880 V
(47897)210 648 A
(else)168 2370 A
2970 V
(47898)210 648 A
(*va_arg\(ap,)462 2706 A
(unsigned)336 3210 A
3588(*\))S
3714(=)S
(\(unsigned\))420 3798 A
(val;)168 4260 A
3060 V
(47899)210 648 A
2034(})S
3150 V
(47900)210 648 A
(break;)252 2034 A
3240 V
(47901)210 648 A
(case)168 1698 A
('c':)168 1908 A
3330 V
(47902)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_WIDTHSPEC\)\))588 2622 A
3420 V
(47903)210 648 A
(width)210 2370 A
2622(=)S
2706(1;)S
3510 V
(47904)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
3600 V
(47905)210 648 A
(str)126 2370 A
2538(=)S
(va_arg\(ap,)420 2622 A
(char)168 3084 A
(*\);)126 3294 A
3690 V
(47906)210 648 A
2034(if)S
(\(!width\))336 2160 A
(return)252 2538 A
(done;)210 2832 A
3780 V
(47907)210 648 A
3870 V
(47908)210 648 A
(while)210 2034 A
(\(width)252 2286 A
2580(&&)S
2706(ic)S
2832(!=)S
(EOF\))168 2958 A
3168({)S
3960 V
(47909)210 648 A
2370(if)S
(\(!\(flags)336 2496 A
2874(&)S
(FL_NOASSIGN\)\))546 2958 A
4050 V
(47910)210 648 A
(*str++)252 2706 A
3000(=)S
(\(char\))252 3084 A
(ic;)126 3378 A
4140 V
(47911)210 648 A
2370(if)S
(\(--width\))378 2496 A
2916({)S
4230 V
(47912)210 648 A
2706(ic)S
2832(=)S
(getc\(stream\);)546 2916 A
4320 V
(47913)210 648 A
(nrchars++;)420 2706 A
4410 V
(47914)210 648 A
2370(})S
4500 V
(47915)210 648 A
2034(})S
4590 V
(47916)210 648 A
4680 V
(47917)210 648 A
2034(if)S
(\(width\))294 2160 A
2496({)S
4770 V
(47918)210 648 A
2370(if)S
(\(ic)126 2496 A
2664(!=)S
(EOF\))168 2790 A
(ungetc\(ic,stream\);)756 3000 A
4860 V
(47919)210 648 A
(nrchars--;)420 2370 A
4950 V
(47920)210 648 A
2034(})S
5040 V
(47921)210 648 A
(break;)252 2034 A
5130 V
(47922)210 648 A
(case)168 1698 A
('s':)168 1908 A
5220 V
(47923)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_WIDTHSPEC\)\))588 2622 A
5310 V
(47924)210 648 A
(width)210 2370 A
2622(=)S
(0xffff;)294 2706 A
5400 V
(47925)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
5490 V
(47926)210 648 A
(str)126 2370 A
2538(=)S
(va_arg\(ap,)420 2622 A
(char)168 3084 A
(*\);)126 3294 A
5580 V
(47927)210 648 A
2034(if)S
(\(!width\))336 2160 A
(return)252 2538 A
(done;)210 2832 A
5670 V
(47928)210 648 A
5760 V
(47929)210 648 A
(while)210 2034 A
(\(width)252 2286 A
2580(&&)S
2706(ic)S
2832(!=)S
(EOF)126 2958 A
3126(&&)S
(!isspace\(ic\)\))546 3252 A
3840({)S
5850 V
(47930)210 648 A
2370(if)S
(\(!\(flags)336 2496 A
2874(&)S
(FL_NOASSIGN\)\))546 2958 A
5940 V
(47931)210 648 A
(*str++)252 2706 A
3000(=)S
(\(char\))252 3084 A
(ic;)126 3378 A
6030 V
(47932)210 648 A
2370(if)S
(\(--width\))378 2496 A
2916({)S
6120 V
(47933)210 648 A
2706(ic)S
2832(=)S
(getc\(stream\);)546 2916 A
6210 V
(47934)210 648 A
(nrchars++;)420 2706 A
8418 V
EP
%%Page: 440 440
BP
/slant 0 def
/height 0 def
630 V
12 B
(440)180 648 A
11 R
1951(File:)S
(src/lib/stdio/doscan.c)941 2184 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(47935)210 648 A
2370(})S
990 V
(47936)210 648 A
2034(})S
1080 V
(47937)210 648 A
2034(/*)S
(terminate)378 2160 A
(the)126 2580 A
(string)252 2748 A
3042(*/)S
1170 V
(47938)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
1260 V
(47939)210 648 A
(*str)168 2370 A
2580(=)S
('\\0';)210 2664 A
1350 V
(47940)210 648 A
2034(if)S
(\(width\))294 2160 A
2496({)S
1440 V
(47941)210 648 A
2370(if)S
(\(ic)126 2496 A
2664(!=)S
(EOF\))168 2790 A
(ungetc\(ic,stream\);)756 3000 A
1530 V
(47942)210 648 A
(nrchars--;)420 2370 A
1620 V
(47943)210 648 A
2034(})S
1710 V
(47944)210 648 A
(break;)252 2034 A
1800 V
(47945)210 648 A
(case)168 1698 A
('[':)168 1908 A
1890 V
(47946)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_WIDTHSPEC\)\))588 2622 A
1980 V
(47947)210 648 A
(width)210 2370 A
2622(=)S
(0xffff;)294 2706 A
2070 V
(47948)210 648 A
2034(if)S
(\(!width\))336 2160 A
(return)252 2538 A
(done;)210 2832 A
2160 V
(47949)210 648 A
2250 V
(47950)210 648 A
2034(if)S
2160(\()S
(*++format)378 2244 A
2664(==)S
('\303')126 2790 A
2958(\))S
3042({)S
2340 V
(47951)210 648 A
(reverse)294 2370 A
2706(=)S
2790(1;)S
2430 V
(47952)210 648 A
(format++;)378 2370 A
2520 V
(47953)210 648 A
2034(})S
(else)168 2118 A
2610 V
(47954)210 648 A
(reverse)294 2370 A
2706(=)S
2790(0;)S
2700 V
(47955)210 648 A
2790 V
(47956)210 648 A
(for)126 2034 A
(\(str)168 2202 A
2412(=)S
(Xtable;)294 2496 A
(str)126 2832 A
3000(<)S
(&Xtable[NR_CHARS])714 3084 A
2880 V
(47957)210 648 A
3378(;)S
(str++\))252 3462 A
2970 V
(47958)210 648 A
(*str)168 2370 A
2580(=)S
2664(0;)S
3060 V
(47959)210 648 A
3150 V
(47960)210 648 A
2034(if)S
(\(*format)336 2160 A
2538(==)S
(']'\))168 2664 A
(Xtable[*format++])714 2874 A
3630(=)S
3714(1;)S
3240 V
(47961)210 648 A
3330 V
(47962)210 648 A
(while)210 2034 A
(\(*format)336 2286 A
2664(&&)S
(*format)294 2790 A
3126(!=)S
(']'\))168 3252 A
3462({)S
3420 V
(47963)210 648 A
(Xtable[*format++])714 2370 A
3126(=)S
3210(1;)S
3510 V
(47964)210 648 A
2370(if)S
(\(*format)336 2496 A
2874(==)S
('-'\))168 3000 A
3210({)S
3600 V
(47965)210 648 A
(format++;)378 2706 A
3690 V
(47966)210 648 A
2706(if)S
(\(*format)336 2832 A
3780 V
(47967)210 648 A
2874(&&)S
(*format)294 3000 A
3336(!=)S
(']')126 3462 A
3870 V
(47968)210 648 A
2874(&&)S
(*\(format\))378 3000 A
3420(>=)S
(*\(format)336 3546 A
(-2\)\))168 3924 A
4134({)S
3960 V
(47969)210 648 A
(int)126 3042 A
3210(c;)S
4050 V
(47970)210 648 A
4140 V
(47971)210 648 A
(for\()168 3042 A
3252(c)S
3336(=)S
(*\(format)336 3420 A
(-2\))126 3798 A
3966(+)S
4050(1)S
4230 V
(47972)210 648 A
3210(;)S
3294(c)S
3378(<=)S
(*format)294 3504 A
3840(;)S
(c++\))168 3924 A
4320 V
(47973)210 648 A
(Xtable[c])378 3378 A
3798(=)S
3882(1;)S
4410 V
(47974)210 648 A
(format++;)378 3042 A
4500 V
(47975)210 648 A
2706(})S
4590 V
(47976)210 648 A
(else)168 2706 A
(Xtable['-'])462 2916 A
3420(=)S
3504(1;)S
4680 V
(47977)210 648 A
2370(})S
4770 V
(47978)210 648 A
2034(})S
4860 V
(47979)210 648 A
2034(if)S
(\(!*format\))420 2160 A
(return)252 2622 A
(done;)210 2916 A
4950 V
(47980)210 648 A
5040 V
(47981)210 648 A
2034(if)S
(\(!\(Xtable[ic])546 2160 A
2748(\303)S
(reverse\)\))378 2832 A
(return)252 3252 A
(done;)210 3546 A
5130 V
(47982)210 648 A
5220 V
(47983)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
5310 V
(47984)210 648 A
(str)126 2370 A
2538(=)S
(va_arg\(ap,)420 2622 A
(char)168 3084 A
(*\);)126 3294 A
5400 V
(47985)210 648 A
5490 V
(47986)210 648 A
2034(do)S
2160({)S
5580 V
(47987)210 648 A
2370(if)S
(\(!\(flags)336 2496 A
2874(&)S
(FL_NOASSIGN\)\))546 2958 A
5670 V
(47988)210 648 A
(*str++)252 2706 A
3000(=)S
(\(char\))252 3084 A
(ic;)126 3378 A
5760 V
(47989)210 648 A
2370(if)S
(\(--width\))378 2496 A
2916({)S
5850 V
(47990)210 648 A
2706(ic)S
2832(=)S
(getc\(stream\);)546 2916 A
5940 V
(47991)210 648 A
(nrchars++;)420 2706 A
6030 V
(47992)210 648 A
2370(})S
6120 V
(47993)210 648 A
2034(})S
(while)210 2118 A
(\(width)252 2370 A
2664(&&)S
2790(ic)S
2916(!=)S
(EOF)126 3042 A
3210(&&)S
(\(Xtable[ic])462 3336 A
3840(\303)S
(reverse\)\);)420 3924 A
6210 V
(47994)210 648 A
8418 V
EP
%%Page: 441 441
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1951(File:)S
(src/lib/stdio/doscan.c)941 2184 A
12 B
(441)180 4248 A
900 V
7 LST
(47995)210 648 A
2034(if)S
(\(width\))294 2160 A
2496({)S
990 V
(47996)210 648 A
2370(if)S
(\(ic)126 2496 A
2664(!=)S
(EOF\))168 2790 A
(ungetc\(ic,)420 3000 A
(stream\);)336 3462 A
1080 V
(47997)210 648 A
(nrchars--;)420 2370 A
1170 V
(47998)210 648 A
2034(})S
1260 V
(47999)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
3210({)S
3378(/*)S
(terminate)378 3504 A
(string)252 3924 A
4218(*/)S
1350 V
(48000)210 648 A
(*str)168 2370 A
2580(=)S
('\\0';)210 2664 A
1440 V
(48001)210 648 A
2034(})S
1530 V
(48002)210 648 A
(break;)252 2034 A
1620 V
(48003)210 648 A
(#ifndef)294 1026 A
(NOFLOAT)294 1362 A
1710 V
(48004)210 648 A
(case)168 1698 A
('e':)168 1908 A
1800 V
(48005)210 648 A
(case)168 1698 A
('E':)168 1908 A
1890 V
(48006)210 648 A
(case)168 1698 A
('f':)168 1908 A
1980 V
(48007)210 648 A
(case)168 1698 A
('g':)168 1908 A
2070 V
(48008)210 648 A
(case)168 1698 A
('G':)168 1908 A
2160 V
(48009)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_WIDTHSPEC\))546 2622 A
3210(||)S
(width)210 3336 A
3588(>)S
(NUMLEN\))294 3672 A
2250 V
(48010)210 648 A
(width)210 2370 A
2622(=)S
(NUMLEN;)294 2706 A
2340 V
(48011)210 648 A
2430 V
(48012)210 648 A
2034(if)S
(\(!width\))336 2160 A
(return)252 2538 A
(done;)210 2832 A
2520 V
(48013)210 648 A
(str)126 2034 A
2202(=)S
(f_collect\(ic,)546 2286 A
(stream,)294 2874 A
(width\);)294 3210 A
2610 V
(48014)210 648 A
2700 V
(48015)210 648 A
2034(if)S
(\(str)168 2160 A
2370(<)S
(inp_buf)294 2454 A
2790 V
(48016)210 648 A
2202(||)S
(\(str)168 2328 A
2538(==)S
(inp_buf)294 2664 A
2880 V
(48017)210 648 A
2370(&&)S
(\(*str)210 2496 A
2748(==)S
('-')126 2874 A
2970 V
(48018)210 648 A
2538(||)S
(*str)168 2664 A
2874(==)S
('+'\)\)\))252 3000 A
(return)252 3294 A
(done;)210 3588 A
3060 V
(48019)210 648 A
3150 V
(48020)210 648 A
2034(/*)S
3240 V
(48021)210 648 A
2076(*)S
(Although)336 2160 A
(the)126 2538 A
(length)252 2706 A
3000(of)S
(the)126 3126 A
(number)252 3294 A
3588(is)S
(str-inp_buf+1)546 3714 A
3330 V
(48022)210 648 A
2076(*)S
2160(we)S
(don't)210 2286 A
(add)126 2538 A
(the)126 2706 A
2874(1)S
(since)210 2958 A
3210(we)S
(counted)294 3336 A
3672(it)S
(already)294 3798 A
3420 V
(48023)210 648 A
2076(*/)S
3510 V
(48024)210 648 A
(nrchars)294 2034 A
2370(+=)S
(str)126 2496 A
2664(-)S
(inp_buf;)336 2748 A
3600 V
(48025)210 648 A
3690 V
(48026)210 648 A
2034(if)S
(\(!\(flags)336 2160 A
2538(&)S
(FL_NOASSIGN\)\))546 2622 A
3210({)S
3780 V
(48027)210 648 A
(ld_val)252 2370 A
2664(=)S
(strtod\(inp_buf,)630 2748 A
(&tmp_string\);)546 3420 A
3870 V
(48028)210 648 A
2370(if)S
(\(flags)252 2496 A
2790(&)S
(FL_LONGDOUBLE\))588 2874 A
3960 V
(48029)210 648 A
(*va_arg\(ap,)462 2706 A
(long)168 3210 A
(double)252 3420 A
3714(*\))S
3840(=)S
(\(long)210 3924 A
(double\))294 4176 A
(ld_val;)294 4512 A
4050 V
(48030)210 648 A
(else)168 2370 A
4140 V
(48031)210 648 A
2538(if)S
(\(flags)252 2664 A
2958(&)S
(FL_LONG\))336 3042 A
4230 V
(48032)210 648 A
(*va_arg\(ap,)462 2706 A
(double)252 3210 A
3504(*\))S
3630(=)S
(\(double\))336 3714 A
(ld_val;)294 4092 A
4320 V
(48033)210 648 A
(else)168 2370 A
4410 V
(48034)210 648 A
(*va_arg\(ap,)462 2706 A
(float)210 3210 A
3462(*\))S
3588(=)S
(\(float\))294 3672 A
(ld_val;)294 4008 A
4500 V
(48035)210 648 A
2034(})S
4590 V
(48036)210 648 A
(break;)252 2034 A
4680 V
(48037)210 648 A
(#endif)252 1026 A
4770 V
(48038)210 648 A
1698(})S
2370(/*)S
(end)126 2496 A
(switch)252 2664 A
2958(*/)S
4860 V
(48039)210 648 A
(conv++;)294 1698 A
4950 V
(48040)210 648 A
1698(if)S
(\(!\(flags)336 1824 A
2202(&)S
(FL_NOASSIGN\))504 2286 A
2832(&&)S
(kind)168 2958 A
3168(!=)S
('n'\))168 3294 A
(done++;)294 3504 A
5040 V
(48041)210 648 A
(format++;)378 1698 A
5130 V
(48042)210 648 A
1362(})S
5220 V
(48043)210 648 A
(return)252 1362 A
(conv)168 1656 A
1866(||)S
(\(ic)126 1992 A
2160(!=)S
(EOF\))168 2286 A
2496(?)S
(done)168 2580 A
2790(:)S
(EOF;)168 2874 A
5310 V
(48044)210 648 A
1026(})S
8418 V
EP
%%Page: 442 442
BP
/slant 0 def
/height 0 def
630 V
12 B
(442)180 648 A
11 R
2012(File:)S
(src/lib/stdio/ecvt.c)819 2245 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/ecvt.c)840 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(48100)210 648 A
1026(/*)S
($Header:)336 1152 A
(ecvt.c,v)336 1530 A
(1.4)126 1908 A
(90/02/27)336 2076 A
(16:47:28)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
1440 V
(48101)210 648 A
1530 V
(48102)210 648 A
(#ifndef)294 1026 A
(NOFLOAT)294 1362 A
1620 V
(48103)210 648 A
1710 V
(48104)210 648 A
(#include)336 1026 A
("../ansi/ext_fmt.h")798 1698 A
1800 V
(48105)210 648 A
(void)168 1026 A
(_dbl_ext_cvt\(double)798 1236 A
(value,)252 2076 A
(struct)252 2370 A
(EXTEND)252 2664 A
(*e\);)168 2958 A
1890 V
(48106)210 648 A
(char)168 1026 A
(*_ext_str_cvt\(struct)840 1236 A
(EXTEND)252 2118 A
(*e,)126 2412 A
(int)126 2580 A
(ndigit,)294 2748 A
(int)126 3084 A
(*decpt,)294 3252 A
(int)126 3588 A
3756(*)S
(sign,)210 3840 A
(int)126 4092 A
(ecvtflag\);)420 4260 A
1980 V
(48107)210 648 A
2070 V
(48108)210 648 A
(static)252 1026 A
(char)168 1320 A
1530(*)S
2160 V
(48109)210 648 A
(cvt\(long)336 1026 A
(double)252 1404 A
(value,)252 1698 A
(int)126 1992 A
(ndigit,)294 2160 A
(int)126 2496 A
(*decpt,)294 2664 A
(int)126 3000 A
(*sign,)252 3168 A
(int)126 3462 A
(ecvtflag\))378 3630 A
2250 V
(48110)210 648 A
1026({)S
2340 V
(48111)210 648 A
(struct)252 1362 A
(EXTEND)252 1656 A
1950(e;)S
2430 V
(48112)210 648 A
2520 V
(48113)210 648 A
(_dbl_ext_cvt\(value,)798 1362 A
(&e\);)168 2202 A
2610 V
(48114)210 648 A
(return)252 1362 A
(_ext_str_cvt\(&e,)672 1656 A
(ndigit,)294 2370 A
(decpt,)252 2706 A
(sign,)210 3000 A
(ecvtflag\);)420 3252 A
2700 V
(48115)210 648 A
1026(})S
2880 V
(48117)210 648 A
(char)168 1026 A
1236(*)S
2970 V
(48118)210 648 A
(_ecvt\(long)420 1026 A
(double)252 1488 A
(value,)252 1782 A
(int)126 2076 A
(ndigit,)294 2244 A
(int)126 2580 A
(*decpt,)294 2748 A
(int)126 3084 A
(*sign\))252 3252 A
3060 V
(48119)210 648 A
1026({)S
3150 V
(48120)210 648 A
3240 V
(48121)210 648 A
(return)252 1362 A
(cvt\(value,)420 1656 A
(ndigit,)294 2118 A
(decpt,)252 2454 A
(sign,)210 2748 A
(1\);)126 3000 A
3330 V
(48122)210 648 A
1026(})S
3510 V
(48124)210 648 A
(char)168 1026 A
1236(*)S
3600 V
(48125)210 648 A
(_fcvt\(long)420 1026 A
(double)252 1488 A
(value,)252 1782 A
(int)126 2076 A
(ndigit,)294 2244 A
(int)126 2580 A
(*decpt,)294 2748 A
(int)126 3084 A
(*sign\))252 3252 A
3690 V
(48126)210 648 A
1026({)S
3780 V
(48127)210 648 A
(return)252 1362 A
(cvt\(value,)420 1656 A
(ndigit,)294 2118 A
(decpt,)252 2454 A
(sign,)210 2748 A
(0\);)126 3000 A
3870 V
(48128)210 648 A
1026(})S
4050 V
(48130)210 648 A
(#endif)252 1026 A
1362(/*)S
(NOFLOAT)294 1488 A
1824(*/)S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/fclose.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(48200)210 648 A
1026(/*)S
5040 V
(48201)210 648 A
1068(*)S
(fclose.c)336 1152 A
1530(-)S
(flush)210 1614 A
1866(a)S
(stream)252 1950 A
(and)126 2244 A
(close)210 2412 A
(the)126 2664 A
(file)168 2832 A
5130 V
(48202)210 648 A
1068(*/)S
5220 V
(48203)210 648 A
1026(/*)S
($Header:)336 1152 A
(fclose.c,v)420 1530 A
(1.4)126 1992 A
(90/01/22)336 2160 A
(11:10:54)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
5310 V
(48204)210 648 A
5400 V
(48205)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5490 V
(48206)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5580 V
(48207)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5670 V
(48208)210 648 A
5760 V
(48209)210 648 A
(int)126 1026 A
(_close\(int)420 1194 A
(d\);)126 1656 A
5850 V
(48210)210 648 A
5940 V
(48211)210 648 A
(int)126 1026 A
6030 V
(48212)210 648 A
(fclose\(FILE)462 1026 A
(*fp\))168 1530 A
6120 V
(48213)210 648 A
1026({)S
6210 V
(48214)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i,)S
(retval)252 2034 A
2328(=)S
2412(0;)S
8418 V
EP
%%Page: 443 443
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1972(File:)S
(src/lib/stdio/fclose.c)899 2205 A
12 B
(443)180 4248 A
900 V
7 LST
(48215)210 648 A
990 V
(48216)210 648 A
(for)126 1362 A
(\(i=0;)210 1530 A
(i<FOPEN_MAX;)504 1782 A
(i++\))168 2328 A
1080 V
(48217)210 648 A
1698(if)S
(\(fp)126 1824 A
1992(==)S
(__iotab[i]\))462 2118 A
2622({)S
1170 V
(48218)210 648 A
(__iotab[i])420 2034 A
2496(=)S
2580(0;)S
1260 V
(48219)210 648 A
(break;)252 2034 A
1350 V
(48220)210 648 A
1698(})S
1440 V
(48221)210 648 A
1362(if)S
1488(\(i)S
1614(>=)S
(FOPEN_MAX\))420 1740 A
1530 V
(48222)210 648 A
(return)252 1698 A
(EOF;)168 1992 A
1620 V
(48223)210 648 A
1362(if)S
(\(fflush\(fp\)\))504 1488 A
(retval)252 2034 A
2328(=)S
(EOF;)168 2412 A
1710 V
(48224)210 648 A
1362(if)S
(\(_close\(fileno\(fp\)\)\))840 1488 A
(retval)252 2370 A
2664(=)S
(EOF;)168 2748 A
1800 V
(48225)210 648 A
1362(if)S
1488(\()S
(io_testflag\(fp,_IOMYBUF\))1008 1572 A
2622(&&)S
(fp->_buf)336 2748 A
3126(\))S
1890 V
(48226)210 648 A
(free\(\(void)420 1698 A
(*\)fp->_buf\);)504 2160 A
1980 V
(48227)210 648 A
1362(if)S
(\(fp)126 1488 A
1656(!=)S
(stdin)210 1782 A
2034(&&)S
2160(fp)S
2286(!=)S
(stdout)252 2412 A
2706(&&)S
2832(fp)S
2958(!=)S
(stderr\))294 3084 A
2070 V
(48228)210 648 A
(free\(\(void)420 1698 A
(*\)fp\);)252 2160 A
2160 V
(48229)210 648 A
(return)252 1362 A
(retval;)294 1656 A
2250 V
(48230)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/feof.c)840 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(48300)210 648 A
1026(/*)S
3240 V
(48301)210 648 A
1068(*)S
(feof.c)252 1152 A
1446(-)S
(test)168 1530 A
1740(if)S
(eof)126 1866 A
2034(on)S
2160(a)S
(stream)252 2244 A
(occurred)336 2538 A
3330 V
(48302)210 648 A
1068(*/)S
3420 V
(48303)210 648 A
1026(/*)S
($Header:)336 1152 A
(feof.c,v)336 1530 A
(1.2)126 1908 A
(89/12/18)336 2076 A
(15:00:39)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
3510 V
(48304)210 648 A
3600 V
(48305)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(48306)210 648 A
3780 V
(48307)210 648 A
(int)126 1026 A
3870 V
(48308)210 648 A
(\(feof\)\(FILE)462 1026 A
(*stream\))336 1530 A
3960 V
(48309)210 648 A
1026({)S
4050 V
(48310)210 648 A
(return)252 1362 A
(feof\(stream\);)546 1656 A
4140 V
(48311)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/ferror.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(48400)210 648 A
1026(/*)S
5040 V
(48401)210 648 A
1068(*)S
(ferror)252 1152 A
1446(.c)S
1572(-)S
(test)168 1656 A
1866(if)S
1992(an)S
(error)210 2118 A
2370(on)S
2496(a)S
(stream)252 2580 A
(occurred)336 2874 A
5130 V
(48402)210 648 A
1068(*/)S
5220 V
(48403)210 648 A
1026(/*)S
($Header:)336 1152 A
(ferror.c,v)420 1530 A
(1.2)126 1992 A
(89/12/18)336 2160 A
(15:00:47)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
5310 V
(48404)210 648 A
5400 V
(48405)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5490 V
(48406)210 648 A
5580 V
(48407)210 648 A
(int)126 1026 A
5670 V
(48408)210 648 A
(\(ferror\)\(FILE)546 1026 A
(*stream\))336 1614 A
5760 V
(48409)210 648 A
1026({)S
5850 V
(48410)210 648 A
(return)252 1362 A
(ferror\(stream\);)630 1656 A
5940 V
(48411)210 648 A
1026(})S
8418 V
EP
%%Page: 444 444
BP
/slant 0 def
/height 0 def
630 V
12 B
(444)180 648 A
11 R
1976(File:)S
(src/lib/stdio/fflush.c)891 2209 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/fflush.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(48500)210 648 A
1026(/*)S
1440 V
(48501)210 648 A
1068(*)S
(fflush.c)336 1152 A
1530(-)S
(flush)210 1614 A
(stream\(s\))378 1866 A
1530 V
(48502)210 648 A
1068(*/)S
1620 V
(48503)210 648 A
1026(/*)S
($Header:)336 1152 A
(fflush.c,v)420 1530 A
(1.6)126 1992 A
(90/04/04)336 2160 A
(15:52:01)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
1710 V
(48504)210 648 A
1800 V
(48505)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
1890 V
(48506)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1980 V
(48507)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
2070 V
(48508)210 648 A
2160 V
(48509)210 648 A
(ssize_t)294 1026 A
(_write\(int)420 1362 A
1824(d,)S
(const)210 1950 A
(char)168 2202 A
(*buf,)210 2412 A
(size_t)252 2664 A
(nbytes\);)336 2958 A
2250 V
(48510)210 648 A
(off_t)210 1026 A
(_lseek\(int)420 1278 A
(fildes,)294 1740 A
(off_t)210 2076 A
(offset,)294 2328 A
(int)126 2664 A
(whence\);)336 2832 A
2340 V
(48511)210 648 A
2430 V
(48512)210 648 A
(int)126 1026 A
2520 V
(48513)210 648 A
(fflush\(FILE)462 1026 A
(*stream\))336 1530 A
2610 V
(48514)210 648 A
1026({)S
2700 V
(48515)210 648 A
(int)126 1362 A
(count,)252 1530 A
(c1,)126 1824 A
1992(i,)S
(retval)252 2118 A
2412(=)S
2496(0;)S
2790 V
(48516)210 648 A
2880 V
(48517)210 648 A
1362(if)S
(\(!stream\))378 1488 A
1908({)S
2970 V
(48518)210 648 A
(for\(i=)252 1530 A
1824(0;)S
1950(i)S
2034(<)S
(FOPEN_MAX;)420 2118 A
(i++\))168 2580 A
3060 V
(48519)210 648 A
1698(if)S
(\(__iotab[i])462 1824 A
2328(&&)S
(fflush\(__iotab[i]\)\))798 2454 A
3150 V
(48520)210 648 A
(retval)252 2034 A
2328(=)S
(EOF;)168 2412 A
3240 V
(48521)210 648 A
(return)252 1530 A
(retval;)294 1824 A
3330 V
(48522)210 648 A
1362(})S
3420 V
(48523)210 648 A
3510 V
(48524)210 648 A
1362(if)S
(\(!stream->_buf)588 1488 A
3600 V
(48525)210 648 A
1530(||)S
(\(!io_testflag\(stream,)882 1656 A
(_IOREADING\))462 2580 A
3690 V
(48526)210 648 A
1698(&&)S
(!io_testflag\(stream,)840 1824 A
(_IOWRITING\)\)\))546 2706 A
3780 V
(48527)210 648 A
(return)252 1698 A
1992(0;)S
3870 V
(48528)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IOREADING\)\))504 2370 A
2916({)S
3960 V
(48529)210 648 A
1698(/*)S
(\(void\))252 1824 A
(fseek\(stream,)546 2118 A
(0L,)126 2706 A
(SEEK_CUR\);)420 2874 A
3336(*/)S
4050 V
(48530)210 648 A
(int)126 1698 A
(adjust)252 1866 A
2160(=)S
2244(0;)S
4140 V
(48531)210 648 A
1698(if)S
(\(stream->_buf)546 1824 A
2412(&&)S
(!io_testflag\(stream,_IONBF\)\))1176 2538 A
4230 V
(48532)210 648 A
(adjust)252 2034 A
2328(=)S
(stream->_count;)630 2412 A
4320 V
(48533)210 648 A
(stream->_count)588 1698 A
2328(=)S
2412(0;)S
4410 V
(48534)210 648 A
(_lseek\(fileno\(stream\),)924 1698 A
(\(off_t\))294 2664 A
(adjust,)294 3000 A
(SEEK_CUR\);)420 3336 A
4500 V
(48535)210 648 A
1698(if)S
(\(io_testflag\(stream,)840 1824 A
(_IOWRITE\)\))420 2706 A
4590 V
(48536)210 648 A
(stream->_flags)588 2034 A
2664(&=)S
(\304\(_IOREADING)504 2790 A
3336(|)S
(_IOWRITING\);)504 3420 A
4680 V
(48537)210 648 A
(stream->_ptr)504 1698 A
2244(=)S
(stream->_buf;)546 2328 A
4770 V
(48538)210 648 A
(return)252 1698 A
1992(0;)S
4860 V
(48539)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(io_testflag\(stream,)840 1782 A
(_IONBF\)\))336 2664 A
(return)252 3042 A
3336(0;)S
4950 V
(48540)210 648 A
5040 V
(48541)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IOREAD\)\))378 2370 A
3378(/*)S
("a")126 3504 A
3672(or)S
("+")126 3798 A
(mode)168 3966 A
4176(*/)S
5130 V
(48542)210 648 A
(stream->_flags)588 1698 A
2328(&=)S
(\304_IOWRITING;)504 2454 A
5220 V
(48543)210 648 A
5310 V
(48544)210 648 A
(count)210 1362 A
1614(=)S
(stream->_ptr)504 1698 A
2244(-)S
(stream->_buf;)546 2328 A
5400 V
(48545)210 648 A
(stream->_ptr)504 1362 A
1908(=)S
(stream->_buf;)546 1992 A
5490 V
(48546)210 648 A
5580 V
(48547)210 648 A
1362(if)S
1488(\()S
(count)210 1572 A
1824(<=)S
1950(0)S
2034(\))S
5670 V
(48548)210 648 A
(return)252 1698 A
1992(0;)S
5760 V
(48549)210 648 A
5850 V
(48550)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IOAPPEND\)\))462 2370 A
2874({)S
5940 V
(48551)210 648 A
1698(if)S
(\(_lseek\(fileno\(stream\),)966 1824 A
(0L,)126 2832 A
(SEEK_END\))378 3000 A
3420(==)S
(-1\))126 3546 A
3714({)S
6030 V
(48552)210 648 A
(stream->_flags)588 2034 A
2664(|=)S
(_IOERR;)294 2790 A
6120 V
(48553)210 648 A
(return)252 2034 A
(EOF;)168 2328 A
6210 V
(48554)210 648 A
1698(})S
8418 V
EP
%%Page: 445 445
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1976(File:)S
(src/lib/stdio/fflush.c)891 2209 A
12 B
(445)180 4248 A
900 V
7 LST
(48555)210 648 A
1362(})S
990 V
(48556)210 648 A
1362(c1)S
1488(=)S
(_write\(stream->_fd,)798 1572 A
(\(char)210 2412 A
(*\)stream->_buf,)630 2664 A
(count\);)294 3336 A
1080 V
(48557)210 648 A
1170 V
(48558)210 648 A
(stream->_count)588 1362 A
1992(=)S
2076(0;)S
1260 V
(48559)210 648 A
1350 V
(48560)210 648 A
1362(if)S
1488(\()S
(count)210 1572 A
1824(==)S
1950(c1)S
2076(\))S
1440 V
(48561)210 648 A
(return)252 1698 A
1992(0;)S
1530 V
(48562)210 648 A
1620 V
(48563)210 648 A
(stream->_flags)588 1362 A
1992(|=)S
(_IOERR;)294 2118 A
1710 V
(48564)210 648 A
(return)252 1362 A
(EOF;)168 1656 A
1800 V
(48565)210 648 A
1026(})S
1980 V
(48567)210 648 A
(void)168 1026 A
2070 V
(48568)210 648 A
(__cleanup\(void\))630 1026 A
2160 V
(48569)210 648 A
1026({)S
2250 V
(48570)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i;)S
2340 V
(48571)210 648 A
2430 V
(48572)210 648 A
(for\(i=)252 1362 A
1656(0;)S
1782(i)S
1866(<)S
(FOPEN_MAX;)420 1950 A
(i++\))168 2412 A
2520 V
(48573)210 648 A
1698(if)S
(\(__iotab[i])462 1824 A
2328(&&)S
(io_testflag\(__iotab[i],)966 2454 A
(_IOWRITING\)\))504 3462 A
2610 V
(48574)210 648 A
(\(void\))252 2034 A
(fflush\(__iotab[i]\);)798 2328 A
2700 V
(48575)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/stdio/fgetc.c)882 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(48600)210 648 A
1026(/*)S
3690 V
(48601)210 648 A
1068(*)S
(fgetc)210 1152 A
1404(-)S
(get)126 1488 A
1656(an)S
(unsigned)336 1782 A
(character)378 2160 A
(and)126 2580 A
(return)252 2748 A
3042(it)S
3168(as)S
3294(an)S
(int)126 3420 A
3780 V
(48602)210 648 A
1068(*/)S
3870 V
(48603)210 648 A
1026(/*)S
($Header:)336 1152 A
(fgetc.c,v)378 1530 A
(1.1)126 1950 A
(89/05/30)336 2118 A
(13:27:35)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
3960 V
(48604)210 648 A
4050 V
(48605)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
4140 V
(48606)210 648 A
4230 V
(48607)210 648 A
(int)126 1026 A
4320 V
(48608)210 648 A
(fgetc\(FILE)420 1026 A
(*stream\))336 1488 A
4410 V
(48609)210 648 A
1026({)S
4500 V
(48610)210 648 A
(return)252 1362 A
(getc\(stream\);)546 1656 A
4590 V
(48611)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/stdio/fgetpos.c)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(48700)210 648 A
1026(/*)S
5490 V
(48701)210 648 A
1068(*)S
(fgetpos.c)378 1152 A
1572(-)S
(get)126 1656 A
(the)126 1824 A
(position)336 1992 A
2370(in)S
(the)126 2496 A
(file)168 2664 A
5580 V
(48702)210 648 A
1068(*/)S
5670 V
(48703)210 648 A
1026(/*)S
($Header:)336 1152 A
(fgetpos.c,v)462 1530 A
(1.2)126 2034 A
(89/12/18)336 2202 A
(15:01:03)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
5760 V
(48704)210 648 A
5850 V
(48705)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5940 V
(48706)210 648 A
6030 V
(48707)210 648 A
(int)126 1026 A
6120 V
(48708)210 648 A
(fgetpos\(FILE)504 1026 A
(*stream,)336 1572 A
(fpos_t)252 1950 A
(*pos\))210 2244 A
6210 V
(48709)210 648 A
1026({)S
8418 V
EP
%%Page: 446 446
BP
/slant 0 def
/height 0 def
630 V
12 B
(446)180 648 A
11 R
1942(File:)S
(src/lib/stdio/fgetpos.c)959 2175 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(48710)210 648 A
(*pos)168 1362 A
1572(=)S
(ftell\(stream\);)588 1656 A
990 V
(48711)210 648 A
1362(if)S
(\(*pos)210 1488 A
1740(==)S
(-1\))126 1866 A
(return)252 2034 A
(-1;)126 2328 A
1080 V
(48712)210 648 A
(return)252 1362 A
1656(0;)S
1170 V
(48713)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/stdio/fgets.c)882 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(48800)210 648 A
1026(/*)S
1890 V
(48801)210 648 A
1068(*)S
(fgets.c)294 1152 A
1488(-)S
(get)126 1572 A
1740(a)S
(string)252 1824 A
(from)168 2118 A
2328(a)S
(file)168 2412 A
1980 V
(48802)210 648 A
1068(*/)S
2070 V
(48803)210 648 A
1026(/*)S
($Header:)336 1152 A
(fgets.c,v)378 1530 A
(1.3)126 1950 A
(89/12/18)336 2118 A
(15:01:11)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
2160 V
(48804)210 648 A
2250 V
(48805)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2340 V
(48806)210 648 A
2430 V
(48807)210 648 A
(char)168 1026 A
1236(*)S
2520 V
(48808)210 648 A
(fgets\(char)420 1026 A
(*s,)126 1488 A
(register)336 1656 A
(int)126 2034 A
2202(n,)S
(register)336 2328 A
(FILE)168 2706 A
(*stream\))336 2916 A
2610 V
(48809)210 648 A
1026({)S
2700 V
(48810)210 648 A
(register)336 1362 A
(int)126 1740 A
(ch;)126 1908 A
2790 V
(48811)210 648 A
(register)336 1362 A
(char)168 1740 A
(*ptr;)210 1950 A
2880 V
(48812)210 648 A
2970 V
(48813)210 648 A
(ptr)126 1362 A
1530(=)S
1614(s;)S
3060 V
(48814)210 648 A
(while)210 1362 A
(\(--n)168 1614 A
1824(>)S
1908(0)S
1992(&&)S
(\(ch)126 2118 A
2286(=)S
(getc\(stream\)\))546 2370 A
2958(!=)S
(EOF\))168 3084 A
3294({)S
3150 V
(48815)210 648 A
(*ptr++)252 1698 A
1992(=)S
(ch;)126 2076 A
3240 V
(48816)210 648 A
1698(if)S
1824(\()S
1908(ch)S
2034(==)S
('\\n'\))210 2160 A
3330 V
(48817)210 648 A
(break;)252 2034 A
3420 V
(48818)210 648 A
1362(})S
3510 V
(48819)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(==)S
(EOF\))168 1782 A
1992({)S
3600 V
(48820)210 648 A
1698(if)S
(\(feof\(stream\)\))588 1824 A
2454({)S
3690 V
(48821)210 648 A
2034(if)S
(\(ptr)168 2160 A
2370(==)S
2496(s\))S
(return)252 2622 A
(NULL;)210 2916 A
3780 V
(48822)210 648 A
1698(})S
(else)168 1782 A
(return)252 1992 A
(NULL;)210 2286 A
3870 V
(48823)210 648 A
1362(})S
3960 V
(48824)210 648 A
(*ptr)168 1362 A
1572(=)S
('\\0';)210 1656 A
4050 V
(48825)210 648 A
(return)252 1362 A
1656(s;)S
4140 V
(48826)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/fileno.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(48900)210 648 A
1026(/*)S
5040 V
(48901)210 648 A
1068(*)S
(fileno)252 1152 A
1446(.c)S
1572(-)S
(map)126 1656 A
1824(a)S
(stream)252 1908 A
2202(to)S
2328(a)S
(file)168 2412 A
(descriptor)420 2622 A
5130 V
(48902)210 648 A
1068(*/)S
5220 V
(48903)210 648 A
1026(/*)S
($Header:)336 1152 A
(fileno.c,v)420 1530 A
(1.1)126 1992 A
(89/12/18)336 2160 A
(14:59:31)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
5310 V
(48904)210 648 A
5400 V
(48905)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5490 V
(48906)210 648 A
5580 V
(48907)210 648 A
(int)126 1026 A
5670 V
(48908)210 648 A
(\(fileno\)\(FILE)546 1026 A
(*stream\))336 1614 A
5760 V
(48909)210 648 A
1026({)S
5850 V
(48910)210 648 A
(return)252 1362 A
(stream->_fd;)504 1656 A
5940 V
(48911)210 648 A
1026(})S
8418 V
EP
%%Page: 447 447
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1966(File:)S
(src/lib/stdio/fillbuf.c)910 2199 A
12 B
(447)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/fillbuf.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(49000)210 648 A
1026(/*)S
1440 V
(49001)210 648 A
1068(*)S
(fillbuf.c)378 1152 A
1572(-)S
(fill)168 1656 A
1866(a)S
(buffer)252 1950 A
1530 V
(49002)210 648 A
1068(*/)S
1620 V
(49003)210 648 A
1026(/*)S
($Header:)336 1152 A
(fillbuf.c,v)462 1530 A
(1.5)126 2034 A
(90/06/21)336 2202 A
(11:13:23)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1710 V
(49004)210 648 A
1800 V
(49005)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
1890 V
(49006)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
1980 V
(49007)210 648 A
(#endif)252 1026 A
2070 V
(49008)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2160 V
(49009)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
2250 V
(49010)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
2340 V
(49011)210 648 A
2430 V
(49012)210 648 A
(ssize_t)294 1026 A
(_read\(ssize_t)546 1362 A
1950(d,)S
(char)168 2076 A
(*buf,)210 2286 A
(size_t)252 2538 A
(nbytes\);)336 2832 A
2520 V
(49013)210 648 A
2610 V
(49014)210 648 A
(int)126 1026 A
2700 V
(49015)210 648 A
(__fillbuf\(register)756 1026 A
(FILE)168 1824 A
(*stream\))336 2034 A
2790 V
(49016)210 648 A
1026({)S
2880 V
(49017)210 648 A
(static)252 1362 A
(unsigned)336 1656 A
(char)168 2034 A
(ch[FOPEN_MAX];)588 2244 A
2970 V
(49018)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i;)S
3060 V
(49019)210 648 A
3150 V
(49020)210 648 A
(stream->_count)588 1362 A
1992(=)S
2076(0;)S
3240 V
(49021)210 648 A
1362(if)S
(\(fileno\(stream\))630 1488 A
2160(<)S
2244(0\))S
(return)252 2370 A
(EOF;)168 2664 A
3330 V
(49022)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(\(_IOEOF)294 2370 A
2706(|)S
(_IOERR)252 2790 A
(\)\)\))126 3084 A
(return)252 3252 A
(EOF;)168 3546 A
3420 V
(49023)210 648 A
1362(if)S
(\(!io_testflag\(stream,)882 1488 A
(_IOREAD\)\))378 2412 A
3510 V
(49024)210 648 A
1572({)S
(stream->_flags)588 1656 A
2286(|=)S
(_IOERR;)294 2412 A
(return)252 2748 A
(EOF;)168 3042 A
3252(})S
3600 V
(49025)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IOWRITING\)\))504 2370 A
3690 V
(49026)210 648 A
1572({)S
(stream->_flags)588 1656 A
2286(|=)S
(_IOERR;)294 2412 A
(return)252 2748 A
(EOF;)168 3042 A
3252(})S
3780 V
(49027)210 648 A
3870 V
(49028)210 648 A
1362(if)S
(\(!io_testflag\(stream,)882 1488 A
(_IOREADING\)\))504 2412 A
3960 V
(49029)210 648 A
(stream->_flags)588 1698 A
2328(|=)S
(_IOREADING;)462 2454 A
4050 V
(49030)210 648 A
4140 V
(49031)210 648 A
1362(if)S
(\(!io_testflag\(stream,)882 1488 A
(_IONBF\))294 2412 A
2748(&&)S
(!stream->_buf\))588 2874 A
3504({)S
4230 V
(49032)210 648 A
(stream->_buf)504 1698 A
2244(=)S
(\(unsigned)378 2328 A
(char)168 2748 A
2958(*\))S
(malloc\(BUFSIZ\);)630 3084 A
4320 V
(49033)210 648 A
1698(if)S
(\(!stream->_buf\))630 1824 A
2496({)S
4410 V
(49034)210 648 A
(stream->_flags)588 2034 A
2664(|=)S
(_IONBF;)294 2790 A
4500 V
(49035)210 648 A
1698(})S
4590 V
(49036)210 648 A
(else)168 1698 A
1908({)S
4680 V
(49037)210 648 A
(stream->_flags)588 2034 A
2664(|=)S
(_IOMYBUF;)378 2790 A
4770 V
(49038)210 648 A
(stream->_bufsiz)630 2034 A
2706(=)S
(BUFSIZ;)294 2790 A
4860 V
(49039)210 648 A
1698(})S
4950 V
(49040)210 648 A
1362(})S
5040 V
(49041)210 648 A
5130 V
(49042)210 648 A
1362(/*)S
(flush)210 1488 A
(line-buffered)546 1740 A
(output)252 2328 A
(when)168 2622 A
(filling)294 2832 A
3168(an)S
(input)210 3294 A
(buffer)252 3546 A
3840(*/)S
5220 V
(49043)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
1866(i)S
1950(<)S
(FOPEN_MAX;)420 2034 A
(i++\))168 2496 A
2706({)S
5310 V
(49044)210 648 A
1698(if)S
(\(__iotab[i])462 1824 A
2328(&&)S
(io_testflag\(__iotab[i],)966 2454 A
(_IOLBF\)\))336 3462 A
5400 V
(49045)210 648 A
2034(if)S
(\(io_testflag\(__iotab[i],)1008 2160 A
(_IOWRITING\)\))504 3210 A
5490 V
(49046)210 648 A
(\(void\))252 2370 A
(fflush\(__iotab[i]\);)798 2664 A
5580 V
(49047)210 648 A
1362(})S
5670 V
(49048)210 648 A
5760 V
(49049)210 648 A
1362(if)S
(\(!stream->_buf\))630 1488 A
2160({)S
5850 V
(49050)210 648 A
(stream->_buf)504 1698 A
2244(=)S
(&ch[fileno\(stream\)];)840 2328 A
5940 V
(49051)210 648 A
(stream->_bufsiz)630 1698 A
2370(=)S
2454(1;)S
6030 V
(49052)210 648 A
1362(})S
6120 V
(49053)210 648 A
(stream->_ptr)504 1362 A
1908(=)S
(stream->_buf;)546 1992 A
6210 V
(49054)210 648 A
(stream->_count)588 1362 A
1992(=)S
(_read\(stream->_fd,)756 2076 A
(\(char)210 2874 A
(*\)stream->_buf,)630 3126 A
(stream->_bufsiz\);)714 3798 A
8418 V
EP
%%Page: 448 448
BP
/slant 0 def
/height 0 def
630 V
12 B
(448)180 648 A
11 R
1966(File:)S
(src/lib/stdio/fillbuf.c)910 2199 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(49055)210 648 A
990 V
(49056)210 648 A
1362(if)S
(\(stream->_count)630 1488 A
2160(<=)S
(0\){)126 2286 A
1080 V
(49057)210 648 A
1698(if)S
(\(stream->_count)630 1824 A
2496(==)S
2622(0\))S
2748({)S
1170 V
(49058)210 648 A
(stream->_flags)588 2034 A
2664(|=)S
(_IOEOF;)294 2790 A
1260 V
(49059)210 648 A
1698(})S
1350 V
(49060)210 648 A
(else)168 1698 A
1440 V
(49061)210 648 A
(stream->_flags)588 2034 A
2664(|=)S
(_IOERR;)294 2790 A
1530 V
(49062)210 648 A
1620 V
(49063)210 648 A
(return)252 1698 A
(EOF;)168 1992 A
1710 V
(49064)210 648 A
1362(})S
1800 V
(49065)210 648 A
(stream->_count--;)714 1362 A
1890 V
(49066)210 648 A
1980 V
(49067)210 648 A
(return)252 1362 A
(*stream->_ptr++;)672 1656 A
2070 V
(49068)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/stdio/flushbuf.c)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(49100)210 648 A
1026(/*)S
2790 V
(49101)210 648 A
1068(*)S
(flushbuf.c)420 1152 A
1614(-)S
(flush)210 1698 A
1950(a)S
(buffer)252 2034 A
2880 V
(49102)210 648 A
1068(*/)S
2970 V
(49103)210 648 A
1026(/*)S
($Header:)336 1152 A
(flushbuf.c,v)504 1530 A
(1.6)126 2076 A
(91/06/10)336 2244 A
(17:07:10)336 2622 A
(ceriel)252 3000 A
(Exp)126 3294 A
3462($)S
3546(*/)S
3060 V
(49104)210 648 A
3150 V
(49105)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3240 V
(49106)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
3330 V
(49107)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3420 V
(49108)210 648 A
3510 V
(49109)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
3600 V
(49110)210 648 A
3690 V
(49111)210 648 A
(off_t)210 1026 A
(_lseek\(int)420 1278 A
(fildes,)294 1740 A
(off_t)210 2076 A
(offset,)294 2328 A
(int)126 2664 A
(whence\);)336 2832 A
3780 V
(49112)210 648 A
(ssize_t)294 1026 A
(_write\(int)420 1362 A
1824(d,)S
(const)210 1950 A
(char)168 2202 A
(*buf,)210 2412 A
(size_t)252 2664 A
(nbytes\);)336 2958 A
3870 V
(49113)210 648 A
(int)126 1026 A
(_isatty\(int)462 1194 A
(d\);)126 1698 A
3960 V
(49114)210 648 A
(extern)252 1026 A
(void)168 1320 A
(\(*_clean\)\(void\);)672 1530 A
4050 V
(49115)210 648 A
4140 V
(49116)210 648 A
(static)252 1026 A
(int)126 1320 A
4230 V
(49117)210 648 A
(do_write\(int)504 1026 A
1572(d,)S
(char)168 1698 A
(*buf,)210 1908 A
(int)126 2160 A
(nbytes\))294 2328 A
4320 V
(49118)210 648 A
1026({)S
4410 V
(49119)210 648 A
(int)126 1362 A
1530(c;)S
4500 V
(49120)210 648 A
4590 V
(49121)210 648 A
1362(/*)S
(POSIX)210 1488 A
(actually)336 1740 A
(allows)252 2118 A
(write\(\))294 2412 A
2748(to)S
(return)252 2874 A
3168(a)S
(positive)336 3252 A
(value)210 3630 A
(less)168 3882 A
4680 V
(49122)210 648 A
(than)168 1488 A
(nbytes,)294 1698 A
2034(so)S
(loop)168 2160 A
(...)126 2370 A
4770 V
(49123)210 648 A
1362(*/)S
4860 V
(49124)210 648 A
(while)210 1362 A
(\(\(c)126 1614 A
1782(=)S
(_write\(d,)378 1866 A
(buf,)168 2286 A
(nbytes\)\))336 2496 A
2874(>)S
2958(0)S
3042(&&)S
3168(c)S
3252(<)S
(nbytes\))294 3336 A
3672({)S
4950 V
(49125)210 648 A
(nbytes)252 1698 A
1992(-=)S
2118(c;)S
5040 V
(49126)210 648 A
(buf)126 1698 A
1866(+=)S
1992(c;)S
5130 V
(49127)210 648 A
1362(})S
5220 V
(49128)210 648 A
(return)252 1362 A
1656(c)S
1740(>)S
1824(0;)S
5310 V
(49129)210 648 A
1026(})S
5490 V
(49131)210 648 A
(int)126 1026 A
5580 V
(49132)210 648 A
(__flushbuf\(int)588 1026 A
1656(c,)S
(FILE)168 1782 A
1992(*)S
(stream\))294 2076 A
5670 V
(49133)210 648 A
1026({)S
5760 V
(49134)210 648 A
(_clean)252 1362 A
1656(=)S
(__cleanup;)420 1740 A
5850 V
(49135)210 648 A
1362(if)S
(\(fileno\(stream\))630 1488 A
2160(<)S
2244(0\))S
(return)252 2370 A
(EOF;)168 2664 A
5940 V
(49136)210 648 A
1362(if)S
(\(!io_testflag\(stream,)882 1488 A
(_IOWRITE\)\))420 2412 A
(return)252 2874 A
(EOF;)168 3168 A
6030 V
(49137)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IOREADING\))462 2370 A
2874(&&)S
(!feof\(stream\)\))588 3000 A
(return)252 3630 A
(EOF;)168 3924 A
6120 V
(49138)210 648 A
6210 V
(49139)210 648 A
(stream->_flags)588 1362 A
1992(&=)S
(\304_IOREADING;)504 2118 A
8418 V
EP
%%Page: 449 449
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1921(File:)S
(src/lib/stdio/flushbuf.c)1001 2154 A
12 B
(449)180 4248 A
900 V
7 LST
(49140)210 648 A
(stream->_flags)588 1362 A
1992(|=)S
(_IOWRITING;)462 2118 A
990 V
(49141)210 648 A
1362(if)S
(\(!io_testflag\(stream,)882 1488 A
(_IONBF\)\))336 2412 A
2790({)S
1080 V
(49142)210 648 A
1698(if)S
(\(!stream->_buf\))630 1824 A
2496({)S
1170 V
(49143)210 648 A
2034(if)S
(\(stream)294 2160 A
2496(==)S
(stdout)252 2622 A
2916(&&)S
(_isatty\(fileno\(stdout\)\)\))1008 3042 A
4092({)S
1260 V
(49144)210 648 A
2370(if)S
(\(!\(stream->_buf)630 2496 A
3168(=)S
1350 V
(49145)210 648 A
(\(unsigned)378 2874 A
(char)168 3294 A
3504(*\))S
(malloc\(BUFSIZ\)\)\))672 3630 A
4344({)S
1440 V
(49146)210 648 A
(stream->_flags)588 2706 A
3336(|=)S
(_IONBF;)294 3462 A
1530 V
(49147)210 648 A
2370(})S
(else)168 2454 A
2664({)S
1620 V
(49148)210 648 A
(stream->_flags)588 2706 A
3336(|=)S
(_IOLBF|_IOMYBUF;)672 3462 A
1710 V
(49149)210 648 A
(stream->_bufsiz)630 2706 A
3378(=)S
(BUFSIZ;)294 3462 A
1800 V
(49150)210 648 A
(stream->_count)588 2706 A
3336(=)S
(-1;)126 3420 A
1890 V
(49151)210 648 A
2370(})S
1980 V
(49152)210 648 A
2034(})S
(else)168 2118 A
2328({)S
2070 V
(49153)210 648 A
2370(if)S
(\(!\(stream->_buf)630 2496 A
3168(=)S
2160 V
(49154)210 648 A
(\(unsigned)378 2874 A
(char)168 3294 A
3504(*\))S
(malloc\(BUFSIZ\)\)\))672 3630 A
4344({)S
2250 V
(49155)210 648 A
(stream->_flags)588 2706 A
3336(|=)S
(_IONBF;)294 3462 A
2340 V
(49156)210 648 A
2370(})S
(else)168 2454 A
2664({)S
2430 V
(49157)210 648 A
(stream->_flags)588 2706 A
3336(|=)S
(_IOMYBUF;)378 3462 A
2520 V
(49158)210 648 A
(stream->_bufsiz)630 2706 A
3378(=)S
(BUFSIZ;)294 3462 A
2610 V
(49159)210 648 A
2706(if)S
(\(!io_testflag\(stream,)882 2832 A
(_IOLBF\)\))336 3756 A
2700 V
(49160)210 648 A
(stream->_count)588 3042 A
3672(=)S
(BUFSIZ)252 3756 A
4050(-)S
4134(1;)S
2790 V
(49161)210 648 A
(else)168 2706 A
(stream->_count)588 3042 A
3672(=)S
(-1;)126 3756 A
2880 V
(49162)210 648 A
2370(})S
2970 V
(49163)210 648 A
2034(})S
3060 V
(49164)210 648 A
(stream->_ptr)504 2034 A
2580(=)S
(stream->_buf;)546 2664 A
3150 V
(49165)210 648 A
1698(})S
3240 V
(49166)210 648 A
1362(})S
3330 V
(49167)210 648 A
3420 V
(49168)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IONBF\)\))336 2370 A
2748({)S
3510 V
(49169)210 648 A
(char)168 1698 A
1908(c1)S
2034(=)S
2118(c;)S
3600 V
(49170)210 648 A
3690 V
(49171)210 648 A
(stream->_count)588 1698 A
2328(=)S
2412(0;)S
3780 V
(49172)210 648 A
1698(if)S
(\(io_testflag\(stream,)840 1824 A
(_IOAPPEND\)\))462 2706 A
3210({)S
3870 V
(49173)210 648 A
2034(if)S
(\(_lseek\(fileno\(stream\),)966 2160 A
(0L,)126 3168 A
(SEEK_END\))378 3336 A
3756(==)S
(-1\))126 3882 A
4050({)S
3960 V
(49174)210 648 A
(stream->_flags)588 2370 A
3000(|=)S
(_IOERR;)294 3126 A
4050 V
(49175)210 648 A
(return)252 2370 A
(EOF;)168 2664 A
4140 V
(49176)210 648 A
2034(})S
4230 V
(49177)210 648 A
1698(})S
4320 V
(49178)210 648 A
1698(if)S
(\(_write\(fileno\(stream\),)966 1824 A
(&c1,)168 2832 A
3042(1\))S
3168(!=)S
3294(1\))S
3420({)S
4410 V
(49179)210 648 A
(stream->_flags)588 2034 A
2664(|=)S
(_IOERR;)294 2790 A
4500 V
(49180)210 648 A
(return)252 2034 A
(EOF;)168 2328 A
4590 V
(49181)210 648 A
1698(})S
4680 V
(49182)210 648 A
(return)252 1698 A
1992(c;)S
4770 V
(49183)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(io_testflag\(stream,)840 1782 A
(_IOLBF\)\))336 2664 A
3042({)S
4860 V
(49184)210 648 A
(*stream->_ptr++)630 1698 A
2370(=)S
2454(c;)S
4950 V
(49185)210 648 A
1698(if)S
1824(\(c)S
1950(==)S
('\\n')168 2076 A
2286(||)S
(stream->_count)588 2412 A
3042(==)S
(-stream->_bufsiz\))714 3168 A
3924({)S
5040 V
(49186)210 648 A
2034(if)S
(\(io_testflag\(stream,)840 2160 A
(_IOAPPEND\)\))462 3042 A
3546({)S
5130 V
(49187)210 648 A
2370(if)S
(\(_lseek\(fileno\(stream\),)966 2496 A
(0L,)126 3504 A
(SEEK_END\))378 3672 A
4092(==)S
(-1\))126 4218 A
4386({)S
5220 V
(49188)210 648 A
(stream->_flags)588 2706 A
3336(|=)S
(_IOERR;)294 3462 A
5310 V
(49189)210 648 A
(return)252 2706 A
(EOF;)168 3000 A
5400 V
(49190)210 648 A
2370(})S
5490 V
(49191)210 648 A
2034(})S
5580 V
(49192)210 648 A
2034(if)S
2160(\(!)S
(do_write\(fileno\(stream\),)1008 2286 A
(\(char)210 3336 A
(*\)stream->_buf,)630 3588 A
5670 V
(49193)210 648 A
(-stream->_count\)\))714 2706 A
3462({)S
5760 V
(49194)210 648 A
(stream->_flags)588 2370 A
3000(|=)S
(_IOERR;)294 3126 A
5850 V
(49195)210 648 A
(return)252 2370 A
(EOF;)168 2664 A
5940 V
(49196)210 648 A
2034(})S
(else)168 2118 A
2328({)S
6030 V
(49197)210 648 A
(stream->_ptr)504 2370 A
2958(=)S
(stream->_buf;)546 3042 A
6120 V
(49198)210 648 A
(stream->_count)588 2370 A
3000(=)S
3084(0;)S
6210 V
(49199)210 648 A
2034(})S
8418 V
EP
%%Page: 450 450
BP
/slant 0 def
/height 0 def
630 V
12 B
(450)180 648 A
11 R
1921(File:)S
(src/lib/stdio/flushbuf.c)1001 2154 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(49200)210 648 A
1698(})S
990 V
(49201)210 648 A
1362(})S
(else)168 1446 A
1656({)S
1080 V
(49202)210 648 A
(int)126 1698 A
(count)210 1866 A
2118(=)S
(stream->_ptr)504 2202 A
2748(-)S
(stream->_buf;)546 2832 A
1170 V
(49203)210 648 A
1260 V
(49204)210 648 A
(stream->_count)588 1698 A
2328(=)S
(stream->_bufsiz)630 2412 A
3084(-)S
3168(1;)S
1350 V
(49205)210 648 A
(stream->_ptr)504 1698 A
2244(=)S
(stream->_buf)504 2328 A
2874(+)S
2958(1;)S
1440 V
(49206)210 648 A
1530 V
(49207)210 648 A
1698(if)S
(\(count)252 1824 A
2118(>)S
2202(0\))S
2328({)S
1620 V
(49208)210 648 A
2034(if)S
(\(io_testflag\(stream,)840 2160 A
(_IOAPPEND\)\))462 3042 A
3546({)S
1710 V
(49209)210 648 A
2370(if)S
(\(_lseek\(fileno\(stream\),)966 2496 A
(0L,)126 3504 A
(SEEK_END\))378 3672 A
4092(==)S
(-1\))126 4218 A
4386({)S
1800 V
(49210)210 648 A
(stream->_flags)588 2706 A
3336(|=)S
(_IOERR;)294 3462 A
1890 V
(49211)210 648 A
(return)252 2706 A
(EOF;)168 3000 A
1980 V
(49212)210 648 A
2370(})S
2070 V
(49213)210 648 A
2034(})S
2160 V
(49214)210 648 A
2034(if)S
2160(\(!)S
(do_write\(fileno\(stream\),)1008 2286 A
(\(char)210 3336 A
(*\)stream->_buf,)630 3588 A
(count\)\))294 4260 A
4596({)S
2250 V
(49215)210 648 A
(*\(stream->_buf\))630 2370 A
3042(=)S
3126(c;)S
2340 V
(49216)210 648 A
(stream->_flags)588 2370 A
3000(|=)S
(_IOERR;)294 3126 A
2430 V
(49217)210 648 A
(return)252 2370 A
(EOF;)168 2664 A
2520 V
(49218)210 648 A
2034(})S
2610 V
(49219)210 648 A
1698(})S
2700 V
(49220)210 648 A
(*\(stream->_buf\))630 1698 A
2370(=)S
2454(c;)S
2790 V
(49221)210 648 A
1362(})S
2880 V
(49222)210 648 A
(return)252 1362 A
1656(c;)S
2970 V
(49223)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/stdio/fopen.c)882 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(49300)210 648 A
1026(/*)S
3690 V
(49301)210 648 A
1068(*)S
(fopen.c)294 1152 A
1488(-)S
(open)168 1572 A
1782(a)S
(stream)252 1866 A
3780 V
(49302)210 648 A
1068(*/)S
3870 V
(49303)210 648 A
1026(/*)S
($Header:)336 1152 A
(fopen.c,v)378 1530 A
(1.8)126 1950 A
(91/02/22)336 2118 A
(16:29:46)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
3960 V
(49304)210 648 A
4050 V
(49305)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
4140 V
(49306)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
4230 V
(49307)210 648 A
(#endif)252 1026 A
4320 V
(49308)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
4410 V
(49309)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
4500 V
(49310)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
4590 V
(49311)210 648 A
4680 V
(49312)210 648 A
(#define)294 1026 A
(PMODE)210 1362 A
(0666)168 2034 A
4770 V
(49313)210 648 A
4860 V
(49314)210 648 A
1026(/*)S
(The)126 1152 A
(next)168 1320 A
1530(3)S
(defines)294 1614 A
(are)126 1950 A
(true)168 2118 A
2328(in)S
(all)126 2454 A
(UNIX)168 2622 A
(systems)294 2832 A
(known)210 3168 A
3420(to)S
(me.)126 3546 A
4950 V
(49315)210 648 A
1068(*/)S
5040 V
(49316)210 648 A
(#define)294 1026 A
(O_RDONLY)336 1362 A
2034(0)S
5130 V
(49317)210 648 A
(#define)294 1026 A
(O_WRONLY)336 1362 A
2034(1)S
5220 V
(49318)210 648 A
(#define)294 1026 A
(O_RDWR)252 1362 A
2034(2)S
5310 V
(49319)210 648 A
5400 V
(49320)210 648 A
1026(/*)S
(Since)210 1152 A
(the)126 1404 A
(O_CREAT)294 1572 A
(flag)168 1908 A
2118(is)S
(not)126 2244 A
(available)378 2412 A
2832(on)S
(all)126 2958 A
(systems,)336 3126 A
3504(we)S
(can't)210 3630 A
(get)126 3882 A
4050(it)S
5490 V
(49321)210 648 A
1068(*)S
(from)168 1152 A
(the)126 1362 A
(standard)336 1530 A
(library.)336 1908 A
(Furthermore,)504 2286 A
(even)168 2832 A
3042(if)S
3168(we)S
(know)168 3294 A
(that)168 3504 A
(<fcntl.h>)378 3714 A
5580 V
(49322)210 648 A
1068(*)S
(contains)336 1152 A
(such)168 1530 A
1740(a)S
(flag,)210 1824 A
(it's)168 2076 A
(not)126 2286 A
(sure)168 2454 A
(whether)294 2664 A
3000(it)S
(can)126 3126 A
3294(be)S
(used,)210 3420 A
(since)210 3672 A
3924(we)S
5670 V
(49323)210 648 A
1068(*)S
(might)210 1152 A
1404(be)S
(cross-compiling)630 1530 A
(for)126 2202 A
(another)294 2370 A
(system,)294 2706 A
(which)210 3042 A
(may)126 3294 A
(use)126 3462 A
3630(an)S
(entirely)336 3756 A
5760 V
(49324)210 648 A
1068(*)S
(different)378 1152 A
(value)210 1572 A
(for)126 1824 A
(O_CREAT)294 1992 A
(\(or)126 2328 A
(not)126 2496 A
(support)294 2664 A
(such)168 3000 A
3210(a)S
(mode\).)252 3294 A
(The)126 3588 A
(safest)252 3756 A
5850 V
(49325)210 648 A
1068(*)S
(thing)210 1152 A
1404(is)S
1530(to)S
(just)168 1656 A
(use)126 1866 A
(the)126 2034 A
(Version)294 2202 A
2538(7)S
(semantics)378 2622 A
(for)126 3042 A
(open,)210 3210 A
(and)126 3462 A
(use)126 3630 A
(creat\(\))294 3798 A
5940 V
(49326)210 648 A
1068(*)S
(whenever)336 1152 A
(necessary.)420 1530 A
6030 V
(49327)210 648 A
1068(*)S
6120 V
(49328)210 648 A
1068(*)S
(Another)294 1152 A
(problem)294 1488 A
1824(is)S
(O_APPEND,)378 1950 A
(for)126 2370 A
(which)210 2538 A
(the)126 2790 A
(same)168 2958 A
(holds.)252 3168 A
(When)168 3462 A
("a")126 3672 A
6210 V
(49329)210 648 A
1068(*)S
(open-mode)378 1152 A
1572(is)S
(used,)210 1698 A
1950(an)S
(lseek\(\))294 2076 A
2412(to)S
(the)126 2538 A
(end)126 2706 A
2874(is)S
(done)168 3000 A
(before)252 3210 A
(every)210 3504 A
(write\(\))294 3756 A
8418 V
EP
%%Page: 451 451
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1979(File:)S
(src/lib/stdio/fopen.c)885 2212 A
12 B
(451)180 4248 A
900 V
7 LST
(49330)210 648 A
1068(*)S
(system-call.)504 1152 A
990 V
(49331)210 648 A
1068(*)S
1080 V
(49332)210 648 A
1068(*)S
(The)126 1152 A
(O_CREAT,)336 1320 A
(O_TRUNC)294 1698 A
(and)126 2034 A
(O_APPEND)336 2202 A
(given)210 2580 A
(here,)210 2832 A
(are)126 3084 A
(only)168 3252 A
(for)126 3462 A
(convenience.)504 3630 A
1170 V
(49333)210 648 A
1068(*)S
(They)168 1152 A
(are)126 1362 A
(not)126 1530 A
(passed)252 1698 A
1992(to)S
(open\(\),)294 2118 A
2454(so)S
(the)126 2580 A
(values)252 2748 A
(don't)210 3042 A
(have)168 3294 A
3504(to)S
(match)210 3630 A
3882(a)S
(value)210 3966 A
1260 V
(49334)210 648 A
1068(*)S
(from)168 1152 A
(the)126 1362 A
(real)168 1530 A
(world.)252 1740 A
2034(It)S
2160(is)S
(enough)252 2286 A
(when)168 2580 A
(they)168 2790 A
(are)126 3000 A
(unique.)294 3168 A
1350 V
(49335)210 648 A
1068(*/)S
1440 V
(49336)210 648 A
(#define)294 1026 A
(O_CREAT)294 1362 A
(0x010)210 2034 A
1530 V
(49337)210 648 A
(#define)294 1026 A
(O_TRUNC)294 1362 A
(0x020)210 2034 A
1620 V
(49338)210 648 A
(#define)294 1026 A
(O_APPEND)336 1362 A
(0x040)210 2034 A
1710 V
(49339)210 648 A
1800 V
(49340)210 648 A
(int)126 1026 A
(_open\(const)462 1194 A
(char)168 1698 A
(*path,)252 1908 A
(int)126 2202 A
(flags\);)294 2370 A
1890 V
(49341)210 648 A
(int)126 1026 A
(_creat\(const)504 1194 A
(char)168 1740 A
(*path,)252 1950 A
(Mode_t)252 2244 A
(mode\);)252 2538 A
1980 V
(49342)210 648 A
(int)126 1026 A
(_close\(int)420 1194 A
(d\);)126 1656 A
2070 V
(49343)210 648 A
2160 V
(49344)210 648 A
(FILE)168 1026 A
1236(*)S
2250 V
(49345)210 648 A
(fopen\(const)462 1026 A
(char)168 1530 A
(*name,)252 1740 A
(const)210 2034 A
(char)168 2286 A
(*mode\))252 2496 A
2340 V
(49346)210 648 A
1026({)S
2430 V
(49347)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i;)S
2520 V
(49348)210 648 A
(int)126 1362 A
(rwmode)252 1530 A
1824(=)S
1908(0,)S
(rwflags)294 2034 A
2370(=)S
2454(0;)S
2610 V
(49349)210 648 A
(FILE)168 1362 A
(*stream;)336 1572 A
2700 V
(49350)210 648 A
(int)126 1362 A
(fd,)126 1530 A
(flags)210 1698 A
1950(=)S
2034(0;)S
2790 V
(49351)210 648 A
2880 V
(49352)210 648 A
(for)126 1362 A
1530(\(i)S
1656(=)S
1740(0;)S
(__iotab[i])420 1866 A
2328(!=)S
2454(0)S
2538(;)S
(i++\))168 2622 A
2970 V
(49353)210 648 A
1698(if)S
1824(\()S
1908(i)S
1992(>=)S
(FOPEN_MAX-1)462 2118 A
2622(\))S
3060 V
(49354)210 648 A
(return)252 2034 A
(\(FILE)210 2328 A
(*\)NULL;)294 2580 A
3150 V
(49355)210 648 A
3240 V
(49356)210 648 A
(switch\(*mode++\))630 1362 A
2034({)S
3330 V
(49357)210 648 A
(case)168 1362 A
('r':)168 1572 A
3420 V
(49358)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOREAD)294 2076 A
2412(|)S
(_IOREADING;)462 2496 A
3510 V
(49359)210 648 A
(rwmode)252 1698 A
1992(=)S
(O_RDONLY;)378 2076 A
3600 V
(49360)210 648 A
(break;)252 1698 A
3690 V
(49361)210 648 A
(case)168 1362 A
('w':)168 1572 A
3780 V
(49362)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOWRITE)336 2076 A
2454(|)S
(_IOWRITING;)462 2538 A
3870 V
(49363)210 648 A
(rwmode)252 1698 A
1992(=)S
(O_WRONLY;)378 2076 A
3960 V
(49364)210 648 A
(rwflags)294 1698 A
2034(=)S
(O_CREAT)294 2118 A
2454(|)S
(O_TRUNC;)336 2538 A
4050 V
(49365)210 648 A
(break;)252 1698 A
4140 V
(49366)210 648 A
(case)168 1362 A
('a':)168 1572 A
4230 V
(49367)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOWRITE)336 2076 A
2454(|)S
(_IOWRITING)420 2538 A
3000(|)S
(_IOAPPEND;)420 3084 A
4320 V
(49368)210 648 A
(rwmode)252 1698 A
1992(=)S
(O_WRONLY;)378 2076 A
4410 V
(49369)210 648 A
(rwflags)294 1698 A
2034(|=)S
(O_APPEND)336 2160 A
2538(|)S
(O_CREAT;)336 2622 A
4500 V
(49370)210 648 A
(break;)252 1698 A
4590 V
(49371)210 648 A
(default:)336 1362 A
4680 V
(49372)210 648 A
(return)252 1698 A
(\(FILE)210 1992 A
(*\)NULL;)294 2244 A
4770 V
(49373)210 648 A
1362(})S
4860 V
(49374)210 648 A
4950 V
(49375)210 648 A
(while)210 1362 A
(\(*mode\))294 1614 A
1950({)S
5040 V
(49376)210 648 A
(switch\(*mode++\))630 1698 A
2370({)S
5130 V
(49377)210 648 A
(case)168 1698 A
('b':)168 1908 A
5220 V
(49378)210 648 A
(continue;)378 2034 A
5310 V
(49379)210 648 A
(case)168 1698 A
('+':)168 1908 A
5400 V
(49380)210 648 A
(rwmode)252 2034 A
2328(=)S
(O_RDWR;)294 2412 A
5490 V
(49381)210 648 A
(flags)210 2034 A
2286(|=)S
(_IOREAD)294 2412 A
2748(|)S
(_IOWRITE;)378 2832 A
5580 V
(49382)210 648 A
(continue;)378 2034 A
5670 V
(49383)210 648 A
1698(/*)S
(The)126 1824 A
(sequence)336 1992 A
(may)126 2370 A
2538(be)S
(followed)336 2664 A
3042(by)S
(additional)420 3168 A
(characters)420 3630 A
4092(*/)S
5760 V
(49384)210 648 A
(default:)336 1698 A
5850 V
(49385)210 648 A
(break;)252 2034 A
5940 V
(49386)210 648 A
1698(})S
6030 V
(49387)210 648 A
(break;)252 1698 A
6120 V
(49388)210 648 A
1362(})S
6210 V
(49389)210 648 A
8418 V
EP
%%Page: 452 452
BP
/slant 0 def
/height 0 def
630 V
12 B
(452)180 648 A
11 R
1979(File:)S
(src/lib/stdio/fopen.c)885 2212 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(49390)210 648 A
1362(/*)S
(Perform)294 1488 A
1824(a)S
(creat\(\))294 1908 A
(when)168 2244 A
(the)126 2454 A
(file)168 2622 A
(should)252 2832 A
3126(be)S
(truncated)378 3252 A
3672(or)S
(when)168 3798 A
990 V
(49391)210 648 A
1404(*)S
(the)126 1488 A
(file)168 1656 A
1866(is)S
(opened)252 1992 A
(for)126 2286 A
(writing)294 2454 A
(and)126 2790 A
(the)126 2958 A
(open\(\))252 3126 A
(failed.)294 3420 A
1080 V
(49392)210 648 A
1404(*/)S
1170 V
(49393)210 648 A
1362(if)S
(\(\(rwflags)378 1488 A
1908(&)S
(O_TRUNC\))336 1992 A
1260 V
(49394)210 648 A
1530(||)S
(\(\(\(fd)210 1656 A
1908(=)S
(_open\(name,)462 1992 A
(rwmode\)\))336 2496 A
2874(<)S
2958(0\))S
1350 V
(49395)210 648 A
1866(&&)S
(\(rwflags)336 1992 A
2370(&)S
(O_CREAT\)\)\))420 2454 A
2916({)S
1440 V
(49396)210 648 A
1698(if)S
(\(\(\(fd)210 1824 A
2076(=)S
(_creat\(name,)504 2160 A
(PMODE\)\))294 2706 A
3042(>)S
3126(0\))S
3252(&&)S
(flags)210 3378 A
3672(|)S
(_IOREAD\))336 3756 A
4134({)S
1530 V
(49397)210 648 A
(\(void\))252 2034 A
(_close\(fd\);)462 2328 A
1620 V
(49398)210 648 A
2034(fd)S
2160(=)S
(_open\(name,)462 2244 A
(rwmode\);)336 2748 A
1710 V
(49399)210 648 A
1698(})S
1800 V
(49400)210 648 A
1890 V
(49401)210 648 A
1362(})S
1980 V
(49402)210 648 A
2070 V
(49403)210 648 A
1362(if)S
(\(fd)126 1488 A
1656(<)S
1740(0\))S
(return)252 1866 A
(\(FILE)210 2160 A
(*\)NULL;)294 2412 A
2160 V
(49404)210 648 A
2250 V
(49405)210 648 A
1362(if)S
1488(\(\()S
(stream)252 1614 A
1908(=)S
(\(FILE)210 1992 A
2244(*\))S
(malloc\(sizeof\(FILE\)\)\))882 2370 A
3294(==)S
(NULL)168 3420 A
3630(\))S
3714({)S
2340 V
(49406)210 648 A
(_close\(fd\);)462 1698 A
2430 V
(49407)210 648 A
(return)252 1698 A
(\(FILE)210 1992 A
(*\)NULL;)294 2244 A
2520 V
(49408)210 648 A
1362(})S
2610 V
(49409)210 648 A
2700 V
(49410)210 648 A
1362(if)S
(\(\(flags)294 1488 A
1824(&)S
(\(_IOREAD)336 1908 A
2286(|)S
(_IOWRITE\)\))420 2370 A
2874(==)S
(\(_IOREAD)336 3000 A
3378(|)S
(_IOWRITE\)\))420 3462 A
2790 V
(49411)210 648 A
(flags)210 1698 A
1950(&=)S
(\304\(_IOREADING)504 2076 A
2622(|)S
(_IOWRITING\);)504 2706 A
2880 V
(49412)210 648 A
2970 V
(49413)210 648 A
(stream->_count)588 1362 A
1992(=)S
2076(0;)S
3060 V
(49414)210 648 A
(stream->_fd)462 1362 A
1866(=)S
(fd;)126 1950 A
3150 V
(49415)210 648 A
(stream->_flags)588 1362 A
1992(=)S
(flags;)252 2076 A
3240 V
(49416)210 648 A
(stream->_buf)504 1362 A
1908(=)S
(NULL;)210 1992 A
3330 V
(49417)210 648 A
(__iotab[i])420 1362 A
1824(=)S
(stream;)294 1908 A
3420 V
(49418)210 648 A
(return)252 1362 A
(stream;)294 1656 A
3510 V
(49419)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/stdio/fprintf.c)966 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(49500)210 648 A
1026(/*)S
4590 V
(49501)210 648 A
1068(*)S
(fprintf)294 1152 A
1488(-)S
(write)210 1572 A
(output)252 1824 A
2118(on)S
2244(a)S
(stream)252 2328 A
4680 V
(49502)210 648 A
1068(*/)S
4770 V
(49503)210 648 A
1026(/*)S
($Header:)336 1152 A
(fprintf.c,v)462 1530 A
(1.3)126 2034 A
(89/12/18)336 2202 A
(15:01:54)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4860 V
(49504)210 648 A
4950 V
(49505)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5040 V
(49506)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
5130 V
(49507)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5220 V
(49508)210 648 A
5310 V
(49509)210 648 A
(int)126 1026 A
5400 V
(49510)210 648 A
(fprintf\(FILE)504 1026 A
(*stream,)336 1572 A
(const)210 1950 A
(char)168 2202 A
(*format,)336 2412 A
(...\))168 2790 A
5490 V
(49511)210 648 A
1026({)S
5580 V
(49512)210 648 A
(va_list)294 1362 A
(ap;)126 1698 A
5670 V
(49513)210 648 A
(int)126 1362 A
(retval;)294 1530 A
5760 V
(49514)210 648 A
5850 V
(49515)210 648 A
(va_start\(ap,)504 1362 A
(format\);)336 1908 A
5940 V
(49516)210 648 A
6030 V
(49517)210 648 A
(retval)252 1362 A
1656(=)S
(_doprnt)294 1740 A
(\(format,)336 2076 A
(ap,)126 2454 A
(stream\);)336 2622 A
6120 V
(49518)210 648 A
6210 V
(49519)210 648 A
(va_end\(ap\);)462 1362 A
8418 V
EP
%%Page: 453 453
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1963(File:)S
(src/lib/stdio/fprintf.c)916 2196 A
12 B
(453)180 4248 A
900 V
7 LST
(49520)210 648 A
990 V
(49521)210 648 A
(return)252 1362 A
(retval;)294 1656 A
1080 V
(49522)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/stdio/fputc.c)882 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(49600)210 648 A
1026(/*)S
1890 V
(49601)210 648 A
1068(*)S
(fputc.c)294 1152 A
1488(-)S
(print)210 1572 A
1824(an)S
(unsigned)336 1950 A
(character)378 2328 A
1980 V
(49602)210 648 A
1068(*/)S
2070 V
(49603)210 648 A
1026(/*)S
($Header:)336 1152 A
(fputc.c,v)378 1530 A
(1.1)126 1950 A
(89/05/30)336 2118 A
(13:28:45)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
2160 V
(49604)210 648 A
2250 V
(49605)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2340 V
(49606)210 648 A
2430 V
(49607)210 648 A
(int)126 1026 A
2520 V
(49608)210 648 A
(fputc\(int)378 1026 A
1446(c,)S
(FILE)168 1572 A
(*stream\))336 1782 A
2610 V
(49609)210 648 A
1026({)S
2700 V
(49610)210 648 A
(return)252 1362 A
(putc\(c,)294 1656 A
(stream\);)336 1992 A
2790 V
(49611)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/stdio/fputs.c)882 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(49700)210 648 A
1026(/*)S
3690 V
(49701)210 648 A
1068(*)S
(fputs)210 1152 A
1404(-)S
(print)210 1488 A
1740(a)S
(string)252 1824 A
3780 V
(49702)210 648 A
1068(*/)S
3870 V
(49703)210 648 A
1026(/*)S
($Header:)336 1152 A
(fputs.c,v)378 1530 A
(1.2)126 1950 A
(89/12/18)336 2118 A
(15:02:01)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
3960 V
(49704)210 648 A
4050 V
(49705)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
4140 V
(49706)210 648 A
4230 V
(49707)210 648 A
(int)126 1026 A
4320 V
(49708)210 648 A
(fputs\(register)588 1026 A
(const)210 1656 A
(char)168 1908 A
(*s,)126 2118 A
(register)336 2286 A
(FILE)168 2664 A
(*stream\))336 2874 A
4410 V
(49709)210 648 A
1026({)S
4500 V
(49710)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i)S
1992(=)S
2076(0;)S
4590 V
(49711)210 648 A
4680 V
(49712)210 648 A
(while)210 1362 A
(\(*s\))168 1614 A
4770 V
(49713)210 648 A
1698(if)S
(\(putc\(*s++,)462 1824 A
(stream\))294 2328 A
2664(==)S
(EOF\))168 2790 A
(return)252 3000 A
(EOF;)168 3294 A
4860 V
(49714)210 648 A
(else)168 1698 A
(i++;)168 1908 A
4950 V
(49715)210 648 A
5040 V
(49716)210 648 A
(return)252 1362 A
1656(i;)S
5130 V
(49717)210 648 A
1026(})S
8418 V
EP
%%Page: 454 454
BP
/slant 0 def
/height 0 def
630 V
12 B
(454)180 648 A
11 R
1990(File:)S
(src/lib/stdio/fread.c)862 2223 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/fread.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(49800)210 648 A
1026(/*)S
1440 V
(49801)210 648 A
1068(*)S
(fread.c)294 1152 A
1488(-)S
(read)168 1572 A
1782(a)S
(number)252 1866 A
2160(of)S
(members)294 2286 A
(into)168 2622 A
2832(an)S
(array)210 2958 A
1530 V
(49802)210 648 A
1068(*/)S
1620 V
(49803)210 648 A
1026(/*)S
($Header:)336 1152 A
(fread.c,v)378 1530 A
(1.2)126 1950 A
(89/12/18)336 2118 A
(15:02:09)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
1710 V
(49804)210 648 A
1800 V
(49805)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(49806)210 648 A
1980 V
(49807)210 648 A
(size_t)252 1026 A
2070 V
(49808)210 648 A
(fread\(void)420 1026 A
(*ptr,)210 1488 A
(size_t)252 1740 A
(size,)210 2034 A
(size_t)252 2286 A
(nmemb,)252 2580 A
(register)336 2874 A
(FILE)168 3252 A
(*stream\))336 3462 A
2160 V
(49809)210 648 A
1026({)S
2250 V
(49810)210 648 A
(register)336 1362 A
(char)168 1740 A
(*cp)126 1950 A
2118(=)S
(ptr;)168 2202 A
2340 V
(49811)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(c;)S
2430 V
(49812)210 648 A
(size_t)252 1362 A
(ndone)210 1656 A
1908(=)S
1992(0;)S
2520 V
(49813)210 648 A
(register)336 1362 A
(size_t)252 1740 A
2034(s;)S
2610 V
(49814)210 648 A
2700 V
(49815)210 648 A
1362(if)S
(\(size\))252 1488 A
2790 V
(49816)210 648 A
(while)210 1698 A
1950(\()S
(ndone)210 2034 A
2286(<)S
(nmemb)210 2370 A
2622(\))S
2706({)S
2880 V
(49817)210 648 A
2034(s)S
2118(=)S
(size;)210 2202 A
2970 V
(49818)210 648 A
2034(do)S
2160({)S
3060 V
(49819)210 648 A
2370(if)S
(\(\(c)126 2496 A
2664(=)S
(getc\(stream\)\))546 2748 A
3336(!=)S
(EOF\))168 3462 A
3150 V
(49820)210 648 A
(*cp++)210 2706 A
2958(=)S
3042(c;)S
3240 V
(49821)210 648 A
(else)168 2370 A
3330 V
(49822)210 648 A
(return)252 2706 A
(ndone;)252 3000 A
3420 V
(49823)210 648 A
2034(})S
(while)210 2118 A
(\(--s\);)252 2370 A
3510 V
(49824)210 648 A
(ndone++;)336 2034 A
3600 V
(49825)210 648 A
1698(})S
3690 V
(49826)210 648 A
3780 V
(49827)210 648 A
(return)252 1362 A
(ndone;)252 1656 A
3870 V
(49828)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/stdio/freopen.c)966 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(49900)210 648 A
1026(/*)S
4590 V
(49901)210 648 A
1068(*)S
(freopen.c)378 1152 A
1572(-)S
(open)168 1656 A
1866(a)S
(file)168 1950 A
(and)126 2160 A
(associate)378 2328 A
2748(a)S
(stream)252 2832 A
(with)168 3126 A
3336(it)S
4680 V
(49902)210 648 A
1068(*/)S
4770 V
(49903)210 648 A
1026(/*)S
($Header:)336 1152 A
(freopen.c,v)462 1530 A
(1.8)126 2034 A
(90/08/28)336 2202 A
(13:44:48)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4860 V
(49904)210 648 A
4950 V
(49905)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
5040 V
(49906)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
5130 V
(49907)210 648 A
(#endif)252 1026 A
5220 V
(49908)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5310 V
(49909)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5400 V
(49910)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5490 V
(49911)210 648 A
5580 V
(49912)210 648 A
(#define)294 1026 A
(PMODE)210 1362 A
(0666)168 2034 A
5670 V
(49913)210 648 A
5760 V
(49914)210 648 A
1026(/*)S
1152(Do)S
(not)126 1278 A
("optimize")420 1446 A
(this)168 1908 A
(file)168 2118 A
2328(to)S
(use)126 2454 A
(the)126 2622 A
(open)168 2790 A
(with)168 3000 A
(O_CREAT)294 3210 A
3546(if)S
(the)126 3672 A
(file)168 3840 A
5850 V
(49915)210 648 A
1068(*)S
(does)168 1152 A
(not)126 1362 A
(exist.)252 1530 A
(The)126 1824 A
(reason)252 1992 A
2286(is)S
(given)210 2412 A
2664(in)S
(fopen.c.)336 2790 A
5940 V
(49916)210 648 A
1068(*/)S
6030 V
(49917)210 648 A
(#define)294 1026 A
(O_RDONLY)336 1362 A
2034(0)S
6120 V
(49918)210 648 A
(#define)294 1026 A
(O_WRONLY)336 1362 A
2034(1)S
6210 V
(49919)210 648 A
(#define)294 1026 A
(O_RDWR)252 1362 A
2034(2)S
8418 V
EP
%%Page: 455 455
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1935(File:)S
(src/lib/stdio/freopen.c)972 2168 A
12 B
(455)180 4248 A
900 V
7 LST
(49920)210 648 A
990 V
(49921)210 648 A
(#define)294 1026 A
(O_CREAT)294 1362 A
(0x010)210 2034 A
1080 V
(49922)210 648 A
(#define)294 1026 A
(O_TRUNC)294 1362 A
(0x020)210 2034 A
1170 V
(49923)210 648 A
(#define)294 1026 A
(O_APPEND)336 1362 A
(0x040)210 2034 A
1260 V
(49924)210 648 A
1350 V
(49925)210 648 A
(int)126 1026 A
(_open\(const)462 1194 A
(char)168 1698 A
(*path,)252 1908 A
(int)126 2202 A
(flags\);)294 2370 A
1440 V
(49926)210 648 A
(int)126 1026 A
(_creat\(const)504 1194 A
(char)168 1740 A
(*path,)252 1950 A
(Mode_t)252 2244 A
(mode\);)252 2538 A
1530 V
(49927)210 648 A
(int)126 1026 A
(_close\(int)420 1194 A
(d\);)126 1656 A
1620 V
(49928)210 648 A
1710 V
(49929)210 648 A
(FILE)168 1026 A
1236(*)S
1800 V
(49930)210 648 A
(freopen\(const)546 1026 A
(char)168 1614 A
(*name,)252 1824 A
(const)210 2118 A
(char)168 2370 A
(*mode,)252 2580 A
(FILE)168 2874 A
(*stream\))336 3084 A
1890 V
(49931)210 648 A
1026({)S
1980 V
(49932)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i;)S
2070 V
(49933)210 648 A
(int)126 1362 A
(rwmode)252 1530 A
1824(=)S
1908(0,)S
(rwflags)294 2034 A
2370(=)S
2454(0;)S
2160 V
(49934)210 648 A
(int)126 1362 A
(fd,)126 1530 A
(flags)210 1698 A
1950(=)S
(stream->_flags)588 2034 A
2664(&)S
(\(_IONBF)294 2748 A
3084(|)S
(_IOFBF)252 3168 A
3462(|)S
(_IOLBF)252 3546 A
3840(|)S
(_IOMYBUF\);)420 3924 A
2250 V
(49935)210 648 A
2340 V
(49936)210 648 A
(\(void\))252 1362 A
(fflush\(stream\);)630 1656 A
3378(/*)S
(ignore)252 3504 A
(errors)252 3798 A
4092(*/)S
2430 V
(49937)210 648 A
(\(void\))252 1362 A
(_close\(fileno\(stream\)\);)966 1656 A
2520 V
(49938)210 648 A
2610 V
(49939)210 648 A
(switch\(*mode++\))630 1362 A
2034({)S
2700 V
(49940)210 648 A
(case)168 1362 A
('r':)168 1572 A
2790 V
(49941)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOREAD;)336 2076 A
2880 V
(49942)210 648 A
(rwmode)252 1698 A
1992(=)S
(O_RDONLY;)378 2076 A
2970 V
(49943)210 648 A
(break;)252 1698 A
3060 V
(49944)210 648 A
(case)168 1362 A
('w':)168 1572 A
3150 V
(49945)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOWRITE;)378 2076 A
3240 V
(49946)210 648 A
(rwmode)252 1698 A
1992(=)S
(O_WRONLY;)378 2076 A
3330 V
(49947)210 648 A
(rwflags)294 1698 A
2034(=)S
(O_CREAT)294 2118 A
2454(|)S
(O_TRUNC;)336 2538 A
3420 V
(49948)210 648 A
(break;)252 1698 A
3510 V
(49949)210 648 A
(case)168 1362 A
('a':)168 1572 A
3600 V
(49950)210 648 A
(flags)210 1698 A
1950(|=)S
(_IOWRITE)336 2076 A
2454(|)S
(_IOAPPEND;)420 2538 A
3690 V
(49951)210 648 A
(rwmode)252 1698 A
1992(=)S
(O_WRONLY;)378 2076 A
3780 V
(49952)210 648 A
(rwflags)294 1698 A
2034(|=)S
(O_APPEND)336 2160 A
2538(|)S
(O_CREAT;)336 2622 A
3870 V
(49953)210 648 A
(break;)252 1698 A
3960 V
(49954)210 648 A
(default:)336 1362 A
4050 V
(49955)210 648 A
(return)252 1698 A
(\(FILE)210 1992 A
(*\)NULL;)294 2244 A
4140 V
(49956)210 648 A
1362(})S
4230 V
(49957)210 648 A
4320 V
(49958)210 648 A
(while)210 1362 A
(\(*mode\))294 1614 A
1950({)S
4410 V
(49959)210 648 A
(switch\(*mode++\))630 1698 A
2370({)S
4500 V
(49960)210 648 A
(case)168 1698 A
('b':)168 1908 A
4590 V
(49961)210 648 A
(continue;)378 2034 A
4680 V
(49962)210 648 A
(case)168 1698 A
('+':)168 1908 A
4770 V
(49963)210 648 A
(rwmode)252 2034 A
2328(=)S
(O_RDWR;)294 2412 A
4860 V
(49964)210 648 A
(flags)210 2034 A
2286(|=)S
(_IOREAD)294 2412 A
2748(|)S
(_IOWRITE;)378 2832 A
4950 V
(49965)210 648 A
(continue;)378 2034 A
5040 V
(49966)210 648 A
1698(/*)S
(The)126 1824 A
(sequence)336 1992 A
(may)126 2370 A
2538(be)S
(followed)336 2664 A
3042(by)S
(aditional)378 3168 A
(characters)420 3588 A
4050(*/)S
5130 V
(49967)210 648 A
(default:)336 1698 A
5220 V
(49968)210 648 A
(break;)252 2034 A
5310 V
(49969)210 648 A
1698(})S
5400 V
(49970)210 648 A
(break;)252 1698 A
5490 V
(49971)210 648 A
1362(})S
5580 V
(49972)210 648 A
5670 V
(49973)210 648 A
1362(if)S
(\(\(rwflags)378 1488 A
1908(&)S
(O_TRUNC\))336 1992 A
5760 V
(49974)210 648 A
1530(||)S
(\(\(\(fd)210 1656 A
1908(=)S
(_open\(name,)462 1992 A
(rwmode\)\))336 2496 A
2874(<)S
2958(0\))S
5850 V
(49975)210 648 A
1866(&&)S
(\(rwflags)336 1992 A
2370(&)S
(O_CREAT\)\)\))420 2454 A
2916({)S
5940 V
(49976)210 648 A
1698(if)S
(\(\(\(fd)210 1824 A
2076(=)S
(_creat\(name,)504 2160 A
(PMODE\)\))294 2706 A
3042(<)S
3126(0\))S
3252(&&)S
(flags)210 3378 A
3630(|)S
(_IOREAD\))336 3714 A
4092({)S
6030 V
(49977)210 648 A
(\(void\))252 2034 A
(_close\(fd\);)462 2328 A
6120 V
(49978)210 648 A
2034(fd)S
2160(=)S
(_open\(name,)462 2244 A
(rwmode\);)336 2748 A
6210 V
(49979)210 648 A
1698(})S
8418 V
EP
%%Page: 456 456
BP
/slant 0 def
/height 0 def
630 V
12 B
(456)180 648 A
11 R
1935(File:)S
(src/lib/stdio/freopen.c)972 2168 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(49980)210 648 A
1362(})S
990 V
(49981)210 648 A
1080 V
(49982)210 648 A
1362(if)S
(\(fd)126 1488 A
1656(<)S
1740(0\))S
1866({)S
1170 V
(49983)210 648 A
(for\()168 1698 A
1908(i)S
1992(=)S
2076(0;)S
2202(i)S
2286(<)S
(FOPEN_MAX;)420 2370 A
(i++\))168 2832 A
3042({)S
1260 V
(49984)210 648 A
2034(if)S
(\(stream)294 2160 A
2496(==)S
(__iotab[i]\))462 2622 A
3126({)S
1350 V
(49985)210 648 A
(__iotab[i])420 2370 A
2832(=)S
2916(0;)S
1440 V
(49986)210 648 A
(break;)252 2370 A
1530 V
(49987)210 648 A
2034(})S
1620 V
(49988)210 648 A
1698(})S
1710 V
(49989)210 648 A
1698(if)S
(\(stream)294 1824 A
2160(!=)S
(stdin)210 2286 A
2538(&&)S
(stream)252 2664 A
2958(!=)S
(stdout)252 3084 A
3378(&&)S
(stream)252 3504 A
3798(!=)S
(stderr\))294 3924 A
1800 V
(49990)210 648 A
(free\(\(void)420 2034 A
(*\)stream\);)420 2496 A
1890 V
(49991)210 648 A
(return)252 1698 A
(\(FILE)210 1992 A
(*\)NULL;)294 2244 A
1980 V
(49992)210 648 A
1362(})S
2070 V
(49993)210 648 A
2160 V
(49994)210 648 A
(stream->_count)588 1362 A
1992(=)S
2076(0;)S
2250 V
(49995)210 648 A
(stream->_fd)462 1362 A
1866(=)S
(fd;)126 1950 A
2340 V
(49996)210 648 A
(stream->_flags)588 1362 A
1992(=)S
(flags;)252 2076 A
2430 V
(49997)210 648 A
(return)252 1362 A
(stream;)294 1656 A
2520 V
(49998)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/fscanf.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(50000)210 648 A
1026(/*)S
3240 V
(50001)210 648 A
1068(*)S
(fscanf.c)336 1152 A
1530(-)S
(read)168 1614 A
(formatted)378 1824 A
(input)210 2244 A
(from)168 2496 A
(stream)252 2706 A
3330 V
(50002)210 648 A
1068(*/)S
3420 V
(50003)210 648 A
1026(/*)S
($Header:)336 1152 A
(fscanf.c,v)420 1530 A
(1.1)126 1992 A
(89/05/30)336 2160 A
(13:29:17)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
3510 V
(50004)210 648 A
3600 V
(50005)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(50006)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
3780 V
(50007)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3870 V
(50008)210 648 A
3960 V
(50009)210 648 A
(int)126 1026 A
4050 V
(50010)210 648 A
(fscanf\(FILE)462 1026 A
(*stream,)336 1530 A
(const)210 1908 A
(char)168 2160 A
(*format,)336 2370 A
(...\))168 2748 A
4140 V
(50011)210 648 A
1026({)S
4230 V
(50012)210 648 A
(va_list)294 1362 A
(ap;)126 1698 A
4320 V
(50013)210 648 A
(int)126 1362 A
(retval;)294 1530 A
4410 V
(50014)210 648 A
4500 V
(50015)210 648 A
(va_start\(ap,)504 1362 A
(format\);)336 1908 A
4590 V
(50016)210 648 A
4680 V
(50017)210 648 A
(retval)252 1362 A
1656(=)S
(_doscan\(stream,)630 1740 A
(format,)294 2412 A
(ap\);)168 2748 A
4770 V
(50018)210 648 A
4860 V
(50019)210 648 A
(va_end\(ap\);)462 1362 A
4950 V
(50020)210 648 A
5040 V
(50021)210 648 A
(return)252 1362 A
(retval;)294 1656 A
5130 V
(50022)210 648 A
1026(})S
8418 V
EP
%%Page: 457 457
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1987(File:)S
(src/lib/stdio/fseek.c)868 2220 A
12 B
(457)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/fseek.c)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(50100)210 648 A
1026(/*)S
1440 V
(50101)210 648 A
1068(*)S
(fseek.c)294 1152 A
1488(-)S
(perform)294 1572 A
1908(an)S
(fseek)210 2034 A
1530 V
(50102)210 648 A
1068(*/)S
1620 V
(50103)210 648 A
1026(/*)S
($Header:)336 1152 A
(fseek.c,v)378 1530 A
(1.4)126 1950 A
(90/01/22)336 2118 A
(11:12:00)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
1710 V
(50104)210 648 A
1800 V
(50105)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(50106)210 648 A
1980 V
(50107)210 648 A
(#if)126 1026 A
(\(SEEK_CUR)378 1362 A
1782(!=)S
1908(1\))S
2034(||)S
(\(SEEK_END)378 2160 A
2580(!=)S
2706(2\))S
2832(||)S
(\(SEEK_SET)378 2958 A
3378(!=)S
3504(0\))S
2070 V
(50108)210 648 A
(#error)252 1026 A
(SEEK_*)252 1320 A
(values)252 1614 A
(are)126 1908 A
(wrong)210 2076 A
2160 V
(50109)210 648 A
(#endif)252 1026 A
2250 V
(50110)210 648 A
2340 V
(50111)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
2430 V
(50112)210 648 A
2520 V
(50113)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
2610 V
(50114)210 648 A
2700 V
(50115)210 648 A
(off_t)210 1026 A
(_lseek\(int)420 1278 A
(fildes,)294 1740 A
(off_t)210 2076 A
(offset,)294 2328 A
(int)126 2664 A
(whence\);)336 2832 A
2790 V
(50116)210 648 A
2880 V
(50117)210 648 A
(int)126 1026 A
2970 V
(50118)210 648 A
(fseek\(FILE)420 1026 A
(*stream,)336 1488 A
(long)168 1866 A
(int)126 2076 A
(offset,)294 2244 A
(int)126 2580 A
(whence\))294 2748 A
3060 V
(50119)210 648 A
1026({)S
3150 V
(50120)210 648 A
(int)126 1362 A
(adjust)252 1530 A
1824(=)S
1908(0;)S
3240 V
(50121)210 648 A
(long)168 1362 A
(pos;)168 1572 A
3330 V
(50122)210 648 A
3420 V
(50123)210 648 A
(stream->_flags)588 1362 A
1992(&=)S
(\304\(_IOEOF)336 2118 A
2496(|)S
(_IOERR\);)336 2580 A
3510 V
(50124)210 648 A
1362(/*)S
(Clear)210 1488 A
(both)168 1740 A
(the)126 1950 A
(end)126 2118 A
2286(of)S
(file)168 2412 A
(and)126 2622 A
(error)210 2790 A
(flags)210 3042 A
3294(*/)S
3600 V
(50125)210 648 A
3690 V
(50126)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IOREADING\)\))504 2370 A
2916({)S
3780 V
(50127)210 648 A
1698(if)S
(\(whence)294 1824 A
2160(==)S
(SEEK_CUR)336 2286 A
3870 V
(50128)210 648 A
1866(&&)S
(stream->_buf)504 1992 A
3960 V
(50129)210 648 A
1866(&&)S
(!io_testflag\(stream,_IONBF\)\))1176 1992 A
4050 V
(50130)210 648 A
(adjust)252 2034 A
2328(=)S
(stream->_count;)630 2412 A
4140 V
(50131)210 648 A
(stream->_count)588 1698 A
2328(=)S
2412(0;)S
4230 V
(50132)210 648 A
1362(})S
(else)168 1446 A
1656(if)S
(\(io_testflag\(stream,_IOWRITING\)\))1344 1782 A
3168({)S
4320 V
(50133)210 648 A
(fflush\(stream\);)630 1698 A
4410 V
(50134)210 648 A
1362(})S
(else)168 1446 A
1698(/*)S
(neither)294 1824 A
(reading)294 2160 A
(nor)126 2496 A
(writing.)336 2664 A
(The)126 3042 A
(buffer)252 3210 A
(must)168 3504 A
3714(be)S
(empty)210 3840 A
4092(*/)S
4500 V
(50135)210 648 A
1698(/*)S
(EMPTY)210 1824 A
2076(*/)S
2202(;)S
4590 V
(50136)210 648 A
4680 V
(50137)210 648 A
(pos)126 1362 A
1530(=)S
(_lseek\(fileno\(stream\),)924 1614 A
(offset)252 2580 A
2874(-)S
(adjust,)294 2958 A
(whence\);)336 3294 A
4770 V
(50138)210 648 A
1362(if)S
(\(io_testflag\(stream,)840 1488 A
(_IOREAD\))336 2370 A
2748(&&)S
(io_testflag\(stream,)798 2874 A
(_IOWRITE\)\))420 3714 A
4860 V
(50139)210 648 A
(stream->_flags)588 1698 A
2328(&=)S
(\304\(_IOREADING)504 2454 A
3000(|)S
(_IOWRITING\);)504 3084 A
4950 V
(50140)210 648 A
5040 V
(50141)210 648 A
(stream->_ptr)504 1362 A
1908(=)S
(stream->_buf;)546 1992 A
5130 V
(50142)210 648 A
(return)252 1362 A
(\(\(pos)210 1656 A
1908(==)S
(-1\))126 2034 A
2202(?)S
2286(-1)S
2412(:)S
(0\);)126 2496 A
5220 V
(50143)210 648 A
1026(})S
8418 V
EP
%%Page: 458 458
BP
/slant 0 def
/height 0 def
630 V
12 B
(458)180 648 A
11 R
1948(File:)S
(src/lib/stdio/fsetpos.c)947 2181 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/fsetpos.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(50200)210 648 A
1026(/*)S
1440 V
(50201)210 648 A
1068(*)S
(fsetpos.c)378 1152 A
1572(-)S
(set)126 1656 A
(the)126 1824 A
(position)336 1992 A
2370(in)S
(the)126 2496 A
(file)168 2664 A
1530 V
(50202)210 648 A
1068(*/)S
1620 V
(50203)210 648 A
1026(/*)S
($Header:)336 1152 A
(fsetpos.c,v)462 1530 A
(1.1)126 2034 A
(89/05/30)336 2202 A
(13:29:34)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1710 V
(50204)210 648 A
1800 V
(50205)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(50206)210 648 A
1980 V
(50207)210 648 A
(int)126 1026 A
2070 V
(50208)210 648 A
(fsetpos\(FILE)504 1026 A
(*stream,)336 1572 A
(fpos_t)252 1950 A
(*pos\))210 2244 A
2160 V
(50209)210 648 A
1026({)S
2250 V
(50210)210 648 A
(return)252 1362 A
(fseek\(stream,)546 1656 A
(*pos,)210 2244 A
(SEEK_SET\);)420 2496 A
2340 V
(50211)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/ftell.c)882 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(50300)210 648 A
1026(/*)S
3240 V
(50301)210 648 A
1068(*)S
(ftell.c)294 1152 A
1488(-)S
(obtain)252 1572 A
(the)126 1866 A
(value)210 2034 A
2286(of)S
(the)126 2412 A
(file-position)546 2580 A
(indicator)378 3168 A
3588(of)S
3714(a)S
(stream)252 3798 A
3330 V
(50302)210 648 A
1068(*/)S
3420 V
(50303)210 648 A
1026(/*)S
($Header:)336 1152 A
(ftell.c,v)378 1530 A
(1.4)126 1950 A
(90/01/22)336 2118 A
(11:12:12)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
3510 V
(50304)210 648 A
3600 V
(50305)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(50306)210 648 A
3780 V
(50307)210 648 A
(#if)126 1026 A
(\(SEEK_CUR)378 1362 A
1782(!=)S
1908(1\))S
2034(||)S
(\(SEEK_SET)378 2160 A
2580(!=)S
2706(0\))S
2832(||)S
(\(SEEK_END)378 2958 A
3378(!=)S
3504(2\))S
3870 V
(50308)210 648 A
(#error)252 1026 A
(SEEK_*)252 1320 A
(values)252 1614 A
(are)126 1908 A
(wrong)210 2076 A
3960 V
(50309)210 648 A
(#endif)252 1026 A
4050 V
(50310)210 648 A
4140 V
(50311)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
4230 V
(50312)210 648 A
4320 V
(50313)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
4410 V
(50314)210 648 A
4500 V
(50315)210 648 A
(off_t)210 1026 A
(_lseek\(int)420 1278 A
(fildes,)294 1740 A
(off_t)210 2076 A
(offset,)294 2328 A
(int)126 2664 A
(whence\);)336 2832 A
4590 V
(50316)210 648 A
4680 V
(50317)210 648 A
(long)168 1026 A
(ftell\(FILE)420 1236 A
(*stream\))336 1698 A
4770 V
(50318)210 648 A
1026({)S
4860 V
(50319)210 648 A
(long)168 1362 A
(result;)294 1572 A
4950 V
(50320)210 648 A
(int)126 1362 A
(adjust)252 1530 A
1824(=)S
1908(0;)S
5040 V
(50321)210 648 A
5130 V
(50322)210 648 A
1362(if)S
(\(io_testflag\(stream,_IOREADING\)\))1344 1488 A
5220 V
(50323)210 648 A
(adjust)252 1698 A
1992(=)S
(-stream->_count;)672 2076 A
5310 V
(50324)210 648 A
(else)168 1362 A
1572(if)S
(\(io_testflag\(stream,_IOWRITING\))1302 1698 A
5400 V
(50325)210 648 A
1866(&&)S
(stream->_buf)504 1992 A
5490 V
(50326)210 648 A
1866(&&)S
(!io_testflag\(stream,_IONBF\)\))1176 1992 A
5580 V
(50327)210 648 A
(adjust)252 1698 A
1992(=)S
(stream->_ptr)504 2076 A
2622(-)S
(stream->_buf;)546 2706 A
5670 V
(50328)210 648 A
(else)168 1362 A
(adjust)252 1572 A
1866(=)S
1950(0;)S
5760 V
(50329)210 648 A
5850 V
(50330)210 648 A
(result)252 1362 A
1656(=)S
(_lseek\(fileno\(stream\),)924 1740 A
(\(off_t\)0,)378 2706 A
(SEEK_CUR\);)420 3126 A
5940 V
(50331)210 648 A
6030 V
(50332)210 648 A
1362(if)S
1488(\()S
(result)252 1572 A
1866(==)S
1992(-1)S
2118(\))S
6120 V
(50333)210 648 A
(return)252 1698 A
(result;)294 1992 A
6210 V
(50334)210 648 A
8418 V
EP
%%Page: 459 459
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
2015(File:)S
(src/lib/stdio/ftell.c)813 2248 A
12 B
(459)180 4248 A
900 V
7 LST
(50335)210 648 A
(result)252 1362 A
1656(+=)S
(\(long\))252 1782 A
(adjust;)294 2076 A
990 V
(50336)210 648 A
(return)252 1362 A
(result;)294 1656 A
1080 V
(50337)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/stdio/fwrite.c)924 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(50400)210 648 A
1026(/*)S
1890 V
(50401)210 648 A
1068(*)S
(fwrite.c)336 1152 A
1530(-)S
(write)210 1614 A
1866(a)S
(number)252 1950 A
2244(of)S
(array)210 2370 A
(elements)336 2622 A
3000(on)S
3126(a)S
(file)168 3210 A
1980 V
(50402)210 648 A
1068(*/)S
2070 V
(50403)210 648 A
1026(/*)S
($Header:)336 1152 A
(fwrite.c,v)420 1530 A
(1.3)126 1992 A
(89/12/18)336 2160 A
(15:02:39)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2160 V
(50404)210 648 A
2250 V
(50405)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2340 V
(50406)210 648 A
2430 V
(50407)210 648 A
(size_t)252 1026 A
2520 V
(50408)210 648 A
(fwrite\(const)504 1026 A
(void)168 1572 A
(*ptr,)210 1782 A
(size_t)252 2034 A
(size,)210 2328 A
(size_t)252 2580 A
(nmemb,)252 2874 A
2610 V
(50409)210 648 A
(register)336 1530 A
(FILE)168 1908 A
(*stream\))336 2118 A
2700 V
(50410)210 648 A
1026({)S
2790 V
(50411)210 648 A
(register)336 1362 A
(const)210 1740 A
(unsigned)336 1992 A
(char)168 2370 A
(*cp)126 2580 A
2748(=)S
(ptr;)168 2832 A
2880 V
(50412)210 648 A
(register)336 1362 A
(size_t)252 1740 A
2034(s;)S
2970 V
(50413)210 648 A
(size_t)252 1362 A
(ndone)210 1656 A
1908(=)S
1992(0;)S
3060 V
(50414)210 648 A
3150 V
(50415)210 648 A
1362(if)S
(\(size\))252 1488 A
3240 V
(50416)210 648 A
(while)210 1698 A
1950(\()S
(ndone)210 2034 A
2286(<)S
(nmemb)210 2370 A
2622(\))S
2706({)S
3330 V
(50417)210 648 A
2034(s)S
2118(=)S
(size;)210 2202 A
3420 V
(50418)210 648 A
2034(do)S
2160({)S
3510 V
(50419)210 648 A
2370(if)S
(\(putc\(\(int\)*cp,)630 2496 A
(stream\))294 3168 A
3600 V
(50420)210 648 A
2706(==)S
(EOF\))168 2832 A
3690 V
(50421)210 648 A
(return)252 2706 A
(ndone;)252 3000 A
3780 V
(50422)210 648 A
(cp++;)210 2370 A
3870 V
(50423)210 648 A
2034(})S
3960 V
(50424)210 648 A
(while)210 2034 A
(\(--s\);)252 2286 A
4050 V
(50425)210 648 A
(ndone++;)336 2034 A
4140 V
(50426)210 648 A
1698(})S
4230 V
(50427)210 648 A
(return)252 1362 A
(ndone;)252 1656 A
4320 V
(50428)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/getc.c)840 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(50500)210 648 A
1026(/*)S
5040 V
(50501)210 648 A
1068(*)S
(getc.c)252 1152 A
1446(-)S
(read)168 1530 A
1740(an)S
(unsigned)336 1866 A
(character)378 2244 A
5130 V
(50502)210 648 A
1068(*/)S
5220 V
(50503)210 648 A
1026(/*)S
($Header:)336 1152 A
(getc.c,v)336 1530 A
(1.2)126 1908 A
(89/12/18)336 2076 A
(15:02:45)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
5310 V
(50504)210 648 A
5400 V
(50505)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5490 V
(50506)210 648 A
5580 V
(50507)210 648 A
(int)126 1026 A
5670 V
(50508)210 648 A
(\(getc\)\(FILE)462 1026 A
(*stream\))336 1530 A
5760 V
(50509)210 648 A
1026({)S
5850 V
(50510)210 648 A
(return)252 1362 A
(getc\(stream\);)546 1656 A
5940 V
(50511)210 648 A
1026(})S
8418 V
EP
%%Page: 460 460
BP
/slant 0 def
/height 0 def
630 V
12 B
(460)180 648 A
11 R
1941(File:)S
(src/lib/stdio/getchar.c)961 2174 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/getchar.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(50600)210 648 A
1026(/*)S
1440 V
(50601)210 648 A
1068(*)S
(getchar.c)378 1152 A
1572(-)S
(read)168 1656 A
1866(a)S
(character)378 1950 A
(from)168 2370 A
(the)126 2580 A
(standard)336 2748 A
(input)210 3126 A
(stream)252 3378 A
1530 V
(50602)210 648 A
1068(*/)S
1620 V
(50603)210 648 A
1026(/*)S
($Header:)336 1152 A
(getchar.c,v)462 1530 A
(1.2)126 2034 A
(89/12/18)336 2202 A
(15:02:53)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1710 V
(50604)210 648 A
1800 V
(50605)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(50606)210 648 A
1980 V
(50607)210 648 A
(int)126 1026 A
2070 V
(50608)210 648 A
(\(getchar\)\(void\))630 1026 A
2160 V
(50609)210 648 A
1026({)S
2250 V
(50610)210 648 A
(return)252 1362 A
(getchar\(\);)420 1656 A
2340 V
(50611)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/gets.c)840 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(50700)210 648 A
1026(/*)S
3240 V
(50701)210 648 A
1068(*)S
(gets.c)252 1152 A
1446(-)S
(read)168 1530 A
1740(a)S
(line)168 1824 A
(from)168 2034 A
2244(a)S
(stream)252 2328 A
3330 V
(50702)210 648 A
1068(*/)S
3420 V
(50703)210 648 A
1026(/*)S
($Header:)336 1152 A
(gets.c,v)336 1530 A
(1.2)126 1908 A
(89/12/18)336 2076 A
(15:03:00)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
3510 V
(50704)210 648 A
3600 V
(50705)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(50706)210 648 A
3780 V
(50707)210 648 A
(char)168 1026 A
1236(*)S
3870 V
(50708)210 648 A
(gets\(char)378 1026 A
(*s\))126 1446 A
3960 V
(50709)210 648 A
1026({)S
4050 V
(50710)210 648 A
(register)336 1362 A
(FILE)168 1740 A
(*stream)294 1950 A
2286(=)S
(stdin;)252 2370 A
4140 V
(50711)210 648 A
(register)336 1362 A
(int)126 1740 A
(ch;)126 1908 A
4230 V
(50712)210 648 A
(register)336 1362 A
(char)168 1740 A
(*ptr;)210 1950 A
4320 V
(50713)210 648 A
4410 V
(50714)210 648 A
(ptr)126 1362 A
1530(=)S
1614(s;)S
4500 V
(50715)210 648 A
(while)210 1362 A
(\(\(ch)168 1614 A
1824(=)S
(getc\(stream\)\))546 1908 A
2496(!=)S
(EOF)126 2622 A
2790(&&)S
2916(ch)S
3042(!=)S
('\\n'\))210 3168 A
4590 V
(50716)210 648 A
(*ptr++)252 1698 A
1992(=)S
(ch;)126 2076 A
4680 V
(50717)210 648 A
4770 V
(50718)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(==)S
(EOF\))168 1782 A
1992({)S
4860 V
(50719)210 648 A
1698(if)S
(\(feof\(stream\)\))588 1824 A
2454({)S
4950 V
(50720)210 648 A
2034(if)S
(\(ptr)168 2160 A
2370(==)S
2496(s\))S
(return)252 2622 A
(NULL;)210 2916 A
5040 V
(50721)210 648 A
1698(})S
(else)168 1782 A
(return)252 1992 A
(NULL;)210 2286 A
5130 V
(50722)210 648 A
1362(})S
5220 V
(50723)210 648 A
5310 V
(50724)210 648 A
(*ptr)168 1362 A
1572(=)S
('\\0';)210 1656 A
5400 V
(50725)210 648 A
(return)252 1362 A
1656(s;)S
5490 V
(50726)210 648 A
1026(})S
8418 V
EP
%%Page: 461 461
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1898(File:)S
(src/lib/stdio/icompute.c)1046 2131 A
12 B
(461)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/icompute.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(50800)210 648 A
1026(/*)S
1440 V
(50801)210 648 A
1068(*)S
(icompute.c)420 1152 A
1614(-)S
(compute)294 1698 A
2034(an)S
(integer)294 2160 A
1530 V
(50802)210 648 A
1068(*/)S
1620 V
(50803)210 648 A
1026(/*)S
($Header:)336 1152 A
(icompute.c,v)504 1530 A
(1.1)126 2076 A
(89/12/18)336 2244 A
(14:59:38)336 2622 A
(eck)126 3000 A
(Exp)126 3168 A
3336($)S
3420(*/)S
1710 V
(50804)210 648 A
1800 V
(50805)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
1890 V
(50806)210 648 A
1980 V
(50807)210 648 A
1026(/*)S
(This)168 1152 A
(routine)294 1362 A
1698(is)S
(used)168 1824 A
2034(in)S
(doprnt.c)336 2160 A
2538(as)S
(well)168 2664 A
2874(as)S
3000(in)S
(tmpfile.c)378 3126 A
(and)126 3546 A
(tmpnam.c.)378 3714 A
4134(*/)S
2070 V
(50808)210 648 A
2160 V
(50809)210 648 A
(char)168 1026 A
1236(*)S
2250 V
(50810)210 648 A
(_i_compute\(unsigned)798 1026 A
(long)168 1866 A
(val,)168 2076 A
(int)126 2286 A
(base,)210 2454 A
(char)168 2706 A
(*s,)126 2916 A
(int)126 3084 A
(nrdigits\))378 3252 A
2340 V
(50811)210 648 A
1026({)S
2430 V
(50812)210 648 A
(int)126 1362 A
1530(c;)S
2520 V
(50813)210 648 A
2610 V
(50814)210 648 A
1362(c=)S
(val)126 1488 A
1656(%)S
(base)168 1740 A
1950(;)S
2700 V
(50815)210 648 A
(val)126 1362 A
1530(/=)S
(base)168 1656 A
1866(;)S
2790 V
(50816)210 648 A
1362(if)S
(\(val)168 1488 A
1698(||)S
(nrdigits)336 1824 A
2202(>)S
2286(1\))S
2880 V
(50817)210 648 A
1698(s)S
1782(=)S
(_i_compute\(val,)630 1866 A
(base,)210 2538 A
2790(s,)S
(nrdigits)336 2916 A
3294(-)S
(1\);)126 3378 A
2970 V
(50818)210 648 A
(*s++)168 1362 A
1572(=)S
(\(c>9)168 1656 A
1866(?)S
(c-10+'a')336 1950 A
2328(:)S
(c+'0'\);)294 2412 A
3060 V
(50819)210 648 A
(return)252 1362 A
1656(s;)S
3150 V
(50820)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/stdio/perror.c)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(50900)210 648 A
1026(/*)S
4140 V
(50901)210 648 A
1068(*)S
(perror.c)336 1152 A
1530(-)S
(print)210 1614 A
1866(an)S
(error)210 1992 A
(message)294 2244 A
2580(on)S
(the)126 2706 A
(standard)336 2874 A
(error)210 3252 A
(output)252 3504 A
4230 V
(50902)210 648 A
1068(*/)S
4320 V
(50903)210 648 A
1026(/*)S
($Header:)336 1152 A
(perror.c,v)420 1530 A
(1.1)126 1992 A
(89/05/30)336 2160 A
(13:31:30)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
4410 V
(50904)210 648 A
4500 V
(50905)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
4590 V
(50906)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
4680 V
(50907)210 648 A
(#endif)252 1026 A
4770 V
(50908)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
4860 V
(50909)210 648 A
(#include)336 1026 A
(<errno.h>)378 1698 A
4950 V
(50910)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5040 V
(50911)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5130 V
(50912)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5220 V
(50913)210 648 A
5310 V
(50914)210 648 A
(ssize_t)294 1026 A
(_write\(int)420 1362 A
1824(d,)S
(const)210 1950 A
(char)168 2202 A
(*buf,)210 2412 A
(size_t)252 2664 A
(nbytes\);)336 2958 A
5400 V
(50915)210 648 A
5490 V
(50916)210 648 A
(void)168 1026 A
5580 V
(50917)210 648 A
(perror\(const)504 1026 A
(char)168 1572 A
(*s\))126 1782 A
5670 V
(50918)210 648 A
1026({)S
5760 V
(50919)210 648 A
(char)168 1362 A
(*p;)126 1572 A
5850 V
(50920)210 648 A
(int)126 1362 A
(fd;)126 1530 A
5940 V
(50921)210 648 A
6030 V
(50922)210 648 A
1362(p)S
1446(=)S
(strerror\(errno\);)672 1530 A
6120 V
(50923)210 648 A
1362(fd)S
1488(=)S
(fileno\(stderr\);)630 1572 A
6210 V
(50924)210 648 A
(fflush\(stdout\);)630 1362 A
8418 V
EP
%%Page: 462 462
BP
/slant 0 def
/height 0 def
630 V
12 B
(462)180 648 A
11 R
1969(File:)S
(src/lib/stdio/perror.c)904 2202 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(50925)210 648 A
(fflush\(stderr\);)630 1362 A
990 V
(50926)210 648 A
1362(if)S
1488(\(s)S
1614(&&)S
(*s\))126 1740 A
1908({)S
1080 V
(50927)210 648 A
(_write\(fd,)420 1698 A
2160(s,)S
(strlen\(s\)\);)462 2286 A
1170 V
(50928)210 648 A
(_write\(fd,)420 1698 A
2160(":)S
2286(",)S
(2\);)126 2412 A
1260 V
(50929)210 648 A
1362(})S
1350 V
(50930)210 648 A
(_write\(fd,)420 1362 A
1824(p,)S
(strlen\(p\)\);)462 1950 A
1440 V
(50931)210 648 A
(_write\(fd,)420 1362 A
("\\n",)210 1824 A
(1\);)126 2076 A
1530 V
(50932)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/stdio/printf.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(51000)210 648 A
1026(/*)S
2340 V
(51001)210 648 A
1068(*)S
(printf)252 1152 A
1446(-)S
(write)210 1530 A
1782(on)S
(the)126 1908 A
(standard)336 2076 A
(output)252 2454 A
(stream)252 2748 A
2430 V
(51002)210 648 A
1068(*/)S
2520 V
(51003)210 648 A
1026(/*)S
($Header:)336 1152 A
(printf.c,v)420 1530 A
(1.3)126 1992 A
(89/12/18)336 2160 A
(15:03:08)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2610 V
(51004)210 648 A
2700 V
(51005)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2790 V
(51006)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
2880 V
(51007)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
2970 V
(51008)210 648 A
3060 V
(51009)210 648 A
(int)126 1026 A
3150 V
(51010)210 648 A
(printf\(const)504 1026 A
(char)168 1572 A
(*format,)336 1782 A
(...\))168 2160 A
3240 V
(51011)210 648 A
1026({)S
3330 V
(51012)210 648 A
(va_list)294 1362 A
(ap;)126 1698 A
3420 V
(51013)210 648 A
(int)126 1362 A
(retval;)294 1530 A
3510 V
(51014)210 648 A
3600 V
(51015)210 648 A
(va_start\(ap,)504 1362 A
(format\);)336 1908 A
3690 V
(51016)210 648 A
3780 V
(51017)210 648 A
(retval)252 1362 A
1656(=)S
(_doprnt\(format,)630 1740 A
(ap,)126 2412 A
(stdout\);)336 2580 A
3870 V
(51018)210 648 A
3960 V
(51019)210 648 A
(va_end\(ap\);)462 1362 A
4050 V
(51020)210 648 A
4140 V
(51021)210 648 A
(return)252 1362 A
(retval;)294 1656 A
4230 V
(51022)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/putc.c)840 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(51100)210 648 A
1026(/*)S
5040 V
(51101)210 648 A
1068(*)S
(putc.c)252 1152 A
1446(-)S
(print)210 1530 A
(\(or)126 1782 A
(buffer\))294 1950 A
(one)126 2286 A
(character)378 2454 A
5130 V
(51102)210 648 A
1068(*/)S
5220 V
(51103)210 648 A
1026(/*)S
($Header:)336 1152 A
(putc.c,v)336 1530 A
(1.2)126 1908 A
(89/12/18)336 2076 A
(15:03:15)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
5310 V
(51104)210 648 A
5400 V
(51105)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5490 V
(51106)210 648 A
5580 V
(51107)210 648 A
(int)126 1026 A
5670 V
(51108)210 648 A
(\(putc\)\(int)420 1026 A
1488(c,)S
(FILE)168 1614 A
(*stream\))336 1824 A
5760 V
(51109)210 648 A
1026({)S
5850 V
(51110)210 648 A
(return)252 1362 A
(putc\(c,)294 1656 A
(stream\);)336 1992 A
5940 V
(51111)210 648 A
1026(})S
8418 V
EP
%%Page: 463 463
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1938(File:)S
(src/lib/stdio/putchar.c)966 2171 A
12 B
(463)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/putchar.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(51200)210 648 A
1026(/*)S
1440 V
(51201)210 648 A
1068(*)S
(putchar.c)378 1152 A
1572(-)S
(print)210 1656 A
(\(or)126 1908 A
(buffer\))294 2076 A
2412(a)S
(character)378 2496 A
2916(on)S
(the)126 3042 A
(standard)336 3210 A
(output)252 3588 A
(stream)252 3882 A
1530 V
(51202)210 648 A
1068(*/)S
1620 V
(51203)210 648 A
1026(/*)S
($Header:)336 1152 A
(putchar.c,v)462 1530 A
(1.2)126 2034 A
(89/12/18)336 2202 A
(15:03:23)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1710 V
(51204)210 648 A
1800 V
(51205)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(51206)210 648 A
1980 V
(51207)210 648 A
(int)126 1026 A
2070 V
(51208)210 648 A
(\(putchar\)\(int)546 1026 A
1614(c\))S
2160 V
(51209)210 648 A
1026({)S
2250 V
(51210)210 648 A
(return)252 1362 A
(putchar\(c\);)462 1656 A
2340 V
(51211)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/puts.c)840 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(51300)210 648 A
1026(/*)S
3240 V
(51301)210 648 A
1068(*)S
(puts.c)252 1152 A
1446(-)S
(print)210 1530 A
1782(a)S
(string)252 1866 A
(onto)168 2160 A
(the)126 2370 A
(standard)336 2538 A
(output)252 2916 A
(stream)252 3210 A
3330 V
(51302)210 648 A
1068(*/)S
3420 V
(51303)210 648 A
1026(/*)S
($Header:)336 1152 A
(puts.c,v)336 1530 A
(1.2)126 1908 A
(89/12/18)336 2076 A
(15:03:30)336 2454 A
(eck)126 2832 A
(Exp)126 3000 A
3168($)S
3252(*/)S
3510 V
(51304)210 648 A
3600 V
(51305)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(51306)210 648 A
3780 V
(51307)210 648 A
(int)126 1026 A
3870 V
(51308)210 648 A
(puts\(register)546 1026 A
(const)210 1614 A
(char)168 1866 A
(*s\))126 2076 A
3960 V
(51309)210 648 A
1026({)S
4050 V
(51310)210 648 A
(register)336 1362 A
(FILE)168 1740 A
(*file)210 1950 A
2202(=)S
(stdout;)294 2286 A
4140 V
(51311)210 648 A
(register)336 1362 A
(int)126 1740 A
1908(i)S
1992(=)S
2076(0;)S
4230 V
(51312)210 648 A
4320 V
(51313)210 648 A
(while)210 1362 A
(\(*s\))168 1614 A
1824({)S
4410 V
(51314)210 648 A
1698(if)S
(\(putc\(*s++,)462 1824 A
(file\))210 2328 A
2580(==)S
(EOF\))168 2706 A
(return)252 2916 A
(EOF;)168 3210 A
4500 V
(51315)210 648 A
(else)168 1698 A
(i++;)168 1908 A
4590 V
(51316)210 648 A
1362(})S
4680 V
(51317)210 648 A
1362(if)S
(\(putc\('\\n',)462 1488 A
(file\))210 1992 A
2244(==)S
(EOF\))168 2370 A
(return)252 2580 A
(EOF;)168 2874 A
4770 V
(51318)210 648 A
(return)252 1362 A
1656(i)S
1740(+)S
1824(1;)S
4860 V
(51319)210 648 A
1026(})S
8418 V
EP
%%Page: 464 464
BP
/slant 0 def
/height 0 def
630 V
12 B
(464)180 648 A
11 R
1938(File:)S
(src/lib/stdio/remove.c)966 2171 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/remove.c)924 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(51400)210 648 A
1026(/*)S
1440 V
(51401)210 648 A
1068(*)S
(remove.c)336 1152 A
1530(-)S
(remove)252 1614 A
1908(a)S
(file)168 1992 A
1530 V
(51402)210 648 A
1068(*/)S
1620 V
(51403)210 648 A
1026(/*)S
($Header:)336 1152 A
(remove.c,v)420 1530 A
(1.2)126 1992 A
(90/01/22)336 2160 A
(11:12:44)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
1710 V
(51404)210 648 A
1800 V
(51405)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(51406)210 648 A
1980 V
(51407)210 648 A
(int)126 1026 A
(_unlink\(const)546 1194 A
(char)168 1782 A
(*path\);)294 1992 A
2070 V
(51408)210 648 A
2160 V
(51409)210 648 A
(int)126 1026 A
2250 V
(51410)210 648 A
(remove\(const)504 1026 A
(char)168 1572 A
(*filename\))420 1782 A
2244({)S
2340 V
(51411)210 648 A
(return)252 1362 A
(_unlink\(filename\);)756 1656 A
2430 V
(51412)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/rewind.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(51500)210 648 A
1026(/*)S
3240 V
(51501)210 648 A
1068(*)S
(rewind.c)336 1152 A
1530(-)S
(set)126 1614 A
(the)126 1782 A
(file)168 1950 A
(position)336 2160 A
(indicator)378 2538 A
2958(of)S
3084(a)S
(stream)252 3168 A
3462(to)S
(the)126 3588 A
(start)210 3756 A
3330 V
(51502)210 648 A
1068(*/)S
3420 V
(51503)210 648 A
1026(/*)S
($Header:)336 1152 A
(rewind.c,v)420 1530 A
(1.1)126 1992 A
(89/05/30)336 2160 A
(13:32:52)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
3510 V
(51504)210 648 A
3600 V
(51505)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(51506)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3780 V
(51507)210 648 A
3870 V
(51508)210 648 A
(void)168 1026 A
3960 V
(51509)210 648 A
(rewind\(FILE)462 1026 A
(*stream\))336 1530 A
4050 V
(51510)210 648 A
1026({)S
4140 V
(51511)210 648 A
(\(void\))252 1362 A
(fseek\(stream,)546 1656 A
(0L,)126 2244 A
(SEEK_SET\);)420 2412 A
4230 V
(51512)210 648 A
(clearerr\(stream\);)714 1362 A
4320 V
(51513)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/scanf.c)882 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(51600)210 648 A
1026(/*)S
5040 V
(51601)210 648 A
1068(*)S
(scanf.c)294 1152 A
1488(-)S
(read)168 1572 A
(formatted)378 1782 A
(input)210 2202 A
(from)168 2454 A
(the)126 2664 A
(standard)336 2832 A
(input)210 3210 A
(stream)252 3462 A
5130 V
(51602)210 648 A
1068(*/)S
5220 V
(51603)210 648 A
1026(/*)S
($Header:)336 1152 A
(scanf.c,v)378 1530 A
(1.1)126 1950 A
(89/05/30)336 2118 A
(13:33:03)336 2496 A
(eck)126 2874 A
(Exp)126 3042 A
3210($)S
3294(*/)S
5310 V
(51604)210 648 A
5400 V
(51605)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5490 V
(51606)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
5580 V
(51607)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5670 V
(51608)210 648 A
5760 V
(51609)210 648 A
(int)126 1026 A
5850 V
(51610)210 648 A
(scanf\(const)462 1026 A
(char)168 1530 A
(*format,)336 1740 A
(...\))168 2118 A
5940 V
(51611)210 648 A
1026({)S
6030 V
(51612)210 648 A
(va_list)294 1362 A
(ap;)126 1698 A
6120 V
(51613)210 648 A
(int)126 1362 A
(retval;)294 1530 A
6210 V
(51614)210 648 A
8418 V
EP
%%Page: 465 465
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1987(File:)S
(src/lib/stdio/scanf.c)868 2220 A
12 B
(465)180 4248 A
900 V
7 LST
(51615)210 648 A
(va_start\(ap,)504 1362 A
(format\);)336 1908 A
990 V
(51616)210 648 A
1080 V
(51617)210 648 A
(retval)252 1362 A
1656(=)S
(_doscan\(stdin,)588 1740 A
(format,)294 2370 A
(ap\);)168 2706 A
1170 V
(51618)210 648 A
1260 V
(51619)210 648 A
(va_end\(ap\);)462 1362 A
1350 V
(51620)210 648 A
1440 V
(51621)210 648 A
(return)252 1362 A
(retval;)294 1656 A
1530 V
(51622)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/stdio/setbuf.c)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(51700)210 648 A
1026(/*)S
2790 V
(51701)210 648 A
1068(*)S
(setbuf.c)336 1152 A
1530(-)S
(control)294 1614 A
(buffering)378 1950 A
2370(of)S
2496(a)S
(stream)252 2580 A
2880 V
(51702)210 648 A
1068(*/)S
2970 V
(51703)210 648 A
1026(/*)S
($Header:)336 1152 A
(setbuf.c,v)420 1530 A
(1.2)126 1992 A
(89/06/26)336 2160 A
(10:36:22)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
3060 V
(51704)210 648 A
3150 V
(51705)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3240 V
(51706)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3330 V
(51707)210 648 A
3420 V
(51708)210 648 A
(void)168 1026 A
3510 V
(51709)210 648 A
(setbuf\(register)630 1026 A
(FILE)168 1698 A
(*stream,)336 1908 A
(char)168 2286 A
(*buf\))210 2496 A
3600 V
(51710)210 648 A
1026({)S
3690 V
(51711)210 648 A
(\(void\))252 1362 A
(setvbuf\(stream,)630 1656 A
(buf,)168 2328 A
(\(buf)168 2538 A
2748(?)S
(_IOFBF)252 2832 A
3126(:)S
(_IONBF\),)336 3210 A
(\(size_t\))336 3588 A
(BUFSIZ\);)336 3966 A
3780 V
(51712)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/stdio/setvbuf.c)966 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(51800)210 648 A
1026(/*)S
4590 V
(51801)210 648 A
1068(*)S
(setbuf.c)336 1152 A
1530(-)S
(control)294 1614 A
(buffering)378 1950 A
2370(of)S
2496(a)S
(stream)252 2580 A
4680 V
(51802)210 648 A
1068(*/)S
4770 V
(51803)210 648 A
1026(/*)S
($Id:)168 1152 A
(setvbuf.c,v)462 1362 A
(1.8)126 1866 A
(1995/12/18)420 2034 A
(11:02:18)336 2496 A
(ceriel)252 2874 A
(Exp)126 3168 A
3336($)S
3420(*/)S
4860 V
(51804)210 648 A
4950 V
(51805)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5040 V
(51806)210 648 A
(#include)336 1026 A
(<stdlib.h>)420 1698 A
5130 V
(51807)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5220 V
(51808)210 648 A
5310 V
(51809)210 648 A
(extern)252 1026 A
(void)168 1320 A
(\(*_clean\)\(void\);)672 1530 A
5400 V
(51810)210 648 A
5490 V
(51811)210 648 A
(int)126 1026 A
5580 V
(51812)210 648 A
(setvbuf\(register)672 1026 A
(FILE)168 1740 A
(*stream,)336 1950 A
(char)168 2328 A
(*buf,)210 2538 A
(int)126 2790 A
(mode,)210 2958 A
(size_t)252 3210 A
(size\))210 3504 A
5670 V
(51813)210 648 A
1026({)S
5760 V
(51814)210 648 A
(int)126 1362 A
(retval)252 1530 A
1824(=)S
1908(0;)S
5850 V
(51815)210 648 A
5940 V
(51816)210 648 A
(_clean)252 1362 A
1656(=)S
(__cleanup;)420 1740 A
6030 V
(51817)210 648 A
1362(if)S
(\(mode)210 1488 A
1740(!=)S
(_IOFBF)252 1866 A
2160(&&)S
(mode)168 2286 A
2496(!=)S
(_IOLBF)252 2622 A
2916(&&)S
(mode)168 3042 A
3252(!=)S
(_IONBF\))294 3378 A
6120 V
(51818)210 648 A
(return)252 1698 A
(EOF;)168 1992 A
6210 V
(51819)210 648 A
8418 V
EP
%%Page: 466 466
BP
/slant 0 def
/height 0 def
630 V
12 B
(466)180 648 A
11 R
1942(File:)S
(src/lib/stdio/setvbuf.c)959 2175 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(51820)210 648 A
1362(if)S
(\(stream->_buf)546 1488 A
2076(&&)S
(io_testflag\(stream,_IOMYBUF\))1176 2202 A
3420(\))S
990 V
(51821)210 648 A
(free\(\(void)420 1698 A
(*\)stream->_buf\);)672 2160 A
1080 V
(51822)210 648 A
1170 V
(51823)210 648 A
(stream->_flags)588 1362 A
1992(&=)S
(\304\(_IOMYBUF)420 2118 A
2580(|)S
(_IONBF)252 2664 A
2958(|)S
(_IOLBF\);)336 3042 A
1260 V
(51824)210 648 A
1350 V
(51825)210 648 A
1362(if)S
(\(buf)168 1488 A
1698(&&)S
(size)168 1824 A
2034(<=)S
2160(0\))S
(retval)252 2286 A
2580(=)S
(EOF;)168 2664 A
1440 V
(51826)210 648 A
1362(if)S
(\(!buf)210 1488 A
1740(&&)S
(\(mode)210 1866 A
2118(!=)S
(_IONBF\)\))336 2244 A
2622({)S
1530 V
(51827)210 648 A
1698(if)S
(\(size)210 1824 A
2076(<=)S
2202(0)S
2286(||)S
(\(buf)168 2412 A
2622(=)S
(\(char)210 2706 A
2958(*\))S
(malloc\(size\)\))546 3084 A
3672(==)S
(NULL\))210 3798 A
4050({)S
1620 V
(51828)210 648 A
(retval)252 2034 A
2328(=)S
(EOF;)168 2412 A
1710 V
(51829)210 648 A
1698(})S
(else)168 1782 A
1992({)S
1800 V
(51830)210 648 A
(stream->_flags)588 2034 A
2664(|=)S
(_IOMYBUF;)378 2790 A
1890 V
(51831)210 648 A
1698(})S
1980 V
(51832)210 648 A
1362(})S
2070 V
(51833)210 648 A
2160 V
(51834)210 648 A
(stream->_buf)504 1362 A
1908(=)S
(\(unsigned)378 1992 A
(char)168 2412 A
2622(*\))S
(buf;)168 2748 A
2250 V
(51835)210 648 A
2340 V
(51836)210 648 A
(stream->_count)588 1362 A
1992(=)S
2076(0;)S
2430 V
(51837)210 648 A
(stream->_flags)588 1362 A
1992(|=)S
(mode;)210 2118 A
2520 V
(51838)210 648 A
(stream->_ptr)504 1362 A
1908(=)S
(stream->_buf;)546 1992 A
2610 V
(51839)210 648 A
2700 V
(51840)210 648 A
1362(if)S
(\(!buf\))252 1488 A
1782({)S
2790 V
(51841)210 648 A
(stream->_bufsiz)630 1698 A
2370(=)S
2454(1;)S
2880 V
(51842)210 648 A
1362(})S
(else)168 1446 A
1656({)S
2970 V
(51843)210 648 A
(stream->_bufsiz)630 1698 A
2370(=)S
(size;)210 2454 A
3060 V
(51844)210 648 A
1362(})S
3150 V
(51845)210 648 A
3240 V
(51846)210 648 A
(return)252 1362 A
(retval;)294 1656 A
3330 V
(51847)210 648 A
1026(})S
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/stdio/sprintf.c)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(51900)210 648 A
1026(/*)S
4140 V
(51901)210 648 A
1068(*)S
(sprintf)294 1152 A
1488(-)S
(print)210 1572 A
(formatted)378 1824 A
(output)252 2244 A
2538(on)S
2664(an)S
(array)210 2790 A
4230 V
(51902)210 648 A
1068(*/)S
4320 V
(51903)210 648 A
1026(/*)S
($Header:)336 1152 A
(sprintf.c,v)462 1530 A
(1.2)126 2034 A
(89/12/18)336 2202 A
(15:03:52)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
4410 V
(51904)210 648 A
4500 V
(51905)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
4590 V
(51906)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
4680 V
(51907)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
4770 V
(51908)210 648 A
4860 V
(51909)210 648 A
(int)126 1026 A
4950 V
(51910)210 648 A
(sprintf\(char)504 1026 A
1572(*)S
1656(s,)S
(const)210 1782 A
(char)168 2034 A
(*format,)336 2244 A
(...\))168 2622 A
5040 V
(51911)210 648 A
1026({)S
5130 V
(51912)210 648 A
(va_list)294 1362 A
(ap;)126 1698 A
5220 V
(51913)210 648 A
(int)126 1362 A
(retval;)294 1530 A
5310 V
(51914)210 648 A
(FILE)168 1362 A
(tmp_stream;)462 1572 A
5400 V
(51915)210 648 A
5490 V
(51916)210 648 A
(va_start\(ap,)504 1362 A
(format\);)336 1908 A
5580 V
(51917)210 648 A
5670 V
(51918)210 648 A
(tmp_stream._fd)588 1362 A
2160(=)S
(-1;)126 2244 A
5760 V
(51919)210 648 A
(tmp_stream._flags)714 1362 A
2160(=)S
(_IOWRITE)336 2244 A
2622(+)S
(_IONBF)252 2706 A
3000(+)S
(_IOWRITING;)462 3084 A
5850 V
(51920)210 648 A
(tmp_stream._buf)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
5940 V
(51921)210 648 A
(tmp_stream._ptr)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
6030 V
(51922)210 648 A
(tmp_stream._count)714 1362 A
2160(=)S
(32767;)252 2244 A
6120 V
(51923)210 648 A
6210 V
(51924)210 648 A
(retval)252 1362 A
1656(=)S
(_doprnt\(format,)630 1740 A
(ap,)126 2412 A
(&tmp_stream\);)546 2580 A
8418 V
EP
%%Page: 467 467
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1960(File:)S
(src/lib/stdio/sprintf.c)922 2193 A
12 B
(467)180 4248 A
900 V
7 LST
(51925)210 648 A
(putc\('\\0',&tmp_stream\);)966 1362 A
990 V
(51926)210 648 A
1080 V
(51927)210 648 A
(va_end\(ap\);)462 1362 A
1170 V
(51928)210 648 A
1260 V
(51929)210 648 A
(return)252 1362 A
(retval;)294 1656 A
1350 V
(51930)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/stdio/sscanf.c)924 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(52000)210 648 A
1026(/*)S
2340 V
(52001)210 648 A
1068(*)S
(sscanf)252 1152 A
1446(-)S
(read)168 1530 A
(formatted)378 1740 A
(output)252 2160 A
(from)168 2454 A
2664(a)S
(string)252 2748 A
2430 V
(52002)210 648 A
1068(*/)S
2520 V
(52003)210 648 A
1026(/*)S
($Header:)336 1152 A
(sscanf.c,v)420 1530 A
(1.3)126 1992 A
(90/09/26)336 2160 A
(13:17:39)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
2610 V
(52004)210 648 A
2700 V
(52005)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2790 V
(52006)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
2880 V
(52007)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2970 V
(52008)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3060 V
(52009)210 648 A
3150 V
(52010)210 648 A
(int)126 1026 A
(sscanf\(const)504 1194 A
(char)168 1740 A
(*s,)126 1950 A
(const)210 2118 A
(char)168 2370 A
(*format,)336 2580 A
(...\))168 2958 A
3240 V
(52011)210 648 A
1026({)S
3330 V
(52012)210 648 A
(va_list)294 1362 A
(ap;)126 1698 A
3420 V
(52013)210 648 A
(int)126 1362 A
(retval;)294 1530 A
3510 V
(52014)210 648 A
(FILE)168 1362 A
(tmp_stream;)462 1572 A
3600 V
(52015)210 648 A
3690 V
(52016)210 648 A
(va_start\(ap,)504 1362 A
(format\);)336 1908 A
3780 V
(52017)210 648 A
3870 V
(52018)210 648 A
(tmp_stream._fd)588 1362 A
2160(=)S
(-1;)126 2244 A
3960 V
(52019)210 648 A
(tmp_stream._flags)714 1362 A
2160(=)S
(_IOREAD)294 2244 A
2580(+)S
(_IONBF)252 2664 A
2958(+)S
(_IOREADING;)462 3042 A
4050 V
(52020)210 648 A
(tmp_stream._buf)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
4140 V
(52021)210 648 A
(tmp_stream._ptr)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
4230 V
(52022)210 648 A
(tmp_stream._count)714 1362 A
2160(=)S
(strlen\(s\);)420 2244 A
4320 V
(52023)210 648 A
4410 V
(52024)210 648 A
(retval)252 1362 A
1656(=)S
(_doscan\(&tmp_stream,)840 1740 A
(format,)294 2622 A
(ap\);)168 2958 A
4500 V
(52025)210 648 A
4590 V
(52026)210 648 A
(va_end\(ap\);)462 1362 A
4680 V
(52027)210 648 A
4770 V
(52028)210 648 A
(return)252 1362 A
(retval;)294 1656 A
4860 V
(52029)210 648 A
1026(})S
8418 V
EP
%%Page: 468 468
BP
/slant 0 def
/height 0 def
630 V
12 B
(468)180 648 A
11 R
1944(File:)S
(src/lib/stdio/tmpfile.c)954 2177 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/tmpfile.c)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(52100)210 648 A
1026(/*)S
1440 V
(52101)210 648 A
1068(*)S
(tmpfile.c)378 1152 A
1572(-)S
(create)252 1656 A
(and)126 1950 A
(open)168 2118 A
2328(a)S
(temporary)378 2412 A
(file)168 2832 A
1530 V
(52102)210 648 A
1068(*/)S
1620 V
(52103)210 648 A
1026(/*)S
($Header:)336 1152 A
(tmpfile.c,v)462 1530 A
(1.3)126 2034 A
(90/01/22)336 2202 A
(11:13:15)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
1710 V
(52104)210 648 A
1800 V
(52105)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
1890 V
(52106)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
1980 V
(52107)210 648 A
(#endif)252 1026 A
2070 V
(52108)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
2160 V
(52109)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
2250 V
(52110)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
2340 V
(52111)210 648 A
2430 V
(52112)210 648 A
(pid_t)210 1026 A
(_getpid\(void\);)588 1278 A
2520 V
(52113)210 648 A
2610 V
(52114)210 648 A
(FILE)168 1026 A
1236(*)S
2700 V
(52115)210 648 A
(tmpfile\(void\))546 1026 A
1614({)S
2790 V
(52116)210 648 A
(static)252 1362 A
(char)168 1656 A
(name_buffer[L_tmpnam])882 1866 A
2790(=)S
("/tmp/tmp.")462 2874 A
3378(;)S
2880 V
(52117)210 648 A
(static)252 1362 A
(char)168 1656 A
(*name)210 1866 A
2118(=)S
(NULL;)210 2202 A
2970 V
(52118)210 648 A
(FILE)168 1362 A
(*file;)252 1572 A
3060 V
(52119)210 648 A
3150 V
(52120)210 648 A
1362(if)S
(\(!name\))294 1488 A
1824({)S
3240 V
(52121)210 648 A
(name)168 1698 A
1908(=)S
(name_buffer)462 1992 A
2496(+)S
(strlen\(name_buffer\);)840 2580 A
3330 V
(52122)210 648 A
(name)168 1698 A
1908(=)S
(_i_compute\(_getpid\(\),)882 1992 A
(10,)126 2916 A
(name,)210 3084 A
(5\);)126 3336 A
3420 V
(52123)210 648 A
(*name)210 1698 A
1950(=)S
('\\0';)210 2034 A
3510 V
(52124)210 648 A
1362(})S
3600 V
(52125)210 648 A
3690 V
(52126)210 648 A
(file)168 1362 A
1572(=)S
(fopen\(name_buffer,"wb+"\);)1050 1656 A
3780 V
(52127)210 648 A
1362(if)S
(\(!file\))294 1488 A
(return)252 1824 A
(\(FILE)210 2118 A
(*\)NULL;)294 2370 A
3870 V
(52128)210 648 A
(\(void\))252 1362 A
(remove\(name_buffer\);)840 1656 A
3960 V
(52129)210 648 A
(return)252 1362 A
(file;)210 1656 A
4050 V
(52130)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/tmpnam.c)924 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(52200)210 648 A
1026(/*)S
5040 V
(52201)210 648 A
1068(*)S
(tmpnam.c)336 1152 A
1530(-)S
(create)252 1614 A
1908(a)S
(unique)252 1992 A
(filename)336 2286 A
5130 V
(52202)210 648 A
1068(*/)S
5220 V
(52203)210 648 A
1026(/*)S
($Header:)336 1152 A
(tmpnam.c,v)420 1530 A
(1.4)126 1992 A
(91/02/26)336 2160 A
(09:28:39)336 2538 A
(ceriel)252 2916 A
(Exp)126 3210 A
3378($)S
3462(*/)S
5310 V
(52204)210 648 A
5400 V
(52205)210 648 A
(#if)126 1026 A
(defined\(_POSIX_SOURCE\))924 1362 A
5490 V
(52206)210 648 A
(#include)336 1026 A
(<sys/types.h>)546 1698 A
5580 V
(52207)210 648 A
(#endif)252 1026 A
5670 V
(52208)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5760 V
(52209)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5850 V
(52210)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5940 V
(52211)210 648 A
6030 V
(52212)210 648 A
(pid_t)210 1026 A
(_getpid\(void\);)588 1278 A
6120 V
(52213)210 648 A
6210 V
(52214)210 648 A
(char)168 1026 A
1236(*)S
8418 V
EP
%%Page: 469 469
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1923(File:)S
(src/lib/stdio/tmpnam.c)996 2156 A
12 B
(469)180 4248 A
900 V
7 LST
(52215)210 648 A
(tmpnam\(char)462 1026 A
(*s\))126 1530 A
1698({)S
990 V
(52216)210 648 A
(static)252 1362 A
(char)168 1656 A
(name_buffer[L_tmpnam])882 1866 A
2790(=)S
("/tmp/tmp.";)504 2874 A
1080 V
(52217)210 648 A
(static)252 1362 A
(unsigned)336 1656 A
(long)168 2034 A
(count)210 2244 A
2496(=)S
2580(0;)S
1170 V
(52218)210 648 A
(static)252 1362 A
(char)168 1656 A
(*name)210 1866 A
2118(=)S
(NULL;)210 2202 A
1260 V
(52219)210 648 A
1350 V
(52220)210 648 A
1362(if)S
(\(!name\))294 1488 A
1824({)S
1440 V
(52221)210 648 A
(name)168 1698 A
1908(=)S
(name_buffer)462 1992 A
2496(+)S
(strlen\(name_buffer\);)840 2580 A
1530 V
(52222)210 648 A
(name)168 1698 A
1908(=)S
(_i_compute\(\(unsigned)840 1992 A
(long\)_getpid\(\),)630 2874 A
(10,)126 3546 A
(name,)210 3714 A
(5\);)126 3966 A
1620 V
(52223)210 648 A
(*name++)294 1698 A
2034(=)S
('.';)168 2118 A
1710 V
(52224)210 648 A
(*name)210 1698 A
1950(=)S
('\\0';)210 2034 A
1800 V
(52225)210 648 A
1362(})S
1890 V
(52226)210 648 A
1362(if)S
(\(++count)336 1488 A
1866(>)S
(TMP_MAX\))336 1950 A
(count)210 2328 A
2580(=)S
2664(1;)S
3042(/*)S
(wrap-around)462 3168 A
3672(*/)S
1980 V
(52227)210 648 A
(*_i_compute\(count,)756 1362 A
(10,)126 2160 A
(name,)210 2328 A
2580(3\))S
2706(=)S
('\\0';)210 2790 A
2070 V
(52228)210 648 A
1362(if)S
(\(s\))126 1488 A
(return)252 1656 A
(strcpy\(s,)378 1950 A
(name_buffer\);)546 2370 A
2160 V
(52229)210 648 A
(else)168 1362 A
(return)252 1572 A
(name_buffer;)504 1866 A
2250 V
(52230)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/ungetc.c)924 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(52300)210 648 A
1026(/*)S
3240 V
(52301)210 648 A
1068(*)S
(ungetc.c)336 1152 A
1530(-)S
(push)168 1614 A
1824(a)S
(character)378 1908 A
(back)168 2328 A
(onto)168 2538 A
2748(an)S
(input)210 2874 A
(stream)252 3126 A
3330 V
(52302)210 648 A
1068(*/)S
3420 V
(52303)210 648 A
1026(/*)S
($Header:)336 1152 A
(ungetc.c,v)420 1530 A
(1.3)126 1992 A
(90/03/28)336 2160 A
(16:33:05)336 2538 A
(eck)126 2916 A
(Exp)126 3084 A
3252($)S
3336(*/)S
3510 V
(52304)210 648 A
3600 V
(52305)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(52306)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3780 V
(52307)210 648 A
3870 V
(52308)210 648 A
(int)126 1026 A
3960 V
(52309)210 648 A
(ungetc\(int)420 1026 A
(ch,)126 1488 A
(FILE)168 1656 A
(*stream\))336 1866 A
4050 V
(52310)210 648 A
1026({)S
4140 V
(52311)210 648 A
(unsigned)336 1362 A
(char)168 1740 A
(*p;)126 1950 A
4230 V
(52312)210 648 A
4320 V
(52313)210 648 A
1362(if)S
(\(ch)126 1488 A
1656(==)S
(EOF)126 1782 A
1992(||)S
(!io_testflag\(stream,_IOREADING\)\))1344 2118 A
4410 V
(52314)210 648 A
(return)252 1698 A
(EOF;)168 1992 A
4500 V
(52315)210 648 A
1362(if)S
(\(stream->_ptr)546 1488 A
2076(==)S
(stream->_buf\))546 2202 A
2790({)S
4590 V
(52316)210 648 A
1698(if)S
(\(stream->_count)630 1824 A
2496(!=)S
2622(0\))S
(return)252 2748 A
(EOF;)168 3042 A
4680 V
(52317)210 648 A
(stream->_ptr++;)630 1698 A
4770 V
(52318)210 648 A
1362(})S
4860 V
(52319)210 648 A
(stream->_count++;)714 1362 A
4950 V
(52320)210 648 A
1362(p)S
1446(=)S
(--\(stream->_ptr\);)714 1530 A
2706(/*)S
(???)126 2832 A
(Bloody)252 3000 A
(vax)126 3294 A
(assembler)378 3462 A
(!!!)126 3882 A
4050(*/)S
5040 V
(52321)210 648 A
1362(/*)S
(ungetc\(\))336 1488 A
1866(in)S
(sscanf\(\))336 1992 A
(shouldn't)378 2370 A
(write)210 2790 A
3042(in)S
(rom)126 3168 A
3336(*/)S
5130 V
(52322)210 648 A
1362(if)S
(\(*p)126 1488 A
1656(!=)S
(\(unsigned)378 1782 A
(char\))210 2202 A
(ch\))126 2454 A
5220 V
(52323)210 648 A
1698(*p)S
1824(=)S
(\(unsigned)378 1908 A
(char\))210 2328 A
(ch;)126 2580 A
5310 V
(52324)210 648 A
(return)252 1362 A
(ch;)126 1656 A
5400 V
(52325)210 648 A
1026(})S
8418 V
EP
%%Page: 470 470
BP
/slant 0 def
/height 0 def
630 V
12 B
(470)180 648 A
11 R
1936(File:)S
(src/lib/stdio/vfprintf.c)971 2169 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/stdio/vfprintf.c)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(52400)210 648 A
1026(/*)S
1440 V
(52401)210 648 A
1068(*)S
(vfprintf)336 1152 A
1530(-)S
(formatted)378 1614 A
(output)252 2034 A
(without)294 2328 A
(ellipsis)336 2664 A
1530 V
(52402)210 648 A
1068(*/)S
1620 V
(52403)210 648 A
1026(/*)S
($Header:)336 1152 A
(vfprintf.c,v)504 1530 A
(1.2)126 2076 A
(89/12/18)336 2244 A
(15:04:07)336 2622 A
(eck)126 3000 A
(Exp)126 3168 A
3336($)S
3420(*/)S
1710 V
(52404)210 648 A
1800 V
(52405)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
1890 V
(52406)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
1980 V
(52407)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
2070 V
(52408)210 648 A
2160 V
(52409)210 648 A
(int)126 1026 A
2250 V
(52410)210 648 A
(vfprintf\(FILE)546 1026 A
(*stream,)336 1614 A
(const)210 1992 A
(char)168 2244 A
(*format,)336 2454 A
(va_list)294 2832 A
(arg\))168 3168 A
2340 V
(52411)210 648 A
1026({)S
2430 V
(52412)210 648 A
(return)252 1362 A
(_doprnt)294 1656 A
(\(format,)336 1992 A
(arg,)168 2370 A
(stream\);)336 2580 A
2520 V
(52413)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/stdio/vprintf.c)966 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(52500)210 648 A
1026(/*)S
3240 V
(52501)210 648 A
1068(*)S
(vprintf)294 1152 A
1488(-)S
(formatted)378 1572 A
(output)252 1992 A
(without)294 2286 A
(ellipsis)336 2622 A
3000(to)S
(the)126 3126 A
(standard)336 3294 A
(output)252 3672 A
(stream)252 3966 A
3330 V
(52502)210 648 A
1068(*/)S
3420 V
(52503)210 648 A
1026(/*)S
($Header:)336 1152 A
(vprintf.c,v)462 1530 A
(1.3)126 2034 A
(89/12/18)336 2202 A
(15:04:14)336 2580 A
(eck)126 2958 A
(Exp)126 3126 A
3294($)S
3378(*/)S
3510 V
(52504)210 648 A
3600 V
(52505)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3690 V
(52506)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
3780 V
(52507)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3870 V
(52508)210 648 A
3960 V
(52509)210 648 A
(int)126 1026 A
4050 V
(52510)210 648 A
(vprintf\(const)546 1026 A
(char)168 1614 A
(*format,)336 1824 A
(va_list)294 2202 A
(arg\))168 2538 A
4140 V
(52511)210 648 A
1026({)S
4230 V
(52512)210 648 A
(return)252 1362 A
(_doprnt\(format,)630 1656 A
(arg,)168 2328 A
(stdout\);)336 2538 A
4320 V
(52513)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/stdio/vsprintf.c)1008 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(52600)210 648 A
1026(/*)S
5040 V
(52601)210 648 A
1068(*)S
(vsprintf)336 1152 A
1530(-)S
(print)210 1614 A
(formatted)378 1866 A
(output)252 2286 A
(without)294 2580 A
(ellipsis)336 2916 A
3294(on)S
3420(an)S
(array)210 3546 A
5130 V
(52602)210 648 A
1068(*/)S
5220 V
(52603)210 648 A
1026(/*)S
($Header:)336 1152 A
(vsprintf.c,v)504 1530 A
(1.2)126 2076 A
(90/11/13)336 2244 A
(10:56:53)336 2622 A
(eck)126 3000 A
(Exp)126 3168 A
3336($)S
3420(*/)S
5310 V
(52604)210 648 A
5400 V
(52605)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
5490 V
(52606)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
5580 V
(52607)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5670 V
(52608)210 648 A
5760 V
(52609)210 648 A
(int)126 1026 A
5850 V
(52610)210 648 A
(vsprintf\(char)546 1026 A
(*s,)126 1614 A
(const)210 1782 A
(char)168 2034 A
(*format,)336 2244 A
(va_list)294 2622 A
(arg\))168 2958 A
5940 V
(52611)210 648 A
1026({)S
6030 V
(52612)210 648 A
(int)126 1362 A
(retval;)294 1530 A
6120 V
(52613)210 648 A
(FILE)168 1362 A
(tmp_stream;)462 1572 A
6210 V
(52614)210 648 A
8418 V
EP
%%Page: 471 471
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1933(File:)S
(src/lib/stdio/vsprintf.c)977 2166 A
12 B
(471)180 4248 A
900 V
7 LST
(52615)210 648 A
(tmp_stream._fd)588 1362 A
2160(=)S
(-1;)126 2244 A
990 V
(52616)210 648 A
(tmp_stream._flags)714 1362 A
2160(=)S
(_IOWRITE)336 2244 A
2622(+)S
(_IONBF)252 2706 A
3000(+)S
(_IOWRITING;)462 3084 A
1080 V
(52617)210 648 A
(tmp_stream._buf)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
1170 V
(52618)210 648 A
(tmp_stream._ptr)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
1260 V
(52619)210 648 A
(tmp_stream._count)714 1362 A
2160(=)S
(32767;)252 2244 A
1350 V
(52620)210 648 A
1440 V
(52621)210 648 A
(retval)252 1362 A
1656(=)S
(_doprnt\(format,)630 1740 A
(arg,)168 2412 A
(&tmp_stream\);)546 2622 A
1530 V
(52622)210 648 A
(putc\('\\0',&tmp_stream\);)966 1362 A
1620 V
(52623)210 648 A
1710 V
(52624)210 648 A
(return)252 1362 A
(retval;)294 1656 A
1800 V
(52625)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/stdio/vscanf.c)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(52700)210 648 A
1026(/*)S
2790 V
(52701)210 648 A
1068(*)S
(vscanf.c)336 1152 A
1530(-)S
(read)168 1614 A
(formatted)378 1824 A
(input)210 2244 A
(from)168 2496 A
(the)126 2706 A
(standard)336 2874 A
(input)210 3252 A
(stream)252 3504 A
2880 V
(52702)210 648 A
1068(*/)S
2970 V
(52703)210 648 A
3060 V
(52704)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
3150 V
(52705)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
3240 V
(52706)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
3330 V
(52707)210 648 A
3420 V
(52708)210 648 A
(int)126 1026 A
3510 V
(52709)210 648 A
(vscanf\(const)504 1026 A
(char)168 1572 A
(*format,)336 1782 A
(va_list)294 2160 A
(ap\))126 2496 A
3600 V
(52710)210 648 A
1026({)S
3690 V
(52711)210 648 A
(return)252 1362 A
(_doscan\(stdin,)588 1656 A
(format,)294 2286 A
(ap\);)168 2622 A
3780 V
(52712)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/stdio/vsscanf.c)966 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(52800)210 648 A
1026(/*)S
4590 V
(52801)210 648 A
1068(*)S
(vsscanf)294 1152 A
1488(-)S
(read)168 1572 A
(formatted)378 1782 A
(output)252 2202 A
(from)168 2496 A
2706(a)S
(string)252 2790 A
4680 V
(52802)210 648 A
1068(*/)S
4770 V
(52803)210 648 A
4860 V
(52804)210 648 A
(#include)336 1026 A
(<stdio.h>)378 1698 A
4950 V
(52805)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1698 A
5040 V
(52806)210 648 A
(#include)336 1026 A
(<string.h>)420 1698 A
5130 V
(52807)210 648 A
(#include)336 1026 A
("loc_incl.h")504 1698 A
5220 V
(52808)210 648 A
5310 V
(52809)210 648 A
(int)126 1026 A
(vsscanf\(const)546 1194 A
(char)168 1782 A
(*s,)126 1992 A
(const)210 2160 A
(char)168 2412 A
(*format,)336 2622 A
(va_list)294 3000 A
(ap\))126 3336 A
5400 V
(52810)210 648 A
1026({)S
5490 V
(52811)210 648 A
(FILE)168 1362 A
(tmp_stream;)462 1572 A
5580 V
(52812)210 648 A
5670 V
(52813)210 648 A
(tmp_stream._fd)588 1362 A
2160(=)S
(-1;)126 2244 A
5760 V
(52814)210 648 A
(tmp_stream._flags)714 1362 A
2160(=)S
(_IOREAD)294 2244 A
2580(+)S
(_IONBF)252 2664 A
2958(+)S
(_IOREADING;)462 3042 A
5850 V
(52815)210 648 A
(tmp_stream._buf)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
5940 V
(52816)210 648 A
(tmp_stream._ptr)630 1362 A
2160(=)S
(\(unsigned)378 2244 A
(char)168 2664 A
2874(*\))S
3000(s;)S
6030 V
(52817)210 648 A
(tmp_stream._count)714 1362 A
2160(=)S
(strlen\(s\);)420 2244 A
6120 V
(52818)210 648 A
6210 V
(52819)210 648 A
(return)252 1362 A
(_doscan\(&tmp_stream,)840 1656 A
(format,)294 2538 A
(ap\);)168 2874 A
8418 V
EP
%%Page: 472 472
BP
/slant 0 def
/height 0 def
630 V
12 B
(472)180 648 A
11 R
1938(File:)S
(src/lib/stdio/vsscanf.c)966 2171 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(52820)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/syscall/_exit.s)966 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(52900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1890 V
(52901)210 648 A
(.extern)294 1026 A
(___exit)294 1362 A
1980 V
(52902)210 648 A
(.define)294 1026 A
(__exit)252 1362 A
2070 V
(52903)210 648 A
(.align)252 1026 A
1320(2)S
2160 V
(52904)210 648 A
2250 V
(52905)210 648 A
(__exit:)294 1026 A
2340 V
(52906)210 648 A
(jmp)126 1362 A
(___exit)294 1698 A
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/syscall/access.s)1008 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(53000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
3240 V
(53001)210 648 A
(.extern)294 1026 A
(__access)336 1362 A
3330 V
(53002)210 648 A
(.define)294 1026 A
(_access)294 1362 A
3420 V
(53003)210 648 A
(.align)252 1026 A
1320(2)S
3510 V
(53004)210 648 A
3600 V
(53005)210 648 A
(_access:)336 1026 A
3690 V
(53006)210 648 A
(jmp)126 1362 A
(__access)336 1698 A
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/syscall/alarm.s)966 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(53100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4590 V
(53101)210 648 A
(.extern)294 1026 A
(__alarm)294 1362 A
4680 V
(53102)210 648 A
(.define)294 1026 A
(_alarm)252 1362 A
4770 V
(53103)210 648 A
(.align)252 1026 A
1320(2)S
4860 V
(53104)210 648 A
4950 V
(53105)210 648 A
(_alarm:)294 1026 A
5040 V
(53106)210 648 A
(jmp)126 1362 A
(__alarm)294 1698 A
8418 V
EP
%%Page: 473 473
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1991(File:)S
(src/lib/syscall/brk.s)861 2224 A
12 B
(473)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/brk.s)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(53200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(53201)210 648 A
(.extern)294 1026 A
(__brk)210 1362 A
1530 V
(53202)210 648 A
(.define)294 1026 A
(_brk)168 1362 A
1620 V
(53203)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(53204)210 648 A
1800 V
(53205)210 648 A
(_brk:)210 1026 A
1890 V
(53206)210 648 A
(jmp)126 1362 A
(__brk)210 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/cfgetispeed.s)1218 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(53300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(53301)210 648 A
(.extern)294 1026 A
(__cfgetispeed)546 1362 A
2880 V
(53302)210 648 A
(.define)294 1026 A
(_cfgetispeed)504 1362 A
2970 V
(53303)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(53304)210 648 A
3150 V
(53305)210 648 A
(_cfgetispeed:)546 1026 A
3240 V
(53306)210 648 A
(jmp)126 1362 A
(__cfgetispeed)546 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/cfgetospeed.s)1218 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(53400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(53401)210 648 A
(.extern)294 1026 A
(__cfgetospeed)546 1362 A
4230 V
(53402)210 648 A
(.define)294 1026 A
(_cfgetospeed)504 1362 A
4320 V
(53403)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(53404)210 648 A
4500 V
(53405)210 648 A
(_cfgetospeed:)546 1026 A
4590 V
(53406)210 648 A
(jmp)126 1362 A
(__cfgetospeed)546 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/cfsetispeed.s)1218 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(53500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(53501)210 648 A
(.extern)294 1026 A
(__cfsetispeed)546 1362 A
5580 V
(53502)210 648 A
(.define)294 1026 A
(_cfsetispeed)504 1362 A
5670 V
(53503)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(53504)210 648 A
5850 V
(53505)210 648 A
(_cfsetispeed:)546 1026 A
5940 V
(53506)210 648 A
(jmp)126 1362 A
(__cfsetispeed)546 1698 A
8418 V
EP
%%Page: 474 474
BP
/slant 0 def
/height 0 def
630 V
12 B
(474)180 648 A
11 R
1805(File:)S
(src/lib/syscall/cfsetospeed.s)1233 2038 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/cfsetospeed.s)1218 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(53600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(53601)210 648 A
(.extern)294 1026 A
(__cfsetospeed)546 1362 A
1530 V
(53602)210 648 A
(.define)294 1026 A
(_cfsetospeed)504 1362 A
1620 V
(53603)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(53604)210 648 A
1800 V
(53605)210 648 A
(_cfsetospeed:)546 1026 A
1890 V
(53606)210 648 A
(jmp)126 1362 A
(__cfsetospeed)546 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/chdir.s)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(53700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(53701)210 648 A
(.extern)294 1026 A
(__chdir)294 1362 A
2880 V
(53702)210 648 A
(.define)294 1026 A
(_chdir)252 1362 A
2970 V
(53703)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(53704)210 648 A
3150 V
(53705)210 648 A
(_chdir:)294 1026 A
3240 V
(53706)210 648 A
(jmp)126 1362 A
(__chdir)294 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/chmod.s)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(53800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(53801)210 648 A
(.extern)294 1026 A
(__chmod)294 1362 A
4230 V
(53802)210 648 A
(.define)294 1026 A
(_chmod)252 1362 A
4320 V
(53803)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(53804)210 648 A
4500 V
(53805)210 648 A
(_chmod:)294 1026 A
4590 V
(53806)210 648 A
(jmp)126 1362 A
(__chmod)294 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/chown.s)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(53900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(53901)210 648 A
(.extern)294 1026 A
(__chown)294 1362 A
5580 V
(53902)210 648 A
(.define)294 1026 A
(_chown)252 1362 A
5670 V
(53903)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(53904)210 648 A
5850 V
(53905)210 648 A
(_chown:)294 1026 A
5940 V
(53906)210 648 A
(jmp)126 1362 A
(__chown)294 1698 A
8418 V
EP
%%Page: 475 475
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1923(File:)S
(src/lib/syscall/chroot.s)997 2156 A
12 B
(475)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/chroot.s)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(54000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(54001)210 648 A
(.extern)294 1026 A
(__chroot)336 1362 A
1530 V
(54002)210 648 A
(.define)294 1026 A
(_chroot)294 1362 A
1620 V
(54003)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(54004)210 648 A
1800 V
(54005)210 648 A
(_chroot:)336 1026 A
1890 V
(54006)210 648 A
(jmp)126 1362 A
(__chroot)336 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/close.s)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(54100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(54101)210 648 A
(.extern)294 1026 A
(__close)294 1362 A
2880 V
(54102)210 648 A
(.define)294 1026 A
(_close)252 1362 A
2970 V
(54103)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(54104)210 648 A
3150 V
(54105)210 648 A
(_close:)294 1026 A
3240 V
(54106)210 648 A
(jmp)126 1362 A
(__close)294 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/closedir.s)1092 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(54200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(54201)210 648 A
(.extern)294 1026 A
(__closedir)420 1362 A
4230 V
(54202)210 648 A
(.define)294 1026 A
(_closedir)378 1362 A
4320 V
(54203)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(54204)210 648 A
4500 V
(54205)210 648 A
(_closedir:)420 1026 A
4590 V
(54206)210 648 A
(jmp)126 1362 A
(__closedir)420 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/creat.s)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(54300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(54301)210 648 A
(.extern)294 1026 A
(__creat)294 1362 A
5580 V
(54302)210 648 A
(.define)294 1026 A
(_creat)252 1362 A
5670 V
(54303)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(54304)210 648 A
5850 V
(54305)210 648 A
(_creat:)294 1026 A
5940 V
(54306)210 648 A
(jmp)126 1362 A
(__creat)294 1698 A
8418 V
EP
%%Page: 476 476
BP
/slant 0 def
/height 0 def
630 V
12 B
(476)180 648 A
11 R
1982(File:)S
(src/lib/syscall/dup.s)879 2215 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/dup.s)882 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(54400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(54401)210 648 A
(.extern)294 1026 A
(__dup)210 1362 A
1530 V
(54402)210 648 A
(.define)294 1026 A
(_dup)168 1362 A
1620 V
(54403)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(54404)210 648 A
1800 V
(54405)210 648 A
(_dup:)210 1026 A
1890 V
(54406)210 648 A
(jmp)126 1362 A
(__dup)210 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/dup2.s)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(54500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(54501)210 648 A
(.extern)294 1026 A
(__dup2)252 1362 A
2880 V
(54502)210 648 A
(.define)294 1026 A
(_dup2)210 1362 A
2970 V
(54503)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(54504)210 648 A
3150 V
(54505)210 648 A
(_dup2:)252 1026 A
3240 V
(54506)210 648 A
(jmp)126 1362 A
(__dup2)252 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/execl.s)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(54600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(54601)210 648 A
(.extern)294 1026 A
(__execl)294 1362 A
4230 V
(54602)210 648 A
(.define)294 1026 A
(_execl)252 1362 A
4320 V
(54603)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(54604)210 648 A
4500 V
(54605)210 648 A
(_execl:)294 1026 A
4590 V
(54606)210 648 A
(jmp)126 1362 A
(__execl)294 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/execle.s)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(54700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(54701)210 648 A
(.extern)294 1026 A
(__execle)336 1362 A
5580 V
(54702)210 648 A
(.define)294 1026 A
(_execle)294 1362 A
5670 V
(54703)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(54704)210 648 A
5850 V
(54705)210 648 A
(_execle:)336 1026 A
5940 V
(54706)210 648 A
(jmp)126 1362 A
(__execle)336 1698 A
8418 V
EP
%%Page: 477 477
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1934(File:)S
(src/lib/syscall/execv.s)974 2167 A
12 B
(477)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/execv.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(54800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(54801)210 648 A
(.extern)294 1026 A
(__execv)294 1362 A
1530 V
(54802)210 648 A
(.define)294 1026 A
(_execv)252 1362 A
1620 V
(54803)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(54804)210 648 A
1800 V
(54805)210 648 A
(_execv:)294 1026 A
1890 V
(54806)210 648 A
(jmp)126 1362 A
(__execv)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/execve.s)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(54900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(54901)210 648 A
(.extern)294 1026 A
(__execve)336 1362 A
2880 V
(54902)210 648 A
(.define)294 1026 A
(_execve)294 1362 A
2970 V
(54903)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(54904)210 648 A
3150 V
(54905)210 648 A
(_execve:)336 1026 A
3240 V
(54906)210 648 A
(jmp)126 1362 A
(__execve)336 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/fcntl.s)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(55000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(55001)210 648 A
(.extern)294 1026 A
(__fcntl)294 1362 A
4230 V
(55002)210 648 A
(.define)294 1026 A
(_fcntl)252 1362 A
4320 V
(55003)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(55004)210 648 A
4500 V
(55005)210 648 A
(_fcntl:)294 1026 A
4590 V
(55006)210 648 A
(jmp)126 1362 A
(__fcntl)294 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/fork.s)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(55100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(55101)210 648 A
(.extern)294 1026 A
(__fork)252 1362 A
5580 V
(55102)210 648 A
(.define)294 1026 A
(_fork)210 1362 A
5670 V
(55103)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(55104)210 648 A
5850 V
(55105)210 648 A
(_fork:)252 1026 A
5940 V
(55106)210 648 A
(jmp)126 1362 A
(__fork)252 1698 A
8418 V
EP
%%Page: 478 478
BP
/slant 0 def
/height 0 def
630 V
12 B
(478)180 648 A
11 R
1852(File:)S
(src/lib/syscall/fpathconf.s)1139 2085 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/fpathconf.s)1134 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(55200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(55201)210 648 A
(.extern)294 1026 A
(__fpathconf)462 1362 A
1530 V
(55202)210 648 A
(.define)294 1026 A
(_fpathconf)420 1362 A
1620 V
(55203)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(55204)210 648 A
1800 V
(55205)210 648 A
(_fpathconf:)462 1026 A
1890 V
(55206)210 648 A
(jmp)126 1362 A
(__fpathconf)462 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/fstat.s)966 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(55300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(55301)210 648 A
(.extern)294 1026 A
(__fstat)294 1362 A
2880 V
(55302)210 648 A
(.define)294 1026 A
(_fstat)252 1362 A
2970 V
(55303)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(55304)210 648 A
3150 V
(55305)210 648 A
(_fstat:)294 1026 A
3240 V
(55306)210 648 A
(jmp)126 1362 A
(__fstat)294 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/getcwd.s)1008 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(55400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(55401)210 648 A
(.extern)294 1026 A
(__getcwd)336 1362 A
4230 V
(55402)210 648 A
(.define)294 1026 A
(_getcwd)294 1362 A
4320 V
(55403)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(55404)210 648 A
4500 V
(55405)210 648 A
(_getcwd:)336 1026 A
4590 V
(55406)210 648 A
(jmp)126 1362 A
(__getcwd)336 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/getegid.s)1050 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(55500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(55501)210 648 A
(.extern)294 1026 A
(__getegid)378 1362 A
5580 V
(55502)210 648 A
(.define)294 1026 A
(_getegid)336 1362 A
5670 V
(55503)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(55504)210 648 A
5850 V
(55505)210 648 A
(_getegid:)378 1026 A
5940 V
(55506)210 648 A
(jmp)126 1362 A
(__getegid)378 1698 A
8418 V
EP
%%Page: 479 479
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1901(File:)S
(src/lib/syscall/geteuid.s)1041 2134 A
12 B
(479)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/geteuid.s)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(55600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(55601)210 648 A
(.extern)294 1026 A
(__geteuid)378 1362 A
1530 V
(55602)210 648 A
(.define)294 1026 A
(_geteuid)336 1362 A
1620 V
(55603)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(55604)210 648 A
1800 V
(55605)210 648 A
(_geteuid:)378 1026 A
1890 V
(55606)210 648 A
(jmp)126 1362 A
(__geteuid)378 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/getgid.s)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(55700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(55701)210 648 A
(.extern)294 1026 A
(__getgid)336 1362 A
2880 V
(55702)210 648 A
(.define)294 1026 A
(_getgid)294 1362 A
2970 V
(55703)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(55704)210 648 A
3150 V
(55705)210 648 A
(_getgid:)336 1026 A
3240 V
(55706)210 648 A
(jmp)126 1362 A
(__getgid)336 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/getgroups.s)1134 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(55800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(55801)210 648 A
(.extern)294 1026 A
(__getgroups)462 1362 A
4230 V
(55802)210 648 A
(.define)294 1026 A
(_getgroups)420 1362 A
4320 V
(55803)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(55804)210 648 A
4500 V
(55805)210 648 A
(_getgroups:)462 1026 A
4590 V
(55806)210 648 A
(jmp)126 1362 A
(__getgroups)462 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/getpgrp.s)1050 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(55900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(55901)210 648 A
(.extern)294 1026 A
(__getpgrp)378 1362 A
5580 V
(55902)210 648 A
(.define)294 1026 A
(_getpgrp)336 1362 A
5670 V
(55903)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(55904)210 648 A
5850 V
(55905)210 648 A
(_getpgrp:)378 1026 A
5940 V
(55906)210 648 A
(jmp)126 1362 A
(__getpgrp)378 1698 A
8418 V
EP
%%Page: 480 480
BP
/slant 0 def
/height 0 def
630 V
12 B
(480)180 648 A
11 R
1926(File:)S
(src/lib/syscall/getpid.s)991 2159 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/getpid.s)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(56000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(56001)210 648 A
(.extern)294 1026 A
(__getpid)336 1362 A
1530 V
(56002)210 648 A
(.define)294 1026 A
(_getpid)294 1362 A
1620 V
(56003)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(56004)210 648 A
1800 V
(56005)210 648 A
(_getpid:)336 1026 A
1890 V
(56006)210 648 A
(jmp)126 1362 A
(__getpid)336 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/getppid.s)1050 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(56100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(56101)210 648 A
(.extern)294 1026 A
(__getppid)378 1362 A
2880 V
(56102)210 648 A
(.define)294 1026 A
(_getppid)336 1362 A
2970 V
(56103)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(56104)210 648 A
3150 V
(56105)210 648 A
(_getppid:)378 1026 A
3240 V
(56106)210 648 A
(jmp)126 1362 A
(__getppid)378 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/getuid.s)1008 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(56200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(56201)210 648 A
(.extern)294 1026 A
(__getuid)336 1362 A
4230 V
(56202)210 648 A
(.define)294 1026 A
(_getuid)294 1362 A
4320 V
(56203)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(56204)210 648 A
4500 V
(56205)210 648 A
(_getuid:)336 1026 A
4590 V
(56206)210 648 A
(jmp)126 1362 A
(__getuid)336 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/ioctl.s)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(56300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(56301)210 648 A
(.extern)294 1026 A
(__ioctl)294 1362 A
5580 V
(56302)210 648 A
(.define)294 1026 A
(_ioctl)252 1362 A
5670 V
(56303)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(56304)210 648 A
5850 V
(56305)210 648 A
(_ioctl:)294 1026 A
5940 V
(56306)210 648 A
(jmp)126 1362 A
(__ioctl)294 1698 A
8418 V
EP
%%Page: 481 481
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1944(File:)S
(src/lib/syscall/isatty.s)955 2177 A
12 B
(481)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/isatty.s)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(56400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(56401)210 648 A
(.extern)294 1026 A
(__isatty)336 1362 A
1530 V
(56402)210 648 A
(.define)294 1026 A
(_isatty)294 1362 A
1620 V
(56403)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(56404)210 648 A
1800 V
(56405)210 648 A
(_isatty:)336 1026 A
1890 V
(56406)210 648 A
(jmp)126 1362 A
(__isatty)336 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/kill.s)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(56500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(56501)210 648 A
(.extern)294 1026 A
(__kill)252 1362 A
2880 V
(56502)210 648 A
(.define)294 1026 A
(_kill)210 1362 A
2970 V
(56503)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(56504)210 648 A
3150 V
(56505)210 648 A
(_kill:)252 1026 A
3240 V
(56506)210 648 A
(jmp)126 1362 A
(__kill)252 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/link.s)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(56600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(56601)210 648 A
(.extern)294 1026 A
(__link)252 1362 A
4230 V
(56602)210 648 A
(.define)294 1026 A
(_link)210 1362 A
4320 V
(56603)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(56604)210 648 A
4500 V
(56605)210 648 A
(_link:)252 1026 A
4590 V
(56606)210 648 A
(jmp)126 1362 A
(__link)252 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/lseek.s)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(56700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(56701)210 648 A
(.extern)294 1026 A
(__lseek)294 1362 A
5580 V
(56702)210 648 A
(.define)294 1026 A
(_lseek)252 1362 A
5670 V
(56703)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(56704)210 648 A
5850 V
(56705)210 648 A
(_lseek:)294 1026 A
5940 V
(56706)210 648 A
(jmp)126 1362 A
(__lseek)294 1698 A
8418 V
EP
%%Page: 482 482
BP
/slant 0 def
/height 0 def
630 V
12 B
(482)180 648 A
11 R
1932(File:)S
(src/lib/syscall/mkdir.s)978 2165 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/mkdir.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(56800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(56801)210 648 A
(.extern)294 1026 A
(__mkdir)294 1362 A
1530 V
(56802)210 648 A
(.define)294 1026 A
(_mkdir)252 1362 A
1620 V
(56803)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(56804)210 648 A
1800 V
(56805)210 648 A
(_mkdir:)294 1026 A
1890 V
(56806)210 648 A
(jmp)126 1362 A
(__mkdir)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/mkfifo.s)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(56900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(56901)210 648 A
(.extern)294 1026 A
(__mkfifo)336 1362 A
2880 V
(56902)210 648 A
(.define)294 1026 A
(_mkfifo)294 1362 A
2970 V
(56903)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(56904)210 648 A
3150 V
(56905)210 648 A
(_mkfifo:)336 1026 A
3240 V
(56906)210 648 A
(jmp)126 1362 A
(__mkfifo)336 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/mknod.s)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(57000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(57001)210 648 A
(.extern)294 1026 A
(__mknod)294 1362 A
4230 V
(57002)210 648 A
(.define)294 1026 A
(_mknod)252 1362 A
4320 V
(57003)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(57004)210 648 A
4500 V
(57005)210 648 A
(_mknod:)294 1026 A
4590 V
(57006)210 648 A
(jmp)126 1362 A
(__mknod)294 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/mktemp.s)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(57100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(57101)210 648 A
(.extern)294 1026 A
(__mktemp)336 1362 A
5580 V
(57102)210 648 A
(.define)294 1026 A
(_mktemp)294 1362 A
5670 V
(57103)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(57104)210 648 A
5850 V
(57105)210 648 A
(_mktemp:)336 1026 A
5940 V
(57106)210 648 A
(jmp)126 1362 A
(__mktemp)336 1698 A
8418 V
EP
%%Page: 483 483
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1923(File:)S
(src/lib/syscall/mount.s)996 2156 A
12 B
(483)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/mount.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(57200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(57201)210 648 A
(.extern)294 1026 A
(__mount)294 1362 A
1530 V
(57202)210 648 A
(.define)294 1026 A
(_mount)252 1362 A
1620 V
(57203)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(57204)210 648 A
1800 V
(57205)210 648 A
(_mount:)294 1026 A
1890 V
(57206)210 648 A
(jmp)126 1362 A
(__mount)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/open.s)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(57300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(57301)210 648 A
(.extern)294 1026 A
(__open)252 1362 A
2880 V
(57302)210 648 A
(.define)294 1026 A
(_open)210 1362 A
2970 V
(57303)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(57304)210 648 A
3150 V
(57305)210 648 A
(_open:)252 1026 A
3240 V
(57306)210 648 A
(jmp)126 1362 A
(__open)252 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/opendir.s)1050 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(57400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(57401)210 648 A
(.extern)294 1026 A
(__opendir)378 1362 A
4230 V
(57402)210 648 A
(.define)294 1026 A
(_opendir)336 1362 A
4320 V
(57403)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(57404)210 648 A
4500 V
(57405)210 648 A
(_opendir:)378 1026 A
4590 V
(57406)210 648 A
(jmp)126 1362 A
(__opendir)378 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/pathconf.s)1092 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(57500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(57501)210 648 A
(.extern)294 1026 A
(__pathconf)420 1362 A
5580 V
(57502)210 648 A
(.define)294 1026 A
(_pathconf)378 1362 A
5670 V
(57503)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(57504)210 648 A
5850 V
(57505)210 648 A
(_pathconf:)420 1026 A
5940 V
(57506)210 648 A
(jmp)126 1362 A
(__pathconf)420 1698 A
8418 V
EP
%%Page: 484 484
BP
/slant 0 def
/height 0 def
630 V
12 B
(484)180 648 A
11 R
1938(File:)S
(src/lib/syscall/pause.s)967 2171 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/pause.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(57600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(57601)210 648 A
(.extern)294 1026 A
(__pause)294 1362 A
1530 V
(57602)210 648 A
(.define)294 1026 A
(_pause)252 1362 A
1620 V
(57603)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(57604)210 648 A
1800 V
(57605)210 648 A
(_pause:)294 1026 A
1890 V
(57606)210 648 A
(jmp)126 1362 A
(__pause)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/pipe.s)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(57700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(57701)210 648 A
(.extern)294 1026 A
(__pipe)252 1362 A
2880 V
(57702)210 648 A
(.define)294 1026 A
(_pipe)210 1362 A
2970 V
(57703)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(57704)210 648 A
3150 V
(57705)210 648 A
(_pipe:)252 1026 A
3240 V
(57706)210 648 A
(jmp)126 1362 A
(__pipe)252 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/ptrace.s)1008 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(57800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(57801)210 648 A
(.extern)294 1026 A
(__ptrace)336 1362 A
4230 V
(57802)210 648 A
(.define)294 1026 A
(_ptrace)294 1362 A
4320 V
(57803)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(57804)210 648 A
4500 V
(57805)210 648 A
(_ptrace:)336 1026 A
4590 V
(57806)210 648 A
(jmp)126 1362 A
(__ptrace)336 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/read.s)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(57900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(57901)210 648 A
(.extern)294 1026 A
(__read)252 1362 A
5580 V
(57902)210 648 A
(.define)294 1026 A
(_read)210 1362 A
5670 V
(57903)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(57904)210 648 A
5850 V
(57905)210 648 A
(_read:)252 1026 A
5940 V
(57906)210 648 A
(jmp)126 1362 A
(__read)252 1698 A
8418 V
EP
%%Page: 485 485
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1907(File:)S
(src/lib/syscall/readdir.s)1029 2140 A
12 B
(485)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/readdir.s)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(58000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(58001)210 648 A
(.extern)294 1026 A
(__readdir)378 1362 A
1530 V
(58002)210 648 A
(.define)294 1026 A
(_readdir)336 1362 A
1620 V
(58003)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(58004)210 648 A
1800 V
(58005)210 648 A
(_readdir:)378 1026 A
1890 V
(58006)210 648 A
(jmp)126 1362 A
(__readdir)378 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/reboot.s)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(58100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(58101)210 648 A
(.extern)294 1026 A
(__reboot)336 1362 A
2880 V
(58102)210 648 A
(.define)294 1026 A
(_reboot)294 1362 A
2970 V
(58103)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(58104)210 648 A
3150 V
(58105)210 648 A
(_reboot:)336 1026 A
3240 V
(58106)210 648 A
(jmp)126 1362 A
(__reboot)336 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/rename.s)1008 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(58200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(58201)210 648 A
(.extern)294 1026 A
(__rename)336 1362 A
4230 V
(58202)210 648 A
(.define)294 1026 A
(_rename)294 1362 A
4320 V
(58203)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(58204)210 648 A
4500 V
(58205)210 648 A
(_rename:)336 1026 A
4590 V
(58206)210 648 A
(jmp)126 1362 A
(__rename)336 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/rewinddir.s)1134 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(58300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(58301)210 648 A
(.extern)294 1026 A
(__rewinddir)462 1362 A
5580 V
(58302)210 648 A
(.define)294 1026 A
(_rewinddir)420 1362 A
5670 V
(58303)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(58304)210 648 A
5850 V
(58305)210 648 A
(_rewinddir:)462 1026 A
5940 V
(58306)210 648 A
(jmp)126 1362 A
(__rewinddir)462 1698 A
8418 V
EP
%%Page: 486 486
BP
/slant 0 def
/height 0 def
630 V
12 B
(486)180 648 A
11 R
1941(File:)S
(src/lib/syscall/rmdir.s)960 2174 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/rmdir.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(58400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(58401)210 648 A
(.extern)294 1026 A
(__rmdir)294 1362 A
1530 V
(58402)210 648 A
(.define)294 1026 A
(_rmdir)252 1362 A
1620 V
(58403)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(58404)210 648 A
1800 V
(58405)210 648 A
(_rmdir:)294 1026 A
1890 V
(58406)210 648 A
(jmp)126 1362 A
(__rmdir)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/sbrk.s)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(58500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(58501)210 648 A
(.extern)294 1026 A
(__sbrk)252 1362 A
2880 V
(58502)210 648 A
(.define)294 1026 A
(_sbrk)210 1362 A
2970 V
(58503)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(58504)210 648 A
3150 V
(58505)210 648 A
(_sbrk:)252 1026 A
3240 V
(58506)210 648 A
(jmp)126 1362 A
(__sbrk)252 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/seekdir.s)1050 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(58600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(58601)210 648 A
(.extern)294 1026 A
(__seekdir)378 1362 A
4230 V
(58602)210 648 A
(.define)294 1026 A
(_seekdir)336 1362 A
4320 V
(58603)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(58604)210 648 A
4500 V
(58605)210 648 A
(_seekdir:)378 1026 A
4590 V
(58606)210 648 A
(jmp)126 1362 A
(__seekdir)378 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/setgid.s)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(58700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(58701)210 648 A
(.extern)294 1026 A
(__setgid)336 1362 A
5580 V
(58702)210 648 A
(.define)294 1026 A
(_setgid)294 1362 A
5670 V
(58703)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(58704)210 648 A
5850 V
(58705)210 648 A
(_setgid:)336 1026 A
5940 V
(58706)210 648 A
(jmp)126 1362 A
(__setgid)336 1698 A
8418 V
EP
%%Page: 487 487
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1938(File:)S
(src/lib/syscall/setsid.s)967 2171 A
12 B
(487)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/setsid.s)1008 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(58800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(58801)210 648 A
(.extern)294 1026 A
(__setsid)336 1362 A
1530 V
(58802)210 648 A
(.define)294 1026 A
(_setsid)294 1362 A
1620 V
(58803)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(58804)210 648 A
1800 V
(58805)210 648 A
(_setsid:)336 1026 A
1890 V
(58806)210 648 A
(jmp)126 1362 A
(__setsid)336 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/setuid.s)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(58900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(58901)210 648 A
(.extern)294 1026 A
(__setuid)336 1362 A
2880 V
(58902)210 648 A
(.define)294 1026 A
(_setuid)294 1362 A
2970 V
(58903)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(58904)210 648 A
3150 V
(58905)210 648 A
(_setuid:)336 1026 A
3240 V
(58906)210 648 A
(jmp)126 1362 A
(__setuid)336 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/sigaction.s)1134 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(59000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(59001)210 648 A
(.extern)294 1026 A
(__sigaction)462 1362 A
4230 V
(59002)210 648 A
(.define)294 1026 A
(_sigaction)420 1362 A
4320 V
(59003)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(59004)210 648 A
4500 V
(59005)210 648 A
(_sigaction:)462 1026 A
4590 V
(59006)210 648 A
(jmp)126 1362 A
(__sigaction)462 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/sigaddset.s)1134 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(59100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(59101)210 648 A
(.extern)294 1026 A
(__sigaddset)462 1362 A
5580 V
(59102)210 648 A
(.define)294 1026 A
(_sigaddset)420 1362 A
5670 V
(59103)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(59104)210 648 A
5850 V
(59105)210 648 A
(_sigaddset:)462 1026 A
5940 V
(59106)210 648 A
(jmp)126 1362 A
(__sigaddset)462 1698 A
8418 V
EP
%%Page: 488 488
BP
/slant 0 def
/height 0 def
630 V
12 B
(488)180 648 A
11 R
1870(File:)S
(src/lib/syscall/sigdelset.s)1103 2103 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/sigdelset.s)1134 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(59200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(59201)210 648 A
(.extern)294 1026 A
(__sigdelset)462 1362 A
1530 V
(59202)210 648 A
(.define)294 1026 A
(_sigdelset)420 1362 A
1620 V
(59203)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(59204)210 648 A
1800 V
(59205)210 648 A
(_sigdelset:)462 1026 A
1890 V
(59206)210 648 A
(jmp)126 1362 A
(__sigdelset)462 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/sigemptyset.s)1218 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(59300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(59301)210 648 A
(.extern)294 1026 A
(__sigemptyset)546 1362 A
2880 V
(59302)210 648 A
(.define)294 1026 A
(_sigemptyset)504 1362 A
2970 V
(59303)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(59304)210 648 A
3150 V
(59305)210 648 A
(_sigemptyset:)546 1026 A
3240 V
(59306)210 648 A
(jmp)126 1362 A
(__sigemptyset)546 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/sigfillset.s)1176 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(59400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(59401)210 648 A
(.extern)294 1026 A
(__sigfillset)504 1362 A
4230 V
(59402)210 648 A
(.define)294 1026 A
(_sigfillset)462 1362 A
4320 V
(59403)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(59404)210 648 A
4500 V
(59405)210 648 A
(_sigfillset:)504 1026 A
4590 V
(59406)210 648 A
(jmp)126 1362 A
(__sigfillset)504 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/sigismember.s)1218 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(59500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(59501)210 648 A
(.extern)294 1026 A
(__sigismember)546 1362 A
5580 V
(59502)210 648 A
(.define)294 1026 A
(_sigismember)504 1362 A
5670 V
(59503)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(59504)210 648 A
5850 V
(59505)210 648 A
(_sigismember:)546 1026 A
5940 V
(59506)210 648 A
(jmp)126 1362 A
(__sigismember)546 1698 A
8418 V
EP
%%Page: 489 489
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1822(File:)S
(src/lib/syscall/sigpending.s)1199 2055 A
12 B
(489)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/sigpending.s)1176 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(59600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(59601)210 648 A
(.extern)294 1026 A
(__sigpending)504 1362 A
1530 V
(59602)210 648 A
(.define)294 1026 A
(_sigpending)462 1362 A
1620 V
(59603)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(59604)210 648 A
1800 V
(59605)210 648 A
(_sigpending:)504 1026 A
1890 V
(59606)210 648 A
(jmp)126 1362 A
(__sigpending)504 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/sigprocmask.s)1218 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(59700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(59701)210 648 A
(.extern)294 1026 A
(__sigprocmask)546 1362 A
2880 V
(59702)210 648 A
(.define)294 1026 A
(_sigprocmask)504 1362 A
2970 V
(59703)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(59704)210 648 A
3150 V
(59705)210 648 A
(_sigprocmask:)546 1026 A
3240 V
(59706)210 648 A
(jmp)126 1362 A
(__sigprocmask)546 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/sigreturn.s)1134 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(59800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(59801)210 648 A
(.extern)294 1026 A
(__sigreturn)462 1362 A
4230 V
(59802)210 648 A
(.define)294 1026 A
(_sigreturn)420 1362 A
4320 V
(59803)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(59804)210 648 A
4500 V
(59805)210 648 A
(_sigreturn:)462 1026 A
4590 V
(59806)210 648 A
(jmp)126 1362 A
(__sigreturn)462 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/sigsuspend.s)1176 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(59900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(59901)210 648 A
(.extern)294 1026 A
(__sigsuspend)504 1362 A
5580 V
(59902)210 648 A
(.define)294 1026 A
(_sigsuspend)462 1362 A
5670 V
(59903)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(59904)210 648 A
5850 V
(59905)210 648 A
(_sigsuspend:)504 1026 A
5940 V
(59906)210 648 A
(jmp)126 1362 A
(__sigsuspend)504 1698 A
8418 V
EP
%%Page: 490 490
BP
/slant 0 def
/height 0 def
630 V
12 B
(490)180 648 A
11 R
1950(File:)S
(src/lib/syscall/sleep.s)943 2183 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/sleep.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(60000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(60001)210 648 A
(.extern)294 1026 A
(__sleep)294 1362 A
1530 V
(60002)210 648 A
(.define)294 1026 A
(_sleep)252 1362 A
1620 V
(60003)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(60004)210 648 A
1800 V
(60005)210 648 A
(_sleep:)294 1026 A
1890 V
(60006)210 648 A
(jmp)126 1362 A
(__sleep)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/stat.s)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(60100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(60101)210 648 A
(.extern)294 1026 A
(__stat)252 1362 A
2880 V
(60102)210 648 A
(.define)294 1026 A
(_stat)210 1362 A
2970 V
(60103)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(60104)210 648 A
3150 V
(60105)210 648 A
(_stat:)252 1026 A
3240 V
(60106)210 648 A
(jmp)126 1362 A
(__stat)252 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/stime.s)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(60200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(60201)210 648 A
(.extern)294 1026 A
(__stime)294 1362 A
4230 V
(60202)210 648 A
(.define)294 1026 A
(_stime)252 1362 A
4320 V
(60203)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(60204)210 648 A
4500 V
(60205)210 648 A
(_stime:)294 1026 A
4590 V
(60206)210 648 A
(jmp)126 1362 A
(__stime)294 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/sync.s)924 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(60300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(60301)210 648 A
(.extern)294 1026 A
(__sync)252 1362 A
5580 V
(60302)210 648 A
(.define)294 1026 A
(_sync)210 1362 A
5670 V
(60303)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(60304)210 648 A
5850 V
(60305)210 648 A
(_sync:)252 1026 A
5940 V
(60306)210 648 A
(jmp)126 1362 A
(__sync)252 1698 A
8418 V
EP
%%Page: 491 491
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1910(File:)S
(src/lib/syscall/tcdrain.s)1023 2143 A
12 B
(491)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/tcdrain.s)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(60400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(60401)210 648 A
(.extern)294 1026 A
(__tcdrain)378 1362 A
1530 V
(60402)210 648 A
(.define)294 1026 A
(_tcdrain)336 1362 A
1620 V
(60403)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(60404)210 648 A
1800 V
(60405)210 648 A
(_tcdrain:)378 1026 A
1890 V
(60406)210 648 A
(jmp)126 1362 A
(__tcdrain)378 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/tcflow.s)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(60500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(60501)210 648 A
(.extern)294 1026 A
(__tcflow)336 1362 A
2880 V
(60502)210 648 A
(.define)294 1026 A
(_tcflow)294 1362 A
2970 V
(60503)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(60504)210 648 A
3150 V
(60505)210 648 A
(_tcflow:)336 1026 A
3240 V
(60506)210 648 A
(jmp)126 1362 A
(__tcflow)336 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/tcflush.s)1050 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(60600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(60601)210 648 A
(.extern)294 1026 A
(__tcflush)378 1362 A
4230 V
(60602)210 648 A
(.define)294 1026 A
(_tcflush)336 1362 A
4320 V
(60603)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(60604)210 648 A
4500 V
(60605)210 648 A
(_tcflush:)378 1026 A
4590 V
(60606)210 648 A
(jmp)126 1362 A
(__tcflush)378 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/tcgetattr.s)1134 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(60700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(60701)210 648 A
(.extern)294 1026 A
(__tcgetattr)462 1362 A
5580 V
(60702)210 648 A
(.define)294 1026 A
(_tcgetattr)420 1362 A
5670 V
(60703)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(60704)210 648 A
5850 V
(60705)210 648 A
(_tcgetattr:)462 1026 A
5940 V
(60706)210 648 A
(jmp)126 1362 A
(__tcgetattr)462 1698 A
8418 V
EP
%%Page: 492 492
BP
/slant 0 def
/height 0 def
630 V
12 B
(492)180 648 A
11 R
1799(File:)S
(src/lib/syscall/tcsendbreak.s)1245 2032 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/tcsendbreak.s)1218 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(60800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(60801)210 648 A
(.extern)294 1026 A
(__tcsendbreak)546 1362 A
1530 V
(60802)210 648 A
(.define)294 1026 A
(_tcsendbreak)504 1362 A
1620 V
(60803)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(60804)210 648 A
1800 V
(60805)210 648 A
(_tcsendbreak:)546 1026 A
1890 V
(60806)210 648 A
(jmp)126 1362 A
(__tcsendbreak)546 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/tcsetattr.s)1134 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(60900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(60901)210 648 A
(.extern)294 1026 A
(__tcsetattr)462 1362 A
2880 V
(60902)210 648 A
(.define)294 1026 A
(_tcsetattr)420 1362 A
2970 V
(60903)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(60904)210 648 A
3150 V
(60905)210 648 A
(_tcsetattr:)462 1026 A
3240 V
(60906)210 648 A
(jmp)126 1362 A
(__tcsetattr)462 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/time.s)924 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(61000)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(61001)210 648 A
(.extern)294 1026 A
(__time)252 1362 A
4230 V
(61002)210 648 A
(.define)294 1026 A
(_time)210 1362 A
4320 V
(61003)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(61004)210 648 A
4500 V
(61005)210 648 A
(_time:)252 1026 A
4590 V
(61006)210 648 A
(jmp)126 1362 A
(__time)252 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/times.s)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(61100)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(61101)210 648 A
(.extern)294 1026 A
(__times)294 1362 A
5580 V
(61102)210 648 A
(.define)294 1026 A
(_times)252 1362 A
5670 V
(61103)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(61104)210 648 A
5850 V
(61105)210 648 A
(_times:)294 1026 A
5940 V
(61106)210 648 A
(jmp)126 1362 A
(__times)294 1698 A
8418 V
EP
%%Page: 493 493
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1920(File:)S
(src/lib/syscall/umask.s)1003 2153 A
12 B
(493)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/umask.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(61200)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(61201)210 648 A
(.extern)294 1026 A
(__umask)294 1362 A
1530 V
(61202)210 648 A
(.define)294 1026 A
(_umask)252 1362 A
1620 V
(61203)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(61204)210 648 A
1800 V
(61205)210 648 A
(_umask:)294 1026 A
1890 V
(61206)210 648 A
(jmp)126 1362 A
(__umask)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/umount.s)1008 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(61300)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(61301)210 648 A
(.extern)294 1026 A
(__umount)336 1362 A
2880 V
(61302)210 648 A
(.define)294 1026 A
(_umount)294 1362 A
2970 V
(61303)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(61304)210 648 A
3150 V
(61305)210 648 A
(_umount:)336 1026 A
3240 V
(61306)210 648 A
(jmp)126 1362 A
(__umount)336 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/uname.s)966 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(61400)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(61401)210 648 A
(.extern)294 1026 A
(__uname)294 1362 A
4230 V
(61402)210 648 A
(.define)294 1026 A
(_uname)252 1362 A
4320 V
(61403)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(61404)210 648 A
4500 V
(61405)210 648 A
(_uname:)294 1026 A
4590 V
(61406)210 648 A
(jmp)126 1362 A
(__uname)294 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/unlink.s)1008 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(61500)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(61501)210 648 A
(.extern)294 1026 A
(__unlink)336 1362 A
5580 V
(61502)210 648 A
(.define)294 1026 A
(_unlink)294 1362 A
5670 V
(61503)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(61504)210 648 A
5850 V
(61505)210 648 A
(_unlink:)336 1026 A
5940 V
(61506)210 648 A
(jmp)126 1362 A
(__unlink)336 1698 A
8418 V
EP
%%Page: 494 494
BP
/slant 0 def
/height 0 def
630 V
12 B
(494)180 648 A
11 R
1938(File:)S
(src/lib/syscall/utime.s)967 2171 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syscall/utime.s)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(61600)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
1440 V
(61601)210 648 A
(.extern)294 1026 A
(__utime)294 1362 A
1530 V
(61602)210 648 A
(.define)294 1026 A
(_utime)252 1362 A
1620 V
(61603)210 648 A
(.align)252 1026 A
1320(2)S
1710 V
(61604)210 648 A
1800 V
(61605)210 648 A
(_utime:)294 1026 A
1890 V
(61606)210 648 A
(jmp)126 1362 A
(__utime)294 1698 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syscall/wait.s)924 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(61700)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
2790 V
(61701)210 648 A
(.extern)294 1026 A
(__wait)252 1362 A
2880 V
(61702)210 648 A
(.define)294 1026 A
(_wait)210 1362 A
2970 V
(61703)210 648 A
(.align)252 1026 A
1320(2)S
3060 V
(61704)210 648 A
3150 V
(61705)210 648 A
(_wait:)252 1026 A
3240 V
(61706)210 648 A
(jmp)126 1362 A
(__wait)252 1698 A
3690 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3780 V
(src/lib/syscall/waitpid.s)1050 1698 A
3870 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4050 V
(61800)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
4140 V
(61801)210 648 A
(.extern)294 1026 A
(__waitpid)378 1362 A
4230 V
(61802)210 648 A
(.define)294 1026 A
(_waitpid)336 1362 A
4320 V
(61803)210 648 A
(.align)252 1026 A
1320(2)S
4410 V
(61804)210 648 A
4500 V
(61805)210 648 A
(_waitpid:)378 1026 A
4590 V
(61806)210 648 A
(jmp)126 1362 A
(__waitpid)378 1698 A
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syscall/write.s)966 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(61900)210 648 A
(.sect)210 1026 A
(.text)210 1278 A
5490 V
(61901)210 648 A
(.extern)294 1026 A
(__write)294 1362 A
5580 V
(61902)210 648 A
(.define)294 1026 A
(_write)252 1362 A
5670 V
(61903)210 648 A
(.align)252 1026 A
1320(2)S
5760 V
(61904)210 648 A
5850 V
(61905)210 648 A
(_write:)294 1026 A
5940 V
(61906)210 648 A
(jmp)126 1362 A
(__write)294 1698 A
8418 V
EP
%%Page: 495 495
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1952(File:)S
(src/lib/syslib/syslib.h)939 2185 A
12 B
(495)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syslib/syslib.h)966 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(62000)210 648 A
1026(/*)S
(syslib.h)336 1362 A
1740(-)S
(System)252 1824 A
(library)294 2118 A
(common)252 2454 A
(definitions.)504 2748 A
3378(*/)S
1440 V
(62001)210 648 A
1530 V
(62002)210 648 A
(#define)294 1026 A
(_SYSTEM)294 1362 A
1620 V
(62003)210 648 A
1710 V
(62004)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
1800 V
(62005)210 648 A
(#include)336 1026 A
(<minix/com.h>)546 1404 A
1890 V
(62006)210 648 A
(#include)336 1026 A
(<minix/syslib.h>)672 1404 A
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syslib/sys_abort.c)1092 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(62100)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
2790 V
(62101)210 648 A
(#include)336 1026 A
(<stdarg.h>)420 1404 A
2880 V
(62102)210 648 A
(#include)336 1026 A
(<unistd.h>)420 1404 A
2970 V
(62103)210 648 A
3060 V
(62104)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_abort\(int)546 1488 A
(how,)168 2076 A
(...\))168 2286 A
3150 V
(62105)210 648 A
1026({)S
3240 V
(62106)210 648 A
1026(/*)S
(Something)378 1152 A
(awful)210 1572 A
(has)126 1824 A
(happened.)378 1992 A
(Abandon)294 2454 A
(ship.)210 2790 A
3042(*/)S
3330 V
(62107)210 648 A
3420 V
(62108)210 648 A
(message)294 1110 A
1446(m;)S
3510 V
(62109)210 648 A
(va_list)294 1110 A
(ap;)126 1446 A
3600 V
(62110)210 648 A
3690 V
(62111)210 648 A
(va_start\(ap,)504 1110 A
(how\);)210 1656 A
3780 V
(62112)210 648 A
1110(if)S
(\(\(m.m1_i1)378 1236 A
1656(=)S
(how\))168 1740 A
1950(==)S
(RBT_MONITOR\))504 2076 A
(m.m1_p1)294 2622 A
2958(=)S
(va_arg\(ap,)420 3042 A
(char)168 3504 A
(*\);)126 3714 A
3870 V
(62113)210 648 A
(va_end\(ap\);)462 1110 A
3960 V
(62114)210 648 A
4050 V
(62115)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_ABORT,)420 2202 A
(&m\)\);)210 2664 A
4140 V
(62116)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/syslib/sys_copy.c)1050 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(62200)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
5040 V
(62201)210 648 A
5130 V
(62202)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_copy\(src_proc,)756 1488 A
(src_seg,)336 2286 A
(src_vir,)336 2664 A
5220 V
(62203)210 648 A
(dst_proc,)378 2706 A
(dst_seg,)336 3126 A
(dst_vir,)336 3504 A
(bytes\))252 3882 A
5310 V
(62204)210 648 A
(int)126 1026 A
(src_proc;)378 1194 A
2370(/*)S
(source)252 2496 A
(process)294 2790 A
3126(*/)S
5400 V
(62205)210 648 A
(int)126 1026 A
(src_seg;)336 1194 A
2370(/*)S
(source)252 2496 A
(segment:)336 2790 A
3168(T,)S
3294(D,)S
3420(or)S
3546(S)S
3630(*/)S
5490 V
(62206)210 648 A
(phys_bytes)420 1026 A
(src_vir;)336 1488 A
2370(/*)S
(source)252 2496 A
(virtual)294 2790 A
(address)294 3126 A
(\(phys)210 3462 A
(addr)168 3714 A
(for)126 3924 A
(ABS\)*/)252 4092 A
5580 V
(62207)210 648 A
(int)126 1026 A
(dst_proc;)378 1194 A
2370(/*)S
(dest)168 2496 A
(process)294 2706 A
3042(*/)S
5670 V
(62208)210 648 A
(int)126 1026 A
(dst_seg;)336 1194 A
2370(/*)S
(dest)168 2496 A
(segment:)336 2706 A
3084(T,)S
3210(D,)S
3336(or)S
3462(S)S
3546(*/)S
5760 V
(62209)210 648 A
(phys_bytes)420 1026 A
(dst_vir;)336 1488 A
2370(/*)S
(dest)168 2496 A
(virtual)294 2706 A
(address)294 3042 A
(\(phys)210 3378 A
(addr)168 3630 A
(for)126 3840 A
(ABS\))168 4008 A
4218(*/)S
5850 V
(62210)210 648 A
(phys_bytes)420 1026 A
(bytes;)252 1488 A
2370(/*)S
(how)126 2496 A
(many)168 2664 A
(bytes)210 2874 A
3126(*/)S
5940 V
(62211)210 648 A
1026({)S
6030 V
(62212)210 648 A
1026(/*)S
(Transfer)336 1152 A
1530(a)S
(block)210 1614 A
1866(of)S
(data.)210 1992 A
(The)126 2286 A
(source)252 2454 A
(and)126 2748 A
(destination)462 2916 A
(can)126 3420 A
(each)168 3588 A
(either)252 3798 A
4092(be)S
4218(a)S
6120 V
(62213)210 648 A
1068(*)S
(process)294 1152 A
(\(including)420 1488 A
(MM\))126 1950 A
2118(or)S
(absolute)336 2244 A
(memory,)294 2622 A
(indicate)336 2958 A
3336(by)S
(setting)294 3462 A
('src_proc')420 3798 A
6210 V
(62214)210 648 A
1068(*)S
1152(or)S
('dst_proc')420 1278 A
1740(to)S
(ABS.)168 1866 A
8418 V
EP
%%Page: 496 496
BP
/slant 0 def
/height 0 def
630 V
12 B
(496)180 648 A
11 R
1878(File:)S
(src/lib/syslib/sys_copy.c)1087 2111 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(62215)210 648 A
1068(*/)S
990 V
(62216)210 648 A
1080 V
(62217)210 648 A
(message)294 1110 A
(copy_mess;)420 1446 A
1170 V
(62218)210 648 A
1260 V
(62219)210 648 A
1110(if)S
(\(bytes)252 1236 A
1530(==)S
(0L\))126 1656 A
(return\(OK\);)462 1824 A
1350 V
(62220)210 648 A
(copy_mess.SRC_SPACE)798 1110 A
1950(=)S
(src_seg;)336 2034 A
1440 V
(62221)210 648 A
(copy_mess.SRC_PROC_NR)882 1110 A
2034(=)S
(src_proc;)378 2118 A
1530 V
(62222)210 648 A
(copy_mess.SRC_BUFFER)840 1110 A
1992(=)S
(\(long\))252 2076 A
(src_vir;)336 2370 A
1620 V
(62223)210 648 A
1710 V
(62224)210 648 A
(copy_mess.DST_SPACE)798 1110 A
1950(=)S
(dst_seg;)336 2034 A
1800 V
(62225)210 648 A
(copy_mess.DST_PROC_NR)882 1110 A
2034(=)S
(dst_proc;)378 2118 A
1890 V
(62226)210 648 A
(copy_mess.DST_BUFFER)840 1110 A
1992(=)S
(\(long\))252 2076 A
(dst_vir;)336 2370 A
1980 V
(62227)210 648 A
2070 V
(62228)210 648 A
(copy_mess.COPY_BYTES)840 1110 A
1992(=)S
(\(long\))252 2076 A
(bytes;)252 2370 A
2160 V
(62229)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_COPY,)378 2202 A
(&copy_mess\)\);)546 2622 A
2250 V
(62230)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/syslib/sys_endsig.c)1134 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(62300)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
3240 V
(62301)210 648 A
3330 V
(62302)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_endsig\(proc\))672 1488 A
3420 V
(62303)210 648 A
(int)126 1026 A
(proc;)210 1194 A
3510 V
(62304)210 648 A
1026({)S
3600 V
(62305)210 648 A
(message)294 1110 A
1446(m;)S
3690 V
(62306)210 648 A
3780 V
(62307)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
3870 V
(62308)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_ENDSIG,)462 2202 A
(&m\)\);)210 2706 A
3960 V
(62309)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/syslib/sys_exec.c)1050 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(62400)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
5040 V
(62401)210 648 A
5130 V
(62402)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_exec\(proc,)588 1488 A
(ptr,)168 2118 A
(traced,)294 2328 A
(prog_name,)420 2664 A
(initpc\))294 3126 A
5220 V
(62403)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(process)294 2496 A
(that)168 2832 A
(did)126 3042 A
(exec)168 3210 A
3420(*/)S
5310 V
(62404)210 648 A
(char)168 1026 A
(*ptr;)210 1236 A
2370(/*)S
(new)126 2496 A
(stack)210 2664 A
(pointer)294 2916 A
3252(*/)S
5400 V
(62405)210 648 A
(int)126 1026 A
(traced;)294 1194 A
2370(/*)S
2496(is)S
(tracing)294 2622 A
(enabled?)336 2958 A
3336(*/)S
5490 V
(62406)210 648 A
(char)168 1026 A
(*prog_name;)462 1236 A
2370(/*)S
(name)168 2496 A
2706(of)S
(the)126 2832 A
(new)126 3000 A
(program)294 3168 A
3504(*/)S
5580 V
(62407)210 648 A
(vir_bytes)378 1026 A
(initpc;)294 1446 A
5670 V
(62408)210 648 A
1026({)S
5760 V
(62409)210 648 A
1026(/*)S
1152(A)S
(process)294 1236 A
(has)126 1572 A
(exec'd.)294 1740 A
(Tell)168 2118 A
(the)126 2328 A
(kernel.)294 2496 A
2832(*/)S
5850 V
(62410)210 648 A
5940 V
(62411)210 648 A
(message)294 1110 A
1446(m;)S
6030 V
(62412)210 648 A
6120 V
(62413)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
6210 V
(62414)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(traced;)294 1530 A
8418 V
EP
%%Page: 497 497
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1883(File:)S
(src/lib/syslib/sys_exec.c)1077 2116 A
12 B
(497)180 4248 A
900 V
7 LST
(62415)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(ptr;)168 1530 A
990 V
(62416)210 648 A
(m.m1_p2)294 1110 A
1446(=)S
(prog_name;)420 1530 A
1080 V
(62417)210 648 A
(m.m1_p3)294 1110 A
1446(=)S
(\(char)210 1530 A
(*\)initpc;)378 1782 A
1170 V
(62418)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_EXEC,)378 2202 A
(&m\)\);)210 2622 A
1260 V
(62419)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/syslib/sys_fork.c)1050 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(62500)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
2340 V
(62501)210 648 A
2430 V
(62502)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_fork\(parent,)672 1488 A
(child,)252 2202 A
(pid,)168 2496 A
(child_base_or_shadow\))882 2706 A
2520 V
(62503)210 648 A
(int)126 1026 A
(parent;)294 1194 A
2370(/*)S
(process)294 2496 A
(doing)210 2832 A
(the)126 3084 A
(fork)168 3252 A
3462(*/)S
2610 V
(62504)210 648 A
(int)126 1026 A
(child;)252 1194 A
2370(/*)S
(which)210 2496 A
(proc)168 2748 A
(has)126 2958 A
(been)168 3126 A
(created)294 3336 A
3672(by)S
(the)126 3798 A
(fork)168 3966 A
4176(*/)S
2700 V
(62505)210 648 A
(int)126 1026 A
(pid;)168 1194 A
2370(/*)S
(process)294 2496 A
2832(id)S
(assigned)336 2958 A
3336(by)S
3462(MM)S
3588(*/)S
2790 V
(62506)210 648 A
(phys_clicks)462 1026 A
(child_base_or_shadow;)882 1530 A
2706(/*)S
(position)336 2832 A
(for)126 3210 A
(child)210 3378 A
([VM386];)336 3630 A
2880 V
(62507)210 648 A
2412(*)S
(memory)252 2496 A
(allocated)378 2790 A
(for)126 3210 A
(shadow)252 3378 A
([68000])294 3672 A
4008(*/)S
2970 V
(62508)210 648 A
1026({)S
3060 V
(62509)210 648 A
1026(/*)S
1152(A)S
(process)294 1236 A
(has)126 1572 A
(forked.)294 1740 A
(Tell)168 2118 A
(the)126 2328 A
(kernel.)294 2496 A
2832(*/)S
3150 V
(62510)210 648 A
3240 V
(62511)210 648 A
(message)294 1110 A
1446(m;)S
3330 V
(62512)210 648 A
3420 V
(62513)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(parent;)294 1530 A
3510 V
(62514)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(child;)252 1530 A
3600 V
(62515)210 648 A
(m.m1_i3)294 1110 A
1446(=)S
(pid;)168 1530 A
3690 V
(62516)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(child_base_or_shadow;)882 1908 A
3780 V
(62517)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_FORK,)378 2202 A
(&m\)\);)210 2622 A
3870 V
(62518)210 648 A
1026(})S
4140 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4230 V
(src/lib/syslib/sys_fresh.c)1092 1698 A
4320 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4500 V
(62600)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
4590 V
(62601)210 648 A
4680 V
(62602)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_fresh\(proc,)630 1488 A
(ptr,)168 2160 A
(dc,)126 2370 A
(basep,)252 2538 A
(sizep\))252 2832 A
4770 V
(62603)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(process)294 2496 A
(whose)210 2832 A
(map)126 3084 A
3252(is)S
3378(to)S
3504(be)S
(changed)294 3630 A
3966(*/)S
4860 V
(62604)210 648 A
(struct)252 1026 A
(mem_map)294 1320 A
(*ptr;)210 1656 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(new)126 2958 A
(map)126 3126 A
3294(*/)S
4950 V
(62605)210 648 A
(phys_clicks)462 1026 A
(dc;)126 1530 A
2370(/*)S
(size)168 2496 A
2706(of)S
(initialized)462 2832 A
(data)168 3336 A
3546(*/)S
5040 V
(62606)210 648 A
(phys_clicks)462 1026 A
(*basep,)294 1530 A
(*sizep;)294 1866 A
2370(/*)S
(base)168 2496 A
(and)126 2706 A
(size)168 2874 A
(for)126 3084 A
(free_mem\(\))420 3252 A
3714(*/)S
5130 V
(62607)210 648 A
1026({)S
5220 V
(62608)210 648 A
1026(/*)S
(Create)252 1152 A
1446(a)S
(fresh)210 1530 A
(process)294 1782 A
(image)210 2118 A
(for)126 2370 A
(exec\(\).)294 2538 A
(Tell)168 2916 A
(the)126 3126 A
(kernel.)294 3294 A
3630(*/)S
5310 V
(62609)210 648 A
5400 V
(62610)210 648 A
(message)294 1110 A
1446(m;)S
5490 V
(62611)210 648 A
(int)126 1110 A
1278(r;)S
5580 V
(62612)210 648 A
5670 V
(62613)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
5760 V
(62614)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(\(int\))210 1530 A
(dc;)126 1782 A
5850 V
(62615)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(ptr;)168 1908 A
5940 V
(62616)210 648 A
1110(r)S
1194(=)S
(_taskcall\(SYSTASK,)756 1278 A
(SYS_FRESH,)420 2076 A
(&m\);)168 2538 A
6030 V
(62617)210 648 A
(*basep)252 1110 A
1404(=)S
(\(phys_clicks\))546 1488 A
(m.m1_i1;)336 2076 A
6120 V
(62618)210 648 A
(*sizep)252 1110 A
1404(=)S
(\(phys_clicks\))546 1488 A
(m.m1_i2;)336 2076 A
6210 V
(62619)210 648 A
(return\(r\);)420 1110 A
8418 V
EP
%%Page: 498 498
BP
/slant 0 def
/height 0 def
630 V
12 B
(498)180 648 A
11 R
1874(File:)S
(src/lib/syslib/sys_fresh.c)1094 2107 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(62620)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/syslib/sys_getmap.c)1134 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(62700)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
1890 V
(62701)210 648 A
1980 V
(62702)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_getmap\(proc,)672 1488 A
(ptr\))168 2202 A
2070 V
(62703)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(process)294 2496 A
(whose)210 2832 A
(map)126 3084 A
3252(is)S
3378(to)S
3504(be)S
(fetched)294 3630 A
3966(*/)S
2160 V
(62704)210 648 A
(struct)252 1026 A
(mem_map)294 1320 A
(*ptr;)210 1656 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(new)126 2958 A
(map)126 3126 A
3294(*/)S
2250 V
(62705)210 648 A
1026({)S
2340 V
(62706)210 648 A
1026(/*)S
(Want)168 1152 A
1362(to)S
(know)168 1488 A
(map)126 1698 A
1866(of)S
1992(a)S
(process,)336 2076 A
(ask)126 2454 A
(the)126 2622 A
(kernel.)294 2790 A
3126(*/)S
2430 V
(62707)210 648 A
2520 V
(62708)210 648 A
(message)294 1110 A
1446(m;)S
2610 V
(62709)210 648 A
2700 V
(62710)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
2790 V
(62711)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(ptr;)168 1908 A
2880 V
(62712)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_GETMAP,)462 2202 A
(&m\)\);)210 2706 A
2970 V
(62713)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/syslib/sys_getsp.c)1092 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(62800)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
3690 V
(62801)210 648 A
3780 V
(62802)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_getsp\(proc,)630 1488 A
(newsp\))252 2160 A
3870 V
(62803)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(process)294 2496 A
(whose)210 2832 A
3084(sp)S
3210(is)S
(wanted)252 3336 A
3630(*/)S
3960 V
(62804)210 648 A
(vir_bytes)378 1026 A
(*newsp;)294 1446 A
2370(/*)S
(place)210 2496 A
2748(to)S
(put)126 2874 A
3042(sp)S
(read)168 3168 A
(from)168 3378 A
(kernel)252 3588 A
3882(*/)S
4050 V
(62805)210 648 A
1026({)S
4140 V
(62806)210 648 A
1026(/*)S
(Ask)126 1152 A
(the)126 1320 A
(kernel)252 1488 A
(what)168 1782 A
(the)126 1992 A
2160(sp)S
(is.)126 2286 A
2454(*/)S
4230 V
(62807)210 648 A
4320 V
(62808)210 648 A
(message)294 1110 A
1446(m;)S
4410 V
(62809)210 648 A
(int)126 1110 A
1278(r;)S
4500 V
(62810)210 648 A
4590 V
(62811)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
4680 V
(62812)210 648 A
1110(r)S
1194(=)S
(_taskcall\(SYSTASK,)756 1278 A
(SYS_GETSP,)420 2076 A
(&m\);)168 2538 A
4770 V
(62813)210 648 A
(*newsp)252 1110 A
1404(=)S
(\(vir_bytes\))462 1488 A
(m.STACK_PTR;)504 1992 A
4860 V
(62814)210 648 A
(return\(r\);)420 1110 A
4950 V
(62815)210 648 A
1026(})S
8418 V
EP
%%Page: 499 499
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1911(File:)S
(src/lib/syslib/sys_kill.c)1020 2144 A
12 B
(499)180 4248 A
990 V
7 LST
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1080 V
(src/lib/syslib/sys_kill.c)1050 1698 A
1170 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1350 V
(62900)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
1440 V
(62901)210 648 A
1530 V
(62902)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_kill\(proc,)588 1488 A
(signr\))252 2118 A
1620 V
(62903)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(which)210 2496 A
(proc)168 2748 A
(has)126 2958 A
(exited)252 3126 A
3420(*/)S
1710 V
(62904)210 648 A
(int)126 1026 A
(signr;)252 1194 A
2370(/*)S
(signal)252 2496 A
(number:)294 2790 A
3126(1)S
3210(-)S
3294(16)S
3420(*/)S
1800 V
(62905)210 648 A
1026({)S
1890 V
(62906)210 648 A
1026(/*)S
1152(A)S
(proc)168 1236 A
(has)126 1446 A
1614(to)S
1740(be)S
(signaled)336 1866 A
(via)126 2244 A
(MM.)126 2412 A
(Tell)168 2622 A
(the)126 2832 A
(kernel.)294 3000 A
3336(*/)S
1980 V
(62907)210 648 A
(message)294 1110 A
1446(m;)S
2070 V
(62908)210 648 A
2160 V
(62909)210 648 A
(m.m6_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
2250 V
(62910)210 648 A
(m.m6_i2)294 1110 A
1446(=)S
(signr;)252 1530 A
2340 V
(62911)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_KILL,)378 2202 A
(&m\)\);)210 2622 A
2430 V
(62912)210 648 A
1026(})S
2790 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2880 V
(src/lib/syslib/sys_newmap.c)1134 1698 A
2970 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3150 V
(63000)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
3240 V
(63001)210 648 A
3330 V
(63002)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_newmap\(proc,)672 1488 A
(ptr\))168 2202 A
3420 V
(63003)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(process)294 2496 A
(whose)210 2832 A
(map)126 3084 A
3252(is)S
3378(to)S
3504(be)S
(changed)294 3630 A
3966(*/)S
3510 V
(63004)210 648 A
(struct)252 1026 A
(mem_map)294 1320 A
(*ptr;)210 1656 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(new)126 2958 A
(map)126 3126 A
3294(*/)S
3600 V
(63005)210 648 A
1026({)S
3690 V
(63006)210 648 A
1026(/*)S
1152(A)S
(process)294 1236 A
(has)126 1572 A
(been)168 1740 A
(assigned)336 1950 A
2328(a)S
(new)126 2412 A
(memory)252 2580 A
(map.)168 2874 A
(Tell)168 3126 A
(the)126 3336 A
(kernel.)294 3504 A
3840(*/)S
3780 V
(63007)210 648 A
3870 V
(63008)210 648 A
(message)294 1110 A
1446(m;)S
3960 V
(63009)210 648 A
4050 V
(63010)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
4140 V
(63011)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(ptr;)168 1908 A
4230 V
(63012)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_NEWMAP,)462 2202 A
(&m\)\);)210 2706 A
4320 V
(63013)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/syslib/sys_oldsig.c)1134 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(63100)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
5040 V
(63101)210 648 A
5130 V
(63102)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_oldsig\(proc,)672 1488 A
(sig,)168 2202 A
(sighandler\))462 2412 A
5220 V
(63103)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(process)294 2496 A
2832(to)S
2958(be)S
(signaled)336 3084 A
3504(*/)S
5310 V
(63104)210 648 A
(int)126 1026 A
(sig;)168 1194 A
2370(/*)S
(signal)252 2496 A
(number:)294 2790 A
3126(1)S
3210(to)S
(_NSIG)210 3336 A
3588(*/)S
5400 V
(63105)210 648 A
(sighandler_t)504 1026 A
(sighandler;)462 1572 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(signal)252 2958 A
(handler)294 3252 A
3588(in)S
(user)168 3714 A
(space)210 3924 A
4176(*/)S
5490 V
(63106)210 648 A
1026({)S
5580 V
(63107)210 648 A
1026(/*)S
1152(A)S
(proc)168 1236 A
(has)126 1446 A
1614(to)S
1740(be)S
(signaled.)378 1866 A
(Tell)168 2328 A
(the)126 2538 A
(kernel.)294 2706 A
(This)168 3042 A
(function)336 3252 A
3630(is)S
(obsolete.)378 3756 A
4176(*/)S
5670 V
(63108)210 648 A
5760 V
(63109)210 648 A
(message)294 1110 A
1446(m;)S
5850 V
(63110)210 648 A
5940 V
(63111)210 648 A
(m.m6_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
6030 V
(63112)210 648 A
(m.m6_i2)294 1110 A
1446(=)S
(sig;)168 1530 A
6120 V
(63113)210 648 A
(m.m6_f1)294 1110 A
1446(=)S
(sighandler;)462 1530 A
6210 V
(63114)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_OLDSIG,)462 2202 A
(&m\)\);)210 2706 A
8418 V
EP
%%Page: 500 500
BP
/slant 0 def
/height 0 def
630 V
12 B
(500)180 648 A
11 R
1850(File:)S
(src/lib/syslib/sys_oldsig.c)1142 2083 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(63115)210 648 A
1026(})S
1440 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1530 V
(src/lib/syslib/sys_sendsig.c)1176 1698 A
1620 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1800 V
(63200)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
1890 V
(63201)210 648 A
1980 V
(63202)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_sendsig\(proc,)714 1488 A
(smp\))168 2244 A
2070 V
(63203)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2160 V
(63204)210 648 A
(struct)252 1026 A
(sigmsg)252 1320 A
(*smp;)210 1614 A
2250 V
(63205)210 648 A
1026({)S
2340 V
(63206)210 648 A
(message)294 1110 A
1446(m;)S
2430 V
(63207)210 648 A
2520 V
(63208)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
2610 V
(63209)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(smp;)168 1908 A
2700 V
(63210)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_SENDSIG,)504 2202 A
(&m\)\);)210 2748 A
2790 V
(63211)210 648 A
1026(})S
3240 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3330 V
(src/lib/syslib/sys_sigret.c)1134 1698 A
3420 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
3600 V
(63300)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
3690 V
(63301)210 648 A
3780 V
(63302)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_sigreturn\(proc,)798 1488 A
(scp,)168 2328 A
(flags\))252 2538 A
3870 V
(63303)210 648 A
(int)126 1026 A
(proc;)210 1194 A
3960 V
(63304)210 648 A
(vir_bytes)378 1026 A
(scp;)168 1446 A
4050 V
(63305)210 648 A
(int)126 1026 A
(flags;)252 1194 A
4140 V
(63306)210 648 A
1026({)S
4230 V
(63307)210 648 A
(message)294 1110 A
1446(m;)S
4320 V
(63308)210 648 A
4410 V
(63309)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
4500 V
(63310)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(flags;)252 1530 A
4590 V
(63311)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
1782(*\))S
(scp;)168 1908 A
4680 V
(63312)210 648 A
(return\(_taskcall\(SYSTASK,)1050 1110 A
(SYS_SIGRETURN,)588 2202 A
(&m\)\);)210 2832 A
4770 V
(63313)210 648 A
1026(})S
5040 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5130 V
(src/lib/syslib/sys_times.c)1092 1698 A
5220 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
5400 V
(63400)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
5490 V
(63401)210 648 A
5580 V
(63402)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_times\(proc,)630 1488 A
(ptr\))168 2160 A
5670 V
(63403)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(proc)168 2496 A
(whose)210 2706 A
(times)210 2958 A
(are)126 3210 A
(needed)252 3378 A
3672(*/)S
5760 V
(63404)210 648 A
(clock_t)294 1026 A
(ptr[5];)294 1362 A
2370(/*)S
(pointer)294 2496 A
2832(to)S
(time)168 2958 A
(buffer)252 3168 A
3462(*/)S
5850 V
(63405)210 648 A
1026({)S
5940 V
(63406)210 648 A
1026(/*)S
(Fetch)210 1152 A
(the)126 1404 A
(accounting)420 1572 A
(info)168 2034 A
(for)126 2244 A
2412(a)S
(proc.)210 2496 A
2748(*/)S
6030 V
(63407)210 648 A
(message)294 1110 A
1446(m;)S
6120 V
(63408)210 648 A
(int)126 1110 A
1278(r;)S
6210 V
(63409)210 648 A
8418 V
EP
%%Page: 501 501
BP
/slant 0 def
/height 0 def
630 V
10 R
648(MINIX)S
976(SOURCE)S
1399(CODE)S
11 R
1865(File:)S
(src/lib/syslib/sys_times.c)1113 2098 A
12 B
(501)180 4248 A
900 V
7 LST
(63410)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(proc;)210 1530 A
990 V
(63411)210 648 A
(m.m1_p1)294 1110 A
1446(=)S
(\(char)210 1530 A
(*\)ptr;)252 1782 A
1080 V
(63412)210 648 A
1110(r)S
1194(=)S
(_taskcall\(SYSTASK,)756 1278 A
(SYS_TIMES,)420 2076 A
(&m\);)168 2538 A
1170 V
(63413)210 648 A
(ptr[0])252 1110 A
1404(=)S
(m.USER_TIME;)504 1488 A
1260 V
(63414)210 648 A
(ptr[1])252 1110 A
1404(=)S
(m.SYSTEM_TIME;)588 1488 A
1350 V
(63415)210 648 A
(ptr[2])252 1110 A
1404(=)S
(m.CHILD_UTIME;)588 1488 A
1440 V
(63416)210 648 A
(ptr[3])252 1110 A
1404(=)S
(m.CHILD_STIME;)588 1488 A
1530 V
(63417)210 648 A
(ptr[4])252 1110 A
1404(=)S
(m.BOOT_TICKS;)546 1488 A
1620 V
(63418)210 648 A
(return\(r\);)420 1110 A
1710 V
(63419)210 648 A
1026(})S
2340 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2430 V
(src/lib/syslib/sys_trace.c)1092 1698 A
2520 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2700 V
(63500)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
2790 V
(63501)210 648 A
2880 V
(63502)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_trace\(req,)588 1488 A
(procnr,)294 2118 A
(addr,)210 2454 A
(data_p\))294 2706 A
2970 V
(63503)210 648 A
(int)126 1026 A
(req,)168 1194 A
(procnr;)294 1404 A
3060 V
(63504)210 648 A
(long)168 1026 A
(addr,)210 1236 A
(*data_p;)336 1488 A
3150 V
(63505)210 648 A
1026({)S
3240 V
(63506)210 648 A
(message)294 1110 A
1446(m;)S
3330 V
(63507)210 648 A
(int)126 1110 A
1278(r;)S
3420 V
(63508)210 648 A
3510 V
(63509)210 648 A
(m.m2_i1)294 1110 A
1446(=)S
(procnr;)294 1530 A
3600 V
(63510)210 648 A
(m.m2_i2)294 1110 A
1446(=)S
(req;)168 1530 A
3690 V
(63511)210 648 A
(m.m2_l1)294 1110 A
1446(=)S
(addr;)210 1530 A
3780 V
(63512)210 648 A
1110(if)S
(\(data_p\))336 1236 A
(m.m2_l2)294 1614 A
1950(=)S
(*data_p;)336 2034 A
3870 V
(63513)210 648 A
1110(r)S
1194(=)S
(_taskcall\(SYSTASK,)756 1278 A
(SYS_TRACE,)420 2076 A
(&m\);)168 2538 A
3960 V
(63514)210 648 A
1110(if)S
(\(data_p\))336 1236 A
(*data_p)294 1614 A
1950(=)S
(m.m2_l2;)336 2034 A
4050 V
(63515)210 648 A
(return\(r\);)420 1110 A
4140 V
(63516)210 648 A
1026(})S
4590 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4680 V
(src/lib/syslib/sys_xit.c)1008 1698 A
4770 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
4950 V
(63600)210 648 A
(#include)336 1026 A
("syslib.h")420 1404 A
5040 V
(63601)210 648 A
5130 V
(63602)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(sys_xit\(parent,)630 1488 A
(proc,)210 2160 A
(basep,)252 2412 A
(sizep\))252 2706 A
5220 V
(63603)210 648 A
(int)126 1026 A
(parent;)294 1194 A
2370(/*)S
(parent)252 2496 A
2790(of)S
(exiting)294 2916 A
(process)294 3252 A
3588(*/)S
5310 V
(63604)210 648 A
(int)126 1026 A
(proc;)210 1194 A
2370(/*)S
(which)210 2496 A
(process)294 2748 A
(has)126 3084 A
(exited)252 3252 A
3546(*/)S
5400 V
(63605)210 648 A
(phys_clicks)462 1026 A
(*basep;)294 1530 A
2370(/*)S
(where)210 2496 A
2748(to)S
(return)252 2874 A
(base)168 3168 A
3378(of)S
(shadow)252 3504 A
([68000])294 3798 A
4134(*/)S
5490 V
(63606)210 648 A
(phys_clicks)462 1026 A
(*sizep;)294 1530 A
2370(/*)S
(where)210 2496 A
2748(to)S
(return)252 2874 A
(size)168 3168 A
3378(of)S
(shadow)252 3504 A
([68000])294 3798 A
4134(*/)S
5580 V
(63607)210 648 A
1026({)S
5670 V
(63608)210 648 A
1026(/*)S
1152(A)S
(process)294 1236 A
(has)126 1572 A
(exited.)294 1740 A
(Tell)168 2118 A
(the)126 2328 A
(kernel.)294 2496 A
2832(*/)S
5760 V
(63609)210 648 A
5850 V
(63610)210 648 A
(message)294 1110 A
1446(m;)S
5940 V
(63611)210 648 A
(int)126 1110 A
1278(r;)S
6030 V
(63612)210 648 A
6120 V
(63613)210 648 A
(m.m1_i1)294 1110 A
1446(=)S
(parent;)294 1530 A
6210 V
(63614)210 648 A
(m.m1_i2)294 1110 A
1446(=)S
(proc;)210 1530 A
8418 V
EP
%%Page: 502 502
BP
/slant 0 def
/height 0 def
630 V
12 B
(502)180 648 A
11 R
1927(File:)S
(src/lib/syslib/sys_xit.c)989 2160 A
10 R
3402(MINIX)S
3730(SOURCE)S
4153(CODE)S
900 V
7 LST
(63615)210 648 A
1110(r)S
1194(=)S
(_taskcall\(SYSTASK,)756 1278 A
(SYS_XIT,)336 2076 A
(&m\);)168 2454 A
990 V
(63616)210 648 A
(*basep)252 1110 A
1404(=)S
(\(phys_clicks\))546 1488 A
(m.m1_i1;)336 2076 A
1080 V
(63617)210 648 A
(*sizep)252 1110 A
1404(=)S
(\(phys_clicks\))546 1488 A
(m.m1_i2;)336 2076 A
1170 V
(63618)210 648 A
(return\(r\);)420 1110 A
1260 V
(63619)210 648 A
1026(})S
1890 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
1980 V
(src/lib/syslib/taskcall.c)1050 1698 A
2070 V
(++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++)3528 648 A
2250 V
(63700)210 648 A
1026(/*)S
(_taskcall\(\))462 1152 A
1656(is)S
(the)126 1782 A
(same)168 1950 A
2160(as)S
(_syscall\(\))420 2286 A
(except)252 2748 A
3042(it)S
(returns)294 3168 A
(negative)336 3504 A
(error)210 3882 A
2340 V
(63701)210 648 A
1068(*)S
(codes)210 1152 A
(directly)336 1404 A
(and)126 1782 A
(not)126 1950 A
2118(in)S
(errno.)252 2244 A
(This)168 2580 A
2790(is)S
2916(a)S
(better)252 3000 A
(interface)378 3294 A
(for)126 3714 A
3882(MM)S
(and)126 4008 A
2430 V
(63702)210 648 A
1068(*)S
(FS.)126 1152 A
2520 V
(63703)210 648 A
1068(*/)S
2610 V
(63704)210 648 A
2700 V
(63705)210 648 A
(#include)336 1026 A
(<lib.h>)294 1404 A
2790 V
(63706)210 648 A
(#include)336 1026 A
(<minix/syslib.h>)672 1404 A
2880 V
(63707)210 648 A
2970 V
(63708)210 648 A
(PUBLIC)252 1026 A
(int)126 1320 A
(_taskcall\(who,)588 1488 A
(syscallnr,)420 2118 A
(msgptr\))294 2580 A
3060 V
(63709)210 648 A
(int)126 1026 A
(who;)168 1194 A
3150 V
(63710)210 648 A
(int)126 1026 A
(syscallnr;)420 1194 A
3240 V
(63711)210 648 A
(register)336 1026 A
(message)294 1404 A
(*msgptr;)336 1740 A
3330 V
(63712)210 648 A
1026({)S
3420 V
(63713)210 648 A
(int)126 1110 A
(status;)294 1278 A
3510 V
(63714)210 648 A
3600 V
(63715)210 648 A
(msgptr->m_type)588 1110 A
1740(=)S
(syscallnr;)420 1824 A
3690 V
(63716)210 648 A
(status)252 1110 A
1404(=)S
(_sendrec\(who,)546 1488 A
(msgptr\);)336 2076 A
3780 V
(63717)210 648 A
1110(if)S
(\(status)294 1236 A
1572(!=)S
1698(0\))S
(return\(status\);)630 1824 A
3870 V
(63718)210 648 A
(return\(msgptr->m_type\);)966 1110 A
3960 V
(63719)210 648 A
1026(})S
8418 V
EP
%%Trailer
%%DocumentFonts: Times-Roman Times-Bold LucidaSans-Typewriter
%%Pages: 502
